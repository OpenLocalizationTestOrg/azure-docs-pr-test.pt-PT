---
title: "aaaAccess API de serviços de suporte de dados do Azure com a autenticação do Azure Active Directory | Microsoft Docs"
description: "Saiba mais sobre conceitos e passos tootake toouse Azure Active Directory (Azure AD) tooauthenticate acesso toohello API de serviços de suporte de dados do Azure."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: juliako
ms.openlocfilehash: bb8f75f39100dc37098260c24ab4a199ef689d46
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="access-hello-azure-media-services-api-with-azure-ad-authentication"></a><span data-ttu-id="8c809-103">Aceder Olá API de serviços de suporte de dados do Azure com a autenticação do Azure AD</span><span class="sxs-lookup"><span data-stu-id="8c809-103">Access hello Azure Media Services API with Azure AD authentication</span></span>
 
<span data-ttu-id="8c809-104">Olá API de serviços de suporte de dados do Azure é uma API RESTful.</span><span class="sxs-lookup"><span data-stu-id="8c809-104">hello Azure Media Services API is a RESTful API.</span></span> <span data-ttu-id="8c809-105">Pode utilizar este tooperform operações nos recursos de suporte de dados utilizando uma API REST ou ao utilizar SDKs do cliente disponíveis.</span><span class="sxs-lookup"><span data-stu-id="8c809-105">You can use it tooperform operations on media resources by using a REST API or by using available client SDKs.</span></span> <span data-ttu-id="8c809-106">Media Services do Azure oferece um SDK do cliente de Media Services para Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="8c809-106">Azure Media Services offers a Media Services client SDK for Microsoft .NET.</span></span> <span data-ttu-id="8c809-107">toobe autorizado tooaccess recursos de Media Services e Olá API dos serviços de suporte de dados, tem primeiro de ser autenticado.</span><span class="sxs-lookup"><span data-stu-id="8c809-107">toobe authorized tooaccess Media Services resources and hello Media Services API, you must first be authenticated.</span></span> 

<span data-ttu-id="8c809-108">Os Media Services suportam [Azure Active Directory (Azure AD)-autenticação com base no](../active-directory/active-directory-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-108">Media Services supports [Azure Active Directory (Azure AD)-based authentication](../active-directory/active-directory-whatis.md).</span></span> <span data-ttu-id="8c809-109">Olá serviço REST de suporte de dados do Azure requer que o utilizador Olá ou aplicação que faz com que os pedidos de API de REST de Olá têm ambos Olá **contribuinte** ou **proprietário** função tooaccess Olá recursos.</span><span class="sxs-lookup"><span data-stu-id="8c809-109">hello Azure Media REST service requires that hello user or application that makes hello REST API requests have either hello **Contributor** or **Owner** role tooaccess hello resources.</span></span> <span data-ttu-id="8c809-110">Para obter mais informações, consulte [introdução ao controlo de acesso baseado em funções no portal do Azure de Olá](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-110">For more information, see [Get started with Role-Based Access Control in hello Azure portal](../active-directory/role-based-access-control-what-is.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="8c809-111">Atualmente, os Media Services suportam o modelo de autenticação do serviço de controlo de acesso do Azure Olá.</span><span class="sxs-lookup"><span data-stu-id="8c809-111">Currently, Media Services supports hello Azure Access Control service authentication model.</span></span> <span data-ttu-id="8c809-112">No entanto, a autorização de controlo de acesso vai ser preterida no dia 1 de Junho de 2018.</span><span class="sxs-lookup"><span data-stu-id="8c809-112">However, Access Control authorization will be deprecated on June 1, 2018.</span></span> <span data-ttu-id="8c809-113">Recomendamos que migre o modelo de autenticação toohello do Azure AD logo que possível.</span><span class="sxs-lookup"><span data-stu-id="8c809-113">We recommend that you migrate toohello Azure AD authentication model as soon as possible.</span></span>

<span data-ttu-id="8c809-114">Este documento fornece uma descrição geral de como tooaccess Olá API dos serviços de suporte de dados através de REST ou de APIs de .NET.</span><span class="sxs-lookup"><span data-stu-id="8c809-114">This document gives an overview of how tooaccess hello Media Services API by using REST or .NET APIs.</span></span>

## <a name="access-control"></a><span data-ttu-id="8c809-115">Controlo de acesso</span><span class="sxs-lookup"><span data-stu-id="8c809-115">Access control</span></span>

<span data-ttu-id="8c809-116">Para Olá toosucceed de pedido de REST de suporte de dados do Azure, o utilizador chamada Olá tem de ter uma função de contribuinte ou proprietário para Olá está a tentar tooaccess de conta de Media Services.</span><span class="sxs-lookup"><span data-stu-id="8c809-116">For hello Azure Media REST request toosucceed, hello calling user must have a Contributor or Owner role for hello Media Services account it is trying tooaccess.</span></span>  
<span data-ttu-id="8c809-117">Apenas um utilizador com função de proprietário Olá pode dar suporte de dados (conta) de recursos de acesso toonew os utilizadores ou aplicações.</span><span class="sxs-lookup"><span data-stu-id="8c809-117">Only a user with hello Owner role can give media resource (account) access toonew users or apps.</span></span> <span data-ttu-id="8c809-118">função de contribuinte Olá pode aceder a recursos de suporte de dados de Olá apenas.</span><span class="sxs-lookup"><span data-stu-id="8c809-118">hello Contributor role can access only hello media resource.</span></span>
<span data-ttu-id="8c809-119">Pedidos não autorizados falharam com o código de estado de 401.</span><span class="sxs-lookup"><span data-stu-id="8c809-119">Unauthorized requests fail, with status code of 401.</span></span> <span data-ttu-id="8c809-120">Se vir este código de erro, verifique se o utilizador tem Olá contribuinte ou função de proprietário atribuído da conta de Media Services do utilizador Olá.</span><span class="sxs-lookup"><span data-stu-id="8c809-120">If you see this error code, check whether your user has hello Contributor or Owner role assigned for hello user's Media Services account.</span></span> <span data-ttu-id="8c809-121">Pode verificar isto no Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="8c809-121">You can check this in hello Azure portal.</span></span> <span data-ttu-id="8c809-122">Procure a sua conta de media e, em seguida, clique em Olá **controlo de acesso** separador.</span><span class="sxs-lookup"><span data-stu-id="8c809-122">Search for your media account, and then click hello **Access control** tab.</span></span> 

![Separador de controlo de acesso](./media/media-services-use-aad-auth-to-access-ams-api/media-services-access-control.png)

## <a name="types-of-authentication"></a><span data-ttu-id="8c809-124">Tipos de autenticação</span><span class="sxs-lookup"><span data-stu-id="8c809-124">Types of authentication</span></span> 
 
<span data-ttu-id="8c809-125">Quando utiliza a autenticação do Azure AD com Media Services do Azure, tem duas opções de autenticação:</span><span class="sxs-lookup"><span data-stu-id="8c809-125">When you use Azure AD authentication with Azure Media Services, you have two authentication options:</span></span>

- <span data-ttu-id="8c809-126">**Autenticação de utilizador**.</span><span class="sxs-lookup"><span data-stu-id="8c809-126">**User authentication**.</span></span> <span data-ttu-id="8c809-127">Autentica uma pessoa que está a utilizar Olá aplicação toointeract com recursos de Media Services.</span><span class="sxs-lookup"><span data-stu-id="8c809-127">Authenticate a person who is using hello app toointeract with Media Services resources.</span></span> <span data-ttu-id="8c809-128">aplicação interativa do Olá deve primeiro solicitar utilizador Olá credenciais do utilizador Olá.</span><span class="sxs-lookup"><span data-stu-id="8c809-128">hello interactive application should first prompt hello user for hello user's credentials.</span></span> <span data-ttu-id="8c809-129">Um exemplo é uma aplicação de consola de gestão utilizada pelas tarefas de codificação de toomonitor de utilizadores autorizados ou live transmissão em fluxo.</span><span class="sxs-lookup"><span data-stu-id="8c809-129">An example is a management console app used by authorized users toomonitor encoding jobs or live streaming.</span></span> 
- <span data-ttu-id="8c809-130">**Autenticação principal de serviço**.</span><span class="sxs-lookup"><span data-stu-id="8c809-130">**Service principal authentication**.</span></span> <span data-ttu-id="8c809-131">Autenticar-se um serviço.</span><span class="sxs-lookup"><span data-stu-id="8c809-131">Authenticate a service.</span></span> <span data-ttu-id="8c809-132">As aplicações que utilizam frequentemente este método de autenticação são aplicações que executem serviços de daemon, serviços de camada média ou tarefas agendadas.</span><span class="sxs-lookup"><span data-stu-id="8c809-132">Applications that commonly use this authentication method are apps that run daemon services, middle-tier services, or scheduled jobs.</span></span> <span data-ttu-id="8c809-133">Os exemplos são as web apps, aplicações de função, as logic apps, API e micro-serviços.</span><span class="sxs-lookup"><span data-stu-id="8c809-133">Examples are web apps, function apps, logic apps, API, and microservices.</span></span>

### <a name="user-authentication"></a><span data-ttu-id="8c809-134">Autenticação de utilizador</span><span class="sxs-lookup"><span data-stu-id="8c809-134">User authentication</span></span> 

<span data-ttu-id="8c809-135">As aplicações que devem utilizar o método de autenticação de utilizador Olá são gestão ou de monitorização de aplicações nativas: as aplicações móveis, as aplicações do Windows e aplicações de consola.</span><span class="sxs-lookup"><span data-stu-id="8c809-135">Applications that should use hello user authentication method are management or monitoring native apps: mobile apps, Windows apps, and Console applications.</span></span> <span data-ttu-id="8c809-136">Este tipo de solução é útil quando pretender que uma interação humana com o serviço de Olá dos Olá os seguintes cenários:</span><span class="sxs-lookup"><span data-stu-id="8c809-136">This type of solution is useful when you want human interaction with hello service in one of hello following scenarios:</span></span>

- <span data-ttu-id="8c809-137">Dashboard de monitorização para os trabalhos de codificação.</span><span class="sxs-lookup"><span data-stu-id="8c809-137">Monitoring dashboard for your encoding jobs.</span></span>
- <span data-ttu-id="8c809-138">Dashboard de monitorização para os fluxos em direto.</span><span class="sxs-lookup"><span data-stu-id="8c809-138">Monitoring dashboard for your live streams.</span></span>
- <span data-ttu-id="8c809-139">Aplicação de gestão de recursos de tooadminister desktop ou mobile utilizadores numa conta de Media Services.</span><span class="sxs-lookup"><span data-stu-id="8c809-139">Management application for desktop or mobile users tooadminister resources in a Media Services account.</span></span>

> [!NOTE]
> <span data-ttu-id="8c809-140">Este método de autenticação não deve ser utilizado para aplicações direcionadas para o consumidor.</span><span class="sxs-lookup"><span data-stu-id="8c809-140">This authentication method should not be used for consumer-facing applications.</span></span> 

<span data-ttu-id="8c809-141">Uma aplicação nativa tem de primeiro adquirir um token de acesso do Azure AD e, em seguida, utilizá-lo quando fizer a API de REST de serviços de suporte de dados toohello pedidos HTTP.</span><span class="sxs-lookup"><span data-stu-id="8c809-141">A native application must first acquire an access token from Azure AD, and then use it when you make HTTP requests toohello Media Services REST API.</span></span> <span data-ttu-id="8c809-142">Adicione cabeçalho de pedido de token toohello de acesso de Olá.</span><span class="sxs-lookup"><span data-stu-id="8c809-142">Add hello access token toohello request header.</span></span> 

<span data-ttu-id="8c809-143">Olá diagrama a seguir mostra um fluxo de autenticação da aplicação interativa típica:</span><span class="sxs-lookup"><span data-stu-id="8c809-143">hello following diagram shows a typical interactive application authentication flow:</span></span> 

![Diagrama de aplicações nativas](./media/media-services-use-aad-auth-to-access-ams-api/media-services-native-aad-app1.png)

<span data-ttu-id="8c809-145">Olá precedente diagrama, Olá números representam o fluxo de Olá de pedidos de Olá por ordem cronológica.</span><span class="sxs-lookup"><span data-stu-id="8c809-145">In hello preceding diagram, hello numbers represent hello flow of hello requests in chronological order.</span></span>

> [!NOTE]
> <span data-ttu-id="8c809-146">Quando utilizar o método de autenticação de utilizador Olá, todas as aplicações partilham Olá URI de redirecionamento do mesmo ID de cliente de aplicação nativa (predefinição) e a aplicação nativa.</span><span class="sxs-lookup"><span data-stu-id="8c809-146">When you use hello user authentication method, all apps share hello same (default) native application client ID and native application redirect URI.</span></span> 

1. <span data-ttu-id="8c809-147">Solicita credenciais um utilizador.</span><span class="sxs-lookup"><span data-stu-id="8c809-147">Prompt a user for credentials.</span></span>
2. <span data-ttu-id="8c809-148">Pedir um token de acesso do Azure AD com Olá os seguintes parâmetros:</span><span class="sxs-lookup"><span data-stu-id="8c809-148">Request an Azure AD access token with hello following parameters:</span></span>  

    * <span data-ttu-id="8c809-149">Azure AD ponto final de inquilino.</span><span class="sxs-lookup"><span data-stu-id="8c809-149">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="8c809-150">é possível obter as informações de inquilinos Olá de Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="8c809-150">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="8c809-151">Coloque o cursor sobre nome Olá do utilizador com sessão iniciada Olá no canto superior direito Olá.</span><span class="sxs-lookup"><span data-stu-id="8c809-151">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="8c809-152">URI do recurso dos Media Services.</span><span class="sxs-lookup"><span data-stu-id="8c809-152">Media Services resource URI.</span></span> 

        <span data-ttu-id="8c809-153">Este URI é Olá mesmo para contas de serviços de suporte de dados que se encontrem no Olá mesmo ambiente do Azure (por exemplo, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="8c809-153">This URI is hello same for Media Services accounts that are in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="8c809-154">ID de cliente de serviços de suporte de dados (nativo) de aplicação.</span><span class="sxs-lookup"><span data-stu-id="8c809-154">Media Services (native) application client ID.</span></span>
    * <span data-ttu-id="8c809-155">URI de redirecionamento da aplicação de Media Services (nativo).</span><span class="sxs-lookup"><span data-stu-id="8c809-155">Media Services (native) application redirect URI.</span></span>
    * <span data-ttu-id="8c809-156">URI para serviços de suporte de dados REST do recurso.</span><span class="sxs-lookup"><span data-stu-id="8c809-156">Resource URI for REST Media Services.</span></span>
        
        <span data-ttu-id="8c809-157">Olá URI representa o ponto final de API de REST Olá (por exemplo, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="8c809-157">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    <span data-ttu-id="8c809-158">tooget valores para estes parâmetros, consulte [utilizar definições de autenticação do Azure tooaccess portal do Azure AD Olá](media-services-portal-get-started-with-aad.md) utilizando a opção de autenticação de utilizador Olá.</span><span class="sxs-lookup"><span data-stu-id="8c809-158">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) using hello user authentication option.</span></span>

3. <span data-ttu-id="8c809-159">o token de acesso de Olá do Azure AD é enviado toohello cliente.</span><span class="sxs-lookup"><span data-stu-id="8c809-159">hello Azure AD access token is sent toohello client.</span></span>
4. <span data-ttu-id="8c809-160">cliente de Olá envia um pedido toohello API de REST de suporte de dados do Azure com o token de acesso de Olá do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8c809-160">hello client sends a request toohello Azure Media REST API with hello Azure AD access token.</span></span>
5. <span data-ttu-id="8c809-161">cliente de Olá recebe de volta dados Olá dos serviços de suporte de dados.</span><span class="sxs-lookup"><span data-stu-id="8c809-161">hello client gets back hello data from Media Services.</span></span>

<span data-ttu-id="8c809-162">Para obter informações sobre como os pedidos de toouse do Azure AD authentication toocommunicate com REST utilizando o SDK do cliente de .NET dos Media Services Olá, consulte [tooaccess de autenticação de utilização do Azure AD Olá API dos serviços de suporte de dados com o .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-162">For information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess hello Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="8c809-163">Se não estiver a utilizar o SDK do cliente de .NET dos Media Services Olá, tem de criar manualmente um pedido de token de acesso do Azure AD através da utilização de parâmetros de Olá descritos no passo 2.</span><span class="sxs-lookup"><span data-stu-id="8c809-163">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD access token request by using hello parameters described in step 2.</span></span> <span data-ttu-id="8c809-164">Para obter mais informações, consulte [como toouse Olá do Azure AD Authentication Library tooget Olá token do Azure AD](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-164">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

### <a name="service-principal-authentication"></a><span data-ttu-id="8c809-165">Autenticação do principal de serviço</span><span class="sxs-lookup"><span data-stu-id="8c809-165">Service principal authentication</span></span>

<span data-ttu-id="8c809-166">As aplicações que utilizam frequentemente este método de autenticação são as aplicações que executam os serviços de camada média e tarefas agendadas: web apps, aplicações de função, as logic apps, APIs e micro-serviços.</span><span class="sxs-lookup"><span data-stu-id="8c809-166">Applications that commonly use this authentication method are apps that run middle-tier services and scheduled jobs: web apps, function apps, logic apps, APIs, and microservices.</span></span> <span data-ttu-id="8c809-167">Este método de autenticação também é adequado para aplicações interativas na qual poderá toouse um recursos de toomanage da conta de serviço.</span><span class="sxs-lookup"><span data-stu-id="8c809-167">This authentication method also is suitable for interactive applications in which you might want toouse a service account toomanage resources.</span></span>

<span data-ttu-id="8c809-168">Quando utiliza os cenários do consumidor de toobuild do método de autenticação principal do Olá serviço, autenticação, normalmente, é processada na camada de média de Olá (através de alguns API) e não diretamente numa aplicação móvel ou ambiente de trabalho.</span><span class="sxs-lookup"><span data-stu-id="8c809-168">When you use hello service principal authentication method toobuild consumer scenarios, authentication typically is handled in hello middle tier (through some API) and not directly in a mobile or desktop application.</span></span> 

<span data-ttu-id="8c809-169">toouse este método, criar uma aplicação do Azure AD e serviço principal no seu próprio inquilino.</span><span class="sxs-lookup"><span data-stu-id="8c809-169">toouse this method, create an Azure AD application and service principal in its own tenant.</span></span> <span data-ttu-id="8c809-170">Depois de criar aplicação Olá, dê Olá aplicação contribuinte ou proprietário função acesso toohello conta dos Media Services.</span><span class="sxs-lookup"><span data-stu-id="8c809-170">After you create hello application, give hello app Contributor or Owner role access toohello Media Services account.</span></span> <span data-ttu-id="8c809-171">Pode fazer isto numa Olá portal do Azure, utilizando a CLI do Azure, ou com um script do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8c809-171">You can do this in hello Azure portal, by using Azure CLI, or with a PowerShell script.</span></span> <span data-ttu-id="8c809-172">Também pode utilizar uma aplicação do Azure AD existente.</span><span class="sxs-lookup"><span data-stu-id="8c809-172">You also can use an existing Azure AD application.</span></span> <span data-ttu-id="8c809-173">Pode registar e gerir a sua aplicação Azure AD e o principal de serviço [no portal do Azure de Olá](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-173">You can register and manage your Azure AD app and service principal [in hello Azure portal](media-services-portal-get-started-with-aad.md).</span></span> <span data-ttu-id="8c809-174">Também pode fazer isto utilizando [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) ou [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-174">You also can do this by using [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) or [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span></span> 

![Aplicações de camada média](./media/media-services-use-aad-auth-to-access-ams-api/media-services-principal-service-aad-app1.png)

<span data-ttu-id="8c809-176">Depois de criar a aplicação do Azure AD, pode obter valores para Olá seguintes definições.</span><span class="sxs-lookup"><span data-stu-id="8c809-176">After you create your Azure AD application, you get values for hello following settings.</span></span> <span data-ttu-id="8c809-177">Necessitar destes valores para a autenticação:</span><span class="sxs-lookup"><span data-stu-id="8c809-177">You need these values for authentication:</span></span>

- <span data-ttu-id="8c809-178">ID de cliente</span><span class="sxs-lookup"><span data-stu-id="8c809-178">Client ID</span></span> 
- <span data-ttu-id="8c809-179">Segredo do cliente</span><span class="sxs-lookup"><span data-stu-id="8c809-179">Client secret</span></span> 

<span data-ttu-id="8c809-180">Em Olá precedente figura, Olá números representam fluxo Olá de pedidos de Olá por ordem cronológica:</span><span class="sxs-lookup"><span data-stu-id="8c809-180">In hello preceding figure, hello numbers represent hello flow of hello requests in chronological order:</span></span>
    
1. <span data-ttu-id="8c809-181">Uma aplicação de camada média (web API ou aplicação web) solicita um token de acesso do Azure AD que tenha Olá os seguintes parâmetros:</span><span class="sxs-lookup"><span data-stu-id="8c809-181">A middle-tier app (web API or web application) requests an Azure AD access token that has hello following parameters:</span></span>  

    * <span data-ttu-id="8c809-182">Azure AD ponto final de inquilino.</span><span class="sxs-lookup"><span data-stu-id="8c809-182">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="8c809-183">é possível obter as informações de inquilinos Olá de Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="8c809-183">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="8c809-184">Coloque o cursor sobre nome Olá do utilizador com sessão iniciada Olá no canto superior direito Olá.</span><span class="sxs-lookup"><span data-stu-id="8c809-184">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="8c809-185">URI do recurso dos Media Services.</span><span class="sxs-lookup"><span data-stu-id="8c809-185">Media Services resource URI.</span></span> 

        <span data-ttu-id="8c809-186">Este URI é Olá mesmo para contas de serviços de suporte de dados que estão localizadas em Olá mesmo ambiente do Azure (por exemplo, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="8c809-186">This URI is hello same for Media Services accounts that are located in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="8c809-187">URI para serviços de suporte de dados REST do recurso.</span><span class="sxs-lookup"><span data-stu-id="8c809-187">Resource URI for REST Media Services.</span></span>

        <span data-ttu-id="8c809-188">Olá URI representa o ponto final de API de REST Olá (por exemplo, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="8c809-188">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    * <span data-ttu-id="8c809-189">Os valores de aplicação do Azure AD: Olá ID de cliente e o segredo do cliente.</span><span class="sxs-lookup"><span data-stu-id="8c809-189">Azure AD application values: hello client ID and client secret.</span></span>
    
    <span data-ttu-id="8c809-190">tooget valores para estes parâmetros, consulte [utilizar definições de autenticação do Azure tooaccess portal do Azure AD Olá](media-services-portal-get-started-with-aad.md) utilizando a opção de autenticação principal de serviço Olá.</span><span class="sxs-lookup"><span data-stu-id="8c809-190">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) by using hello service principal authentication option.</span></span>

2. <span data-ttu-id="8c809-191">o token de acesso de Olá do Azure AD é enviado toohello de camada média.</span><span class="sxs-lookup"><span data-stu-id="8c809-191">hello Azure AD access token is sent toohello middle tier.</span></span>
4. <span data-ttu-id="8c809-192">camada média Olá envia o pedido toohello API de REST de suporte de dados do Azure com um token do Azure AD Olá.</span><span class="sxs-lookup"><span data-stu-id="8c809-192">hello middle tier sends request toohello Azure Media REST API with hello Azure AD token.</span></span>
5. <span data-ttu-id="8c809-193">camada média Olá recebe de volta dados Olá dos serviços de suporte de dados.</span><span class="sxs-lookup"><span data-stu-id="8c809-193">hello middle tier gets back hello data from Media Services.</span></span>

<span data-ttu-id="8c809-194">Para obter mais informações sobre como os pedidos de toouse do Azure AD authentication toocommunicate com REST utilizando o SDK do cliente de .NET dos Media Services Olá, consulte [tooaccess de autenticação de utilização do Azure AD API de serviços de suporte de dados do Azure com o .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-194">For more information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="8c809-195">Se não estiver a utilizar o SDK do cliente de .NET dos Media Services Olá, tem de criar manualmente um pedido de token do Azure AD através da utilização de parâmetros descritos no passo 1.</span><span class="sxs-lookup"><span data-stu-id="8c809-195">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD token request by using parameters described in step 1.</span></span> <span data-ttu-id="8c809-196">Para obter mais informações, consulte [como toouse Olá do Azure AD Authentication Library tooget Olá token do Azure AD](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-196">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="8c809-197">Resolução de problemas</span><span class="sxs-lookup"><span data-stu-id="8c809-197">Troubleshooting</span></span>

<span data-ttu-id="8c809-198">Exceção: "Olá o servidor remoto devolveu um erro: não autorizado (401)."</span><span class="sxs-lookup"><span data-stu-id="8c809-198">Exception: "hello remote server returned an error: (401) Unauthorized."</span></span>

<span data-ttu-id="8c809-199">Solução: Para Olá REST de serviços de suporte de dados pedido toosucceed, utilizador chamada Olá tem de ser uma função de contribuinte ou proprietário Olá está a tentar tooaccess de conta de Media Services.</span><span class="sxs-lookup"><span data-stu-id="8c809-199">Solution: For hello Media Services REST request toosucceed, hello calling user must be a Contributor or Owner role in hello Media Services account it is trying tooaccess.</span></span> <span data-ttu-id="8c809-200">Para obter mais informações, consulte Olá [controlo de acesso](media-services-use-aad-auth-to-access-ams-api.md#access-control) secção.</span><span class="sxs-lookup"><span data-stu-id="8c809-200">For more information, see hello [Access control](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span></span>

## <a name="resources"></a><span data-ttu-id="8c809-201">Recursos</span><span class="sxs-lookup"><span data-stu-id="8c809-201">Resources</span></span>

<span data-ttu-id="8c809-202">Olá seguintes artigos-se descrições gerais de conceitos de autenticação do Azure AD:</span><span class="sxs-lookup"><span data-stu-id="8c809-202">hello following articles are overviews of Azure AD authentication concepts:</span></span> 

- [<span data-ttu-id="8c809-203">Cenários de autenticação endereçados através do Azure AD</span><span class="sxs-lookup"><span data-stu-id="8c809-203">Authentication scenarios addressed by Azure AD</span></span>](../active-directory/develop/active-directory-authentication-scenarios.md#basics-of-authentication-in-azure-ad)
- [<span data-ttu-id="8c809-204">Adicionar, atualizar ou remover uma aplicação no Azure AD</span><span class="sxs-lookup"><span data-stu-id="8c809-204">Add, update, or remove an application in Azure AD</span></span>](../active-directory/develop/active-directory-integrating-applications.md)
- [<span data-ttu-id="8c809-205">Configurar e gerir o controlo de acesso baseado em funções utilizando o PowerShell</span><span class="sxs-lookup"><span data-stu-id="8c809-205">Configure and manage Role-Based Access Control by using PowerShell</span></span>](../active-directory/role-based-access-control-manage-access-powershell.md)

## <a name="next-steps"></a><span data-ttu-id="8c809-206">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="8c809-206">Next steps</span></span>

* <span data-ttu-id="8c809-207">Utilizar o portal do Azure de Olá demasiado[acesso do Azure AD authentication tooconsume API de serviços de suporte de dados do Azure](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-207">Use hello Azure portal too[access Azure AD authentication tooconsume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span></span>
* <span data-ttu-id="8c809-208">Utilizar a autenticação do Azure AD demasiado[aceder à API de serviços de suporte de dados do Azure com o .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="8c809-208">Use Azure AD authentication too[access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span>

