---
title: "CENC com múltipla DRM e controlo de acesso: uma estrutura de referência e a implementação no Azure e Azure dos Media Services | Microsoft Docs"
description: "Saiba mais sobre como toolicensing Olá Microsoft® uniforme de transmissão em fluxo cliente transferências Kit."
services: media-services
documentationcenter: 
author: willzhan
manager: cfowler
editor: 
ms.assetid: 7814739b-cea9-4b9b-8370-538702e5c615
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/19/2017
ms.author: willzhan;kilroyh;yanmf;juliako
ms.openlocfilehash: 033fb618650c4fbe9069d467159a8734da759bba
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="cenc-with-multi-drm-and-access-control-a-reference-design-and-implementation-on-azure-and-azure-media-services"></a><span data-ttu-id="8fd3e-103">CENC com Controlo de Acesso e Multi-DRM: Uma Estrutura de Referência e Implementação no Azure e Serviços de Multimédia do Azure</span><span class="sxs-lookup"><span data-stu-id="8fd3e-103">CENC with Multi-DRM and Access Control: A Reference Design and Implementation on Azure and Azure Media Services</span></span>
 
## <a name="introduction"></a><span data-ttu-id="8fd3e-104">Introdução</span><span class="sxs-lookup"><span data-stu-id="8fd3e-104">Introduction</span></span>
<span data-ttu-id="8fd3e-105">É bem conhecidos que é uma tarefa complexa toodesign e criar um subsistema DRM para um OTT ou online de solução de transmissão em fluxo.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-105">It is well known that it is a complex task toodesign and build a DRM subsystem for an OTT or online streaming solution.</span></span> <span data-ttu-id="8fd3e-106">Sendo uma comuns práticas para operadores online fornecedores vídeo toooutsource fornecedores de serviços esta parte toospecialized DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-106">And it is a common practice for operators/online video providers toooutsource this part toospecialized DRM service providers.</span></span> <span data-ttu-id="8fd3e-107">objetivo de Olá deste documento é toopresent uma estrutura de referência e a implementação do subsistema DRM ponto-a-ponto OTT ou solução de transmissão em fluxo online.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-107">hello goal of this document is toopresent a reference design and implementation of end-to-end DRM subsystem in OTT or online streaming solution.</span></span>

<span data-ttu-id="8fd3e-108">leitores de Olá direcionado deste documento são engenheiros de trabalhar no subsistema DRM de OTT ou transmissão em fluxo/várias-screen soluções online ou qualquer leitores interessados no subsistema DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-108">hello targeted readers of this document are engineers working in DRM subsystem of OTT or online streaming/multi-screen solutions, or any readers interested in DRM subsystem.</span></span> <span data-ttu-id="8fd3e-109">pressuposto Olá é que os leitores encontram familiarizados com pelo menos uma das tecnologias DRM Olá no mercado Olá, tais como PlayReady, Widevine, do FairPlay ou Adobe acesso.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-109">hello assumption is that readers are familiar with at least one of hello DRM technologies on hello market, such as PlayReady, Widevine, FairPlay or Adobe Access.</span></span>

<span data-ttu-id="8fd3e-110">Por DRM, iremos também incluem CENC (encriptação comum) com múltipla DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-110">By DRM, we also include CENC (Common Encryption) with multi-DRM.</span></span> <span data-ttu-id="8fd3e-111">Uma tendência principais na transmissão em fluxo online e do setor OTT é toouse CENC com várias-native-DRM em várias plataformas de cliente, que é um bit da tendência de anterior Olá da utilização de um único DRM e o cliente SDK em várias plataformas de cliente.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-111">A major trend in online streaming and OTT industry is toouse CENC with multi-native-DRM on various client platforms, which is a shift from hello previous trend of using a single DRM and its client SDK for various client platforms.</span></span> <span data-ttu-id="8fd3e-112">Quando utilizar CENC com várias native DRM tanto PlayReady como Widevine são encriptados de acordo com Olá [encriptação comum (ISO/IEC 23001 7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) especificação.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-112">When using CENC with multi-native-DRM, both PlayReady and Widevine are encrypted per hello [Common Encryption (ISO/IEC 23001-7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) specification.</span></span>

<span data-ttu-id="8fd3e-113">vantagens de Olá de CENC com múltipla DRM são os seguintes:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-113">hello benefits of CENC with multi-DRM are as follows:</span></span>

1. <span data-ttu-id="8fd3e-114">Reduz o custo de uma vez que o processamento de encriptação único é utilizado direcionada para plataformas diferentes com o respetivos DRMs nativos; de encriptação</span><span class="sxs-lookup"><span data-stu-id="8fd3e-114">Reduces encryption cost since a single encryption processing is used targeting different platforms with its native DRMs;</span></span>
2. <span data-ttu-id="8fd3e-115">Reduz o custo de Olá de gerir recursos encriptados, uma vez que é necessária apenas uma única cópia dos recursos encriptadas;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-115">Reduces hello cost of managing encrypted assets since only a single copy of encrypted assets is needed;</span></span>
3. <span data-ttu-id="8fd3e-116">Elimina o custo de licenciamento, uma vez que o cliente DRM nativo Olá é normalmente livre na respetiva plataforma nativa de clientes DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-116">Eliminates DRM client licensing cost since hello native DRM client is usually free on its native platform.</span></span>

<span data-ttu-id="8fd3e-117">Microsoft foi um promoter Active Directory de DASH e CENC juntamente com alguns jogadores principais da indústria.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-117">Microsoft has been an active promoter of DASH and CENC together with some major industry players.</span></span> <span data-ttu-id="8fd3e-118">Serviços de suporte de dados do Microsoft Azure tem sido fornecer suporte de DASH e CENC.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-118">Microsoft Azure Media Services has been providing support of DASH and CENC.</span></span> <span data-ttu-id="8fd3e-119">Para anúncios recentes, consulte blogues do Mingfei: [serviços de entrega de licença de anunciar Widevine da Google nos Media Services do Azure](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/), e [empacotamento Widevine da Google para entrega de adiciona de Media Services do Azure fluxo de múltipla DRM](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-119">For recent announcements, please see Mingfei’s blogs: [Announcing Google Widevine license delivery services in Azure Media Services](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/), and [Azure Media Services adds Google Widevine packaging for delivering multi-DRM stream](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/).</span></span>  

### <a name="overview-of-this-article"></a><span data-ttu-id="8fd3e-120">Descrição geral deste artigo</span><span class="sxs-lookup"><span data-stu-id="8fd3e-120">Overview of this article</span></span>
<span data-ttu-id="8fd3e-121">objetivo Olá deste artigo inclui os seguintes Olá:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-121">hello goal of this article includes hello following:</span></span>

1. <span data-ttu-id="8fd3e-122">Fornece uma conceção de referência do subsistema DRM utilizando CENC com múltipla DRM;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-122">Provides a reference design of DRM subsystem using CENC with multi-DRM;</span></span>
2. <span data-ttu-id="8fd3e-123">Fornece uma implementação de referência na plataforma de Media Services do Microsoft Azure/Azure;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-123">Provides a reference implementation on Microsoft Azure/Azure Media Services platform;</span></span>
3. <span data-ttu-id="8fd3e-124">Descreve alguns tópicos de design e implementação.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-124">Discusses some design and implementation topics.</span></span>

<span data-ttu-id="8fd3e-125">Artigo de Olá, "múltipla DRM" abrange seguinte Olá:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-125">In hello article, “multi-DRM” covers hello following:</span></span>

1. <span data-ttu-id="8fd3e-126">Microsoft PlayReady</span><span class="sxs-lookup"><span data-stu-id="8fd3e-126">Microsoft PlayReady</span></span>
2. <span data-ttu-id="8fd3e-127">Widevine da Google</span><span class="sxs-lookup"><span data-stu-id="8fd3e-127">Google Widevine</span></span>
3. <span data-ttu-id="8fd3e-128">Apple FairPlay</span><span class="sxs-lookup"><span data-stu-id="8fd3e-128">Apple FairPlay</span></span> 

<span data-ttu-id="8fd3e-129">Olá tabela seguinte resume as aplicações de plataforma nativo/nativo Olá e browsers suportados por cada DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-129">hello following table summarizes hello native platform/native app, and browsers supported by each DRM.</span></span>

| <span data-ttu-id="8fd3e-130">**Plataforma de cliente**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-130">**Client Platform**</span></span> | <span data-ttu-id="8fd3e-131">**Suporte nativo DRM**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-131">**Native DRM Support**</span></span> | <span data-ttu-id="8fd3e-132">**Browser/aplicação**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-132">**Browser/App**</span></span> | <span data-ttu-id="8fd3e-133">**Formatos de transmissão em fluxo**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-133">**Streaming Formats**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8fd3e-134">**TVs inteligentes, o operador STBs, OTT STBs**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-134">**Smart TVs, operator STBs, OTT STBs**</span></span> |<span data-ttu-id="8fd3e-135">PlayReady principalmente, e/ou Widevine e/ou outras</span><span class="sxs-lookup"><span data-stu-id="8fd3e-135">PlayReady primarily, and/or Widevine, and/or other</span></span> |<span data-ttu-id="8fd3e-136">Linux, Opera, WebKit, outros</span><span class="sxs-lookup"><span data-stu-id="8fd3e-136">Linux, Opera, WebKit, Other</span></span> |<span data-ttu-id="8fd3e-137">Vários formatos</span><span class="sxs-lookup"><span data-stu-id="8fd3e-137">Various formats</span></span> |
| <span data-ttu-id="8fd3e-138">**Dispositivos Windows 10 (Windows PC, Windows Tablets, Windows Phone, Xbox)**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-138">**Windows 10 devices (Windows PC, Windows Tablets, Windows Phone, Xbox)**</span></span> |<span data-ttu-id="8fd3e-139">PlayReady</span><span class="sxs-lookup"><span data-stu-id="8fd3e-139">PlayReady</span></span> |<span data-ttu-id="8fd3e-140">MS Edge/IE11/EME</span><span class="sxs-lookup"><span data-stu-id="8fd3e-140">MS Edge/IE11/EME</span></span><br/><br/><br/><span data-ttu-id="8fd3e-141">UWP</span><span class="sxs-lookup"><span data-stu-id="8fd3e-141">UWP</span></span> |<span data-ttu-id="8fd3e-142">TRAÇO (para HLS, PlayReady não é suportado)</span><span class="sxs-lookup"><span data-stu-id="8fd3e-142">DASH (For HLS, PlayReady is not supported)</span></span><br/><br/><span data-ttu-id="8fd3e-143">DASH, transmissão em fluxo uniforme (para HLS, PlayReady não é suportado)</span><span class="sxs-lookup"><span data-stu-id="8fd3e-143">DASH, Smooth Streaming (For HLS, PlayReady is not supported)</span></span> |
| <span data-ttu-id="8fd3e-144">**Dispositivos Android (telemóvel, Tablet, TV)**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-144">**Android devices (Phone, Tablet, TV)**</span></span> |<span data-ttu-id="8fd3e-145">Widevine</span><span class="sxs-lookup"><span data-stu-id="8fd3e-145">Widevine</span></span> |<span data-ttu-id="8fd3e-146">Chrome/EME</span><span class="sxs-lookup"><span data-stu-id="8fd3e-146">Chrome/EME</span></span> |<span data-ttu-id="8fd3e-147">DASH, HLS</span><span class="sxs-lookup"><span data-stu-id="8fd3e-147">DASH,HLS</span></span> |
| <span data-ttu-id="8fd3e-148">**iOS (iPhone, iPad), os clientes dos X e Apple TV**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-148">**iOS (iPhone, iPad), OS X clients and Apple TV**</span></span> |<span data-ttu-id="8fd3e-149">FairPlay</span><span class="sxs-lookup"><span data-stu-id="8fd3e-149">FairPlay</span></span> |<span data-ttu-id="8fd3e-150">Safari 8 + /Safari/Chrome EME</span><span class="sxs-lookup"><span data-stu-id="8fd3e-150">Safari 8+/EME</span></span> |<span data-ttu-id="8fd3e-151">HLS</span><span class="sxs-lookup"><span data-stu-id="8fd3e-151">HLS</span></span> |


<span data-ttu-id="8fd3e-152">Tendo em consideração Olá atual estado de implementação para cada DRM um serviço, normalmente, será útil tooimplement 2 ou 3 DRMs toomake se resolver todos os tipos de Olá dos pontos finais no Olá melhor forma.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-152">Considering hello current state of deployment for each DRM, a service will typically want tooimplement 2 or 3 DRMs toomake sure you address all hello types of endpoints in hello best way.</span></span>

<span data-ttu-id="8fd3e-153">Existe um compromisso entre complexidade Olá de lógica de serviço Olá e complexidade Olá no Olá cliente lado tooreach um determinado nível de utilizador experiência Olá de vários clientes.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-153">There is a tradeoff between hello complexity of hello service logic and hello complexity on hello client side tooreach a certain level of user experience on hello various clients.</span></span>

<span data-ttu-id="8fd3e-154">toomake a seleção, tenha em atenção estes factos:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-154">toomake your selection, keep in mind these facts:</span></span>

* <span data-ttu-id="8fd3e-155">PlayReady nativamente está implementado em cada dispositivo de Windows, em alguns dispositivos Android e disponível através do software SDKs em praticamente qualquer plataforma</span><span class="sxs-lookup"><span data-stu-id="8fd3e-155">PlayReady is natively implemented in every Windows device, on some Android devices, and available through software SDKs on virtually any platform</span></span>
* <span data-ttu-id="8fd3e-156">Widevine nativamente é implementada em todos os dispositivos Android, no Chrome e outros dispositivos</span><span class="sxs-lookup"><span data-stu-id="8fd3e-156">Widevine is natively implemented in every Android device, in Chrome, and in some other devices</span></span>
* <span data-ttu-id="8fd3e-157">FairPlay está disponível apenas em iOS e os clientes Mac OS ou através do iTunes.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-157">FairPlay is available only on iOS and Mac OS clients or through iTunes.</span></span>

<span data-ttu-id="8fd3e-158">Por isso, seria um múltipla DRM típica:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-158">So a typical multi-DRM would be:</span></span>

* <span data-ttu-id="8fd3e-159">Opção 1: PlayReady e Widevine</span><span class="sxs-lookup"><span data-stu-id="8fd3e-159">Option 1: PlayReady and Widevine</span></span>
* <span data-ttu-id="8fd3e-160">Opção 2: PlayReady, Widevine e FairPlay</span><span class="sxs-lookup"><span data-stu-id="8fd3e-160">Option 2: PlayReady, Widevine and FairPlay</span></span>

## <a name="a-reference-design"></a><span data-ttu-id="8fd3e-161">Um design de referência</span><span class="sxs-lookup"><span data-stu-id="8fd3e-161">A reference design</span></span>
<span data-ttu-id="8fd3e-162">Nesta secção, iremos irá apresentar um design de referência que é agnóstico relativamente tootechnologies utilizado tooimplement-lo.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-162">In this section, we will present a reference design which is agnostic tootechnologies used tooimplement it.</span></span>

<span data-ttu-id="8fd3e-163">Um subsistema DRM pode conter Olá os seguintes componentes:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-163">A DRM subsystem may contain hello following components:</span></span>

1. <span data-ttu-id="8fd3e-164">Gestão de chaves</span><span class="sxs-lookup"><span data-stu-id="8fd3e-164">Key management</span></span>
2. <span data-ttu-id="8fd3e-165">Empacotamento DRM</span><span class="sxs-lookup"><span data-stu-id="8fd3e-165">DRM packaging</span></span>
3. <span data-ttu-id="8fd3e-166">Entrega de licença de DRM</span><span class="sxs-lookup"><span data-stu-id="8fd3e-166">DRM license delivery</span></span>
4. <span data-ttu-id="8fd3e-167">Verificação de elegibilidade</span><span class="sxs-lookup"><span data-stu-id="8fd3e-167">Entitlement check</span></span>
5. <span data-ttu-id="8fd3e-168">Autenticação/autorização</span><span class="sxs-lookup"><span data-stu-id="8fd3e-168">Authentication/authorization</span></span>
6. <span data-ttu-id="8fd3e-169">Leitor</span><span class="sxs-lookup"><span data-stu-id="8fd3e-169">Player</span></span>
7. <span data-ttu-id="8fd3e-170">Origem/CDN</span><span class="sxs-lookup"><span data-stu-id="8fd3e-170">Origin/CDN</span></span>

<span data-ttu-id="8fd3e-171">Olá diagrama seguinte ilustra Olá elevado nível a interação entre componentes Olá um subsistema DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-171">hello following diagram illustrates hello high level interaction among hello components in a DRM subsystem.</span></span>

![Subsistema com CENC DRM](./media/media-services-cenc-with-multidrm-access-control/media-services-generic-drm-subsystem-with-cenc.png)

<span data-ttu-id="8fd3e-173">Existem três básicas "camadas" na estrutura de Olá:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-173">There are three basic “layers” in hello design:</span></span>

1. <span data-ttu-id="8fd3e-174">Camada de back-office (em negra) que não são expostos externamente;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-174">Back office layer (in black) which are not exposed externally;</span></span>
2. <span data-ttu-id="8fd3e-175">Camada de "DMZ" (azul) que contém todos os pontos finais de Olá destinado ao público;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-175">“DMZ” layer (blue) containing all hello endpoints facing public;</span></span>
3. <span data-ttu-id="8fd3e-176">Camada da Internet de pública (blue leve) que contém o CDN e jogadores com o tráfego através da Internet pública.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-176">Public Internet layer (light blue) containing CDN and players with traffic across public Internet.</span></span>

<span data-ttu-id="8fd3e-177">Deverá haver uma ferramenta de gestão de conteúdo para controlar a proteção de DRM, independentemente de já é encriptação estática ou dinâmica.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-177">There should be a content management tool for controlling DRM protection, regardless it is static or dynamic encryption.</span></span> <span data-ttu-id="8fd3e-178">devem incluir entradas de Olá para a encriptação de DRM:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-178">hello inputs for DRM encryption should include:</span></span>

1. <span data-ttu-id="8fd3e-179">Conteúdo de vídeo MBR;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-179">MBR video content;</span></span>
2. <span data-ttu-id="8fd3e-180">Chave de conteúdo;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-180">Content key;</span></span>
3. <span data-ttu-id="8fd3e-181">URL de aquisição de licença.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-181">License acquisition URLs.</span></span>

<span data-ttu-id="8fd3e-182">Durante o período de reprodução, o fluxo de nível elevado Olá é:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-182">During playback time, hello high level flow is:</span></span>

1. <span data-ttu-id="8fd3e-183">Utilizador é autenticado;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-183">User is authenticated;</span></span>
2. <span data-ttu-id="8fd3e-184">O token de autorização é criado para o utilizador Olá;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-184">Authorization token is created for hello user;</span></span>
3. <span data-ttu-id="8fd3e-185">Conteúdo DRM protegido (manifesto) é transferido tooplayer;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-185">DRM protected content (manifest) is downloaded tooplayer;</span></span>
4. <span data-ttu-id="8fd3e-186">Leitor submete aquisição pedido toolicense servidores de licenças de juntamente com o ID de chave e a autorização token.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-186">Player submits license acquisition request toolicense servers together with key ID and authorization token.</span></span>

<span data-ttu-id="8fd3e-187">Antes de mover toohello seguinte tópico, algumas palavras sobre Olá design da gestão de chaves.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-187">Before moving toohello next topic, a few words about hello design of key management.</span></span>

| <span data-ttu-id="8fd3e-188">**ContentKey – ativo**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-188">**ContentKey–to-Asset**</span></span> | <span data-ttu-id="8fd3e-189">**Cenário**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-189">**Scenario**</span></span> |
| --- | --- |
| <span data-ttu-id="8fd3e-190">1 – 1</span><span class="sxs-lookup"><span data-stu-id="8fd3e-190">1–to-1</span></span> |<span data-ttu-id="8fd3e-191">caso mais simples de Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-191">hello simplest case.</span></span> <span data-ttu-id="8fd3e-192">Fornece controlo finest Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-192">It provides hello finest control.</span></span> <span data-ttu-id="8fd3e-193">Mas isto normalmente resulta em custo de entrega de licença Olá mais elevado.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-193">But this generally results in hello highest license delivery cost.</span></span> <span data-ttu-id="8fd3e-194">No mínimo licença de um pedido é necessário para cada recurso protegido.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-194">At minimum one license request is required for each protected asset.</span></span> |
| <span data-ttu-id="8fd3e-195">1-para-muitos</span><span class="sxs-lookup"><span data-stu-id="8fd3e-195">1–to-Many</span></span> |<span data-ttu-id="8fd3e-196">Pode utilizar Olá mesmo conteúdo da chave para vários recursos.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-196">You could use hello same content key for multiple assets.</span></span> <span data-ttu-id="8fd3e-197">Por exemplo, para todos os elementos de Olá num grupo lógico como um género ou um subconjunto do género (ou Gene de filmes), pode utilizar uma única chave de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-197">For example, for all hello assets in a logical group such as a genre or subset of genre (or Movie Gene), you could use a single content key.</span></span> |
| <span data-ttu-id="8fd3e-198">Muitos-para-1</span><span class="sxs-lookup"><span data-stu-id="8fd3e-198">Many–to-1</span></span> |<span data-ttu-id="8fd3e-199">Várias chaves de conteúdo são necessárias para cada recurso.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-199">Multiple content keys are needed for each asset.</span></span> <br/><br/><span data-ttu-id="8fd3e-200">Por exemplo, se precisar de tooapply dinâmica proteção CENC com múltipla DRM para MPEG-DASH e encriptação AES-128 dinâmica para HLS, tem duas separadas conteúdas chaves, cada um com o seu próprio ContentKeyType.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-200">For example, if you need tooapply dynamic CENC protection with multi-DRM for MPEG-DASH, and dynamic AES-128 encryption for HLS, you need two separate content keys, each with its own ContentKeyType.</span></span> <span data-ttu-id="8fd3e-201">(Para a chave de conteúdo Olá utilizado para proteção de CENC dinâmica, ContentKeyType.CommonEncryption devem ser utilizados, enquanto para Olá conteúdo deve ser utilizada a chave utilizada para encriptação AES-128 dinâmica, ContentKeyType.EnvelopeEncryption.)</span><span class="sxs-lookup"><span data-stu-id="8fd3e-201">(For hello content key used for dynamic CENC protection, ContentKeyType.CommonEncryption should be used, while for hello content key used for dynamic AES-128 encryption, ContentKeyType.EnvelopeEncryption should be used.)</span></span><br/><br/><span data-ttu-id="8fd3e-202">Noutro exemplo, na proteção CENC do TRAÇO conteúdo, em teoria, uma chave de conteúdo pode ser utilizado tooprotect de transmissão e outra sequência de áudio tooprotect de chave de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-202">Another example, in CENC protection of DASH content, in theory, one content key can be used tooprotect video stream and another content key tooprotect audio stream.</span></span> |
| <span data-ttu-id="8fd3e-203">Muitos – demasiado-muitos</span><span class="sxs-lookup"><span data-stu-id="8fd3e-203">Many – too- Many</span></span> |<span data-ttu-id="8fd3e-204">Combinação de Olá acima dois cenários: mesmo recurso "grupo de" Olá, um conjunto de conteúdos, as chaves são utilizadas para cada um dos vários recursos no Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-204">Combination of hello above two scenarios: one set of content keys are used for each of hello multiple assets in hello same asset “group”.</span></span> |

<span data-ttu-id="8fd3e-205">Outro fator importante tooconsider é a utilização de Olá de licenças persistentes e não persistente.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-205">Another important factor tooconsider is hello use of persistent and non-persistent licenses.</span></span>

<span data-ttu-id="8fd3e-206">Por que razão são estas considerações importantes?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-206">Why are these considerations important?</span></span>

<span data-ttu-id="8fd3e-207">Têm de entrega de toolicense impacto direto custo se utilizar a nuvem pública para a entrega de licença.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-207">They have direct impact toolicense delivery cost if you use public cloud for license delivery.</span></span> <span data-ttu-id="8fd3e-208">Vejamos Olá seguir dois tooillustrate de cenários de design diferentes:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-208">Let’s consider hello following two different design cases tooillustrate:</span></span>

1. <span data-ttu-id="8fd3e-209">Uma subscrição mensal: utilizar licença persistente e mapeamento de recurso de chave de conteúdo de 1-para-muitos.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-209">Monthly subscription: Use persistent license, and 1-to-many content key-to-asset mapping.</span></span> <span data-ttu-id="8fd3e-210">Por exemplo,</span><span class="sxs-lookup"><span data-stu-id="8fd3e-210">E.g.</span></span> <span data-ttu-id="8fd3e-211">para todos os Olá menores filmes, utilizamos uma única chave de conteúdo para a encriptação.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-211">for all hello kids movies, we use a single content key for encryption.</span></span> <span data-ttu-id="8fd3e-212">Neste caso:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-212">In this case:</span></span>

    <span data-ttu-id="8fd3e-213">Total de licenças de # pedidas para todos os menores filmes/dispositivo = 1</span><span class="sxs-lookup"><span data-stu-id="8fd3e-213">Total # licenses requested for all kids movies/device = 1</span></span>
2. <span data-ttu-id="8fd3e-214">Uma subscrição mensal: utilizar a licença não persistentes e mapeamento de 1 para 1 entre os recursos e a chave de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-214">Monthly subscription: Use non-persistent license, and 1-to-1 mapping between content key and asset.</span></span> <span data-ttu-id="8fd3e-215">Neste caso:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-215">In this case:</span></span>

    <span data-ttu-id="8fd3e-216">Total de licenças de # pedidas para todos os menores filmes/dispositivo = [observadas de filmes #] x [sessões #]</span><span class="sxs-lookup"><span data-stu-id="8fd3e-216">Total # licenses requested for all kids movies/device = [# movies watched] x [# sessions]</span></span>

<span data-ttu-id="8fd3e-217">Como pode facilmente, Olá dois diferentes estruturas resultam numa licença muito diferente pedido, por conseguinte, padrões de entrega de licença custo se o serviço de entrega de licença é fornecido por uma nuvem pública como os serviços de suporte de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-217">As you can easily see, hello two different designs result in very different license request patterns hence license delivery cost if license delivery service is provided by a public cloud such as Azure Media Services.</span></span>

## <a name="mapping-design-tootechnology-for-implementation"></a><span data-ttu-id="8fd3e-218">Tootechnology de estrutura de mapeamento para implementação</span><span class="sxs-lookup"><span data-stu-id="8fd3e-218">Mapping design tootechnology for implementation</span></span>
<span data-ttu-id="8fd3e-219">Em seguida, iremos mapear nosso tootechnologies design genérico na plataforma de Media Services do Microsoft Azure/Azure, especificando que toouse de tecnologia para cada bloco modular.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-219">Next, we map our generic design tootechnologies on Microsoft Azure/Azure Media Services platform, by specifying which technology toouse for each building block.</span></span>

<span data-ttu-id="8fd3e-220">Olá tabela seguinte mostra o mapeamento de Olá:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-220">hello following table shows hello mapping:</span></span>

| <span data-ttu-id="8fd3e-221">**Bloco modular**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-221">**Building Block**</span></span> | <span data-ttu-id="8fd3e-222">**Tecnologia**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-222">**Technology**</span></span> |
| --- | --- |
| <span data-ttu-id="8fd3e-223">**Leitor**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-223">**Player**</span></span> |[<span data-ttu-id="8fd3e-224">Media Player do Azure</span><span class="sxs-lookup"><span data-stu-id="8fd3e-224">Azure Media Player</span></span>](https://azure.microsoft.com/services/media-services/media-player/) |
| <span data-ttu-id="8fd3e-225">**Fornecedor de identidade (IDP)**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-225">**Identity Provider (IDP)**</span></span> |<span data-ttu-id="8fd3e-226">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="8fd3e-226">Azure Active Directory</span></span> |
| <span data-ttu-id="8fd3e-227">**Serviço de Token seguro (STS)**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-227">**Secure Token Service (STS)**</span></span> |<span data-ttu-id="8fd3e-228">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="8fd3e-228">Azure Active Directory</span></span> |
| <span data-ttu-id="8fd3e-229">**Fluxo de trabalho de proteção de DRM**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-229">**DRM Protection Workflow**</span></span> |<span data-ttu-id="8fd3e-230">Proteção dinâmica de serviços de multimédia do Azure</span><span class="sxs-lookup"><span data-stu-id="8fd3e-230">Azure Media Services Dynamic Protection</span></span> |
| <span data-ttu-id="8fd3e-231">**Entrega de licença DRM**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-231">**DRM License Delivery**</span></span> |<span data-ttu-id="8fd3e-232">1. Licença entrega (PlayReady, Widevine, do FairPlay), de serviços de multimédia do Azure ou</span><span class="sxs-lookup"><span data-stu-id="8fd3e-232">1. Azure Media Services License Delivery (PlayReady, Widevine, FairPlay), or</span></span> <br/><span data-ttu-id="8fd3e-233">2. Servidor de licenças de Axinom,</span><span class="sxs-lookup"><span data-stu-id="8fd3e-233">2. Axinom License Server,</span></span> <br/><span data-ttu-id="8fd3e-234">3. Servidor de licenças PlayReady personalizado</span><span class="sxs-lookup"><span data-stu-id="8fd3e-234">3. Custom PlayReady License Server</span></span> |
| <span data-ttu-id="8fd3e-235">**Origem**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-235">**Origin**</span></span> |<span data-ttu-id="8fd3e-236">Ponto final de transmissão em fluxo de serviços de multimédia do Azure</span><span class="sxs-lookup"><span data-stu-id="8fd3e-236">Azure Media Services Streaming Endpoint</span></span> |
| <span data-ttu-id="8fd3e-237">**Gestão de chaves**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-237">**Key Management**</span></span> |<span data-ttu-id="8fd3e-238">Não é necessária para a implementação de referência</span><span class="sxs-lookup"><span data-stu-id="8fd3e-238">Not needed for reference implementation</span></span> |
| <span data-ttu-id="8fd3e-239">**Gestão de conteúdo**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-239">**Content Management**</span></span> |<span data-ttu-id="8fd3e-240">Uma aplicação de consola c#</span><span class="sxs-lookup"><span data-stu-id="8fd3e-240">A C# console application</span></span> |

<span data-ttu-id="8fd3e-241">Por outras palavras, o fornecedor de identidade (IDP) e proteger o Token serviço (STS) será do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-241">In other words, both Identity Provider (IDP) and Secure Token Service (STS) will be Azure AD.</span></span> <span data-ttu-id="8fd3e-242">Para o leitor, utilizamos [API do Azure Media Player](http://amp.azure.net/libs/amp/latest/docs/).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-242">For player, we will use [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="8fd3e-243">Os Media Services do Azure e o leitor de multimédia do Azure suportam DASH e CENC com múltipla DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-243">Both Azure Media Services and Azure Media Player support DASH and CENC with multi-DRM.</span></span>

<span data-ttu-id="8fd3e-244">Olá seguinte diagrama mostra Olá estrutura geral e de fluxo com Olá acima mapeamento de tecnologia.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-244">hello following diagram shows hello overall structure and flow with hello above technology mapping.</span></span>

![CENC no AMS](./media/media-services-cenc-with-multidrm-access-control/media-services-cenc-subsystem-on-AMS-platform.png)

<span data-ttu-id="8fd3e-246">Na ordem tooset segurança encriptação CENC dinâmica, a ferramenta de gestão de conteúdo de Olá utilizará Olá seguintes entradas:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-246">In order tooset up dynamic CENC encryption, hello content management tool will use hello following inputs:</span></span>

1. <span data-ttu-id="8fd3e-247">Abrir conteúdo;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-247">Open content;</span></span>
2. <span data-ttu-id="8fd3e-248">Chave de conteúdo da chave geração/gestão;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-248">Content key from key generation/management;</span></span>
3. <span data-ttu-id="8fd3e-249">URL de aquisição de licença;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-249">License acquisition URLs;</span></span>
4. <span data-ttu-id="8fd3e-250">Uma lista de informações do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-250">A list of information from Azure AD.</span></span>

<span data-ttu-id="8fd3e-251">Olá resultado da ferramenta de gestão de conteúdo de Olá será:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-251">hello output of hello content management tool will be:</span></span>

1. <span data-ttu-id="8fd3e-252">ContentKeyAuthorizationPolicy que contém a especificação de Olá na forma como a entrega de licença verifica um token JWT e especificações de licença da DRM;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-252">ContentKeyAuthorizationPolicy containing hello specification on how license delivery verifies a JWT token and DRM license specifications;</span></span>
2. <span data-ttu-id="8fd3e-253">AssetDeliveryPolicy que contém as especificações na transmissão em fluxo formato, proteção DRM e URLs de aquisição de licença.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-253">AssetDeliveryPolicy containing specifications on streaming format, DRM protection and license acquisition URLs.</span></span>

<span data-ttu-id="8fd3e-254">Durante o tempo de execução, o fluxo de Olá é como abaixo:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-254">During runtime, hello flow is as below:</span></span>

1. <span data-ttu-id="8fd3e-255">Após a autenticação de utilizador, é gerado um token JWT;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-255">Upon user authentication, a JWT token is generated;</span></span>
2. <span data-ttu-id="8fd3e-256">Uma das afirmações de Olá incluídas no token JWT de Olá é afirmação "grupos" que contém o ID de objeto de grupo Olá de "EntitledUserGroup".</span><span class="sxs-lookup"><span data-stu-id="8fd3e-256">One of hello claims contained in hello JWT token is “groups” claim containing hello group object ID of “EntitledUserGroup”.</span></span> <span data-ttu-id="8fd3e-257">Esta afirmação será utilizada para transmitir "verificar a elegibilidade".</span><span class="sxs-lookup"><span data-stu-id="8fd3e-257">This claim will be used for passing “entitlement check”.</span></span>
3. <span data-ttu-id="8fd3e-258">Manifesto de cliente de transferências de leitor de um CENC conteúdo protegido e "verá" seguintes Olá:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-258">Player downloads client manifest of a CENC protected content and “sees” hello following:</span></span>

   1. <span data-ttu-id="8fd3e-259">ID da chave</span><span class="sxs-lookup"><span data-stu-id="8fd3e-259">key ID,</span></span>
   2. <span data-ttu-id="8fd3e-260">o conteúdo de Olá é CENC protegido,</span><span class="sxs-lookup"><span data-stu-id="8fd3e-260">hello content is CENC protected,</span></span>
   3. <span data-ttu-id="8fd3e-261">URL de aquisição de licença.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-261">License acquisition URLs.</span></span>
4. <span data-ttu-id="8fd3e-262">Leitor faz um pedido de aquisição de licença com base no Olá browser/DRM suportado.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-262">Player makes a license acquisition request based on hello browser/DRM supported.</span></span> <span data-ttu-id="8fd3e-263">No pedido de aquisição de licença de Olá, ID de chave e Olá JWT, também irá ser submetido token.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-263">In hello license acquisition request, key ID and hello JWT token will also be submitted.</span></span> <span data-ttu-id="8fd3e-264">Serviço de entrega de licença irá verificar token JWT de Olá e afirmações de Olá contidas antes de emitir Olá necessário licença.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-264">License delivery service will verify hello JWT token and hello claims contained before issuing hello needed license.</span></span>

## <a name="implementation"></a><span data-ttu-id="8fd3e-265">Implementação</span><span class="sxs-lookup"><span data-stu-id="8fd3e-265">Implementation</span></span>
### <a name="implementation-procedures"></a><span data-ttu-id="8fd3e-266">Procedimentos de implementação</span><span class="sxs-lookup"><span data-stu-id="8fd3e-266">Implementation procedures</span></span>
<span data-ttu-id="8fd3e-267">implementação de Olá irá incluir Olá os seguintes passos:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-267">hello implementation will include hello following steps:</span></span>

1. <span data-ttu-id="8fd3e-268">Preparar o teste asset(s): codificar/pacote uma teste vídeo toomulti múltipla fragmentada MP4 nos Media Services do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-268">Prepare test asset(s): encode/package a test video toomulti-bitrate fragmented MP4 in Azure Media Services.</span></span> <span data-ttu-id="8fd3e-269">Este elemento não é DRM protegido.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-269">This asset is NOT DRM protected.</span></span> <span data-ttu-id="8fd3e-270">Proteção de DRM será efetuada pela proteção dinâmica mais tarde.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-270">DRM protection will be done by dynamic protection later.</span></span>
2. <span data-ttu-id="8fd3e-271">Criar chave ID e conteúdo chave (e opcionalmente de seed chave).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-271">Create key ID and content key (optionally from key seed).</span></span> <span data-ttu-id="8fd3e-272">Para o nosso objetivo, sistema de gestão de chaves não é necessária uma vez que vamos são lidar com apenas um único conjunto de ID e a chave de conteúdo para alguns dos recursos de teste; da chave</span><span class="sxs-lookup"><span data-stu-id="8fd3e-272">For our purpose, key management system is not needed since we are dealing with only a single set of key ID and content key for a couple of test assets;</span></span>
3. <span data-ttu-id="8fd3e-273">Utilize serviços de entrega de API do AMS tooconfigure múltipla DRM licença para o recurso de teste de Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-273">Use AMS API tooconfigure multi-DRM license delivery services for hello test asset.</span></span> <span data-ttu-id="8fd3e-274">Se estiver a utilizar servidores de licenças personalizados pela sua empresa ou fornecedores da sua empresa em vez dos serviços de licenciamento no Media Services do Azure, pode ignorar este passo e especificar os URLs de aquisição de licença no passo de Olá para configurar a entrega de licença.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-274">If you are using custom license servers by your company or your company’s vendors instead of license services in Azure Media Services, you can skip this step and specify license acquisition URLs in hello step for configuring license delivery.</span></span> <span data-ttu-id="8fd3e-275">API de AMS é necessário toospecify detalhada de algumas configurações, tais como restrição de política de autorização, licença modelos de resposta para diferentes serviços de licença da DRM, etc. Neste momento, Olá portal do Azure não ainda fornecer Olá necessário da IU para esta configuração.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-275">AMS API is needed toospecify some detailed configurations, such as authorization policy restriction, license response templates for different DRM license services, etc. At this time, hello Azure portal does not yet provide hello needed UI for this configuration.</span></span> <span data-ttu-id="8fd3e-276">Pode encontrar informações de nível de API e exemplo de código no documento de Leonor Kornich: [utilizando PlayReady e/ou Widevine a encriptação comum dinâmica](media-services-protect-with-drm.md).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-276">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
4. <span data-ttu-id="8fd3e-277">Utilize a política de entrega de elemento do AMS API tooconfigure para o recurso de teste de Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-277">Use AMS API tooconfigure asset delivery policy for hello test asset.</span></span> <span data-ttu-id="8fd3e-278">Pode encontrar informações de nível de API e exemplo de código no documento de Leonor Kornich: [utilizando PlayReady e/ou Widevine a encriptação comum dinâmica](media-services-protect-with-drm.md).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-278">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
5. <span data-ttu-id="8fd3e-279">Criar e configurar um inquilino do Azure Active Directory no Azure;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-279">Create and configure an Azure Active Directory tenant in Azure;</span></span>
6. <span data-ttu-id="8fd3e-280">Crie algumas contas de utilizador e grupos no seu inquilino do Azure Active Directory: deve criar, pelo menos, "EntitledUser" de grupo e adicionar um grupo de toothis do utilizador.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-280">Create a few user accounts and groups in your Azure Active Directory tenant: you should create at least “EntitledUser” group and add a user toothis group.</span></span> <span data-ttu-id="8fd3e-281">Os utilizadores deste grupo serão passaram a verificação de elegibilidade na aquisição de licença e não os utilizadores deste grupo não conseguirá efetuar verificação de autenticação toopass e não será capaz de tooacquire qualquer licença.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-281">Users in this group will pass entitlement check in license acquisition and users not in this group will fail toopass authentication check and will not be able tooacquire any license.</span></span> <span data-ttu-id="8fd3e-282">Facto de ser membro deste grupo de "EntitledUser" é uma afirmação de necessário "nos grupos" no Olá JWT token emitido pelo Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-282">Being a member of this “EntitledUser” group is a required “groups” claim in hello JWT token issued by Azure AD.</span></span> <span data-ttu-id="8fd3e-283">Este requisito de afirmação deve ser especificado na configuração de passo de serviços de entrega de licença de múltipla DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-283">This claim requirement should be specified in configuring multi-DRM license delivery services step.</span></span>
7. <span data-ttu-id="8fd3e-284">Crie uma aplicação ASP.NET MVC que irá alojar o leitor de vídeo.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-284">Create an ASP.NET MVC app which will be hosting your video player.</span></span> <span data-ttu-id="8fd3e-285">Esta aplicação ASP.NET vai ser protegida com autenticação de utilizador no inquilino do Azure Active Directory de Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-285">This ASP.NET app will be protected with user authentication against hello Azure Active Directory tenant.</span></span> <span data-ttu-id="8fd3e-286">Afirmações adequadas serão incluídas em tokens de acesso de Olá obtidos após a autenticação de utilizador.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-286">Proper claims will be included in hello access tokens obtained after user authentication.</span></span> <span data-ttu-id="8fd3e-287">Para este passo, recomenda-se OpenID Connect API.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-287">OpenID Connect API is recommended for this step.</span></span> <span data-ttu-id="8fd3e-288">É necessário Olá tooinstall pacotes NuGet os seguintes:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-288">You need tooinstall hello following NuGet packages:</span></span>
   * <span data-ttu-id="8fd3e-289">Pacote de instalação Microsoft.Azure.ActiveDirectory.GraphClient</span><span class="sxs-lookup"><span data-stu-id="8fd3e-289">Install-Package Microsoft.Azure.ActiveDirectory.GraphClient</span></span>
   * <span data-ttu-id="8fd3e-290">Pacote de instalação Microsoft.Owin.Security.OpenIdConnect</span><span class="sxs-lookup"><span data-stu-id="8fd3e-290">Install-Package Microsoft.Owin.Security.OpenIdConnect</span></span>
   * <span data-ttu-id="8fd3e-291">Pacote de instalação Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="8fd3e-291">Install-Package Microsoft.Owin.Security.Cookies</span></span>
   * <span data-ttu-id="8fd3e-292">Pacote de instalação Microsoft.Owin.Host.SystemWeb</span><span class="sxs-lookup"><span data-stu-id="8fd3e-292">Install-Package Microsoft.Owin.Host.SystemWeb</span></span>
   * <span data-ttu-id="8fd3e-293">Pacote de instalação Microsoft.IdentityModel.Clients.ActiveDirectory</span><span class="sxs-lookup"><span data-stu-id="8fd3e-293">Install-Package Microsoft.IdentityModel.Clients.ActiveDirectory</span></span>
8. <span data-ttu-id="8fd3e-294">Criar um leitor utilizando [API do Azure Media Player](http://amp.azure.net/libs/amp/latest/docs/).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-294">Create a player using [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="8fd3e-295">[ProtectionInfo API do Azure Media Player](http://amp.azure.net/libs/amp/latest/docs/) permite-lhe toospecify que toouse de tecnologia DRM em várias plataformas DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-295">[Azure Media Player’s ProtectionInfo API](http://amp.azure.net/libs/amp/latest/docs/) allows you toospecify which DRM technology toouse on different DRM platform.</span></span>
9. <span data-ttu-id="8fd3e-296">Matriz de teste:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-296">Test matrix:</span></span>

| <span data-ttu-id="8fd3e-297">**DRM**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-297">**DRM**</span></span> | <span data-ttu-id="8fd3e-298">**Browser**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-298">**Browser**</span></span> | <span data-ttu-id="8fd3e-299">**Resultado para o utilizador realizada**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-299">**Result for Entitled User**</span></span> | <span data-ttu-id="8fd3e-300">**Resultado para o utilizador anular realizada**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-300">**Result for Un-entitled User**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8fd3e-301">**PlayReady**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-301">**PlayReady**</span></span> |<span data-ttu-id="8fd3e-302">Limite de MS ou IE11 no Windows 10</span><span class="sxs-lookup"><span data-stu-id="8fd3e-302">MS Edge or IE11 on Windows 10</span></span> |<span data-ttu-id="8fd3e-303">Concluída com êxito</span><span class="sxs-lookup"><span data-stu-id="8fd3e-303">Succeed</span></span> |<span data-ttu-id="8fd3e-304">Falhar</span><span class="sxs-lookup"><span data-stu-id="8fd3e-304">Fail</span></span> |
| <span data-ttu-id="8fd3e-305">**Widevine**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-305">**Widevine**</span></span> |<span data-ttu-id="8fd3e-306">Chrome no Windows 10</span><span class="sxs-lookup"><span data-stu-id="8fd3e-306">Chrome on Windows 10</span></span> |<span data-ttu-id="8fd3e-307">Concluída com êxito</span><span class="sxs-lookup"><span data-stu-id="8fd3e-307">Succeed</span></span> |<span data-ttu-id="8fd3e-308">Falhar</span><span class="sxs-lookup"><span data-stu-id="8fd3e-308">Fail</span></span> |
| <span data-ttu-id="8fd3e-309">**FairPlay**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-309">**FairPlay**</span></span> |<span data-ttu-id="8fd3e-310">TBD</span><span class="sxs-lookup"><span data-stu-id="8fd3e-310">TBD</span></span> | | |

<span data-ttu-id="8fd3e-311">George Trifonov da equipa de serviços de suporte de dados do Azure tem de escrever um blogue fornecendo passos de detalhado na configuração do Azure Active Directory para uma aplicação de leitor de ASP.NET MVC: [integrar o Azure suporte de dados de serviços da OWIN MVC baseada em aplicações com o Azure Active Directory e restringir conteúdo de entrega de chave com base em afirmações JWT](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-311">George Trifonov of Azure Media Services Team has written a blog providing detailed steps in setting up Azure Active Directory for an ASP.NET MVC player app: [Integrate Azure Media Services OWIN MVC based app with Azure Active Directory and restrict content key delivery based on JWT claims](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span></span>

<span data-ttu-id="8fd3e-312">George também ter escrito um blogue no [autenticação de token JWT nos Media Services do Azure e a encriptação dinâmica](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-312">George has also written a blog on [JWT token Authentication in Azure Media Services and Dynamic Encryption](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).</span></span> <span data-ttu-id="8fd3e-313">E Eis a [em integração do Azure AD com a entrega de chave de Media Services do Azure](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-313">And here is his [sample on Azure AD integration with Azure Media Services key delivery](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/).</span></span>

<span data-ttu-id="8fd3e-314">Para informações sobre o Azure Active Directory:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-314">For information on Azure Active Directory:</span></span>

* <span data-ttu-id="8fd3e-315">Pode encontrar informações de Programador no [guia para programadores Directory Active do Azure](../active-directory/active-directory-developers-guide.md).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-315">You can find developer information in [Azure Active Directory Developer’s Guide](../active-directory/active-directory-developers-guide.md).</span></span>
* <span data-ttu-id="8fd3e-316">Pode encontrar informações de administrador no [administrar o diretório do Azure AD](../active-directory/active-directory-administer.md).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-316">You can find administrator information in [Administer Your Azure AD Directory](../active-directory/active-directory-administer.md).</span></span>

### <a name="some-gotchas-in-implementation"></a><span data-ttu-id="8fd3e-317">Alguns gotchas numa implementação</span><span class="sxs-lookup"><span data-stu-id="8fd3e-317">Some gotchas in implementation</span></span>
<span data-ttu-id="8fd3e-318">Existem algumas "gotchas" na implementação de Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-318">There are some “gotchas” in hello implementation.</span></span> <span data-ttu-id="8fd3e-319">Hopefully Olá lista de "gotchas" a seguir pode ajudá-lo caso se depare com problemas de resolução de problemas.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-319">Hopefully hello following list of “gotchas” can help you troubleshooting in case you run into issues.</span></span>

1. <span data-ttu-id="8fd3e-320">**Emissor** URL deve terminar com **"/"**.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-320">**Issuer** URL should end with **"/"**.</span></span>  

    <span data-ttu-id="8fd3e-321">**Público-alvo** deve ser Olá ID de cliente da aplicação de leitor e deverá ainda adicionar **"/"** no fim de Olá do URL do emissor Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-321">**Audience** should be hello player application client ID and you should also add **"/"** at hello end of hello issuer URL.</span></span>

        <add key="ida:audience" value="[Application Client ID GUID]" />
        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/" />

    <span data-ttu-id="8fd3e-322">No [JWT descodificador](http://jwt.calebb.net/), deverá ver **aud** e **iss** como abaixo no token JWT de Olá:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-322">In [JWT Decoder](http://jwt.calebb.net/), you should see **aud** and **iss** as below in hello JWT token:</span></span>

    ![gotcha 1ª](./media/media-services-cenc-with-multidrm-access-control/media-services-1st-gotcha.png)
2. <span data-ttu-id="8fd3e-324">Adicione aplicação toohello de permissões no AAD (no separador de configuração da aplicação Olá).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-324">Add Permissions toohello application in AAD (on Configure tab of hello application).</span></span> <span data-ttu-id="8fd3e-325">Isto é necessário para cada aplicação (versões de locais e implementadas).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-325">This is required for each application (local and deployed versions).</span></span>

    ![2nd gotcha](./media/media-services-cenc-with-multidrm-access-control/media-services-perms-to-other-apps.png)
3. <span data-ttu-id="8fd3e-327">Utilize o emissor de direito de Olá na como configurar a proteção de CENC dinâmica:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-327">Use hello right issuer in setting up dynamic CENC protection:</span></span>

        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/"/>

    <span data-ttu-id="8fd3e-328">seguinte Olá não irá funcionar:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-328">hello following will not work:</span></span>

        <add key="ida:issuer" value="https://willzhanad.onmicrosoft.com/" />

    <span data-ttu-id="8fd3e-329">Olá GUID é o ID de inquilino do AAD Olá</span><span class="sxs-lookup"><span data-stu-id="8fd3e-329">hello GUID is hello AAD tenant ID.</span></span> <span data-ttu-id="8fd3e-330">Olá GUID pode ser encontrada no pop-up de pontos finais no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-330">hello GUID can be found in Endpoints popup in Azure portal.</span></span>
4. <span data-ttu-id="8fd3e-331">Associação ao grupo de conceder privilégios de afirmações.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-331">Grant group membership claims privileges.</span></span> <span data-ttu-id="8fd3e-332">Certifique-se no ficheiro de manifesto de aplicação do AAD, temos seguinte Olá</span><span class="sxs-lookup"><span data-stu-id="8fd3e-332">Make sure in AAD application manifest file, we have hello following</span></span>

    <span data-ttu-id="8fd3e-333">"groupMembershipClaims": "All", (valor predefinido de Olá é nulo)</span><span class="sxs-lookup"><span data-stu-id="8fd3e-333">"groupMembershipClaims": "All",    (hello default value is null)</span></span>
5. <span data-ttu-id="8fd3e-334">Definição adequada TokenType ao criar requisitos de restrição.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-334">Setting proper TokenType when creating restriction requirements.</span></span>

        objTokenRestrictionTemplate.TokenType = TokenType.JWT;

    <span data-ttu-id="8fd3e-335">Uma vez que adicionar suportar JWT (AAD) Ademais tooSWT (ACS), o predefinido Olá TokenType é TokenType.JWT.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-335">Since adding support of JWT (AAD) in addition tooSWT (ACS), hello default TokenType is TokenType.JWT.</span></span> <span data-ttu-id="8fd3e-336">Se utilizar SWT/ACS, tem de definir tooTokenType.SWT.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-336">If you use SWT/ACS, you must set tooTokenType.SWT.</span></span>

## <a name="additional-topics-for-implementation"></a><span data-ttu-id="8fd3e-337">Tópicos adicionais para a implementação</span><span class="sxs-lookup"><span data-stu-id="8fd3e-337">Additional Topics for Implementation</span></span>
<span data-ttu-id="8fd3e-338">Em seguida, irá detetar uss alguns tópicos adicionais no nosso design e implementação.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-338">Next we will disc uss some additional topics in our design and implementation.</span></span>

### <a name="http-or-https"></a><span data-ttu-id="8fd3e-339">HTTP ou HTTPS?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-339">HTTP or HTTPS?</span></span>
<span data-ttu-id="8fd3e-340">Olá aplicação de leitor de ASP.NET MVC criámos têm de suportar seguinte Olá:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-340">hello ASP.NET MVC player application we built must support hello following:</span></span>

1. <span data-ttu-id="8fd3e-341">Autenticação de utilizador através do Azure AD que precisa de toobe em HTTPS;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-341">User authentication through Azure AD which needs toobe under HTTPS;</span></span>
2. <span data-ttu-id="8fd3e-342">Troca de tokens JWT entre cliente e o Azure AD que precisa de toobe em HTTPS;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-342">JWT token exchange between client and Azure AD which needs toobe under HTTPS;</span></span>
3. <span data-ttu-id="8fd3e-343">Aquisição de licença da DRM pelo cliente de Olá que é necessário toobe em HTTPS se a entrega de licença é fornecida pelos serviços de suporte de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-343">DRM license acquisition by hello client which is required toobe under HTTPS if license delivery is provided by Azure Media Services.</span></span> <span data-ttu-id="8fd3e-344">Obviamente, PlayReady suite de produto não mandatar HTTPS para entrega de licença.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-344">Of course, PlayReady product suite does not mandate HTTPS for license delivery.</span></span> <span data-ttu-id="8fd3e-345">Se o servidor de licenças PlayReady está fora do Media Services do Azure, pode ser utilizado por HTTP ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-345">If your PlayReady license server is outside of Azure Media Services, either HTTP or HTTPS could be used.</span></span>

<span data-ttu-id="8fd3e-346">Por conseguinte, Olá aplicação do leitor ASP.NET utilizará HTTPS como melhor prática.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-346">Therefore, hello ASP.NET player application will use HTTPS as a best practice.</span></span> <span data-ttu-id="8fd3e-347">Isto significa Olá que Azure Media Player será uma página em HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-347">This means hello Azure Media Player will be on a page under HTTPS.</span></span> <span data-ttu-id="8fd3e-348">No entanto, para transmissão em fluxo preferir HTTP, por conseguinte, é necessário tooconsider misto problema conteúdo.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-348">However, for streaming we prefer HTTP, hence we need tooconsider mixed content issue.</span></span>

1. <span data-ttu-id="8fd3e-349">Browser não permitem o conteúdo misto.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-349">Browser does not allow mixed content.</span></span> <span data-ttu-id="8fd3e-350">Mas permitem plug-ins, como o Silverlight e OSMF Plug-in para uniforme e travessão.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-350">But plugins like Silverlight and OSMF plugin for smooth and DASH allow.</span></span> <span data-ttu-id="8fd3e-351">Conteúdo misto é um problema de segurança: trata-se devido a ameaça de toohello de Olá capacidade tooinject JS maliciosos que pode provocar Olá toobe de dados de cliente em risco.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-351">Mixed content is a security concern - This is due toohello threat of hello ability tooinject malicious JS which can cause hello customer data toobe at risk.</span></span>  <span data-ttu-id="8fd3e-352">Browsers bloquear este por predefinição, não sendo até ao momento Olá toowork de forma apenas à volta no lado do servidor (origem) de Olá, tooallow todos os domínios (independentemente https ou http).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-352">Browsers block this by default and so far hello only way toowork around it is on hello server (origin) side, tooallow all domains (regardless https or http).</span></span> <span data-ttu-id="8fd3e-353">Isto é provavelmente não é uma boa ideia.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-353">This is probably not a good idea either.</span></span>
2. <span data-ttu-id="8fd3e-354">Iremos deve evitar conteúdo misto: ambos utilizam HTTP ou ambos utilizam HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-354">We should avoid mixed content: either both use HTTP or both use HTTPS.</span></span> <span data-ttu-id="8fd3e-355">Quando a reprodução do conteúdo misto, silverlightSS técnico requer limpar um aviso de conteúdo misto.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-355">When playing mixed content, silverlightSS tech requires clearing a mixed content warning.</span></span> <span data-ttu-id="8fd3e-356">técnico de flashSS processa conteúdo misto sem aviso conteúdo misto.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-356">flashSS tech handles mixed content without mixed content warning.</span></span>
3. <span data-ttu-id="8fd3e-357">Se o ponto final de transmissão em fluxo foi criado antes de Agosto de 2014, não suporta HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-357">If your streaming endpoint was created before August 2014, it will not support HTTPS.</span></span> <span data-ttu-id="8fd3e-358">Neste caso,. Crie e utilize um novo ponto de final de transmissão em fluxo para HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-358">In this case, please create and use a new streaming endpoint for HTTPS.</span></span>

<span data-ttu-id="8fd3e-359">Numa implementação de referência de Olá, para conteúdo DRM protegido, aplicações e de transmissão em fluxo serão em HTTTPS.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-359">In hello reference implementation, for DRM protected contents, both application and streaming will be under HTTTPS.</span></span> <span data-ttu-id="8fd3e-360">Para abrir conteúdos, leitor Olá não necessita de autenticação ou de licença, pelo que terá de Olá liberty toouse o HTTP ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-360">For open contents, hello player does not need authentication or license, so you have hello liberty toouse either HTTP or HTTPS.</span></span>

### <a name="azure-active-directory-signing-key-rollover"></a><span data-ttu-id="8fd3e-361">Azure Active Directory que o rollover da chave de assinatura</span><span class="sxs-lookup"><span data-stu-id="8fd3e-361">Azure Active Directory signing key rollover</span></span>
<span data-ttu-id="8fd3e-362">Este é um tootake ponto importante em consideração da sua implementação.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-362">This is an important point tootake into consideration of your implementation.</span></span> <span data-ttu-id="8fd3e-363">Se não considere o seguinte na sua implementação, sistema Olá concluída, eventualmente, deixará de trabalho completamente dentro de um máximo de 6 semanas.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-363">If you do not consider this in your implementation, hello completed system will eventually stop working completely within at most 6 weeks.</span></span>

<span data-ttu-id="8fd3e-364">Azure AD utiliza uma confiança de tooestablish padrão da indústria entre si próprio e aplicações através do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-364">Azure AD uses industry standard tooestablish trust between itself and applications using Azure AD.</span></span> <span data-ttu-id="8fd3e-365">Especificamente, o Azure AD utiliza uma chave de assinatura que é composta por um par de chaves público e privado.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-365">Specifically, Azure AD uses a signing key that consists of a public and private key pair.</span></span> <span data-ttu-id="8fd3e-366">Quando o Azure AD cria um token de segurança que contenha informações sobre o utilizador Olá, este token é assinada pelo Azure AD utilizando a respetiva chave privada antes de ser enviada aplicação de back-toohello.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-366">When Azure AD creates a security token that contains information about hello user, this token is signed by Azure AD using its private key before it is sent back toohello application.</span></span> <span data-ttu-id="8fd3e-367">tooverify Olá token é válido e, na verdade, teve origem do Azure AD, aplicação Olá necessário validar a assinatura do token de Olá utilizando a chave pública Olá exposto pelo Azure AD que está contido no documento de metadados de Federação do inquilino Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-367">tooverify that hello token is valid and actually originated from Azure AD, hello application must validate hello token’s signature using hello public key exposed by Azure AD that is contained in hello tenant’s federation metadata document.</span></span> <span data-ttu-id="8fd3e-368">Esta chave pública – e Olá chave a partir da qual deriva de assinatura – são Olá um mesmo utilizado para todos os inquilinos no Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-368">This public key – and hello signing key from which it derives – is hello same one used for all tenants in Azure AD.</span></span>

<span data-ttu-id="8fd3e-369">Informações detalhadas sobre o rollover da chave do Azure AD podem ser encontrada no documento de Olá: [informações importantes sobre o Rollover de chave de assinatura no Azure AD](../active-directory/active-directory-signing-key-rollover.md).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-369">Detailed info on Azure AD key rollover can be found in hello document: [Important Information about Signing Key Rollover in Azure AD](../active-directory/active-directory-signing-key-rollover.md).</span></span>

<span data-ttu-id="8fd3e-370">Entre Olá [par de chaves públicas-privadas](https://login.microsoftonline.com/common/discovery/keys/),</span><span class="sxs-lookup"><span data-stu-id="8fd3e-370">Between hello [public-private key pair](https://login.microsoftonline.com/common/discovery/keys/),</span></span>

* <span data-ttu-id="8fd3e-371">a chave privada Olá é utilizada pelo Azure Active Directory toogenerate um token JWT;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-371">hello private key is used by Azure Active Directory toogenerate a JWT token;</span></span>
* <span data-ttu-id="8fd3e-372">chave pública Olá é utilizado por uma aplicação, tais como serviços de entrega de licença DRM no token JWT do AMS tooverify Olá;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-372">hello public key is used by an application such as DRM License Delivery Services in AMS tooverify hello JWT token;</span></span>

<span data-ttu-id="8fd3e-373">Para fins de segurança, o Azure Active Directory roda periodicamente este certificado (todas as semanas 6).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-373">For security purpose, Azure Active Directory rotates this certificate periodically (every 6 weeks).</span></span> <span data-ttu-id="8fd3e-374">Em caso de falhas de segurança, o rollover da chave Olá pode ocorrer a qualquer altura.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-374">In case of security breaches, hello key rollover can occur any time.</span></span> <span data-ttu-id="8fd3e-375">Por conseguinte, serviços de entrega de licença de Olá AMS necessária a chave de público de Olá de tooupdate utilizado como o Azure AD roda par de chaves Olá, caso contrário, a autenticação com token na AMS irá falhar e não será emitida nenhuma licença.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-375">Therefore, hello license delivery services in AMS need tooupdate hello public key used as Azure AD rotates hello key pair, otherwise token authentication in AMS will fail and no license will be issued.</span></span>

<span data-ttu-id="8fd3e-376">Isto é conseguido através da definição TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument quando configurar os serviços de entrega de licença DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-376">This is achieved by setting TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument when configuring DRM license delivery services.</span></span>

<span data-ttu-id="8fd3e-377">Olá fluxo do token JWT está abaixo:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-377">hello JWT token flow is as below:</span></span>

1. <span data-ttu-id="8fd3e-378">Azure AD irá emitir o token JWT de Olá com chave privada atual para um utilizador autenticado; Olá</span><span class="sxs-lookup"><span data-stu-id="8fd3e-378">Azure AD will issue hello JWT token with hello current private key for an authenticated user;</span></span>
2. <span data-ttu-id="8fd3e-379">Quando um leitor vê um CENC com conteúdo de múltipla DRM protegido, irá localizar primeiro o token JWT de Olá emitido pelo Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-379">When a player sees a CENC with multi-DRM protected content, it will first locate hello JWT token issued by Azure AD.</span></span>
3. <span data-ttu-id="8fd3e-380">leitor de Olá envia o pedido de aquisição de licença com os serviços de entrega do Olá JWT token toolicense em AMS;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-380">hello player sends license acquisition request with hello JWT token toolicense delivery services in AMS;</span></span>
4. <span data-ttu-id="8fd3e-381">Serviços de entrega de licença de Olá AMS irão utilizar a chave pública atual válido Olá do token JWT do Azure AD tooverify Olá, antes de emitir licenças.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-381">hello license delivery services in AMS will use hello current/valid public key from Azure AD tooverify hello JWT token, before issuing licenses.</span></span>

<span data-ttu-id="8fd3e-382">Serviços de entrega de licença DRM serão sempre ser a verificar Olá atual/uma chave pública válida do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-382">DRM license delivery services will always be checking for hello current/valid public key from Azure AD.</span></span> <span data-ttu-id="8fd3e-383">chave pública Olá apresentada pelo Azure AD será chave Olá utilizado para verificar um token JWT emitido pelo Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-383">hello public key presented by Azure AD will be hello key used for verifying a JWT token issued by Azure AD.</span></span>

<span data-ttu-id="8fd3e-384">E se o rollover da chave de Olá acontece depois do AAD gera um token JWT, mas antes de Olá JWT token é enviado pelo jogadores tooDRM licença entrega serviços no AMS para verificação?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-384">What if hello key rollover happens after AAD generates a JWT token but before hello JWT token is sent by players tooDRM license delivery services in AMS for verification?</span></span>

<span data-ttu-id="8fd3e-385">Porque uma chave poderá ser revertida a qualquer momento, não há sempre mais do que uma chave pública válida disponíveis no documento de metadados de Federação Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-385">Because a key may be rolled at any moment, there is always more than one valid public key available in hello federation metadata document.</span></span> <span data-ttu-id="8fd3e-386">Entrega de licença de Media Services do Azure pode utilizar qualquer um dos Olá chaves especificado no documento de Olá, uma vez que uma chave em breve, poderá ser revertida outro pode ser sua substituição e assim sucessivamente.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-386">Azure Media Services license delivery can use any of hello keys specified in hello document, since one key may be rolled soon, another may be its replacement, and so forth.</span></span>

### <a name="where-is-hello-access-token"></a><span data-ttu-id="8fd3e-387">Onde é Olá Token de acesso?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-387">Where is hello Access Token?</span></span>
<span data-ttu-id="8fd3e-388">Se observar como uma aplicação web chama uma aplicação de API em [identidade da aplicação com a concessão de credenciais do OAuth 2.0 cliente](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api), o fluxo de autenticação de Olá é como abaixo:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-388">If you look at how a web app calls an API app under [Application Identity with OAuth 2.0 Client Credentials Grant](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api), hello authentication flow is as below:</span></span>

1. <span data-ttu-id="8fd3e-389">Um utilizador é iniciada no tooAzure AD na aplicação web de Olá (consulte Olá [Web Browser tooWeb aplicação](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-389">A user is signed in tooAzure AD in hello web application (see hello [Web Browser tooWeb Application](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application).</span></span>
2. <span data-ttu-id="8fd3e-390">ponto final de autorização de Olá do Azure AD redireciona Olá aplicação de cliente da back toohello de agente de utilizador com um código de autorização.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-390">hello Azure AD authorization endpoint redirects hello user agent back toohello client application with an authorization code.</span></span> <span data-ttu-id="8fd3e-391">agente de utilizador Olá devolve URI de redirecionamento de autorização código toohello cliente da aplicação.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-391">hello user agent returns authorization code toohello client application’s redirect URI.</span></span>
3. <span data-ttu-id="8fd3e-392">aplicação de web de Olá tem tooacquire um token de acesso para que possa autenticar toohello web API e obter o recurso de Olá assim o desejar.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-392">hello web application needs tooacquire an access token so that it can authenticate toohello web API and retrieve hello desired resource.</span></span> <span data-ttu-id="8fd3e-393">Torna o ponto final de token tooAzure um pedido do AD, fornecendo credenciais Olá, ID de cliente e URI de ID da aplicação de web da API.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-393">It makes a request tooAzure AD’s token endpoint, providing hello credential, client ID, and web API’s application ID URI.</span></span> <span data-ttu-id="8fd3e-394">Apresenta tooprove de código de autorização de Olá esse Olá utilizador consentiu.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-394">It presents hello authorization code tooprove that hello user has consented.</span></span>
4. <span data-ttu-id="8fd3e-395">Azure AD autentica aplicação Olá e devolve um token de acesso JWT que é utilizado toocall Olá web API.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-395">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
5. <span data-ttu-id="8fd3e-396">Através de HTTPS, a aplicação de web de Olá utiliza Olá devolvido Olá de token tooadd JWT acesso cadeia JWT com uma designação de "Portador" no cabeçalho de autorização de Olá de API do web toohello Olá pedido.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-396">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="8fd3e-397">API web do Olá, em seguida, valida o token JWT de Olá e se a validação for bem sucedida, devolve Olá pretendido recursos.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-397">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

<span data-ttu-id="8fd3e-398">Neste fluxo "identidade da aplicação", a API web do Olá confianças que Olá web aplicação Olá autenticado o utilizador.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-398">In this “application identity” flow, hello web API trusts that hello web application authenticated hello user.</span></span> <span data-ttu-id="8fd3e-399">Por este motivo, este padrão é chamado um subsistema fidedigno.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-399">For this reason, this pattern is called a trusted subsystem.</span></span> <span data-ttu-id="8fd3e-400">Olá [diagrama nesta página](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) descreve como o funciona de fluxo de concessão de códigos de autorização.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-400">hello [diagram on this page](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) describes how authorization code grant flow works.</span></span>

<span data-ttu-id="8fd3e-401">Na aquisição de licença com o token restrição, iremos estiver a seguir Olá mesmo padrão do subsistema fidedigna.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-401">In license acquisition with token restriction, we are following hello same trusted subsystem pattern.</span></span> <span data-ttu-id="8fd3e-402">E o serviço de entrega de licença Olá nos Media Services do Azure é o recurso de web API de Olá, Olá "recursos de back-end" tooaccess necessita de uma aplicação web.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-402">And hello license delivery service in Azure Media Services is hello web API resource, hello “backend resource” a web application needs tooaccess.</span></span> <span data-ttu-id="8fd3e-403">Por isso, onde está o token de acesso de Olá?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-403">So where is hello access token?</span></span>

<span data-ttu-id="8fd3e-404">Realmente, vamos obter token de acesso do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-404">Indeed, we are obtaining access token from Azure AD.</span></span> <span data-ttu-id="8fd3e-405">Após a autenticação com êxito do utilizador, é devolvido o código de autorização.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-405">After successful user authentication, authorization code is returned.</span></span> <span data-ttu-id="8fd3e-406">código de autorização de Olá, em seguida, é utilizado, juntamente com o ID e a aplicação de chave de cliente, tooexchange token de acesso.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-406">hello authorization code is then used, together with client ID and app key, tooexchange for access token.</span></span> <span data-ttu-id="8fd3e-407">E o token de acesso de Olá para aceder a uma aplicação de "ponteiro" apontar ou que representa o serviço de entrega de licença de Media Services do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-407">And hello access token is for accessing a “pointer” application pointing or representing Azure Media Services license delivery service.</span></span>

<span data-ttu-id="8fd3e-408">Vamos precisar tooregister e configurar Olá "ponteiro" aplicação no Azure AD, seguindo os passos de Olá abaixo:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-408">We need tooregister and configure hello “pointer” app in Azure AD by following hello steps below:</span></span>

1. <span data-ttu-id="8fd3e-409">No inquilino Olá do Azure AD</span><span class="sxs-lookup"><span data-stu-id="8fd3e-409">In hello Azure AD tenant</span></span>

   * <span data-ttu-id="8fd3e-410">Adicione uma aplicação (recurso) com o URL de início de sessão:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-410">add an application (resource) with sign-on URL:</span></span>

   <span data-ttu-id="8fd3e-411">https://[resource_name].azurewebsites.NET/ e</span><span class="sxs-lookup"><span data-stu-id="8fd3e-411">https://[resource_name].azurewebsites.net/ and</span></span>

   * <span data-ttu-id="8fd3e-412">URL de ID da aplicação:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-412">app ID URL:</span></span>

   <span data-ttu-id="8fd3e-413">https://[aad_tenant_name].onmicrosoft.com/[resource_name];</span><span class="sxs-lookup"><span data-stu-id="8fd3e-413">https://[aad_tenant_name].onmicrosoft.com/[resource_name];</span></span>
2. <span data-ttu-id="8fd3e-414">Adicionar uma nova chave para a aplicação de recursos de Olá;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-414">Add a new key for hello resource app;</span></span>
3. <span data-ttu-id="8fd3e-415">Atualizar o ficheiro de manifesto de aplicação Olá, para que a propriedade de groupMembershipClaims Olá tem Olá seguinte valor: "groupMembershipClaims": "All",</span><span class="sxs-lookup"><span data-stu-id="8fd3e-415">Update hello app manifest file so that hello groupMembershipClaims property has hello following value: "groupMembershipClaims": "All",</span></span>  
4. <span data-ttu-id="8fd3e-416">Na aplicação do Azure AD Olá apontar toohello leitor de aplicação web, na secção de Olá "aplicações tooother de permissões", adicione Olá recursos da aplicação que foi adicionada no passo 1 acima.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-416">In hello Azure AD app pointing toohello player web app, in hello section “permissions tooother applications”, add hello resource app which was added in step 1 above.</span></span> <span data-ttu-id="8fd3e-417">Em "permissões delegadas" verificar "Acesso [resource_name]" marca de verificação.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-417">Under “delegated permissions” check “Access [resource_name]” checkmark.</span></span> <span data-ttu-id="8fd3e-418">Isto dá-permissão de aplicação web de Olá toocreate tokens de acesso para aceder à aplicação do recurso Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-418">This gives hello web app permission toocreate access tokens for accessing hello resource app.</span></span> <span data-ttu-id="8fd3e-419">Deve efetuar este procedimento para a versão local e implementado da aplicação web de Olá se estiver a desenvolver com a aplicação de web do Visual Studio e o Azure.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-419">You should do this for both local and deployed version of hello web app if you are developing with Visual Studio and Azure web app.</span></span>

<span data-ttu-id="8fd3e-420">Por conseguinte, token JWT de Olá emitido pelo Azure AD é, de facto, token de acesso de Olá para aceder a este recurso de "ponteiro".</span><span class="sxs-lookup"><span data-stu-id="8fd3e-420">Therefore, hello JWT token issued by Azure AD is indeed hello access token for accessing this “pointer” resource.</span></span>

### <a name="what-about-live-streaming"></a><span data-ttu-id="8fd3e-421">E vai em direto transmissão em fluxo?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-421">What about Live Streaming?</span></span>
<span data-ttu-id="8fd3e-422">No Olá acima, nosso debate tem sido concentrar-se em ativos a pedido.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-422">In hello above, our discussion has been focusing on on-demand assets.</span></span> <span data-ttu-id="8fd3e-423">E vai transmissão em direto?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-423">What about live streaming?</span></span>

<span data-ttu-id="8fd3e-424">Olá boas notícias é que pode utilizar exatamente Olá mesmo design e implementação para proteger a transmissão em fluxo em direto nos Media Services do Azure, por encará-los asset Olá associado um programa como um "recurso VOD".</span><span class="sxs-lookup"><span data-stu-id="8fd3e-424">hello good news is that you can use exactly hello same design and implementation for protecting live streaming in Azure Media Services, by treating hello asset associated with a program as a “VOD asset”.</span></span>

<span data-ttu-id="8fd3e-425">Especificamente, é bem conhecido que toodo em direto de transmissão em fluxo em Media Services do Azure, terá de toocreate um canal, em seguida, um programa no canal de Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-425">Specifically, it is well known that toodo live streaming in Azure Media Services, you need toocreate a channel, then a program under hello channel.</span></span> <span data-ttu-id="8fd3e-426">programa de Olá toocreate, terá de toocreate um recurso que irá conter o arquivo em direto de Olá programa Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-426">toocreate hello program, you need toocreate an asset which will contain hello live archive for hello program.</span></span> <span data-ttu-id="8fd3e-427">Na ordem tooprovide CENC com proteção múltipla DRM de conteúdo em direto Olá, tudo o que precisa toodo, é tooapply Olá mesmo elemento de toohello de processamento de configuração/como se era um "recurso VOD" antes de iniciar o programa de Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-427">In order tooprovide CENC with multi-DRM protection of hello live content, all you need toodo, is tooapply hello same setup/processing toohello asset as if it was a “VOD asset” before you start hello program.</span></span>

### <a name="what-about-license-servers-outside-of-azure-media-services"></a><span data-ttu-id="8fd3e-428">O que sobre servidores de licenças fora de Media Services do Azure?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-428">What about license servers outside of Azure Media Services?</span></span>
<span data-ttu-id="8fd3e-429">Muitas vezes, os clientes podem tenham investido em licença farm de servidores tem os seus próprios dados center ou alojado por fornecedores de serviços DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-429">Often, customers may have invested in license server farm either in their own data center or hosted by DRM service providers.</span></span> <span data-ttu-id="8fd3e-430">Felizmente, proteção de conteúdos do serviços de suporte de dados do Azure permite-lhe toooperate no modo de híbrida: conteúdo alojado e protegidas dinamicamente Media Services do Azure, enquanto licenças DRM são fornecidas pelos servidores fora Media Services do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-430">Fortunately, Azure Media Services Content Protection allows you toooperate in hybrid mode: contents hosted and dynamically protected in Azure Media Services, while DRM licenses are delivered by servers outside Azure Media Services.</span></span> <span data-ttu-id="8fd3e-431">Neste caso, existem Olá seguintes considerações de alterações:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-431">In this case, there are hello following considerations of changes:</span></span>

1. <span data-ttu-id="8fd3e-432">Olá serviço de Token seguro necessidades tooissue tokens que são aceitáveis e podem ser verificados pelo farm de servidores de licenciamento Olá.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-432">hello Secure Token Service needs tooissue tokens which are acceptable and can be verified by hello license server farm.</span></span> <span data-ttu-id="8fd3e-433">Por exemplo, servidores de licenças Widevine Olá fornecidas pelo Axinom requer um token JWT específico que contém "mensagem elegibilidade".</span><span class="sxs-lookup"><span data-stu-id="8fd3e-433">For example, hello Widevine license servers provided by Axinom requires a specific JWT token which contains “entitlement message”.</span></span> <span data-ttu-id="8fd3e-434">Por conseguinte, terá de toohave tooissue um STS esse token JWT.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-434">Therefore, you need toohave an STS tooissue such JWT token.</span></span> <span data-ttu-id="8fd3e-435">os autores de Olá concluir essa uma implementação e para encontrar os detalhes de Olá Olá seguir o documento no [Centro de documentação do Azure](https://azure.microsoft.com/documentation/): [utilizando Axinom toodeliver Widevine licenças tooAzure Media Services](media-services-axinom-integration.md).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-435">hello authors have completed such an implementation and you can find hello details in hello following document in [Azure Documentation Center](https://azure.microsoft.com/documentation/): [Using Axinom toodeliver Widevine licenses tooAzure Media Services](media-services-axinom-integration.md).</span></span>
2. <span data-ttu-id="8fd3e-436">Já não necessita de tooconfigure entrega serviço de licença (ContentKeyAuthorizationPolicy) nos serviços de suporte de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-436">You no longer need tooconfigure license delivery service (ContentKeyAuthorizationPolicy) in Azure Media Services.</span></span> <span data-ttu-id="8fd3e-437">O que precisa é de toodo tooprovide Olá licença aquisição URLs (para PlayReady, Widevine e do FairPlay) quando configurar AssetDeliveryPolicy configurar CENC com múltipla DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-437">What you need toodo is tooprovide hello license acquisition URLs (for PlayReady, Widevine and FairPlay) when you configure AssetDeliveryPolicy in setting up CENC with multi-DRM.</span></span>

### <a name="what-if-i-want-toouse-a-custom-sts"></a><span data-ttu-id="8fd3e-438">E se quiser toouse um STS personalizado?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-438">What if I want toouse a custom STS?</span></span>
<span data-ttu-id="8fd3e-439">Pode existir algumas razões que um cliente pode escolher toouse um STS personalizada (proteger o serviço de tokens) para fornecer os tokens JWT.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-439">There could be a few reasons that a customer may choose toouse a custom STS (Secure Token Service) for providing JWT tokens.</span></span> <span data-ttu-id="8fd3e-440">Alguns deles são:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-440">Some of them are:</span></span>

1. <span data-ttu-id="8fd3e-441">Olá fornecedor de identidade (IDP) utilizado pelo cliente de Olá não suporta STS.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-441">hello Identity Provider (IDP) used by hello customer does not support STS.</span></span> <span data-ttu-id="8fd3e-442">Neste caso, um STS personalizado podem ser uma opção.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-442">In this case a custom STS may be an option.</span></span>
2. <span data-ttu-id="8fd3e-443">cliente de Olá pode precisar de mais flexível ou mais rígido controlo integrar STS de subscritor do cliente, sistema de faturação.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-443">hello customer may need more flexible or tighter control in integrating STS with customer’s subscriber billing system.</span></span> <span data-ttu-id="8fd3e-444">Por exemplo, um operador MVPD poderão oferecer vários pacotes de subscritor OTT como premium e básica, desporto, operador de Olá etc. poderá ser útil toomatch Olá afirmações num token com o pacote de um subscritor para que apenas o conteúdo no pacote direita Olá é disponibilizado.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-444">For example, an MVPD operator may offer multiple OTT subscriber packages such as premium, basic, sports, etc. hello operator may want toomatch hello claims in a token with a subscriber’s package so that only contents in hello right package is made available.</span></span> <span data-ttu-id="8fd3e-445">Neste caso, um STS personalizado fornece Olá necessário flexibilidade e controlo.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-445">In this case, a custom STS provides hello needed flexibility and control.</span></span>

<span data-ttu-id="8fd3e-446">Duas alterações necessário toobe efetuada ao utilizar um STS personalizado:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-446">Two changes need toobe made when using a custom STS:</span></span>

1. <span data-ttu-id="8fd3e-447">Quando configurar o serviço de entrega de licença para um recurso, tem de chave de segurança de Olá toospecify utilizado para a verificação pelo STS personalizado Olá (mais detalhes abaixo) em vez de chave atual do Olá do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-447">When configuring license delivery service for an asset, you need toospecify hello security key used for verification by hello custom STS (more details below) instead of hello current key from Azure Active Directory.</span></span>
2. <span data-ttu-id="8fd3e-448">Quando é gerado um token JTW, foi especificada uma chave de segurança em vez de chave privada do Olá Olá atual X509 do certificado de no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-448">When a JTW token is generated, a security key is specified instead of hello private key of hello current X509 certificate in Azure Active Directory.</span></span>

<span data-ttu-id="8fd3e-449">Existem dois tipos de chaves de segurança:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-449">There are two types of security keys:</span></span>

1. <span data-ttu-id="8fd3e-450">A chave simétrica: Olá a mesma chave é utilizada para gerar e verificar um token JWT;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-450">Symmetric key: hello same key is used for both generating and verifying a JWT token;</span></span>
2. <span data-ttu-id="8fd3e-451">Chave assimétrica: um par de chaves públicas-privadas num certificado é utilizado com a chave privada para encriptar/gerar um JWT token e Olá chave pública para verificar o token de Olá de X509.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-451">Asymmetric key: a public-private key pair in an X509 certificate is used with private key for encrypting/generating a JWT token and hello public key for verifying hello token.</span></span>

#### <a name="tech-note"></a><span data-ttu-id="8fd3e-452">Nota de técnico</span><span class="sxs-lookup"><span data-stu-id="8fd3e-452">Tech note</span></span>
<span data-ttu-id="8fd3e-453">Se utilizar o .NET Framework / c# como a sua plataforma de desenvolvimento, Olá X509 certificado utilizado para a chave de segurança assimétrico tem de ter, pelo menos, 2048 de comprimento de chave.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-453">If you use .NET Framework/C# as your development platform, hello X509 certificate used for asymmetric security key must have key length at least 2048.</span></span> <span data-ttu-id="8fd3e-454">Este é um requisito da classe de Olá System.IdentityModel.Tokens.X509AsymmetricSecurityKey no .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-454">This is a requirement of hello class System.IdentityModel.Tokens.X509AsymmetricSecurityKey in .NET Framework.</span></span> <span data-ttu-id="8fd3e-455">Caso contrário, será emitida Olá seguinte exceção:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-455">Otherwise, hello following exception will be thrown:</span></span>

<span data-ttu-id="8fd3e-456">IDX10630: Olá 'System.IdentityModel.Tokens.X509AsymmetricSecurityKey' para a assinatura não pode ser menor que '2048' bits.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-456">IDX10630: hello 'System.IdentityModel.Tokens.X509AsymmetricSecurityKey' for signing cannot be smaller than '2048' bits.</span></span>

## <a name="hello-completed-system-and-test"></a><span data-ttu-id="8fd3e-457">sistema de Olá concluído e teste</span><span class="sxs-lookup"><span data-stu-id="8fd3e-457">hello completed system and test</span></span>
<span data-ttu-id="8fd3e-458">Vamos ajudá-alguns cenários no sistema de ponto a ponto Olá concluída, para que os leitores podem ter um basic "geral" do comportamento de Olá antes de obter uma conta de início de sessão.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-458">We will walk through a few scenarios in hello completed end-to-end system so that readers can have a basic “picture” of hello behavior before getting a login account.</span></span>

<span data-ttu-id="8fd3e-459">Olá aplicação web de leitor e o início de sessão podem ser encontrados [aqui](https://openidconnectweb.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-459">hello player web application and its login can be found [here](https://openidconnectweb.azurewebsites.net/).</span></span>

<span data-ttu-id="8fd3e-460">Se o que precisa é "não integrada" cenário: ativos vídeos alojadas nos serviços de suporte de dados do Azure que tem um desprotegidos ou DRM protegido, mas sem autenticação com token (emitir toowhoever uma licença a solicitá-lo), pode testar sem início de sessão (por mudar tooHTTP esteja as vídeo de transmissão em fluxo através de HTTP).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-460">If what you need is “non-integrated” scenario: video assets hosted in Azure Media Services which are either unprotected, or DRM protected but without token authentication (issuing a license toowhoever requesting it), you can test it without login (by switching tooHTTP if your video streaming is over HTTP).</span></span>

<span data-ttu-id="8fd3e-461">Se o que precisa é o cenário de integrada de ponto a ponto: ativos vídeos está sob dinâmica DRM a proteção na Media Services do Azure, com autenticação de token e o token JWT gerados pelo Azure AD, tem de toologin.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-461">If what you need is end-to-end integrated scenario: video assets is under dynamic DRM protection in Azure Media Services, with token authentication and JWT token being generated by Azure AD, you need toologin.</span></span>

### <a name="user-login"></a><span data-ttu-id="8fd3e-462">Início de sessão do utilizador</span><span class="sxs-lookup"><span data-stu-id="8fd3e-462">User login</span></span>
<span data-ttu-id="8fd3e-463">Ordem tootest Olá ponto-a-ponto integrado DRM sistema, terá de toohave uma "conta de" criado ou adicionado.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-463">In order tootest hello end-to-end integrated DRM system, you need toohave an “account” created or added.</span></span>

<span data-ttu-id="8fd3e-464">Que conta?</span><span class="sxs-lookup"><span data-stu-id="8fd3e-464">What account?</span></span>

<span data-ttu-id="8fd3e-465">Embora o Azure permitisse apenas o acesso os utilizadores da conta Microsoft,-lo agora permite o acesso por utilizadores de ambos os sistemas.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-465">Although Azure originally allowed access only by Microsoft account users, it now allows access by users from both systems.</span></span> <span data-ttu-id="8fd3e-466">Isto foi feito, fazendo com que todos os Olá Azure propriedades de fidedignidade do Azure AD para autenticação, ter a autenticação de utilizadores organizacionais do Azure AD e ao criar uma relação de Federação em que o Azure AD confia sistema de identidade do consumidor do Olá Microsoft conta utilizadores de consumidor tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-466">This was done by having all hello Azure properties trust Azure AD for authentication, having Azure AD authenticate organizational users, and by creating a federation relationship where Azure AD trusts hello Microsoft account consumer identity system tooauthenticate consumer users.</span></span> <span data-ttu-id="8fd3e-467">Como resultado, o Azure AD é tooauthenticate capaz de contas da Microsoft "convidado", bem como contas "nativas" do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-467">As a result, Azure AD is able tooauthenticate “guest” Microsoft accounts as well as “native” Azure AD accounts.</span></span>

<span data-ttu-id="8fd3e-468">Uma vez que o Azure AD confia domínio da conta Microsoft (MSA), pode adicionar as contas de qualquer um dos Olá seguir toohello de domínios personalizado do Azure AD de inquilino e utilizam Olá conta toologin:</span><span class="sxs-lookup"><span data-stu-id="8fd3e-468">Since Azure AD trusts Microsoft Account (MSA) domain, you can add any accounts from any of hello following domains toohello custom Azure AD tenant and use hello account toologin:</span></span>

| <span data-ttu-id="8fd3e-469">**Nome de domínio**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-469">**Domain Name**</span></span> | <span data-ttu-id="8fd3e-470">**Domínio**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-470">**Domain**</span></span> |
| --- | --- |
| <span data-ttu-id="8fd3e-471">**Domínio de inquilino personalizada do Azure AD**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-471">**Custom Azure AD tenant domain**</span></span> |<span data-ttu-id="8fd3e-472">somename.onmicrosoft.com</span><span class="sxs-lookup"><span data-stu-id="8fd3e-472">somename.onmicrosoft.com</span></span> |
| <span data-ttu-id="8fd3e-473">**Domínio empresarial**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-473">**Corporate domain**</span></span> |<span data-ttu-id="8fd3e-474">Microsoft.com</span><span class="sxs-lookup"><span data-stu-id="8fd3e-474">microsoft.com</span></span> |
| <span data-ttu-id="8fd3e-475">**Domínio da conta Microsoft (MSA)**</span><span class="sxs-lookup"><span data-stu-id="8fd3e-475">**Microsoft Account (MSA) domain**</span></span> |<span data-ttu-id="8fd3e-476">Outlook.com, live.com, hotmail.com</span><span class="sxs-lookup"><span data-stu-id="8fd3e-476">outlook.com, live.com, hotmail.com</span></span> |

<span data-ttu-id="8fd3e-477">Poderá contactar qualquer um dos Olá autores toohave uma conta criada ou adicionadas por si.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-477">You may contact any of hello authors toohave an account created or added for you.</span></span>

<span data-ttu-id="8fd3e-478">Seguem-se Olá capturas de ecrã das páginas de início de sessão diferente utilizadas pelas contas de domínio diferente.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-478">Below are hello screenshots of different login pages used by different domain accounts.</span></span>

<span data-ttu-id="8fd3e-479">**Conta de domínio de inquilino do Azure AD personalizado**: neste caso, verá a página de início de sessão personalizado Olá do domínio de inquilino Olá personalizado do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-479">**Custom Azure AD tenant domain account**: In this case, you see hello customized login page of hello custom Azure AD tenant domain.</span></span>

![Conta de domínio do inquilino personalizada do Azure AD](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain1.png)

<span data-ttu-id="8fd3e-481">**Conta de domínio da Microsoft com smart card**: neste caso, verá a página de início de sessão de Olá personalizada ao Microsoft empresarial IT com a autenticação de dois fatores.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-481">**Microsoft domain account with smart card**: In this case you see hello login page customized by Microsoft corporate IT with two-factor authentication.</span></span>

![Conta de domínio do inquilino personalizada do Azure AD](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain2.png)

<span data-ttu-id="8fd3e-483">**Conta Microsoft (MSA)**: neste caso, consulte a página de início de sessão de Olá da Microsoft Account para consumidores.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-483">**Microsoft Account (MSA)**: In this case, you see hello login page of Microsoft Account for consumers.</span></span>

![Conta de domínio do inquilino personalizada do Azure AD](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain3.png)

### <a name="using-encrypted-media-extensions-for-playready"></a><span data-ttu-id="8fd3e-485">Utilizar extensões de suporte de dados encriptados para PlayReady</span><span class="sxs-lookup"><span data-stu-id="8fd3e-485">Using Encrypted Media Extensions for PlayReady</span></span>
<span data-ttu-id="8fd3e-486">Num browser moderno com encriptados multimédia extensões (EME) para PlayReady suporte, tais como browser IE 11 no Windows 8.1 e cópia de segurança e o Microsoft Edge no Windows 10, PlayReady será hello DRM subjacente para EME.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-486">On a modern browser with Encrypted Media Extensions (EME) for PlayReady support, such as IE 11 on Windows 8.1 and up, and Microsoft Edge browser on Windows 10, PlayReady will be hello underlying DRM for EME.</span></span>

![Utilizar EME para PlayReady](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready1.png)

<span data-ttu-id="8fd3e-488">área de leitor escuro Olá é devido facto toohello que PlayReady proteção impede um realizem captura de ecrã de vídeo protegida.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-488">hello dark player area is due toohello fact that PlayReady protection prevents one from making screen capture of protected video.</span></span>

<span data-ttu-id="8fd3e-489">Olá seguinte ecrã mostra os plug-ins de leitor de Olá e suporte MSE/EME.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-489">hello following screen shows hello player plugins and MSE/EME support.</span></span>

![Utilizar EME para PlayReady](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready2.png)

<span data-ttu-id="8fd3e-491">EME no Microsoft Edge e o IE 11 no Windows 10 permite invocar de [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/) em dispositivos Windows 10 que a suportam.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-491">EME in Microsoft Edge and IE 11 on Windows 10 allows invoking of [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/) on Windows 10 devices which support it.</span></span> <span data-ttu-id="8fd3e-492">PlayReady SL3000 desbloqueia fluxo Olá de conteúdos melhorado premium (4K, HDR, etc.) e modelos de entrega de conteúdo novo (antecipado janela para o conteúdo avançado).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-492">PlayReady SL3000 unlocks hello flow of enhanced premium content (4K, HDR, etc.) and new content delivery models (early window for Enhanced Content).</span></span>

<span data-ttu-id="8fd3e-493">Concentre-se nos dispositivos com Windows hello: PlayReady é Olá apenas DRM no hardware de Olá disponível nos dispositivos do Windows (PlayReady SL3000).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-493">Focus on hello Windows devices: PlayReady is hello only DRM in hello HW available on Windows devices (PlayReady SL3000).</span></span> <span data-ttu-id="8fd3e-494">Um serviço de transmissão em fluxo pode utilizar PlayReady, através de EME ou através de uma aplicação de UWP e oferecem uma qualidade do vídeo superior com PlayReady SL3000 que outro DRM.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-494">A streaming service can use PlayReady through EME or through a UWP application and offer a higher video quality using PlayReady SL3000 than another DRM.</span></span> <span data-ttu-id="8fd3e-495">Normalmente, 2 mil conteúdo irá fluir pelo Chrome ou Firefox e Olá de 4 K conteúdo através do Microsoft Edge/IE11 ou uma aplicação de UWP no mesmo dispositivo (consoante as definições de serviço e de implementação).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-495">Typically, 2K content will flow through Chrome or Firefox, and 4K content through Microsoft Edge/IE11 or a UWP application on hello same device (depending on service settings and implementation).</span></span>

#### <a name="using-eme-for-widevine"></a><span data-ttu-id="8fd3e-496">Utilizar EME para Widevine</span><span class="sxs-lookup"><span data-stu-id="8fd3e-496">Using EME for Widevine</span></span>
<span data-ttu-id="8fd3e-497">Num browser moderno com suporte para EME/Widevine, por exemplo, o Chrome 41 + no Windows 10, Windows 8.1, Mac OSX Yosemite e o Chrome em Android 4.4.4, Widevine da Google é Olá DRM atrás EME.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-497">On a modern browser with EME/Widevine support, such as Chrome 41+ on Windows 10, Windows 8.1, Mac OSX Yosemite, and Chrome on Android 4.4.4, Google Widevine is hello DRM behind EME.</span></span>

![Utilizar EME para Widevine](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine1.png)

<span data-ttu-id="8fd3e-499">Tenha em atenção que Widevine não impede um realizem captura de ecrã de vídeo protegida.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-499">Notice that Widevine does not prevent one from making screen capture of protected video.</span></span>

![Utilizar EME para Widevine](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine2.png)

### <a name="not-entitled-users"></a><span data-ttu-id="8fd3e-501">Utilizadores não realizados</span><span class="sxs-lookup"><span data-stu-id="8fd3e-501">Not entitled users</span></span>
<span data-ttu-id="8fd3e-502">Se um utilizador não é um membro do grupo "Utilizadores denominada", utilizador de Olá não será capaz de toopass "verificar a elegibilidade" e o serviço de licença de múltipla DRM Olá será refuse tooissue Olá pedida licença, conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-502">If a user is not a member of "Entitled Users" group, hello user will not be able toopass “entitlement check” and hello multi-DRM license service will refuse tooissue hello requested license as shown below.</span></span> <span data-ttu-id="8fd3e-503">Olá detalhada descrição é "adquirir licenças falha", que é que concebida.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-503">hello detailed description is “License acquire failed”, which is as designed.</span></span>

![Utilizadores não realizados](./media/media-services-cenc-with-multidrm-access-control/media-services-unentitledusers.png)

### <a name="running-custom-secure-token-service"></a><span data-ttu-id="8fd3e-505">Executar personalizado serviço de Token seguro</span><span class="sxs-lookup"><span data-stu-id="8fd3e-505">Running custom Secure Token Service</span></span>
<span data-ttu-id="8fd3e-506">Para o cenário de Olá da execução personalizado Secure Token serviço (STS), token JWT de Olá será emitido pelo STS personalizado Olá utilizando a chave simétrico ou assimétrico.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-506">For hello scenario of running custom Secure Token Service (STS), hello JWT token will be issued by hello custom STS using either symmetric or asymmetric key.</span></span>

<span data-ttu-id="8fd3e-507">Olá maiúsculas e minúsculas de utilização de chave simétrica (utilizando o Chrome):</span><span class="sxs-lookup"><span data-stu-id="8fd3e-507">hello case of using symmetric key (using Chrome):</span></span>

![Executar STS personalizados](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts1.png)

<span data-ttu-id="8fd3e-509">Olá caso de utilização de chave assimétrica através de um X509 do certificado (utilizando o browser moderno Microsoft).</span><span class="sxs-lookup"><span data-stu-id="8fd3e-509">hello case of using asymmetric key via an X509 certificate (using Microsoft modern browser).</span></span>

![Executar STS personalizados](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts2.png)

<span data-ttu-id="8fd3e-511">Em ambos os Olá acima casos, o utilizador autenticação permanece Olá mesmo – através do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-511">In both of hello above cases, user authentication stays hello same – through Azure AD.</span></span> <span data-ttu-id="8fd3e-512">Step-by-Olá única diferença é que os tokens JWT são emitidos pelo Olá STS personalizado em vez do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-512">hello only difference is that JWT tokens are issued by hello custom STS instead of Azure AD.</span></span> <span data-ttu-id="8fd3e-513">Obviamente, quando configurar a proteção de CENC dinâmica, restrição Olá do serviço de entrega de licença especifica tipo Olá do JWT token, chave simétrico ou assimétrico.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-513">Of course, when configuring dynamic CENC protection, hello restriction of license delivery service specifies hello type of JWT token, either symmetric or asymmetric key.</span></span>

## <a name="summary"></a><span data-ttu-id="8fd3e-514">Resumo</span><span class="sxs-lookup"><span data-stu-id="8fd3e-514">Summary</span></span>
<span data-ttu-id="8fd3e-515">Neste documento, discutimos CENC com várias native DRM e controlo de acesso através da autenticação token: respetiva estrutura e a respetiva implementação utilizando o Azure, os Media Services do Azure e Azure Media Player.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-515">In this document, we discussed CENC with multi-native-DRM and access control via token authentication: its design and its implementation using Azure, Azure Media Services and Azure Media Player.</span></span>

* <span data-ttu-id="8fd3e-516">Um design de referência é apresentado que contém todos os componentes necessários Olá no subsistema DRM/CENC;</span><span class="sxs-lookup"><span data-stu-id="8fd3e-516">A reference design is presented which contains all hello necessary components in a DRM/CENC subsystem;</span></span>
* <span data-ttu-id="8fd3e-517">Uma implementação de referência no Azure, o Media Services do Azure e o leitor de multimédia do Azure.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-517">A reference implementation on Azure, Azure Media Services and Azure Media Player.</span></span>
* <span data-ttu-id="8fd3e-518">Alguns tópicos diretamente envolvido Olá design e implementação também são debatidos.</span><span class="sxs-lookup"><span data-stu-id="8fd3e-518">Some topics directly involved in hello design and implementation are also discussed.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="8fd3e-519">Percursos de aprendizagem dos Media Services</span><span class="sxs-lookup"><span data-stu-id="8fd3e-519">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="8fd3e-520">Enviar comentários</span><span class="sxs-lookup"><span data-stu-id="8fd3e-520">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]
 
