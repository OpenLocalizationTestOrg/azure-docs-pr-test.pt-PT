---
title: "aaaPerformance melhores práticas para o SQL Server no Azure | Microsoft Docs"
description: "Apresenta as melhores práticas para otimizar o desempenho de SQL Server em VMs do Microsoft Azure."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 42ec9fbeb2dec3a654b93bbd08d666369835ee73
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="b9c8c-103">Melhores práticas de desempenho do SQL Server nas Máquinas Virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="b9c8c-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="b9c8c-104">Descrição geral</span><span class="sxs-lookup"><span data-stu-id="b9c8c-104">Overview</span></span>

<span data-ttu-id="b9c8c-105">Este tópico fornece as melhores práticas para otimizar o desempenho de SQL Server na máquina de Virtual do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="b9c8c-106">Ao executar o SQL Server em Azure Virtual Machines, recomendamos que continue a utilizar Olá mesmo desempenho de base de dados de otimização de opções que são aplicável tooSQL servidor num ambiente de servidor no local.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using hello same database performance tuning options that are applicable tooSQL Server in on-premises server environment.</span></span> <span data-ttu-id="b9c8c-107">No entanto, desempenho Olá da base de dados relacional numa nuvem pública depende de vários fatores, tais como o tamanho de Olá de uma máquina virtual e a configuração de Olá Olá de discos de dados.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-107">However, hello performance of a relational database in a public cloud depends on many factors such as hello size of a virtual machine, and hello configuration of hello data disks.</span></span>

<span data-ttu-id="b9c8c-108">Quando criar imagens do SQL Server, [considere aprovisionamento as suas VMs no portal do Azure de Olá](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-108">When creating SQL Server images, [consider provisioning your VMs in hello Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="b9c8c-109">Todas estas melhores práticas, incluindo a configuração do armazenamento Olá de implementar VMs de SQL Server aprovisionados na Olá Portal com o Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-109">SQL Server VMs provisioned in hello Portal with Resource Manager implement all these best practices, including hello storage configuration.</span></span>

<span data-ttu-id="b9c8c-110">Este artigo concentra-se sobre a obtenção de Olá *melhor* desempenho para o SQL Server em VMs do Azure.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-110">This article is focused on getting hello *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="b9c8c-111">Se a carga de trabalho for inferior pedir o seu trabalho, não poderá necessitar de cada otimização listada abaixo.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="b9c8c-112">Considere as necessidades de desempenho e padrões de carga de trabalho como avaliar estas recomendações.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="b9c8c-113">Lista de verificação rápida</span><span class="sxs-lookup"><span data-stu-id="b9c8c-113">Quick check list</span></span>

<span data-ttu-id="b9c8c-114">Olá segue-se uma lista de verificação rápida para um desempenho ideal do SQL Server em Azure Virtual Machines:</span><span class="sxs-lookup"><span data-stu-id="b9c8c-114">hello following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="b9c8c-115">Área</span><span class="sxs-lookup"><span data-stu-id="b9c8c-115">Area</span></span> | <span data-ttu-id="b9c8c-116">Otimizações de</span><span class="sxs-lookup"><span data-stu-id="b9c8c-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="b9c8c-117">Tamanho da VM</span><span class="sxs-lookup"><span data-stu-id="b9c8c-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="b9c8c-118">[DS3](../../virtual-machines-windows-sizes-memory.md) ou superior para o SQL Server Enterprise edition.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="b9c8c-119">[DS2](../../virtual-machines-windows-sizes-memory.md) ou superior para edições Standard do SQL Server e Web.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="b9c8c-120">Armazenamento</span><span class="sxs-lookup"><span data-stu-id="b9c8c-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="b9c8c-121">Utilize [armazenamento Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="b9c8c-122">Armazenamento Standard só é recomendado para dev/teste.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="b9c8c-123">Manter Olá [conta de armazenamento](../../../storage/common/storage-create-storage-account.md) e VM do SQL Server no Olá mesma região.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-123">Keep hello [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in hello same region.</span></span><br/><br/><span data-ttu-id="b9c8c-124">Desativar o Azure [armazenamento georredundante](../../../storage/common/storage-redundancy.md) (georreplicação) da conta do storage Olá.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on hello storage account.</span></span> |
| [<span data-ttu-id="b9c8c-125">Discos</span><span class="sxs-lookup"><span data-stu-id="b9c8c-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="b9c8c-126">Utilize um mínimo de 2 [P30 discos](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 para ficheiros de registo; 1 para ficheiros de dados e o TempDB).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="b9c8c-127">Evite utilizar o sistema operativo ou discos temporários para o armazenamento de base de dados ou registo.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="b9c8c-128">Ative colocação em cache de leitura em discos de Olá que aloja os ficheiros de dados de Olá e TempDB.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-128">Enable read caching on hello disk(s) hosting hello data files and TempDB.</span></span><br/><br/><span data-ttu-id="b9c8c-129">Não ative a colocação em cache no ficheiro de registo Olá de alojamento de discos.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-129">Do not enable caching on disk(s) hosting hello log file.</span></span><br/><br/><span data-ttu-id="b9c8c-130">Importante: Parar serviço do SQL Server Olá quando alterar as definições da cache de Olá para um disco da VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-130">Important: Stop hello SQL Server service when changing hello cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="b9c8c-131">Stripe vários débito de e/s do tooget aumentada de discos de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-131">Stripe multiple Azure data disks tooget increased IO throughput.</span></span><br/><br/><span data-ttu-id="b9c8c-132">O formato com o tamanho de alocação documentado.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="b9c8c-133">E/S</span><span class="sxs-lookup"><span data-stu-id="b9c8c-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="b9c8c-134">Ative a compressão de página de base de dados.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="b9c8c-135">Ative a inicialização instantânea de ficheiros para ficheiros de dados.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="b9c8c-136">Limitar ou desativar a opção autogrow na base de dados de Olá.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-136">Limit or disable autogrow on hello database.</span></span><br/><br/><span data-ttu-id="b9c8c-137">Desative autoshrink na base de dados de Olá.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-137">Disable autoshrink on hello database.</span></span><br/><br/><span data-ttu-id="b9c8c-138">Mova todos os discos de toodata de bases de dados, incluindo bases de dados do sistema.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-138">Move all databases toodata disks, including system databases.</span></span><br/><br/><span data-ttu-id="b9c8c-139">Mova SQL Server erro registo e rastreio diretórios toodata discos de ficheiro.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-139">Move SQL Server error log and trace file directories toodata disks.</span></span><br/><br/><span data-ttu-id="b9c8c-140">Configure localizações de ficheiros de cópia de segurança e a base de dados predefinidos.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="b9c8c-141">Ative páginas bloqueadas.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="b9c8c-142">Aplica correções de desempenho de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="b9c8c-143">Funcionalidades específicas</span><span class="sxs-lookup"><span data-stu-id="b9c8c-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="b9c8c-144">Cópia de segurança diretamente tooblob armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-144">Back up directly tooblob storage.</span></span> |

<span data-ttu-id="b9c8c-145">Para mais informações sobre *como* e *por que motivo* toomake estas otimizações, reveja os detalhes de Olá e as orientações fornecidas nas secções seguintes.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-145">For more information on *how* and *why* toomake these optimizations, please review hello details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="b9c8c-146">Orientações de tamanho VM</span><span class="sxs-lookup"><span data-stu-id="b9c8c-146">VM size guidance</span></span>

<span data-ttu-id="b9c8c-147">Para aplicações confidenciais de desempenho, é recomendado que utilize o seguinte Olá [tamanhos de máquinas virtuais](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span><span class="sxs-lookup"><span data-stu-id="b9c8c-147">For performance sensitive applications, it’s recommended that you use hello following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="b9c8c-148">**SQL Server Enterprise Edition**: DS3 ou superior</span><span class="sxs-lookup"><span data-stu-id="b9c8c-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="b9c8c-149">**As edições Web e SQL Server Standard**: DS2 ou superior</span><span class="sxs-lookup"><span data-stu-id="b9c8c-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="b9c8c-150">Orientações de armazenamento</span><span class="sxs-lookup"><span data-stu-id="b9c8c-150">Storage guidance</span></span>

<span data-ttu-id="b9c8c-151">Suporte de VMs de série DS (juntamente com a série dsv2 e GS série) [armazenamento Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="b9c8c-152">Armazenamento Premium é recomendado para todas as cargas de trabalho de produção.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="b9c8c-153">Armazenamento standard tem largura de banda e latências variando e só é recomendado para cargas de trabalho de programador/teste.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="b9c8c-154">Cargas de trabalho de produção devem utilizar o armazenamento Premium.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="b9c8c-155">Além disso, recomendamos que crie a sua conta do storage do Azure no Olá mesmo centro de dados como os atrasos de transferência do tooreduce de máquinas virtuais do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-155">In addition, we recommend that you create your Azure storage account in hello same data center as your SQL Server virtual machines tooreduce transfer delays.</span></span> <span data-ttu-id="b9c8c-156">Ao criar uma conta de armazenamento, desative a georreplicação conforme a ordem de escrita consistente entre múltiplos discos não é garantida.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="b9c8c-157">Em vez disso, considere configurar uma tecnologia de recuperação de desastres do SQL Server entre centros de dados do Azure dois.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="b9c8c-158">Para obter mais informações, consulte [elevada disponibilidade e recuperação após desastre do SQL Server em Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="b9c8c-159">Documentação de orientação dos discos</span><span class="sxs-lookup"><span data-stu-id="b9c8c-159">Disks guidance</span></span>

<span data-ttu-id="b9c8c-160">Existem três tipos de disco principal numa VM do Azure:</span><span class="sxs-lookup"><span data-stu-id="b9c8c-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="b9c8c-161">**Disco do SO**: ao criar uma Máquina Virtual do Azure, a plataforma de Olá ligará pelo menos um disco (identificados como Olá **C** unidade) toohello VM para o disco de sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-161">**OS disk**: When you create an Azure Virtual Machine, hello platform will attach at least one disk (labeled as hello **C** drive) toohello VM for your operating system disk.</span></span> <span data-ttu-id="b9c8c-162">Este disco é um VHD armazenado como um blob de página no armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="b9c8c-163">**Disco temporário**: máquinas virtuais do Azure contêm outro disco designado por disco temporário Olá (identificados como Olá **D**: unidade).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-163">**Temporary disk**: Azure Virtual Machines contain another disk called hello temporary disk (labeled as hello **D**: drive).</span></span> <span data-ttu-id="b9c8c-164">Este é um disco num nó de Olá que pode ser utilizado para o espaço scratch.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-164">This is a disk on hello node that can be used for scratch space.</span></span>
* <span data-ttu-id="b9c8c-165">**Os discos de dados**: também pode anexar mais discos tooyour máquina como discos de dados, e estas serão armazenadas no armazenamento como blobs de páginas.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-165">**Data disks**: You can also attach additional disks tooyour virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="b9c8c-166">Olá secções seguintes descrevem recomendações para utilizar estes discos diferentes.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-166">hello following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="b9c8c-167">Disco do sistema operativo</span><span class="sxs-lookup"><span data-stu-id="b9c8c-167">Operating system disk</span></span>

<span data-ttu-id="b9c8c-168">Um disco de sistema operativo é um VHD que pode efetuar o arranque e montar como uma versão de um sistema operativo em execução e está assinalada como como **C** unidade.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="b9c8c-169">Predefinição a colocação em cache da política no disco do sistema operativo Olá é **leitura/escrita**.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-169">Default caching policy on hello operating system disk is **Read/Write**.</span></span> <span data-ttu-id="b9c8c-170">Para aplicações confidenciais de desempenho, recomendamos que utilize discos de dados em vez de disco do sistema operativo Olá.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-170">For performance sensitive applications, we recommend that you use data disks instead of hello operating system disk.</span></span> <span data-ttu-id="b9c8c-171">Consulte a secção de Olá em discos de dados abaixo.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-171">See hello section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="b9c8c-172">Disco temporário</span><span class="sxs-lookup"><span data-stu-id="b9c8c-172">Temporary disk</span></span>

<span data-ttu-id="b9c8c-173">Olá, unidade de armazenamento temporário, identificada como Olá **D**: disco, não é o armazenamento de BLOBs de tooAzure persistente.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-173">hello temporary storage drive, labeled as hello **D**: drive, is not persisted tooAzure blob storage.</span></span> <span data-ttu-id="b9c8c-174">Não armazene os ficheiros de base de dados de utilizador ou ficheiros de registo de transação de utilizador de Olá **D**: unidade.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-174">Do not store your user database files or user transaction log files on hello **D**: drive.</span></span>

<span data-ttu-id="b9c8c-175">Para a série D, série Dv2 e VMs de série de G, unidade temporária de Olá nestas VMS é baseadas em SSD.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-175">For D-series, Dv2-series, and G-series VMs, hello temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="b9c8c-176">Se a carga de trabalho fizer utilização intensa de TempDB (por exemplo, para objetos temporários ou associações complexas) a armazenar TempDB Olá **D** unidade pode resultar numa maior débito de TempDB e reduzir a latência de TempDB.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on hello **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="b9c8c-177">Para VMs que suportam o Premium Storage (série DS, série dsv2 e GS série), recomendamos o armazenamento de TempDB num disco que suporte o Premium Storage com cache de leitura ativado.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="b9c8c-178">Há uma recomendação de toothis exceção; Se a utilização de TempDB escrita intensivas, pode alcançar um desempenho superior armazenando TempDB no local de Olá **D** unidade, o que também seja baseadas em SSD nestes tamanhos de máquina.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-178">There is one exception toothis recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on hello local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="b9c8c-179">discos de dados</span><span class="sxs-lookup"><span data-stu-id="b9c8c-179">Data disks</span></span>

* <span data-ttu-id="b9c8c-180">**Utilizar discos de dados de ficheiros de registo e dados**: no mínimo, utilize 2 Premium Storage [P30 discos](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) em que um disco contém ficheiros de registo de Olá e Olá outro contém dados Olá e ficheiros de TempDB.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains hello log file(s) and hello other contains hello data and TempDB file(s).</span></span> <span data-ttu-id="b9c8c-181">Cada disco de armazenamento Premium fornece um número de IOPs e largura de banda (MB/s), dependendo do tamanho, conforme descrito no seguinte artigo de Olá: [utilizando o Premium Storage para discos](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in hello following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="b9c8c-182">**Disco Striping**: para obter mais débito, pode adicionar discos de dados adicionais e utilizar Striping de disco.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="b9c8c-183">número de Olá toodetermine de discos de dados, terá de tooanalyze Olá diversas IOPS e largura de banda necessária para os ficheiros de registo de e para os seus dados e ficheiros de TempDB.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-183">toodetermine hello number of data disks, you need tooanalyze hello number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="b9c8c-184">Tenha em atenção que os tamanhos de VM diferentes têm limites diferentes no número de Olá de IOPs e largura de banda suportadas, consulte as tabelas de Olá no IOPS por [tamanho da VM](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-184">Notice that different VM sizes have different limits on hello number of IOPs and bandwidth supported, see hello tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="b9c8c-185">Utilize Olá seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="b9c8c-185">Use hello following guidelines:</span></span>

  * <span data-ttu-id="b9c8c-186">Para Windows 8/Windows Server 2012 ou posterior, utilize [espaços de armazenamento](https://technet.microsoft.com/library/hh831739.aspx) com Olá seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="b9c8c-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with hello following guidelines:</span></span>

      1. <span data-ttu-id="b9c8c-187">Conjunto Olá intercalação (tamanho do stripe) too64 KB (65536 bytes) para cargas de trabalho OLTP e 256 KB (262144 bytes) para o impacto do desempenho tooavoid cargas de trabalho devido toopartition desalinhamento do armazém de dados.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-187">Set hello interleave (stripe size) too64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads tooavoid performance impact due toopartition misalignment.</span></span> <span data-ttu-id="b9c8c-188">Isto deve ser definido com o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="b9c8c-189">Definir o número de colunas = número de discos físicos.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="b9c8c-190">Utilize o PowerShell quando configurar mais de 8 discos (não IU do Gestor de servidor).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="b9c8c-191">Por exemplo, Olá PowerShell a seguir cria um novo agrupamento de armazenamento com Olá intercalação tamanho too64 KB e Olá número de colunas too2:</span><span class="sxs-lookup"><span data-stu-id="b9c8c-191">For example, hello following PowerShell creates a new storage pool with hello interleave size too64 KB and hello number of columns too2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple –UseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="b9c8c-192">Para o Windows 2008 R2 ou anterior, pode utilizar discos dinâmicos (volumes repartido do SO) e o tamanho do stripe Olá sempre é 64 KB.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and hello stripe size is always 64 KB.</span></span> <span data-ttu-id="b9c8c-193">Tenha em atenção que esta opção é preterida a partir do Windows 8/Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="b9c8c-194">Para obter informações, consulte a declaração de suporte de Olá em [serviço de discos virtuais está em transição tooWindows API da gestão de armazenamento](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-194">For information, see hello support statement at [Virtual Disk Service is transitioning tooWindows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="b9c8c-195">Se a carga de trabalho não é exigente em termos de registo e não precisa de IOPs dedicados, pode configurar um agrupamento de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="b9c8c-196">Caso contrário, crie dois conjuntos de armazenamento, um para ficheiros de registo de Olá e outro agrupamento de armazenamento para ficheiros de dados de Olá e TempDB.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-196">Otherwise, create two storage pools, one for hello log file(s) and another storage pool for hello data file(s) and TempDB.</span></span> <span data-ttu-id="b9c8c-197">Determine o número de Olá de discos associados a cada agrupamento de armazenamento com base nas suas expectativas de carga.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-197">Determine hello number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="b9c8c-198">Tenha em atenção que os tamanhos de VM diferentes permitem números diferentes de discos de dados anexados.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="b9c8c-199">Para obter mais informações, consulte [tamanhos das Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="b9c8c-200">Se não estiver a utilizar o armazenamento Premium (cenários de desenvolvimento/teste), recomendação de Olá é o número máximo de Olá tooadd de discos de dados suportados pela sua [tamanho da VM](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) e utilizar Striping de disco.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-200">If you are not using Premium Storage (dev/test scenarios), hello recommendation is tooadd hello maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="b9c8c-201">**Política de colocação em cache**: os discos de dados para o Premium Storage, ativar a colocação em cache de leitura em discos de dados de Olá apenas a alojar os ficheiros de dados e o TempDB.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-201">**Caching policy**: For Premium Storage data disks, enable read caching on hello data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="b9c8c-202">Se não estiver a utilizar o armazenamento Premium, não ative a qualquer colocação em cache em qualquer discos de dados.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="b9c8c-203">Para obter instruções sobre como configurar a colocação em cache em disco, consulte Olá os seguintes tópicos: [conjunto AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) e [conjunto AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-203">For instructions on configuring disk caching, see hello following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="b9c8c-204">Pare o serviço do SQL Server Olá quando alterar a definição de cache de Olá da VM do Azure discos tooavoid Olá conhecimento possibilidade de quaisquer danos na base de dados.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-204">Stop hello SQL Server service when changing hello cache setting of Azure VM disks tooavoid hello possibility of any database corruption.</span></span>

* <span data-ttu-id="b9c8c-205">**Tamanho de unidade de alocação de NTFS**: quando formatar o disco de dados de Olá, é recomendado que utilize um tamanho de unidade de alocação de 64 KB para ficheiros de registo e dados, bem como TempDB.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-205">**NTFS allocation unit size**: When formatting hello data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="b9c8c-206">**Melhores práticas de gestão de disco**: quando o tipo de remoção de um disco de dados ou alterar a respetiva cache, parar o serviço do SQL Server de Olá durante a alteração de Olá.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop hello SQL Server service during hello change.</span></span> <span data-ttu-id="b9c8c-207">Quando as definições de colocação em cache Olá são alterado no disco do SO de Olá, Azure interrompe Olá VM, altera o tipo de cache de Olá e reinicia Olá VM.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-207">When hello caching settings are changed on hello OS disk, Azure stops hello VM, changes hello cache type, and restarts hello VM.</span></span> <span data-ttu-id="b9c8c-208">Quando as definições de cache de Olá de um disco de dados foram alteradas, Olá VM não está parado, mas o disco de dados de Olá se desliga de Olá VM durante Olá alterar e, em seguida, novamente ligado.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-208">When hello cache settings of a data disk are changed, hello VM is not stopped, but hello data disk is detached from hello VM during hello change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="b9c8c-209">Olá de toostop falha serviço do SQL Server durante estas operações pode danificá-la.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-209">Failure toostop hello SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="b9c8c-210">Orientações de e/s</span><span class="sxs-lookup"><span data-stu-id="b9c8c-210">I/O guidance</span></span>

* <span data-ttu-id="b9c8c-211">Olá obter os melhores resultados com o Premium Storage são obtidos quando parallelize a sua aplicação e os pedidos.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-211">hello best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="b9c8c-212">Armazenamento Premium foi concebido para cenários onde profundidade de fila de e/s de Olá é superior a 1, pelo que verá pouco ou nenhum ganhos de desempenho para pedidos de série single-threaded (mesmo que se encontrem exigente em termos de armazenamento).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-212">Premium Storage is designed for scenarios where hello IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="b9c8c-213">Por exemplo, isto poderia afetar os resultados de teste único thread Olá das ferramentas de análise de desempenho, tais como SQLIO.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-213">For example, this could impact hello single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="b9c8c-214">Considere a utilização de [compressão da página de base de dados](https://msdn.microsoft.com/library/cc280449.aspx) como pode ajudar a melhorar o desempenho das cargas de trabalho exigente em termos de e/s.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="b9c8c-215">No entanto, a compressão de dados de Olá pode aumentar o consumo de CPU Olá no servidor de base de dados de Olá.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-215">However, hello data compression might increase hello CPU consumption on hello database server.</span></span>

* <span data-ttu-id="b9c8c-216">Considere ativar instantâneas inicialização tooreduce Olá hora do ficheiro que é necessária para alocação de ficheiro inicial.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-216">Consider enabling instant file initialization tooreduce hello time that is required for initial file allocation.</span></span> <span data-ttu-id="b9c8c-217">tootake partido de inicialização instantânea de ficheiros, conceder a conta de serviço do SQL Server (MSSQLSERVER) Olá com SE_MANAGE_VOLUME_NAME e adicioná-lo toohello **efetuar tarefas de manutenção de Volume** política de segurança.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-217">tootake advantage of instant file initialization, you grant hello SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="b9c8c-218">Se estiver a utilizar uma imagem de plataforma do SQL Server para o Azure, a conta de serviço predefinido Olá (NT Service\MSSQLSERVER) não está adicionada toohello **efetuar tarefas de manutenção de Volume** política de segurança.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-218">If you are using a SQL Server platform image for Azure, hello default service account (NT Service\MSSQLSERVER) isn’t added toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="b9c8c-219">Por outras palavras, inicialização instantânea de ficheiros não está ativada numa imagem de plataforma do Azure do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="b9c8c-220">Depois de adicionar Olá do SQL Server service conta toohello **efetuar tarefas de manutenção de Volume** política de segurança, o serviço do SQL Server de Olá de reinício.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-220">After adding hello SQL Server service account toohello **Perform Volume Maintenance Tasks** security policy, restart hello SQL Server service.</span></span> <span data-ttu-id="b9c8c-221">Podem existir considerações de segurança para utilizar esta funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="b9c8c-222">Para obter mais informações, consulte [inicialização de ficheiro de base de dados](https://msdn.microsoft.com/library/ms175935.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="b9c8c-223">**o aumento automático** é considerado toobe simplesmente plano de contingência para crescimento inesperado.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-223">**autogrow** is considered toobe merely a contingency for unexpected growth.</span></span> <span data-ttu-id="b9c8c-224">Não é gerir o seu crescimento de dados e de registo numa base diária com o aumento automático.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="b9c8c-225">Se for utilizada a opção autogrow, aumente previamente ficheiro Olá utilizando o comutador de tamanho de Olá.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-225">If autogrow is used, pre-grow hello file using hello Size switch.</span></span>

* <span data-ttu-id="b9c8c-226">Certifique-se **autoshrink** é o overhead de desnecessários tooavoid desativado que pode afetar negativamente o desempenho.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-226">Make sure **autoshrink** is disabled tooavoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="b9c8c-227">Mova todos os discos de toodata de bases de dados, incluindo bases de dados do sistema.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-227">Move all databases toodata disks, including system databases.</span></span> <span data-ttu-id="b9c8c-228">Para obter mais informações, consulte [mover bases de dados de sistema](https://msdn.microsoft.com/library/ms345408.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="b9c8c-229">Mova SQL Server erro registo e rastreio diretórios toodata discos de ficheiro.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-229">Move SQL Server error log and trace file directories toodata disks.</span></span> <span data-ttu-id="b9c8c-230">Isto pode ser feito no Gestor de configuração de servidor do SQL Server ao clicar a instância do SQL Server e ao selecionar propriedades.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="b9c8c-231">Olá definições de ficheiros de registo e rastreio de erro podem ser alteradas no Olá **parâmetros de arranque** Olá separador. diretório de informação do estado é especificado em Olá **avançadas** Olá separador captura de ecrã a seguir mostra onde toolook para parâmetro de arranque do registo de erro do Olá.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-231">hello error log and trace file settings can be changed in hello **Startup Parameters** tab. hello Dump Directory is specified in hello **Advanced** tab. hello following screenshot shows where toolook for hello error log startup parameter.</span></span>

    ![Captura de ecrã de registo de erros SQL](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="b9c8c-233">Configure localizações de ficheiros de cópia de segurança e a base de dados predefinidos.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="b9c8c-234">Utilize recomendações Olá neste tópico e efetuar alterações de Olá na janela de propriedades do servidor de Olá.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-234">Use hello recommendations in this topic, and make hello changes in hello Server properties window.</span></span> <span data-ttu-id="b9c8c-235">Para obter instruções, consulte [Olá ver ou alterar as localizações predefinidas para dados e ficheiros de registo (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-235">For instructions, see [View or Change hello Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="b9c8c-236">Olá captura de ecrã seguinte demonstra onde toomake estas alterações.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-236">hello following screenshot demonstrates where toomake these changes.</span></span>

    ![Ficheiros de registo de dados do SQL Server e de cópia de segurança](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="b9c8c-238">Ativar bloqueado tooreduce de páginas e/s e quaisquer atividades de paginação.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-238">Enable locked pages tooreduce IO and any paging activities.</span></span> <span data-ttu-id="b9c8c-239">Para obter mais informações, consulte [ativar Olá páginas de bloqueio na opção de memória (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-239">For more information, see [Enable hello Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="b9c8c-240">Se estiver a executar o SQL Server 2012, instale o Service Pack 1 a atualização cumulativa 10.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="b9c8c-241">Esta atualização contém correção de Olá para fraco desempenho em e/s ao executar selecione numa declaração de tabela temporária no SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-241">This update contains hello fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="b9c8c-242">Para obter informações, consulte este [artigo da base de dados de conhecimento](http://support.microsoft.com/kb/2958012).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="b9c8c-243">Considere a compressão de quaisquer ficheiros de dados ao transferir/fora do Azure.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="b9c8c-244">Orientações específicas de funcionalidade</span><span class="sxs-lookup"><span data-stu-id="b9c8c-244">Feature specific guidance</span></span>

<span data-ttu-id="b9c8c-245">Algumas implementações poderão alcançar os benefícios de desempenho adicionais utilizando técnicas de configuração mais avançadas.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="b9c8c-246">Olá lista seguinte destaca com algumas funcionalidades do SQL Server que podem ajudá-lo tooachieve um melhor desempenho:</span><span class="sxs-lookup"><span data-stu-id="b9c8c-246">hello following list highlights some SQL Server features that can help you tooachieve better performance:</span></span>

* <span data-ttu-id="b9c8c-247">**Cópia de segurança de armazenamento tooAzure**: quando efetuar cópias de segurança para o SQL Server em execução em máquinas virtuais do Azure, pode utilizar [tooURL de cópia de segurança do SQL Server](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-247">**Backup tooAzure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="b9c8c-248">Esta funcionalidade está disponível, começando pelo SQL Server 2012 SP1 CU2 e recomendados para criar cópias de segurança toohello ligado discos de dados.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up toohello attached data disks.</span></span> <span data-ttu-id="b9c8c-249">Quando a cópia de segurança/restauro para/de armazenamento do Azure, siga as recomendações de Olá fornecidas no [cópia de segurança do SQL Server tooURL melhores práticas e resolução de problemas e restaurar a partir de cópias de segurança armazenadas no armazenamento do Azure](https://msdn.microsoft.com/library/jj919149.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-249">When you backup/restore to/from Azure storage, follow hello recommendations provided at [SQL Server Backup tooURL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="b9c8c-250">Também pode automatizar estas cópias de segurança utilizando [cópia de segurança automatizada do SQL Server em Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="b9c8c-251">TooSQL anterior Server 2012, pode utilizar [tooAzure de cópia de segurança do SQL Server ferramenta](https://www.microsoft.com/download/details.aspx?id=40740).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-251">Prior tooSQL Server 2012, you can use [SQL Server Backup tooAzure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="b9c8c-252">Esta ferramenta pode ajudar o débito de cópia de segurança tooincrease com vários destinos de cópia de segurança do stripe.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-252">This tool can help tooincrease backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="b9c8c-253">**Ficheiros de dados do SQL Server no Azure**: esta nova funcionalidade, [ficheiros de dados do SQL Server no Azure](https://msdn.microsoft.com/library/dn385720.aspx), está disponível a partir de com o SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="b9c8c-254">Executar o SQL Server com ficheiros de dados no Azure demonstra comparável características de desempenho e como utilizar discos de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="b9c8c-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b9c8c-255">Passos Seguintes</span><span class="sxs-lookup"><span data-stu-id="b9c8c-255">Next Steps</span></span>

<span data-ttu-id="b9c8c-256">Para melhores práticas de segurança, consulte [considerações de segurança para o SQL Server em Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="b9c8c-257">Reveja os outros tópicos de Máquina Virtual do SQL Server em [do SQL Server na descrição geral de máquinas virtuais do Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b9c8c-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
