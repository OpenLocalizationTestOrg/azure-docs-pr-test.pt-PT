---
title: arquitetura de motor (Lucene) do aaaFull texto pesquisa na Azure Search | Microsoft Docs
description: "Explicação de Lucene consulta processamento e o documento obtenção conceitos para pesquisa em texto completo, como tooAzure relacionado pesquisa."
services: search
manager: jhubbard
author: yahnoosh
documentationcenter: 
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 04/06/2017
ms.author: jlembicz
ms.openlocfilehash: c6d1bea8d40154fd9237b9e44584cdfcd193cbd9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="how-full-text-search-works-in-azure-search"></a><span data-ttu-id="eb5ab-103">Como completa a pesquisa em texto funciona na Azure Search</span><span class="sxs-lookup"><span data-stu-id="eb5ab-103">How full text search works in Azure Search</span></span>

<span data-ttu-id="eb5ab-104">Este artigo é para os programadores que necessitem de uma compreensão mais aprofundada sobre como funciona a pesquisa em texto completo Lucene na Azure Search.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-104">This article is for developers who need a deeper understanding of how Lucene full text search works in Azure Search.</span></span> <span data-ttu-id="eb5ab-105">Para consultas de texto, pesquisa do Azure irá fornecer perfeitamente resultados esperados na maioria dos cenários, mas ocasionalmente, poderá obter um resultado que parece "off" preso de algum modo.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-105">For text queries, Azure Search will seamlessly deliver expected results in most scenarios, but occasionally you might get a result that seems "off" somehow.</span></span> <span data-ttu-id="eb5ab-106">Nestas situações, a presença de um fundo no Olá quatro fases da execução de consulta Lucene (consultar a análise de análise, lexical, documentar correspondente, a classificação) podem ajudar a identificar os parâmetros de tooquery alterações específico ou de configuração que irá fornecer Olá de índice resultado desejado.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-106">In these situations, having a background in hello four stages of Lucene query execution (query parsing, lexical analysis, document matching, scoring) can help you identify specific changes tooquery parameters or index configuration that will deliver hello desired outcome.</span></span> 

> [!Note] 
> <span data-ttu-id="eb5ab-107">A pesquisa do Azure utiliza Lucene para pesquisa em texto completo, mas não é exaustiva Lucene integração.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-107">Azure Search uses Lucene for full text search, but Lucene integration is not exhaustive.</span></span> <span data-ttu-id="eb5ab-108">Iremos seletivamente expor e expandir Lucene funcionalidade tooenable Olá cenários importante tooAzure pesquisa.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-108">We selectively expose and extend Lucene functionality tooenable hello scenarios important tooAzure Search.</span></span> 

## <a name="architecture-overview-and-diagram"></a><span data-ttu-id="eb5ab-109">Descrição geral da arquitetura e diagrama</span><span class="sxs-lookup"><span data-stu-id="eb5ab-109">Architecture overview and diagram</span></span>

<span data-ttu-id="eb5ab-110">Processamento de uma consulta de pesquisa de texto completo começa com a análise Olá consulta texto tooextract os termos da procura.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-110">Processing a full text search query starts with parsing hello query text tooextract search terms.</span></span> <span data-ttu-id="eb5ab-111">o motor de busca Olá utiliza documentos de tooretrieve um índice com termos correspondentes.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-111">hello search engine uses an index tooretrieve documents with matching terms.</span></span> <span data-ttu-id="eb5ab-112">Termos de consulta individuais, por vezes, são divididos e reconstituted no novo formulários toocast uma rede mais abrangente sobre o que podem ser considerado como uma correspondência potencial.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-112">Individual query terms are sometimes broken down and reconstituted into new forms toocast a broader net over what could be considered as a potential match.</span></span> <span data-ttu-id="eb5ab-113">Um conjunto de resultados, em seguida, é ordenado por um relevância pontuação tooeach atribuído individuais correspondente documento.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-113">A result set is then sorted by a relevance score assigned tooeach individual matching document.</span></span> <span data-ttu-id="eb5ab-114">Os, Olá parte superior do Olá classificado lista são devolvidos toohello aplicação de chamada.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-114">Those at hello top of hello ranked list are returned toohello calling application.</span></span>

<span data-ttu-id="eb5ab-115">Restated, execução de consultas tem quatro fases:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-115">Restated, query execution has four stages:</span></span> 

1. <span data-ttu-id="eb5ab-116">Consulta de análise</span><span class="sxs-lookup"><span data-stu-id="eb5ab-116">Query parsing</span></span> 
2. <span data-ttu-id="eb5ab-117">Análise lexical</span><span class="sxs-lookup"><span data-stu-id="eb5ab-117">Lexical analysis</span></span> 
3. <span data-ttu-id="eb5ab-118">Obtenção de documento</span><span class="sxs-lookup"><span data-stu-id="eb5ab-118">Document retrieval</span></span> 
4. <span data-ttu-id="eb5ab-119">A classificação</span><span class="sxs-lookup"><span data-stu-id="eb5ab-119">Scoring</span></span> 

<span data-ttu-id="eb5ab-120">Diagrama de Olá abaixo ilustra Olá componentes utilizados tooprocess um pedido de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-120">hello diagram below illustrates hello components used tooprocess a search request.</span></span> 

 ![Diagrama de arquitetura de consulta Lucene na Azure Search][1]


| <span data-ttu-id="eb5ab-122">Componentes principais</span><span class="sxs-lookup"><span data-stu-id="eb5ab-122">Key components</span></span> | <span data-ttu-id="eb5ab-123">Descrição funcional</span><span class="sxs-lookup"><span data-stu-id="eb5ab-123">Functional description</span></span> | 
|----------------|------------------------|
|<span data-ttu-id="eb5ab-124">**Parsers de consulta**</span><span class="sxs-lookup"><span data-stu-id="eb5ab-124">**Query parsers**</span></span> | <span data-ttu-id="eb5ab-125">Separe os termos de consulta de operadores de consulta e crie Olá consulta estrutura (uma árvore de consulta) toobe enviado toohello motor de busca.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-125">Separate query terms from query operators and create hello query structure (a query tree) toobe sent toohello search engine.</span></span> |
|<span data-ttu-id="eb5ab-126">**Analisadores**</span><span class="sxs-lookup"><span data-stu-id="eb5ab-126">**Analyzers**</span></span> | <span data-ttu-id="eb5ab-127">Execute uma análise lexical em termos de consulta.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-127">Perform lexical analysis on query terms.</span></span> <span data-ttu-id="eb5ab-128">Este processo pode envolver transformar, remover ou de expansão de termos de consulta.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-128">This process can involve transforming, removing, or expanding of query terms.</span></span> |
|<span data-ttu-id="eb5ab-129">**Índice**</span><span class="sxs-lookup"><span data-stu-id="eb5ab-129">**Index**</span></span> | <span data-ttu-id="eb5ab-130">Uma estrutura de dados eficiente utilizado toostore e organizar os termos pesquisáveis extraídos de documentos indexados.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-130">An efficient data structure used toostore and organize searchable terms extracted from indexed documents.</span></span> |
|<span data-ttu-id="eb5ab-131">**Motor de busca**</span><span class="sxs-lookup"><span data-stu-id="eb5ab-131">**Search engine**</span></span> | <span data-ttu-id="eb5ab-132">Obtém e pontuações documentos com base nos conteúdos Olá do índice de Olá inverted de correspondência.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-132">Retrieves and scores matching documents based on hello contents of hello inverted index.</span></span> |

## <a name="anatomy-of-a-search-request"></a><span data-ttu-id="eb5ab-133">Anatomy de um pedido de pesquisa</span><span class="sxs-lookup"><span data-stu-id="eb5ab-133">Anatomy of a search request</span></span>

<span data-ttu-id="eb5ab-134">Um pedido de pesquisa é uma especificação de conclua de que deve ser devolvido num conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-134">A search request is a complete specification of what should be returned in a result set.</span></span> <span data-ttu-id="eb5ab-135">A forma mais simples, é uma consulta vazia com sem critérios de qualquer tipo.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-135">In simplest form, it is an empty query with no criteria of any kind.</span></span> <span data-ttu-id="eb5ab-136">Um exemplo mais realista inclui parâmetros, muitos outros termos, talvez âmbito toocertain campos, com possivelmente uma expressão de filtro e ordem regras de consulta.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-136">A more realistic example includes parameters, several query terms, perhaps scoped toocertain fields, with possibly a filter expression and ordering rules.</span></span>  

<span data-ttu-id="eb5ab-137">Olá exemplo seguinte é um pedido de pesquisa poderão enviar tooAzure pesquisa utilizando Olá [REST API](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-137">hello following example is a search request you might send tooAzure Search using hello [REST API](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>  

~~~~
POST /indexes/hotels/docs/search?api-version=2016-09-01 
{  
    "search": "Spacious, air-condition* +\"Ocean view\"",  
    "searchFields": "description, title",  
    "searchMode": "any",
    "filter": "price ge 60 and price lt 300",  
    "orderby": "geo.distance(location, geography'POINT(-159.476235 22.227659)')", 
    "queryType": "full" 
 } 
~~~~

<span data-ttu-id="eb5ab-138">Para este pedido, o motor de busca Olá Olá seguintes:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-138">For this request, hello search engine does hello following:</span></span>

1. <span data-ttu-id="eb5ab-139">Filtros de saída de documentos onde o preço de Olá é, pelo menos, 60 $ e inferior a 300 $.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-139">Filters out documents where hello price is at least $60 and less than $300.</span></span>
2. <span data-ttu-id="eb5ab-140">Executa a consulta de Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-140">Executes hello query.</span></span> <span data-ttu-id="eb5ab-141">Neste exemplo, consulta de pesquisa de Olá consiste em expressões e termos: `"Spacious, air-condition* +\"Ocean view\""` (utilizadores, normalmente, não introduzem pontuação, mas permite-na incluir no exemplo de Olá tooexplain como analisadores o processar).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-141">In this example, hello search query consists of phrases and terms: `"Spacious, air-condition* +\"Ocean view\""` (users typically don't enter punctuation, but including it in hello example allows us tooexplain how analyzers handle it).</span></span> <span data-ttu-id="eb5ab-142">Para esta consulta, o motor de busca Olá analisa descrição Olá e campos de título especificado no `searchFields` para documentos que contenham "Vista Ocean" e adicionalmente no prazo de Olá "spacious" ou medida que começa com o prefixo de Olá "air-condition".</span><span class="sxs-lookup"><span data-stu-id="eb5ab-142">For this query, hello search engine scans hello description and title fields specified in `searchFields` for documents that contain "Ocean view", and additionally on hello term "spacious", or on terms that start with hello prefix "air-condition".</span></span> <span data-ttu-id="eb5ab-143">Olá `searchMode` parâmetro é toomatch utilizado em qualquer termo (predefinição) ou em todos eles, nos casos em que não é necessário explicitamente um termo (`+`).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-143">hello `searchMode` parameter is used toomatch on any term (default) or all of them, for cases where a term is not explicitly required (`+`).</span></span>
3. <span data-ttu-id="eb5ab-144">As ordens Olá conjunto resultante dos hotéis por proximidade tooa recebe a localização de geografia e devolvido, em seguida, a aplicação de chamada de toohello.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-144">Orders hello resulting set of hotels by proximity tooa given geography location, and then returned toohello calling application.</span></span> 

<span data-ttu-id="eb5ab-145">Olá maioria deste artigo está sobre o processamento de Olá *consulta de pesquisa*: `"Spacious, air-condition* +\"Ocean view\""`.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-145">hello majority of this article is about processing of hello *search query*: `"Spacious, air-condition* +\"Ocean view\""`.</span></span> <span data-ttu-id="eb5ab-146">Filtragem e ordenação estão fora do âmbito.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-146">Filtering and ordering are out of scope.</span></span> <span data-ttu-id="eb5ab-147">Para obter mais informações, consulte Olá [documentação de referência da API de pesquisa](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-147">For more information, see hello [Search API reference documentation](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span></span>

<a name="stage1"></a>
## <a name="stage-1-query-parsing"></a><span data-ttu-id="eb5ab-148">Fase 1: Análise de consulta</span><span class="sxs-lookup"><span data-stu-id="eb5ab-148">Stage 1: Query parsing</span></span> 

<span data-ttu-id="eb5ab-149">Conforme indicado, cadeia de consulta Olá é a primeira linha de Olá de pedido de Olá:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-149">As noted, hello query string is hello first line of hello request:</span></span> 

~~~~
 "search": "Spacious, air-condition* +\"Ocean view\"", 
~~~~

<span data-ttu-id="eb5ab-150">consulta Olá parser separa operadores (tais como `*` e `+` no exemplo Olá) a partir de pesquisa de termos e deconstructs consulta de pesquisa de Olá para *subconsultas* de um tipo suportado:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-150">hello query parser separates operators (such as `*` and `+` in hello example) from search terms, and deconstructs hello search query into *subqueries* of a supported type:</span></span> 

+ <span data-ttu-id="eb5ab-151">*consulta do termo* termos autónomo (como spacious)</span><span class="sxs-lookup"><span data-stu-id="eb5ab-151">*term query* for standalone terms (like spacious)</span></span>
+ <span data-ttu-id="eb5ab-152">*consulta de expressão* termos entre aspas (como ver ocean)</span><span class="sxs-lookup"><span data-stu-id="eb5ab-152">*phrase query* for quoted terms (like ocean view)</span></span>
+ <span data-ttu-id="eb5ab-153">*consulta de prefixo* termos seguido de um operador de prefixo `*` (como air-condition)</span><span class="sxs-lookup"><span data-stu-id="eb5ab-153">*prefix query* for terms followed by a prefix operator `*` (like air-condition)</span></span>

<span data-ttu-id="eb5ab-154">Para obter uma lista completa dos tipos de consulta suportada consulte [sytnax de consulta Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span><span class="sxs-lookup"><span data-stu-id="eb5ab-154">For a full list of supported query types see [Lucene query sytnax](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)</span></span>

<span data-ttu-id="eb5ab-155">Operadores associados uma subconsulta determinam se a consulta de Olá "tem de ser" ou "deve ser" satisfeito por ordem de um documento toobe considerada uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-155">Operators associated with a subquery determine whether hello query "must be" or "should be" satisfied in order for a document toobe considered a match.</span></span> <span data-ttu-id="eb5ab-156">Por exemplo, `+"Ocean view"` é "tem" toohello devida `+` operador.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-156">For example, `+"Ocean view"` is "must" due toohello `+` operator.</span></span> 

<span data-ttu-id="eb5ab-157">o parser de consulta Olá restructures subconsultas Olá para um *árvore de consulta* (uma estrutura interna que representa a consulta de Olá) passa no motor de busca toohello.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-157">hello query parser restructures hello subqueries into a *query tree* (an internal structure representing hello query) it passes on toohello search engine.</span></span> <span data-ttu-id="eb5ab-158">No Olá primeira fase da consulta de análise, árvore de consulta Olá aspeto.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-158">In hello first stage of query parsing, hello query tree looks like this.</span></span>  

 ![Valor booleano consultar searchmode qualquer][2]

### <a name="supported-parsers-simple-and-full-lucene"></a><span data-ttu-id="eb5ab-160">Suportado parsers: simples e Lucene completa</span><span class="sxs-lookup"><span data-stu-id="eb5ab-160">Supported parsers: Simple and Full Lucene</span></span> 

 <span data-ttu-id="eb5ab-161">A pesquisa do Azure expõe dois idiomas de consulta diferentes, `simple` (predefinição) e `full`.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-161">Azure Search exposes two different query languages, `simple` (default) and `full`.</span></span> <span data-ttu-id="eb5ab-162">Por definição Olá `queryType` parâmetro com o seu pedido de pesquisa, pode saber parser de consulta Olá o idioma de consulta que escolher, para que o se sabe como toointerpret Olá operadores e sintaxe.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-162">By setting hello `queryType` parameter with your search request, you tell hello query parser which query language you choose so that it knows how toointerpret hello operators and syntax.</span></span> <span data-ttu-id="eb5ab-163">Olá [langauge de consulta simples](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) é intuitiva e robusta, muitas vezes adequado toointerpret intervenção do utilizador como-é sem processamento do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-163">hello [Simple query langauge](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) is intuitive and robust, often suitable toointerpret user input as-is without client-side processing.</span></span> <span data-ttu-id="eb5ab-164">Suporta os operadores de consulta familiares web dos motores de busca.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-164">It supports query operators familiar from web search engines.</span></span> <span data-ttu-id="eb5ab-165">Olá [idioma de consulta Lucene completa](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), os quais obtém definindo `queryType=full`, expande o idioma de consulta simples Olá predefinido, adicionando suporte para obter mais operadores e tipos de consulta como caráter universal, difusa, regex e consultas de âmbito de campo.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-165">hello [Full Lucene query language](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), which you get by setting `queryType=full`, extends hello default Simple query language by adding support for more operators and query types like wildcard, fuzzy, regex, and field-scoped queries.</span></span> <span data-ttu-id="eb5ab-166">Por exemplo, uma expressão regular enviada na sintaxe de consulta simples seria ser interpretada como uma cadeia de consulta e não uma expressão.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-166">For example, a regular expression sent in Simple query syntax would be interpreted as a query string and not an expression.</span></span> <span data-ttu-id="eb5ab-167">pedido de exemplo de Olá neste artigo utiliza o idioma de consulta Lucene completa Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-167">hello example request in this article uses hello Full Lucene query language.</span></span>

### <a name="impact-of-searchmode-on-hello-parser"></a><span data-ttu-id="eb5ab-168">Impacto da searchMode no parser de Olá</span><span class="sxs-lookup"><span data-stu-id="eb5ab-168">Impact of searchMode on hello parser</span></span> 

<span data-ttu-id="eb5ab-169">Outro parâmetro de pedido de pesquisa que afeta a análise é Olá `searchMode` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-169">Another search request parameter that affects parsing is hello `searchMode` parameter.</span></span> <span data-ttu-id="eb5ab-170">Controla o operador de predefinição Olá para consultas booleanos: quaisquer (predefinição) ou a totalidade.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-170">It controls hello default operator for Boolean queries: any (default) or all.</span></span>  

<span data-ttu-id="eb5ab-171">Quando `searchMode=any`, que é a predefinição de Olá, o delimitador de espaço de Olá entre spacious e air-condition ou (`||`), tornando o texto de consulta de exemplo de Olá equivalente ao:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-171">When `searchMode=any`, which is hello default, hello space delimiter between spacious and air-condition is OR (`||`), making hello sample query text equivalent to:</span></span> 

~~~~
Spacious,||air-condition*+"Ocean view" 
~~~~

<span data-ttu-id="eb5ab-172">Operadores explícitos, tais como `+` no `+"Ocean view"`, são inequívoca na construção de consultas booleano (termo Olá *tem* corresponder).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-172">Explicit operators, such as `+` in `+"Ocean view"`, are unambiguous in boolean query construction (hello term *must* match).</span></span> <span data-ttu-id="eb5ab-173">É menos óbvios como Olá toointerpret restantes termos: spacious e air-condition.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-173">Less obvious is how toointerpret hello remaining terms: spacious and air-condition.</span></span> <span data-ttu-id="eb5ab-174">Deve motor de busca Olá localizar correspondências na vista de ocean *e* spacious *e* air-condition?</span><span class="sxs-lookup"><span data-stu-id="eb5ab-174">Should hello search engine find matches on ocean view *and* spacious *and* air-condition?</span></span> <span data-ttu-id="eb5ab-175">Ou deverá encontrar-vista ocean plus *uma* de Olá restantes termos?</span><span class="sxs-lookup"><span data-stu-id="eb5ab-175">Or should it find ocean view plus *either one* of hello remaining terms?</span></span> 

<span data-ttu-id="eb5ab-176">Por predefinição (`searchMode=any`), o motor de busca Olá assume interpretação mais ampla Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-176">By default (`searchMode=any`), hello search engine assumes hello broader interpretation.</span></span> <span data-ttu-id="eb5ab-177">O campo *deve* corresponder, ao refletir semântica "ou".</span><span class="sxs-lookup"><span data-stu-id="eb5ab-177">Either field *should* be matched, reflecting "or" semantics.</span></span> <span data-ttu-id="eb5ab-178">árvore de consulta inicial Olá anteriormente, ilustrado com Olá duas "deve" operações, mostra Olá predefinido.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-178">hello initial query tree illustrated previously, with hello two "should" operations, shows hello default.</span></span>  

<span data-ttu-id="eb5ab-179">Suponha que definimos agora `searchMode=all`.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-179">Suppose that we now set `searchMode=all`.</span></span> <span data-ttu-id="eb5ab-180">Neste caso, o espaço de Olá é interpretado como uma operação "and".</span><span class="sxs-lookup"><span data-stu-id="eb5ab-180">In this case, hello space is interpreted as an "and" operation.</span></span> <span data-ttu-id="eb5ab-181">Cada um dos termos restantes Olá tem estar ambos presente no Olá documento tooqualify como uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-181">Each of hello remaining terms must both be present in hello document tooqualify as a match.</span></span> <span data-ttu-id="eb5ab-182">consulta de exemplo Olá resultante iria devem ser interpretada da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-182">hello resulting sample query would be interpreted as follows:</span></span> 

~~~~
+Spacious,+air-condition*+"Ocean view"  
~~~~

<span data-ttu-id="eb5ab-183">Uma árvore de modificação da consulta para esta consulta seria o seguinte, em que um documento correspondente é intersecção Olá de todas as três subconsultas:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-183">A modified query tree for this query would be as follows, where a matching document is hello intersection of all three subqueries:</span></span> 

 ![Consulta booleano searchmode todos os][3]

> [!Note] 
> <span data-ttu-id="eb5ab-185">Escolher `searchMode=any` através de `searchMode=all` é uma decisão melhor chegou ao executar consultas representativos.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-185">Choosing `searchMode=any` over `searchMode=all` is a decision best arrived at by running representative queries.</span></span> <span data-ttu-id="eb5ab-186">Os utilizadores que são tooinclude provável operadores (comum quando documento pesquisa armazena) poderá encontrar resultados mais intuitiva se `searchMode=all` informa construções de consulta booleano.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-186">Users who are likely tooinclude operators (common when searching document stores) might find results more intuitive if `searchMode=all` informs boolean query constructs.</span></span> <span data-ttu-id="eb5ab-187">Para mais informações sobre Olá interplay entre `searchMode` e operadores, consulte [sintaxe de consulta simples](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-187">For more about hello interplay between `searchMode` and operators, see [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search).</span></span>

<a name="stage2"></a>
## <a name="stage-2-lexical-analysis"></a><span data-ttu-id="eb5ab-188">Fase 2: Análise de Lexical</span><span class="sxs-lookup"><span data-stu-id="eb5ab-188">Stage 2: Lexical analysis</span></span> 

<span data-ttu-id="eb5ab-189">Processo de analisadores lexical *termo consultas* e *frase consultas* depois de árvore de consulta Olá está estruturada.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-189">Lexical analyzers process *term queries* and *phrase queries* after hello query tree is structured.</span></span> <span data-ttu-id="eb5ab-190">Um analisador aceita Olá texto entradas fornecidas tooit pelo parser Olá, processos Olá texto e, em seguida, os termos de envia novamente atomizada toobe incorporadas no Olá árvore de consulta.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-190">An analyzer accepts hello text inputs given tooit by hello parser, processes hello text, and then sends back tokenized terms toobe incorporated into hello query tree.</span></span> 

<span data-ttu-id="eb5ab-191">Olá formulário mais comuns de análise lexical é *analysis linguístico* que transforma os termos de consulta com base no tooa específico de regras fornecido idioma:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-191">hello most common form of lexical analysis is *linguistic analysis* which transforms query terms based on rules specific tooa given language:</span></span> 

* <span data-ttu-id="eb5ab-192">Reduzir um formulário de raiz de toohello ao termo de consulta de uma palavra</span><span class="sxs-lookup"><span data-stu-id="eb5ab-192">Reducing a query term toohello root form of a word</span></span> 
* <span data-ttu-id="eb5ab-193">A remover não essencial palavras (palavras de paragem, tais como "a" ou "e" em inglês)</span><span class="sxs-lookup"><span data-stu-id="eb5ab-193">Removing non-essential words (stopwords, such as "the" or "and" in English)</span></span> 
* <span data-ttu-id="eb5ab-194">Eliminar uma palavra composta em partes de componente</span><span class="sxs-lookup"><span data-stu-id="eb5ab-194">Breaking a composite word into component parts</span></span> 
* <span data-ttu-id="eb5ab-195">Inferior as maiúsculas e minúsculas uma palavra de maiúsculas</span><span class="sxs-lookup"><span data-stu-id="eb5ab-195">Lower casing an upper case word</span></span> 

<span data-ttu-id="eb5ab-196">Todas estas operações tendem tooerase diferenças entre a entrada de texto de Olá fornecida pelos termos de utilizador e Olá de Olá armazenados no índice Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-196">All of these operations tend tooerase differences between hello text input provided by hello user and hello terms stored in hello index.</span></span> <span data-ttu-id="eb5ab-197">Operações ponha o processamento de texto e requerem conhecimentos aprofundados de idioma de Olá próprio.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-197">Such operations go beyond text processing and require in-depth knowledge of hello language itself.</span></span> <span data-ttu-id="eb5ab-198">tooadd esta camada de sensibilização linguístico, pesquisa do Azure suporta uma longa lista de [analisadores de idioma](https://docs.microsoft.com/rest/api/searchservice/language-support) Lucene e Microsoft.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-198">tooadd this layer of linguistic awareness, Azure Search supports a long list of [language analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support) from both Lucene and Microsoft.</span></span>

> [!Note]
> <span data-ttu-id="eb5ab-199">Requisitos de análise podem variar entre tooelaborate mínima dependendo do seu cenário.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-199">Analysis requirements can range from minimal tooelaborate depending on your scenario.</span></span> <span data-ttu-id="eb5ab-200">Pode controlar a complexidade da análise lexical ao hello ao selecionar um dos analisadores de Olá predefinida ou criar os seus próprios [analisador personalizado](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-200">You can control complexity of lexical analysis by hello selecting one of hello predefined analyzers or by creating your own [custom analyzer](https://docs.microsoft.com/rest/api/searchservice/Custom-analyzers-in-Azure-Search).</span></span> <span data-ttu-id="eb5ab-201">Analisadores de âmbito toosearchable campos e são especificadas como parte de uma definição de campo.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-201">Analyzers are scoped toosearchable fields and are specified as part of a field definition.</span></span> <span data-ttu-id="eb5ab-202">Isto permite-lhe toovary lexical analysis numa base por campo.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-202">This allows you toovary lexical analysis on a per-field basis.</span></span> <span data-ttu-id="eb5ab-203">Não, Olá *padrão* Lucene analisador é utilizado.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-203">Unspecified, hello *standard* Lucene analyzer is used.</span></span>

<span data-ttu-id="eb5ab-204">No nosso exemplo, tooanalysis anterior, tem de árvore de consulta inicial Olá termo Olá "Spacious", com uma maiúscula "S" e uma vírgula que Olá parser de consulta interpreta como parte do termo de consulta Olá (uma vírgula não é considerada um operador de idioma de consulta).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-204">In our example, prior tooanalysis, hello initial query tree has hello term "Spacious," with an uppercase "S" and a comma that hello query parser interprets as a part of hello query term (a comma is not considered a query language operator).</span></span>  

<span data-ttu-id="eb5ab-205">Quando o analisador de predefinição Olá processa termo Olá, este será minúsculas de "ocean view" e "spacious" e remover Olá vírgulas caráter.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-205">When hello default analyzer processes hello term, it will lowercase "ocean view" and "spacious", and remove hello comma character.</span></span> <span data-ttu-id="eb5ab-206">árvore de consulta modificado Olá irão ter o seguinte aspeto:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-206">hello modified query tree will look as follows:</span></span> 

 ![Consulta booleana com termos analisados][4]

### <a name="testing-analyzer-behaviors"></a><span data-ttu-id="eb5ab-208">Comportamentos do analisador de teste</span><span class="sxs-lookup"><span data-stu-id="eb5ab-208">Testing analyzer behaviors</span></span> 

<span data-ttu-id="eb5ab-209">comportamento de Olá de um analisador pode ser testado usando Olá [analisar API](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-209">hello behavior of an analyzer can be tested using hello [Analyze API](https://docs.microsoft.com/rest/api/searchservice/test-analyzer).</span></span> <span data-ttu-id="eb5ab-210">Forneça o texto Olá que pretende tooanalyze toosee termos de licenciamento que fornecido analisador irá gerar.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-210">Provide hello text you want tooanalyze toosee what terms given analyzer will generate.</span></span> <span data-ttu-id="eb5ab-211">Por exemplo, toosee como analisador padrão Olá seria processar Olá texto "air-condition", pode emitir Olá pedido os seguintes:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-211">For example, toosee how hello standard analyzer would process hello text "air-condition", you can issue hello following request:</span></span>

~~~~
{ 
    "text": "air-condition",
    "analyzer": "standard"
}
~~~~

<span data-ttu-id="eb5ab-212">Analisador de padrão Olá quebras de texto de entrada Olá para Olá seguir dois tokens, anotá-los com os atributos como iniciar e desvios de fim (utilizados para acessos realce), bem como a respetiva posição (utilizado para a correspondência de expressão):</span><span class="sxs-lookup"><span data-stu-id="eb5ab-212">hello standard analyzer breaks hello input text into hello following two tokens, annotating them with attributes like start and end offsets (used for hit highlighting) as well as their position (used for phrase matching):</span></span>

~~~~
{  
  "tokens": [
    {
      "token": "air",
      "startOffset": 0,
      "endOffset": 3,
      "position": 0
    },
    {
      "token": "condition",
      "startOffset": 4,
      "endOffset": 13,
      "position": 1
    }
  ]
}
~~~~

### <a name="exceptions-toolexical-analysis"></a><span data-ttu-id="eb5ab-213">Análise de toolexical de exceções</span><span class="sxs-lookup"><span data-stu-id="eb5ab-213">Exceptions toolexical analysis</span></span> 

<span data-ttu-id="eb5ab-214">Análise lexical aplica-se apenas os tipos de tooquery que requerem concluídos termos – uma consulta do prazo ou uma consulta de expressão.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-214">Lexical analysis applies only tooquery types that require complete terms – either a term query or a phrase query.</span></span> <span data-ttu-id="eb5ab-215">Se não aplica tooquery tipos com os termos incompletos – consulta de prefixo, consulta de caráter universal, consulta regex – ou consulta difusa tooa.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-215">It doesn’t apply tooquery types with incomplete terms – prefix query, wildcard query, regex query – or tooa fuzzy query.</span></span> <span data-ttu-id="eb5ab-216">Os tipos, incluindo a consulta de prefixo de Olá com o termo de consulta *air-condition\**  no nosso exemplo, são adicionados diretamente da árvore de consulta toohello, ignorando a fase de análise Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-216">Those query types, including hello prefix query with term *air-condition\** in our example, are added directly toohello query tree, bypassing hello analysis stage.</span></span> <span data-ttu-id="eb5ab-217">Olá apenas efetuada em termos de consulta desses tipos de transformação é lowercasing.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-217">hello only transformation performed on query terms of those types is lowercasing.</span></span>

<a name="stage3"></a>
## <a name="stage-3-document-retrieval"></a><span data-ttu-id="eb5ab-218">Fase 3: Obtenção de documento</span><span class="sxs-lookup"><span data-stu-id="eb5ab-218">Stage 3: Document retrieval</span></span> 

<span data-ttu-id="eb5ab-219">Obtenção de documento refere-se toofinding documentos com termos correspondentes no índice Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-219">Document retrieval refers toofinding documents with matching terms in hello index.</span></span> <span data-ttu-id="eb5ab-220">Nesta fase é compreendida melhor através de um exemplo.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-220">This stage is understood best through an example.</span></span> <span data-ttu-id="eb5ab-221">Vamos começar com um índice de hotéis ter Olá seguir esquema simple:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-221">Let's start with a hotels index having hello following simple schema:</span></span> 

~~~~
{   
    "name": "hotels",     
    "fields": [     
        { "name": "id", "type": "Edm.String", "key": true, "searchable": false },     
        { "name": "title", "type": "Edm.String", "searchable": true },     
        { "name": "description", "type": "Edm.String", "searchable": true }
    ] 
} 
~~~~

<span data-ttu-id="eb5ab-222">Mais partem do princípio de que este índice contém Olá quatro documentos que os seguintes:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-222">Further assume that this index contains hello following four documents:</span></span> 

~~~~
{ 
    "value": [
        {         
            "id": "1",         
            "title": "Hotel Atman",         
            "description": "Spacious rooms, ocean view, walking distance toohello beach."   
        },       
        {         
            "id": "2",         
            "title": "Beach Resort",        
            "description": "Located on hello north shore of hello island of Kauaʻi. Ocean view."     
        },       
        {         
            "id": "3",         
            "title": "Playa Hotel",         
            "description": "Comfortable, air-conditioned rooms with ocean view."
        },       
        {         
            "id": "4",         
            "title": "Ocean Retreat",         
            "description": "Quiet and secluded"
        }    
    ]
}
~~~~

<span data-ttu-id="eb5ab-223">**Como são indexados termos**</span><span class="sxs-lookup"><span data-stu-id="eb5ab-223">**How terms are indexed**</span></span>

<span data-ttu-id="eb5ab-224">obtenção toounderstand, ajuda a tooknow algumas noções básicas sobre a indexação.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-224">toounderstand retrieval, it helps tooknow a few basics about indexing.</span></span> <span data-ttu-id="eb5ab-225">unidade de Olá de armazenamento é um índice inverted, um para cada campo pesquisável.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-225">hello unit of storage is an inverted index, one for each searchable field.</span></span> <span data-ttu-id="eb5ab-226">Dentro de um índice inverted é uma lista ordenada de todos os termos de todos os documentos.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-226">Within an inverted index is a sorted list of all terms from all documents.</span></span> <span data-ttu-id="eb5ab-227">Cada termo mapeia toohello lista de documentos em que ocorrer, como evidente no exemplo Olá abaixo.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-227">Each term maps toohello list of documents in which it occurs, as evident in hello example below.</span></span>

<span data-ttu-id="eb5ab-228">termos de Olá tooproduce num índice inverted, motor de busca Olá efetua a análise lexical sobre conteúdo Olá de documentos, toowhat semelhante ocorre durante o processamento de consulta.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-228">tooproduce hello terms in an inverted index, hello search engine performs lexical analysis over hello content of documents, similar toowhat happens during query processing.</span></span> <span data-ttu-id="eb5ab-229">Entradas de texto são transmitidas tooan analyzer, cased inferior repartidas de pontuação e assim sucessivamente, consoante a configuração do analisador de Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-229">Text inputs are passed tooan analyzer, lower-cased, stripped of punctuation, and so forth, depending on hello analyzer configuration.</span></span> <span data-ttu-id="eb5ab-230">É comum, mas não é necessária, toouse Olá mesmos analisadores de pesquisa e indexação operações, para que os termos de consulta parecer mais como termos dentro Olá índice.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-230">It's common, but not required, toouse hello same analyzers for search and indexing operations so that query terms look more like terms inside hello index.</span></span>

> [!Note]
> <span data-ttu-id="eb5ab-231">A pesquisa do Azure permite-lhe especificar diferentes analisadores de indexação e procurar através de adicionais `indexAnalyzer` e `searchAnalyzer` parâmetros de campo.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-231">Azure Search lets you specify different analyzers for indexing and search via additional `indexAnalyzer` and `searchAnalyzer` field parameters.</span></span> <span data-ttu-id="eb5ab-232">Se não for indicado, Olá analisador definida com Olá `analyzer` propriedade é utilizada para indexação e pesquisa.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-232">If unspecified, hello analyzer set with hello `analyzer` property is used for both indexing and searching.</span></span>  

<span data-ttu-id="eb5ab-233">**Inverted índice para documentos de exemplo**</span><span class="sxs-lookup"><span data-stu-id="eb5ab-233">**Inverted index for example documents**</span></span>

<span data-ttu-id="eb5ab-234">Devolver o exemplo de tooour, para Olá **título** campo, índice Olá inverted tem este aspeto:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-234">Returning tooour example, for hello **title** field, hello inverted index looks like this:</span></span>

| <span data-ttu-id="eb5ab-235">Termo</span><span class="sxs-lookup"><span data-stu-id="eb5ab-235">Term</span></span> | <span data-ttu-id="eb5ab-236">Lista de documentos</span><span class="sxs-lookup"><span data-stu-id="eb5ab-236">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="eb5ab-237">atman</span><span class="sxs-lookup"><span data-stu-id="eb5ab-237">atman</span></span> | <span data-ttu-id="eb5ab-238">1</span><span class="sxs-lookup"><span data-stu-id="eb5ab-238">1</span></span> |
| <span data-ttu-id="eb5ab-239">Beach</span><span class="sxs-lookup"><span data-stu-id="eb5ab-239">beach</span></span> | <span data-ttu-id="eb5ab-240">2</span><span class="sxs-lookup"><span data-stu-id="eb5ab-240">2</span></span> |
| <span data-ttu-id="eb5ab-241">átrios</span><span class="sxs-lookup"><span data-stu-id="eb5ab-241">hotel</span></span> | <span data-ttu-id="eb5ab-242">1, 3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-242">1, 3</span></span> |
| <span data-ttu-id="eb5ab-243">Ocean</span><span class="sxs-lookup"><span data-stu-id="eb5ab-243">ocean</span></span> | <span data-ttu-id="eb5ab-244">4</span><span class="sxs-lookup"><span data-stu-id="eb5ab-244">4</span></span>  |
| <span data-ttu-id="eb5ab-245">playa</span><span class="sxs-lookup"><span data-stu-id="eb5ab-245">playa</span></span> | <span data-ttu-id="eb5ab-246">3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-246">3</span></span> |
| <span data-ttu-id="eb5ab-247">recurso</span><span class="sxs-lookup"><span data-stu-id="eb5ab-247">resort</span></span> | <span data-ttu-id="eb5ab-248">3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-248">3</span></span> |
| <span data-ttu-id="eb5ab-249">Retreat</span><span class="sxs-lookup"><span data-stu-id="eb5ab-249">retreat</span></span> | <span data-ttu-id="eb5ab-250">4</span><span class="sxs-lookup"><span data-stu-id="eb5ab-250">4</span></span> |

<span data-ttu-id="eb5ab-251">Olá título campo, apenas *átrios* aparece em dois documentos: 1, 3.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-251">In hello title field, only *hotel* shows up in two documents: 1, 3.</span></span>

<span data-ttu-id="eb5ab-252">Para Olá **Descrição** campo, índice Olá é o seguinte:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-252">For hello **description** field, hello index is as follows:</span></span>

| <span data-ttu-id="eb5ab-253">Termo</span><span class="sxs-lookup"><span data-stu-id="eb5ab-253">Term</span></span> | <span data-ttu-id="eb5ab-254">Lista de documentos</span><span class="sxs-lookup"><span data-stu-id="eb5ab-254">Document list</span></span> |
|------|---------------|
| <span data-ttu-id="eb5ab-255">ar</span><span class="sxs-lookup"><span data-stu-id="eb5ab-255">air</span></span> | <span data-ttu-id="eb5ab-256">3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-256">3</span></span>
| <span data-ttu-id="eb5ab-257">e</span><span class="sxs-lookup"><span data-stu-id="eb5ab-257">and</span></span> | <span data-ttu-id="eb5ab-258">4</span><span class="sxs-lookup"><span data-stu-id="eb5ab-258">4</span></span>
| <span data-ttu-id="eb5ab-259">Beach</span><span class="sxs-lookup"><span data-stu-id="eb5ab-259">beach</span></span> | <span data-ttu-id="eb5ab-260">1</span><span class="sxs-lookup"><span data-stu-id="eb5ab-260">1</span></span>
| <span data-ttu-id="eb5ab-261">ter</span><span class="sxs-lookup"><span data-stu-id="eb5ab-261">conditioned</span></span> | <span data-ttu-id="eb5ab-262">3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-262">3</span></span>
| <span data-ttu-id="eb5ab-263">-Se confortáveis ao</span><span class="sxs-lookup"><span data-stu-id="eb5ab-263">comfortable</span></span> | <span data-ttu-id="eb5ab-264">3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-264">3</span></span>
| <span data-ttu-id="eb5ab-265">Distância</span><span class="sxs-lookup"><span data-stu-id="eb5ab-265">distance</span></span> | <span data-ttu-id="eb5ab-266">1</span><span class="sxs-lookup"><span data-stu-id="eb5ab-266">1</span></span>
| <span data-ttu-id="eb5ab-267">Ilha</span><span class="sxs-lookup"><span data-stu-id="eb5ab-267">island</span></span> | <span data-ttu-id="eb5ab-268">2</span><span class="sxs-lookup"><span data-stu-id="eb5ab-268">2</span></span>
| <span data-ttu-id="eb5ab-269">kauaʻi</span><span class="sxs-lookup"><span data-stu-id="eb5ab-269">kauaʻi</span></span> | <span data-ttu-id="eb5ab-270">2</span><span class="sxs-lookup"><span data-stu-id="eb5ab-270">2</span></span>
| <span data-ttu-id="eb5ab-271">localizado</span><span class="sxs-lookup"><span data-stu-id="eb5ab-271">located</span></span> | <span data-ttu-id="eb5ab-272">2</span><span class="sxs-lookup"><span data-stu-id="eb5ab-272">2</span></span>
| <span data-ttu-id="eb5ab-273">Norte</span><span class="sxs-lookup"><span data-stu-id="eb5ab-273">north</span></span> | <span data-ttu-id="eb5ab-274">2</span><span class="sxs-lookup"><span data-stu-id="eb5ab-274">2</span></span>
| <span data-ttu-id="eb5ab-275">Ocean</span><span class="sxs-lookup"><span data-stu-id="eb5ab-275">ocean</span></span> | <span data-ttu-id="eb5ab-276">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-276">1, 2, 3</span></span>
| <span data-ttu-id="eb5ab-277">de</span><span class="sxs-lookup"><span data-stu-id="eb5ab-277">of</span></span> | <span data-ttu-id="eb5ab-278">2</span><span class="sxs-lookup"><span data-stu-id="eb5ab-278">2</span></span>
| <span data-ttu-id="eb5ab-279">no</span><span class="sxs-lookup"><span data-stu-id="eb5ab-279">on</span></span> |<span data-ttu-id="eb5ab-280">2</span><span class="sxs-lookup"><span data-stu-id="eb5ab-280">2</span></span>
| <span data-ttu-id="eb5ab-281">silenciosos</span><span class="sxs-lookup"><span data-stu-id="eb5ab-281">quiet</span></span> | <span data-ttu-id="eb5ab-282">4</span><span class="sxs-lookup"><span data-stu-id="eb5ab-282">4</span></span>
| <span data-ttu-id="eb5ab-283">gabinetes</span><span class="sxs-lookup"><span data-stu-id="eb5ab-283">rooms</span></span>  | <span data-ttu-id="eb5ab-284">1, 3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-284">1, 3</span></span>
| <span data-ttu-id="eb5ab-285">secluded</span><span class="sxs-lookup"><span data-stu-id="eb5ab-285">secluded</span></span> | <span data-ttu-id="eb5ab-286">4</span><span class="sxs-lookup"><span data-stu-id="eb5ab-286">4</span></span>
| <span data-ttu-id="eb5ab-287">shore</span><span class="sxs-lookup"><span data-stu-id="eb5ab-287">shore</span></span> | <span data-ttu-id="eb5ab-288">2</span><span class="sxs-lookup"><span data-stu-id="eb5ab-288">2</span></span>
| <span data-ttu-id="eb5ab-289">spacious</span><span class="sxs-lookup"><span data-stu-id="eb5ab-289">spacious</span></span> | <span data-ttu-id="eb5ab-290">1</span><span class="sxs-lookup"><span data-stu-id="eb5ab-290">1</span></span>
| <span data-ttu-id="eb5ab-291">Olá</span><span class="sxs-lookup"><span data-stu-id="eb5ab-291">hello</span></span> | <span data-ttu-id="eb5ab-292">1, 2</span><span class="sxs-lookup"><span data-stu-id="eb5ab-292">1, 2</span></span>
| <span data-ttu-id="eb5ab-293">demasiado</span><span class="sxs-lookup"><span data-stu-id="eb5ab-293">too</span></span>| <span data-ttu-id="eb5ab-294">1</span><span class="sxs-lookup"><span data-stu-id="eb5ab-294">1</span></span>
| <span data-ttu-id="eb5ab-295">ver</span><span class="sxs-lookup"><span data-stu-id="eb5ab-295">view</span></span> | <span data-ttu-id="eb5ab-296">1, 2, 3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-296">1, 2, 3</span></span>
| <span data-ttu-id="eb5ab-297">walking</span><span class="sxs-lookup"><span data-stu-id="eb5ab-297">walking</span></span> | <span data-ttu-id="eb5ab-298">1</span><span class="sxs-lookup"><span data-stu-id="eb5ab-298">1</span></span>
| <span data-ttu-id="eb5ab-299">com o</span><span class="sxs-lookup"><span data-stu-id="eb5ab-299">with</span></span> | <span data-ttu-id="eb5ab-300">3</span><span class="sxs-lookup"><span data-stu-id="eb5ab-300">3</span></span>


<span data-ttu-id="eb5ab-301">**Termos de consulta correspondente contra indexados termos**</span><span class="sxs-lookup"><span data-stu-id="eb5ab-301">**Matching query terms against indexed terms**</span></span>

<span data-ttu-id="eb5ab-302">Tendo em conta os índices de Olá inverted acima, vamos voltar a consulta de exemplo toohello e ver documentos correspondentes como encontram-se para a nossa consulta de exemplo.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-302">Given hello inverted indices above, let’s return toohello sample query and see how matching documents are found for our example query.</span></span> <span data-ttu-id="eb5ab-303">Recuperar que nessa árvore de consulta final Olá tem o seguinte aspeto:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-303">Recall that hello final query tree looks like this:</span></span> 

 ![Consulta booleana com termos analisados][4]

<span data-ttu-id="eb5ab-305">Durante a execução de consulta, consultas individuais são executadas em relação a campos pesquisáveis Olá independentemente.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-305">During query execution, individual queries are executed against hello searchable fields independently.</span></span> 

+ <span data-ttu-id="eb5ab-306">Olá TermQuery, "spacious" corresponde ao documento 1 (átrios Atman).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-306">hello TermQuery, "spacious", matches document 1 (Hotel Atman).</span></span> 

+ <span data-ttu-id="eb5ab-307">Olá PrefixQuery, "air-condition *", não corresponde a quaisquer documentos.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-307">hello PrefixQuery, "air-condition*", doesn't match any documents.</span></span> 

  <span data-ttu-id="eb5ab-308">Este é um comportamento que confuses, por vezes, os programadores.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-308">This is a behavior that sometimes confuses developers.</span></span> <span data-ttu-id="eb5ab-309">Embora o termo Olá air-conditioned existe no documento de Olá, é dividida em dois termos pelo analisador do Olá predefinido.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-309">Although hello term air-conditioned exists in hello document, it is split into two terms by hello default analyzer.</span></span> <span data-ttu-id="eb5ab-310">Recuperar-se de que as consultas de prefixo, que contêm termos parciais, não são analisadas.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-310">Recall that prefix queries, which contain partial terms, are not analyzed.</span></span> <span data-ttu-id="eb5ab-311">Por conseguinte termos com o prefixo "air-condition" é pesquisado em Olá inverted índice e não foi encontrado.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-311">Therefore terms with prefix "air-condition" are looked up in hello inverted index and not found.</span></span>

+ <span data-ttu-id="eb5ab-312">Olá PhraseQuery, "vista ocean", procura Olá termos "ocean" e "ver" e verifica proximidade Olá dos termos de documento original Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-312">hello PhraseQuery, "ocean view", looks up hello terms "ocean" and "view" and checks hello proximity of terms in hello original document.</span></span> <span data-ttu-id="eb5ab-313">Documentos 1, 2 e 3 correspondem a esta consulta no campo de descrição de Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-313">Documents 1, 2 and 3 match this query in hello description field.</span></span> <span data-ttu-id="eb5ab-314">Documento de aviso 4 tem ocean do termo Olá no título de Olá, mas não é considerado uma correspondência, como podemos está à procura de expressão de "ocean view" Olá, em vez de palavras individuais.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-314">Notice document 4 has hello term ocean in hello title but isn’t considered a match, as we're looking for hello "ocean view" phrase rather than individual words.</span></span> 

> [!Note]
> <span data-ttu-id="eb5ab-315">Uma consulta de pesquisa é executada de forma independente em relação a todos os campos pesquisáveis no Olá de índice da Azure Search a menos que limite os campos de Olá definida com Olá `searchFields` parâmetro, conforme ilustrado no pedido de pesquisa de exemplo de Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-315">A search query is executed independently against all searchable fields in hello Azure Search index unless you limit hello fields set with hello `searchFields` parameter, as illustrated in hello example search request.</span></span> <span data-ttu-id="eb5ab-316">Documentos que correspondam em qualquer um dos campos de Olá selecionado, são devolvidos.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-316">Documents that match in any of hello selected fields are returned.</span></span> 

<span data-ttu-id="eb5ab-317">Olá todo, para a consulta de Olá em questão, documentos Olá correspondentes são 1, 2, 3.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-317">On hello whole, for hello query in question, hello documents that match are 1, 2, 3.</span></span> 

## <a name="stage-4-scoring"></a><span data-ttu-id="eb5ab-318">Testar 4: classificação</span><span class="sxs-lookup"><span data-stu-id="eb5ab-318">Stage 4: Scoring</span></span>  

<span data-ttu-id="eb5ab-319">Todos os documentos de um conjunto de resultados de pesquisa é atribuído uma pontuação de importância.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-319">Every document in a search result set is assigned a relevance score.</span></span> <span data-ttu-id="eb5ab-320">função de Olá de pontuação de relevância Olá é superior esses documentos que melhor responder a um utilizador pergunta, expressa pelo consulta de pesquisa de Olá toorank.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-320">hello function of hello relevance score is toorank higher those documents that best answer a user question as expressed by hello search query.</span></span> <span data-ttu-id="eb5ab-321">pontuação Olá é calculada com base nas propriedades de análises de termos correspondentes.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-321">hello score is computed based on statistical properties of terms that matched.</span></span> <span data-ttu-id="eb5ab-322">Olá núcleos de Olá classificação fórmula está [TF/IDF (frequência de documento de frequência inverso termo)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-322">At hello core of hello scoring formula is [TF/IDF (term frequency-inverse document frequency)](https://en.wikipedia.org/wiki/Tf%E2%80%93idf).</span></span> <span data-ttu-id="eb5ab-323">Em consultas que contém termos raros e comuns, TF/IDF promove resultados que contém o termo raro Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-323">In queries containing rare and common terms, TF/IDF promotes results containing hello rare term.</span></span> <span data-ttu-id="eb5ab-324">Por exemplo, um índice hipotético com todos os artigos Wikipedia, de documentos que consulta Olá correspondentes *president Olá*, documentos correspondente no *president* são consideradas mais relevante que documentos correspondente no *o*.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-324">For example, in a hypothetical index with all Wikipedia articles, from documents that matched hello query *hello president*, documents matching on *president* are considered more relevant than documents matching on *the*.</span></span>


### <a name="scoring-example"></a><span data-ttu-id="eb5ab-325">A classificação de exemplo</span><span class="sxs-lookup"><span data-stu-id="eb5ab-325">Scoring example</span></span>

<span data-ttu-id="eb5ab-326">Recuperar os documentos de três Olá que correspondeu à nossa consulta de exemplo:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-326">Recall hello three documents that matched our example query:</span></span>
~~~~
search=Spacious, air-condition* +"Ocean view"  
~~~~
~~~~
{  
  "value": [
    {
      "@search.score": 0.25610128,
      "id": "1",
      "title": "Hotel Atman",
      "description": "Spacious rooms, ocean view, walking distance toohello beach."
    },
    {
      "@search.score": 0.08951007,
      "id": "3",
      "title": "Playa Hotel",
      "description": "Comfortable, air-conditioned rooms with ocean view."
    },
    {
      "@search.score": 0.05967338,
      "id": "2",
      "title": "Ocean Resort",
      "description": "Located on a cliff on hello north shore of hello island of Kauai. Ocean view."
    }
  ]
}
~~~~

<span data-ttu-id="eb5ab-327">O documento 1 consulta Olá correspondentes melhor porque ambos Olá termo *spacious* e o frase necessário Olá *vista ocean* ocorrer no campo de descrição de Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-327">Document 1 matched hello query best because both hello term *spacious* and hello required phrase *ocean view* occur in hello description field.</span></span> <span data-ttu-id="eb5ab-328">Olá junto dois documentos corresponde à frase de Olá apenas *vista ocean*.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-328">hello next two documents match only hello phrase *ocean view*.</span></span> <span data-ttu-id="eb5ab-329">Poderá ser surprising esse pontuação de relevância Olá para documento 2 e 3 é diferente, apesar de estes corresponde à consulta Olá Olá mesma forma.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-329">It might be surprising that hello relevance score for document 2 and 3 is different even though they matched hello query in hello same way.</span></span> <span data-ttu-id="eb5ab-330">É porque Olá classificação fórmula tem mais componentes que acabou de TF/IDF.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-330">It's because hello scoring formula has more components than just TF/IDF.</span></span> <span data-ttu-id="eb5ab-331">Neste caso, o documento 3 foi atribuído uma pontuação ligeiramente porque a respetiva descrição é mais pequeno.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-331">In this case, document 3 was assigned a slightly higher score because its description is shorter.</span></span> <span data-ttu-id="eb5ab-332">Saiba mais sobre [práticas da classificação de fórmula do Lucene](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand como o comprimento do campo e ainda outros fatores podem influenciar Olá pontuação de importância.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-332">Learn about [Lucene's Practical Scoring Formula](https://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/similarities/TFIDFSimilarity.html) toounderstand how field length and other factors can influence hello relevance score.</span></span>

<span data-ttu-id="eb5ab-333">Alguns tipos (universal, prefixo, regex) de consulta contribuir sempre uma pontuação constante toohello geral pontuação de documentos.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-333">Some query types (wildcard, prefix, regex) always contribute a constant score toohello overall document score.</span></span> <span data-ttu-id="eb5ab-334">Isto permite correspondências encontradas através da consulta expansão toobe incluída nos resultados de Olá, mas sem afetar a classificação de Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-334">This allows matches found through query expansion toobe included in hello results, but without affecting hello ranking.</span></span> 

<span data-ttu-id="eb5ab-335">Um exemplo ilustra a razão pela qual isto é importante.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-335">An example illustrates why this matters.</span></span> <span data-ttu-id="eb5ab-336">Pesquisas com carateres universais, incluindo as pesquisas de prefixo, são ambíguas pela definição porque a entrada de Olá é uma cadeia parcial com potenciais correspondências num número muito grande de diferentes termos (considere uma entrada de "apresentação *", com correspondências encontradas "tours", "tourettes", e " tourmaline").</span><span class="sxs-lookup"><span data-stu-id="eb5ab-336">Wildcard searches, including prefix searches, are ambiguous by definition because hello input is a partial string with potential matches on a very large number of disparate terms (consider an input of "tour*", with matches found on “tours”, “tourettes”, and “tourmaline”).</span></span> <span data-ttu-id="eb5ab-337">Tendo em conta natureza Olá estes resultados, não há nenhuma forma tooreasonably inferir os termos encontram-se mais importantes do que outros.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-337">Given hello nature of these results, there is no way tooreasonably infer which terms are more valuable than others.</span></span> <span data-ttu-id="eb5ab-338">Por este motivo, estamos a ignorar frequências termo quando a classificação de resultados em consultas de caráter universal de tipos, o prefixo e o regex.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-338">For this reason, we ignore term frequencies when scoring results in queries of types wildcard, prefix and regex.</span></span> <span data-ttu-id="eb5ab-339">Num pedido de várias partes de pesquisa que inclui termos parciais e integrais, resultados de entrada parcial Olá são incorporados com uma constante tooavoid bias para correspondências potencialmente inesperadas de pontuação.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-339">In a multi-part search request that includes partial and complete terms, results from hello partial input are incorporated with a constant score tooavoid bias towards potentially unexpected matches.</span></span>

### <a name="score-tuning"></a><span data-ttu-id="eb5ab-340">Otimização de pontuação</span><span class="sxs-lookup"><span data-stu-id="eb5ab-340">Score tuning</span></span>

<span data-ttu-id="eb5ab-341">Existem duas formas pontuações de relevância tootune na pesquisa do Azure:</span><span class="sxs-lookup"><span data-stu-id="eb5ab-341">There are two ways tootune relevance scores in Azure Search:</span></span>

1. <span data-ttu-id="eb5ab-342">**Perfis de classificação** promover documentos na lista de Olá classificado de resultados com base num conjunto de regras.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-342">**Scoring profiles** promote documents in hello ranked list of results based on a set of rules.</span></span> <span data-ttu-id="eb5ab-343">No nosso exemplo, podemos considerar documentos correspondentes no campo do título de Olá mais relevante que documentos correspondentes no campo de descrição de Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-343">In our example, we could consider documents that matched in hello title field more relevant than documents that matched in hello description field.</span></span> <span data-ttu-id="eb5ab-344">Além disso, se o nosso índice tinha um campo de preço para cada átrios, iremos promover documentos com preço inferior.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-344">Additionally, if our index had a price field for each hotel, we could promote documents with lower price.</span></span> <span data-ttu-id="eb5ab-345">Mais informações sobre como demasiado[adicionar o índice de pesquisa de tooa de perfis de classificação.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span><span class="sxs-lookup"><span data-stu-id="eb5ab-345">Learn more how too[add Scoring Profiles tooa search index.](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index)</span></span>
2. <span data-ttu-id="eb5ab-346">**Termo aumento** (disponível apenas no Olá completa consulta lucene) fornece um operador de aumento `^` que podem ser aplicadas tooany parte da árvore de consulta Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-346">**Term boosting** (available only in hello Full Lucene query syntax) provides a boosting operator `^` that can be applied tooany part of hello query tree.</span></span> <span data-ttu-id="eb5ab-347">No nosso exemplo, em vez de procurar no prefixo de Olá *air-condition*\*, um pode procurar um termo exato de Olá *air-condition* ou prefixo Olá, mas os documentos que corresponda a Olá exato termo estão ordenadas superior aplicando a consulta do aumento toohello termo: *ondas condição ^ 2 | | Air-condition**.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-347">In our example, instead of searching on hello prefix *air-condition*\*, one could search for either hello exact term *air-condition* or hello prefix, but documents that match on hello exact term are ranked higher by applying boost toohello term query: *air-condition^2||air-condition**.</span></span> <span data-ttu-id="eb5ab-348">Saiba mais sobre [termo aumento](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-348">Learn more about [term boosting](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search#bkmk_termboost).</span></span>


### <a name="scoring-in-a-distributed-index"></a><span data-ttu-id="eb5ab-349">Classificação de um índice distribuído</span><span class="sxs-lookup"><span data-stu-id="eb5ab-349">Scoring in a distributed index</span></span>

<span data-ttu-id="eb5ab-350">Todos os índices na pesquisa do Azure são automaticamente dividido em várias shards, permitindo-nos tooquickly distribuir índice Olá entre vários nós durante a escala do serviço de segurança ou reduzir verticalmente.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-350">All indexes in Azure Search are automatically split into multiple shards, allowing us tooquickly distribute hello index among multiple nodes during service scale up or scale down.</span></span> <span data-ttu-id="eb5ab-351">Quando é emitido um pedido de pesquisa, este é emitido em relação a cada partição horizontal independentemente.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-351">When a search request is issued, it’s issued against each shard independently.</span></span> <span data-ttu-id="eb5ab-352">Olá resultados de cada ID de partição horizontal são, em seguida, intercalar e ordenados pelo modelo de pontuação (se não existem outros ordenação está definido).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-352">hello results from each shard are then merged and ordered by score (if no other ordering is defined).</span></span> <span data-ttu-id="eb5ab-353">É importante tooknow que Olá classificação função ponderações consulta termo frequência contra a frequência de documento inverso em todos os documentos no ID de partição horizontal Olá, não em todas as partições horizontais!</span><span class="sxs-lookup"><span data-stu-id="eb5ab-353">It is important tooknow that hello scoring function weights query term frequency against its inverse document frequency in all documents within hello shard, not across all shards!</span></span>

<span data-ttu-id="eb5ab-354">Isto significa uma pontuação de relevância *foi* ser diferentes para documentos idênticos se que residem no shards diferentes.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-354">This means a relevance score *could* be different for identical documents if they reside on different shards.</span></span> <span data-ttu-id="eb5ab-355">Felizmente, estas diferenças tendem toodisappear à medida que cresce número Olá de documentos no índice Olá devido a distribuição de termo mesmo toomore.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-355">Fortunately, such differences tend toodisappear as hello number of documents in hello index grows due toomore even term distribution.</span></span> <span data-ttu-id="eb5ab-356">Não é possível tooassume no qual partições horizontais qualquer documento fornecido será efetuado.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-356">It’s not possible tooassume on which shard any given document will be placed.</span></span> <span data-ttu-id="eb5ab-357">No entanto, partindo do princípio de uma chave de documento não irá alterar, este será sempre atribuído toohello mesmo partições horizontais.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-357">However, assuming a document key doesn't change, it will always be assigned toohello same shard.</span></span>

<span data-ttu-id="eb5ab-358">Em geral, pontuação de documento não é atributo melhor de Olá para ordenação documentos se estabilidade ordem é importante.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-358">In general, document score is not hello best attribute for ordering documents if order stability is important.</span></span> <span data-ttu-id="eb5ab-359">Por exemplo, tendo em conta documento duas com uma pontuação idêntico, não há nenhuma garantia que aparece primeiro na execuções subsequentes do Olá mesma consulta.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-359">For example, given two document with an identical score, there is no guarantee which one appears first in subsequent runs of hello same query.</span></span> <span data-ttu-id="eb5ab-360">Pontuação de documento deve apenas dar um sentido geral de relevância documento tooother relativo documentos no conjunto de resultados de Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-360">Document score should only give a general sense of document relevance relative tooother documents in hello results set.</span></span>

## <a name="conclusion"></a><span data-ttu-id="eb5ab-361">Conclusão</span><span class="sxs-lookup"><span data-stu-id="eb5ab-361">Conclusion</span></span>

<span data-ttu-id="eb5ab-362">Olá com êxito de motores de busca internet gerou expetativas para pesquisa em texto completo sobre dados privados.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-362">hello success of internet search engines has raised expectations for full text search over private data.</span></span> <span data-ttu-id="eb5ab-363">Para praticamente todos os tipos de experiência de pesquisa, agora Esperamos Olá motor toounderstand nossa intenção, mesmo quando os termos estão mal escritos ou está incompleta.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-363">For almost any kind of search experience, we now expect hello engine toounderstand our intent, even when terms are misspelled or incomplete.</span></span> <span data-ttu-id="eb5ab-364">Esperamos poderá mesmo correspondências com base nas quase equivalentes termos ou sinónimos que nunca, na verdade, especificamos.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-364">We might even expect matches based on near equivalent terms or synonyms that we never actually specified.</span></span>

<span data-ttu-id="eb5ab-365">A partir de um ponto de vista técnico, pesquisa em texto completo é altamente complexa, exigindo que uma análise sofisticada linguístico e tooprocessing uma abordagem systematic de formas que distill, expanda e transformar consulta termos toodeliver um resultado relevante.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-365">From a technical standpoint, full text search is highly complex, requiring sophisticated linguistic analysis and a systematic approach tooprocessing in ways that distill, expand, and transform query terms toodeliver a relevant result.</span></span> <span data-ttu-id="eb5ab-366">Tendo em conta complexidades inerente Olá, existem muitos fatores que podem afetar o resultado de Olá de uma consulta.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-366">Given hello inherent complexities, there are a lot of factors that can affect hello outcome of a query.</span></span> <span data-ttu-id="eb5ab-367">Por este motivo, investir mechanics do Olá tempo toounderstand Olá de pesquisa em texto completo oferece vantagens tangible quando tenta toowork através de resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-367">For this reason, investing hello time toounderstand hello mechanics of full text search offers tangible benefits when trying toowork through unexpected results.</span></span>  

<span data-ttu-id="eb5ab-368">Este artigo explorou a pesquisa em texto completo no contexto de Olá da Azure Search.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-368">This article explored full text search in hello context of Azure Search.</span></span> <span data-ttu-id="eb5ab-369">Esperamos que dá-lhe suficientes em segundo plano toorecognize possíveis causas e soluções para problemas comuns de consulta de endereçamento.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-369">We hope it gives you sufficient background toorecognize potential causes and resolutions for addressing common query problems.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="eb5ab-370">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="eb5ab-370">Next steps</span></span>

+ <span data-ttu-id="eb5ab-371">Criar o índice de exemplo de Olá, experimentar diferentes consultas e reveja os resultados.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-371">Build hello sample index, try out different queries and review results.</span></span> <span data-ttu-id="eb5ab-372">Para obter instruções, consulte [compilar e consultar um índice no portal de Olá](search-get-started-portal.md#query-index).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-372">For instructions, see [Build and query an index in hello portal](search-get-started-portal.md#query-index).</span></span>

+ <span data-ttu-id="eb5ab-373">Tente sintaxe de consulta adicionais de Olá [documentos sobre pesquisa](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) secção de exemplo ou a partir de [sintaxe de consulta simples](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) no Explorador de pesquisa no portal de Olá.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-373">Try additional query syntax from hello [Search Documents](https://docs.microsoft.com/rest/api/searchservice/search-documents#examples) example section or from [Simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) in Search explorer in hello portal.</span></span>

+ <span data-ttu-id="eb5ab-374">Reveja [classificação perfis](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) se quiser tootune classificação na sua aplicação de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-374">Review [scoring profiles](https://docs.microsoft.com/rest/api/searchservice/add-scoring-profiles-to-a-search-index) if you want tootune ranking in your search application.</span></span>

+ <span data-ttu-id="eb5ab-375">Saiba como tooapply [analisadores de lexical específicas do idioma](https://docs.microsoft.com/rest/api/searchservice/language-support).</span><span class="sxs-lookup"><span data-stu-id="eb5ab-375">Learn how tooapply [language-specific lexical analyzers](https://docs.microsoft.com/rest/api/searchservice/language-support).</span></span>

+ <span data-ttu-id="eb5ab-376">[Configurar analisadores personalizados](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) para processamento mínimo ou processamento especializado em campos específicos.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-376">[Configure custom analyzers](https://docs.microsoft.com/rest/api/searchservice/custom-analyzers-in-azure-search) for either minimal processing or specialized processing on specific fields.</span></span>

+ <span data-ttu-id="eb5ab-377">[Comparar analisadores de padrão e inglês](http://alice.unearth.ai/)) do lado do lado a lado neste web site de demonstração.</span><span class="sxs-lookup"><span data-stu-id="eb5ab-377">[Compare standard and English analyzers](http://alice.unearth.ai/)) side-by-side on this demo web site.</span></span> 

## <a name="see-also"></a><span data-ttu-id="eb5ab-378">Consultar também</span><span class="sxs-lookup"><span data-stu-id="eb5ab-378">See also</span></span>

[<span data-ttu-id="eb5ab-379">API de REST de documentos de pesquisa</span><span class="sxs-lookup"><span data-stu-id="eb5ab-379">Search Documents REST API</span></span>](https://docs.microsoft.com/rest/api/searchservice/search-documents)

[<span data-ttu-id="eb5ab-380">Sintaxe de consulta simples</span><span class="sxs-lookup"><span data-stu-id="eb5ab-380">Simple query syntax</span></span>](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search)

[<span data-ttu-id="eb5ab-381">Total de consulta lucene</span><span class="sxs-lookup"><span data-stu-id="eb5ab-381">Full Lucene query syntax</span></span>](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search)

[<span data-ttu-id="eb5ab-382">Processar os resultados da pesquisa</span><span class="sxs-lookup"><span data-stu-id="eb5ab-382">Handle search results</span></span>](https://docs.microsoft.com/azure/search/search-pagination-page-layout)

<!--Image references-->
[1]: ./media/search-lucene-query-architecture/architecture-diagram2.png
[2]: ./media/search-lucene-query-architecture/azSearch-queryparsing-should2.png
[3]: ./media/search-lucene-query-architecture/azSearch-queryparsing-must2.png
[4]: ./media/search-lucene-query-architecture/azSearch-queryparsing-spacious2.png
