---
title: "perfis de aaaScoring (Azure pesquisa REST API versão 2015-02-28-pré-visualização) | Microsoft Docs"
description: "A pesquisa do Azure é um serviço de pesquisa de nuvem alojada que suporte a otimização de resultados classificados com base nos perfis de classificação definida pelo utilizador."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
ms.assetid: bfd62649-13d7-40b3-a8fa-85521a15084d
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.author: heidist
ms.date: 10/27/2016
ms.openlocfilehash: 17f83fdf6818dc6ffcc3e04f5d0185c6f646b63d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="scoring-profiles-azure-search-rest-api-version-2015-02-28-preview"></a><span data-ttu-id="f5fda-103">Perfis de classificação (pesquisa do Azure REST API versão 2015-02-28-pré-visualização)</span><span class="sxs-lookup"><span data-stu-id="f5fda-103">Scoring Profiles (Azure Search REST API Version 2015-02-28-Preview)</span></span>
> [!NOTE]
> <span data-ttu-id="f5fda-104">Este artigo descreve os perfis de classificação Olá [pré-visualização 2015-02-28](search-api-2015-02-28-preview.md).</span><span class="sxs-lookup"><span data-stu-id="f5fda-104">This article describes scoring profiles in hello [2015-02-28-Preview](search-api-2015-02-28-preview.md).</span></span> <span data-ttu-id="f5fda-105">Atualmente não há qualquer diferença entre Olá `2016-09-01` versão documentadas na [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) e Olá `2015-02-28-Preview` versão descrito aqui, mas que oferecemos neste documento mesmo assim na cobertura de documento ordem tooprovide em Olá API de todo.</span><span class="sxs-lookup"><span data-stu-id="f5fda-105">Currently there is no difference between hello `2016-09-01` version documented on [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) and hello `2015-02-28-Preview` version described here, but we offer this document anyway in order tooprovide document coverage across hello entire API.</span></span>
>
>

## <a name="overview"></a><span data-ttu-id="f5fda-106">Descrição geral</span><span class="sxs-lookup"><span data-stu-id="f5fda-106">Overview</span></span>
<span data-ttu-id="f5fda-107">Classificação refere-se de toohello o cálculo de pontuação de pesquisa para cada item devolvido nos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="f5fda-107">Scoring refers toohello computation of a search score for every item returned in search results.</span></span> <span data-ttu-id="f5fda-108">pontuação Olá é um indicador de relevância de um item no contexto de Olá da operação de pesquisa atual Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-108">hello score is an indicator of an item's relevance in hello context of hello current search operation.</span></span> <span data-ttu-id="f5fda-109">pontuação de Olá superior Olá, Olá mais relevante Olá item.</span><span class="sxs-lookup"><span data-stu-id="f5fda-109">hello higher hello score, hello more relevant hello item.</span></span> <span data-ttu-id="f5fda-110">Nos resultados de pesquisa, os itens estão ordenada do toolow elevada, com base no Olá pontuação de pesquisa calculadas para cada item de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-110">In search results, items are rank ordered from high toolow, based on hello search score calculated for each item.</span></span>

<span data-ttu-id="f5fda-111">A pesquisa do Azure utiliza a classificação toocompute uma pontuação inicial, mas pode personalizar o cálculo de Olá através de um perfil de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-111">Azure Search uses default scoring toocompute an initial score, but you can customize hello calculation through a scoring profile.</span></span> <span data-ttu-id="f5fda-112">Perfis de classificação dão-lhe maior controlo sobre a classificação de Olá dos itens nos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="f5fda-112">Scoring profiles give you greater control over hello ranking of items in search results.</span></span> <span data-ttu-id="f5fda-113">Por exemplo, poderá pretender itens tooboost com base na respetiva receitas potenciais, promover itens mais recentes ou talvez melhorar itens que foram no inventário demasiado longo.</span><span class="sxs-lookup"><span data-stu-id="f5fda-113">For example, you might want tooboost items based on their revenue potential, promote newer items, or perhaps boost items that have been in inventory too long.</span></span>

<span data-ttu-id="f5fda-114">Um perfil de classificação faz parte da definição do índice Olá, composta por campos, funções e os parâmetros.</span><span class="sxs-lookup"><span data-stu-id="f5fda-114">A scoring profile is part of hello index definition, composed of fields, functions, and parameters.</span></span>

<span data-ttu-id="f5fda-115">toogive tem uma ideia de um perfil de classificação aparência, hello exemplo seguinte mostra um perfil simple com o nome 'georreplicação'.</span><span class="sxs-lookup"><span data-stu-id="f5fda-115">toogive you an idea of what a scoring profile looks like, hello following example shows a simple profile named 'geo'.</span></span> <span data-ttu-id="f5fda-116">Este boosts itens que tenham o termo de pesquisa de Olá no Olá `hotelName` campo.</span><span class="sxs-lookup"><span data-stu-id="f5fda-116">This one boosts items that have hello search term in hello `hotelName` field.</span></span> <span data-ttu-id="f5fda-117">Também utiliza Olá `distance` toofavor itens que estão dentro do kilometers dez da localização atual Olá de função.</span><span class="sxs-lookup"><span data-stu-id="f5fda-117">It also uses hello `distance` function toofavor items that are within ten kilometers of hello current location.</span></span> <span data-ttu-id="f5fda-118">Se alguém procura no prazo de Olá 'inn' e 'inn' acontece toobe parte do nome de átrios Olá, documentos que incluem hotéis com 'inn' serão apresentada nos resultados de pesquisa de Olá superiores.</span><span class="sxs-lookup"><span data-stu-id="f5fda-118">If someone searches on hello term 'inn', and 'inn' happens toobe part of hello hotel name, documents that include hotels with 'inn' will appear higher in hello search results.</span></span>

    "scoringProfiles": [
      {
        "name": "geo",
        "text": {
          "weights": { "hotelName": 5 }
        },
        "functions": [
          {
            "type": "distance",
            "boost": 5,
            "fieldName": "location",
            "interpolation": "logarithmic",
            "distance": {
              "referencePointParameter": "currentLocation",
              "boostingDistance": 10
            }
          }
        ]
      }
    ]

<span data-ttu-id="f5fda-119">toouse que este perfil de classificação, a consulta é formulated perfil de Olá toospecify na cadeia de consulta Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-119">toouse this scoring profile, your query is formulated toospecify hello profile on hello query string.</span></span> <span data-ttu-id="f5fda-120">Consulta de Olá abaixo, tenha em atenção o parâmetro de consulta Olá, `scoringProfile=geo` no pedido de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-120">In hello query below, notice hello query parameter, `scoringProfile=geo` in hello request.</span></span>

    GET /indexes/hotels/docs?search=inn&scoringProfile=geo&scoringParameter=currentLocation--122.123,44.77233&api-version=2015-02-28-Preview

<span data-ttu-id="f5fda-121">Esta consulta pesquisa o termo Olá 'inn' e transmite na localização atual Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-121">This query searches on hello term 'inn' and passes in hello current location.</span></span> <span data-ttu-id="f5fda-122">Tenha em atenção que esta consulta inclui outros parâmetros, tais como `scoringParameter`.</span><span class="sxs-lookup"><span data-stu-id="f5fda-122">Note that this query includes other parameters, such as `scoringParameter`.</span></span> <span data-ttu-id="f5fda-123">Parâmetros de consulta descritos [documentos sobre pesquisa (API da Azure Search)](search-api-2015-02-28-preview.md#SearchDocs).</span><span class="sxs-lookup"><span data-stu-id="f5fda-123">Query parameters are described in [Search Documents (Azure Search API)](search-api-2015-02-28-preview.md#SearchDocs).</span></span>

<span data-ttu-id="f5fda-124">Clique em [exemplo](#example) tooreview um exemplo mais detalhado de um perfil de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-124">Click [Example](#example) tooreview a more detailed example of a scoring profile.</span></span>

## <a name="what-is-default-scoring"></a><span data-ttu-id="f5fda-125">O que é a classificação de predefinição?</span><span class="sxs-lookup"><span data-stu-id="f5fda-125">What is default scoring?</span></span>
<span data-ttu-id="f5fda-126">Classificação calcula uma pontuação de pesquisa para cada item num conjunto de resultados ordenada classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-126">Scoring computes a search score for each item in a rank ordered result set.</span></span> <span data-ttu-id="f5fda-127">Todos os itens de um conjunto de resultados de pesquisa é atribuído uma pontuação de pesquisa, em seguida, classificado toolowest mais elevado.</span><span class="sxs-lookup"><span data-stu-id="f5fda-127">Every item in a search result set is assigned a search score, then ranked highest toolowest.</span></span> <span data-ttu-id="f5fda-128">Os itens com pontuações superiores Olá são devolvidos toohello aplicação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-128">Items with hello higher scores are returned toohello application.</span></span> <span data-ttu-id="f5fda-129">Por predefinição, hello 50 superior são devolvidos, mas pode utilizar Olá `$top` parâmetro tooreturn um número inferior ou superior de itens (cópia de segurança too1000 numa única resposta).</span><span class="sxs-lookup"><span data-stu-id="f5fda-129">By default, hello top 50 are returned, but you can use hello `$top` parameter tooreturn a smaller or larger number of items (up too1000 in a single response).</span></span>

<span data-ttu-id="f5fda-130">Por predefinição, uma pontuação de pesquisa é calculada com base nas propriedades de análises de dados de Olá e consulta de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-130">By default, a search score is computed based on statistical properties of hello data and hello query.</span></span> <span data-ttu-id="f5fda-131">A pesquisa do Azure encontra documentos que incluem os termos da procura Olá na cadeia de consulta Olá (alguns ou todos os, dependendo das `searchMode`), favoring documentos que contenham várias instâncias do termo de pesquisa de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-131">Azure Search finds documents that include hello search terms in hello query string (some or all, depending on `searchMode`), favoring documents that contain many instances of hello search term.</span></span> <span data-ttu-id="f5fda-132">pontuação de pesquisa de Olá passa cópias de segurança superior, mesmo se termo Olá é raro em corpus de dados de Olá, mas comuns no documento de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-132">hello search score goes up even higher if hello term is rare across hello data corpus, but common within hello document.</span></span> <span data-ttu-id="f5fda-133">base de Olá para relevância de toocomputing esta abordagem é conhecido como TF-IDF ou (frequência de documento de frequência inverso termo).</span><span class="sxs-lookup"><span data-stu-id="f5fda-133">hello basis for this approach toocomputing relevance is known as TF-IDF or (term frequency-inverse document frequency).</span></span>

<span data-ttu-id="f5fda-134">Resultados pressupondo que não há qualquer ordenação personalizado, são, em seguida, ordenados pelo pontuação de pesquisa antes de poderem ser devolvidas toohello aplicação de chamada.</span><span class="sxs-lookup"><span data-stu-id="f5fda-134">Assuming there is no custom sorting, results are then ranked by search score before they are returned toohello calling application.</span></span> <span data-ttu-id="f5fda-135">Se `$top` não for especificado, 50 itens ter pesquisa mais elevada de Olá pontuação é devolvidas.</span><span class="sxs-lookup"><span data-stu-id="f5fda-135">If `$top` is not specified, 50 items having hello highest search score are returned.</span></span>

<span data-ttu-id="f5fda-136">Os valores de pontuação de pesquisa podem ser repetidos ao longo de um conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="f5fda-136">Search score values can be repeated throughout a result set.</span></span> <span data-ttu-id="f5fda-137">Por exemplo, poderá ter 10 itens com uma pontuação de 1.2, 20 itens com uma pontuação de 1.0 e 20 itens com uma pontuação de 0,5.</span><span class="sxs-lookup"><span data-stu-id="f5fda-137">For example, you might have 10 items with a score of 1.2, 20 items with a score of 1.0, and 20 items with a score of 0.5.</span></span> <span data-ttu-id="f5fda-138">Quando vários pedidos ter hello mesmo pontuação de pesquisa, Olá ordenação dos itens classificadas mesmos não está definido e não está estável.</span><span class="sxs-lookup"><span data-stu-id="f5fda-138">When multiple hits have hello same search score, hello ordering of same scored items is not defined, and is not stable.</span></span> <span data-ttu-id="f5fda-139">Executar novamente a consulta de Olá e poderá ver itens deslocar posição.</span><span class="sxs-lookup"><span data-stu-id="f5fda-139">Run hello query again, and you might see items shift position.</span></span> <span data-ttu-id="f5fda-140">Tendo em conta dois itens com uma pontuação idêntica, não há nenhuma garantia que aparece em primeiro lugar.</span><span class="sxs-lookup"><span data-stu-id="f5fda-140">Given two items with an identical score, there is no guarantee which one appears first.</span></span>

## <a name="when-toouse-custom-scoring"></a><span data-ttu-id="f5fda-141">Quando toouse da classificação personalizada</span><span class="sxs-lookup"><span data-stu-id="f5fda-141">When toouse custom scoring</span></span>
<span data-ttu-id="f5fda-142">Deve criar um ou mais perfis de classificação quando predefinido Olá classificação comportamento não aceda suficiente na cumprir os objetivos de negócio.</span><span class="sxs-lookup"><span data-stu-id="f5fda-142">You should create one or more scoring profiles when hello default ranking behavior doesn’t go far enough in meeting your business objectives.</span></span> <span data-ttu-id="f5fda-143">Por exemplo, poderá decidir que procura relevância deve favor itens adicionados recentemente.</span><span class="sxs-lookup"><span data-stu-id="f5fda-143">For example, you might decide that search relevance should favor newly added items.</span></span> <span data-ttu-id="f5fda-144">Da mesma forma, poderá ter um campo que contém a margem de lucros ou algum outro campo que indicam potenciais de receitas.</span><span class="sxs-lookup"><span data-stu-id="f5fda-144">Likewise, you might have a field that contains profit margin, or some other field indicating revenue potential.</span></span> <span data-ttu-id="f5fda-145">Os aumentos pedidos colocar benefícios comerciais tooyour podem ser um fator importante decidir toouse perfis de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-145">Boosting hits that bring benefits tooyour business can be an important factor in deciding toouse scoring profiles.</span></span>

<span data-ttu-id="f5fda-146">Com base em relevancy ordenação também é implementado através da classificação de perfis.</span><span class="sxs-lookup"><span data-stu-id="f5fda-146">Relevancy-based ordering is also implemented through scoring profiles.</span></span> <span data-ttu-id="f5fda-147">Considere os resultados da pesquisa páginas utilizou Olá anterior que permitem ordenar por preço, data, classificação ou relevância.</span><span class="sxs-lookup"><span data-stu-id="f5fda-147">Consider search results pages you’ve used in hello past that let you sort by price, date, rating, or relevance.</span></span> <span data-ttu-id="f5fda-148">Na Azure Search, perfis de classificação unidade opção do Olá 'relevância'.</span><span class="sxs-lookup"><span data-stu-id="f5fda-148">In Azure Search, scoring profiles drive hello 'relevance' option.</span></span> <span data-ttu-id="f5fda-149">definição de Olá de relevância é controlada por si, predicated nos objetivos de negócio e o tipo de Olá de experiência de pesquisa que pretende toodeliver.</span><span class="sxs-lookup"><span data-stu-id="f5fda-149">hello definition of relevance is controlled by you, predicated on business objectives and hello type of search experience you want toodeliver.</span></span>

<a name="example"></a>

## <a name="example"></a><span data-ttu-id="f5fda-150">Exemplo</span><span class="sxs-lookup"><span data-stu-id="f5fda-150">Example</span></span>
<span data-ttu-id="f5fda-151">Conforme indicado, classificação personalizada é implementada através de perfis definidos no esquema de índice de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-151">As noted, customized scoring is implemented through scoring profiles defined in an index schema.</span></span>

<span data-ttu-id="f5fda-152">Este exemplo mostra Olá esquema de um índice com dois perfis de classificação (`boostGenre`, `newAndHighlyRated`).</span><span class="sxs-lookup"><span data-stu-id="f5fda-152">This example shows hello schema of an index with two scoring profiles (`boostGenre`, `newAndHighlyRated`).</span></span> <span data-ttu-id="f5fda-153">Qualquer consulta em relação a este índice que inclui o perfil, como um parâmetro de consulta irá utilizar o conjunto de resultados do Olá perfil tooscore Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-153">Any query against this index that includes either profile as a query parameter will use hello profile tooscore hello result set.</span></span>

    {
      "name": "musicstoreindex",
      "fields": [
        { "name": "key", "type": "Edm.String", "key": true },
        { "name": "albumTitle", "type": "Edm.String" },
        { "name": "albumUrl", "type": "Edm.String", "filterable": false },
        { "name": "genre", "type": "Edm.String" },
        { "name": "genreDescription", "type": "Edm.String", "filterable": false },
        { "name": "artistName", "type": "Edm.String" },
        { "name": "orderableOnline", "type": "Edm.Boolean" },
        { "name": "rating", "type": "Edm.Int32" },
        { "name": "tags", "type": "Collection(Edm.String)" },
        { "name": "price", "type": "Edm.Double", "filterable": false },
        { "name": "margin", "type": "Edm.Int32", "retrievable": false },
        { "name": "inventory", "type": "Edm.Int32" },
        { "name": "lastUpdated", "type": "Edm.DateTimeOffset" }
      ],
      "scoringProfiles": [
        {
          "name": "boostGenre",
          "text": {
            "weights": {
              "albumTitle": 1.5,
              "genre": 5,
              "artistName": 2
            }
          }
        },
        {
          "name": "newAndHighlyRated",
          "functions": [
            {
              "type": "freshness",
              "fieldName": "lastUpdated",
              "boost": 10,
              "interpolation": "quadratic",
              "freshness": {
                "boostingDuration": "P365D"
              }
            },
            {
              "type": "magnitude",
              "fieldName": "rating",
              "boost": 10,
              "interpolation": "linear",
              "magnitude": {
                "boostingRangeStart": 1,
                "boostingRangeEnd": 5,
                "constantBoostBeyondRange": false
              }
            }
          ]
        }
      ],
      "suggesters": [
        {
          "name": "sg",
          "searchMode": "analyzingInfixMatching",
          "sourceFields": ["albumTitle", "artistName"]
        }
      ]
    }


## <a name="workflow"></a><span data-ttu-id="f5fda-154">Fluxo de trabalho</span><span class="sxs-lookup"><span data-stu-id="f5fda-154">Workflow</span></span>
<span data-ttu-id="f5fda-155">tooimplement personalizada da classificação de comportamento, adicione um esquema de toohello classificação de perfil que define o índice de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-155">tooimplement custom scoring behavior, add a scoring profile toohello schema that defines hello index.</span></span> <span data-ttu-id="f5fda-156">Pode fazer cópias de segurança dos perfis de classificação too16 dentro de um índice (consulte [limites de serviço](search-limits-quotas-capacity.md)), mas só pode especificar um perfil de momento, em qualquer consulta especificada.</span><span class="sxs-lookup"><span data-stu-id="f5fda-156">You can have up too16 scoring profiles within an index (see [Service Limits](search-limits-quotas-capacity.md)), but you can only specify one profile at time in any given query.</span></span>

<span data-ttu-id="f5fda-157">Começar a utilizar Olá [modelo](#bkmk_template) fornecidas neste tópico.</span><span class="sxs-lookup"><span data-stu-id="f5fda-157">Start with hello [Template](#bkmk_template) provided in this topic.</span></span>

<span data-ttu-id="f5fda-158">Forneça um nome.</span><span class="sxs-lookup"><span data-stu-id="f5fda-158">Provide a name.</span></span> <span data-ttu-id="f5fda-159">Perfis de classificação são opcionais, mas se adicionar um, é necessário o nome de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-159">Scoring profiles are optional, but if you add one, hello name is required.</span></span> <span data-ttu-id="f5fda-160">Ser toofollow se as convenções de nomenclatura Olá para campos (começa com uma letra, evita carateres especiais e palavras reservadas).</span><span class="sxs-lookup"><span data-stu-id="f5fda-160">Be sure toofollow hello naming conventions for fields (starts with a letter, avoids special characters and reserved words).</span></span> <span data-ttu-id="f5fda-161">Consulte [regras de nomenclatura](http://msdn.microsoft.com/library/azure/dn857353.aspx) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="f5fda-161">See [Naming Rules](http://msdn.microsoft.com/library/azure/dn857353.aspx) for more information.</span></span>

<span data-ttu-id="f5fda-162">corpo de Olá do perfil de classificação de Olá é construído a partir de ponderado campos e funções.</span><span class="sxs-lookup"><span data-stu-id="f5fda-162">hello body of hello scoring profile is constructed from weighted fields and functions.</span></span>

### <a name="weights"></a><span data-ttu-id="f5fda-163">Ponderações</span><span class="sxs-lookup"><span data-stu-id="f5fda-163">Weights</span></span>
<span data-ttu-id="f5fda-164">Olá `weights` pares nome-valor que atribuir um campo de tooa peso relativo de Especifica a propriedade de um perfil de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-164">hello `weights` property of a scoring profile specifies name-value pairs that assign a relative weight tooa field.</span></span> <span data-ttu-id="f5fda-165">No Olá [exemplo](#example), Olá albumTitle, género, artistName campos e são elevada 1.5, 5 e 2, respetivamente.</span><span class="sxs-lookup"><span data-stu-id="f5fda-165">In hello [Example](#example), hello albumTitle, genre, and artistName fields are boosted 1.5, 5, and 2, respectively.</span></span> <span data-ttu-id="f5fda-166">Por que motivo é género elevado, por isso, muito superior do que outras pessoas Olá?</span><span class="sxs-lookup"><span data-stu-id="f5fda-166">Why is genre boosted so much higher than hello others?</span></span> <span data-ttu-id="f5fda-167">Se a procura é efetuada através de dados que são um pouco homogénea (como é Olá caso com género no Olá `musicstoreindex`), poderá ter uma maior variância em ponderações relativo Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-167">If search is conducted over data that is somewhat homogeneous (as is hello case with 'genre' in hello `musicstoreindex`), you might need a larger variance in hello relative weights.</span></span> <span data-ttu-id="f5fda-168">Por exemplo, no Olá `musicstoreindex`, 'rock' aparece como ambos um género e nas descrições de forma idêntica phrased género.</span><span class="sxs-lookup"><span data-stu-id="f5fda-168">For example, in hello `musicstoreindex`, 'rock' appears as both a genre and in identically phrased genre descriptions.</span></span> <span data-ttu-id="f5fda-169">Se pretender que a descrição do género toooutweigh género, o campo do género de Olá terá um muito peso relativo superior.</span><span class="sxs-lookup"><span data-stu-id="f5fda-169">If you want genre toooutweigh genre description, hello genre field will need a much higher relative weight.</span></span>

### <a name="functions"></a><span data-ttu-id="f5fda-170">Funções</span><span class="sxs-lookup"><span data-stu-id="f5fda-170">Functions</span></span>
<span data-ttu-id="f5fda-171">As funções são utilizadas quando cálculos adicionais são necessários para contextos específicos.</span><span class="sxs-lookup"><span data-stu-id="f5fda-171">Functions are used when additional calculations are required for specific contexts.</span></span> <span data-ttu-id="f5fda-172">Os tipos de função válido são `freshness`, `magnitude`, `distance` e `tag`.</span><span class="sxs-lookup"><span data-stu-id="f5fda-172">Valid function types are `freshness`, `magnitude`, `distance` and `tag`.</span></span> <span data-ttu-id="f5fda-173">Cada função tem parâmetros que são tooit exclusivo.</span><span class="sxs-lookup"><span data-stu-id="f5fda-173">Each function has parameters that are unique tooit.</span></span>

* <span data-ttu-id="f5fda-174">`freshness`deve ser utilizado quando quiser tooboost pelo novo ou antigo como um item é.</span><span class="sxs-lookup"><span data-stu-id="f5fda-174">`freshness` should be used when you want tooboost by how new or old an item is.</span></span> <span data-ttu-id="f5fda-175">Esta função só pode ser utilizada com os campos datetime (`Edm.DataTimeOffset`).</span><span class="sxs-lookup"><span data-stu-id="f5fda-175">This function can only be used with datetime fields (`Edm.DataTimeOffset`).</span></span> <span data-ttu-id="f5fda-176">Olá nota `boostingDuration` atributo é utilizado apenas com a função de reatualização Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-176">Note hello `boostingDuration` attribute is used only with hello freshness function.</span></span>
* <span data-ttu-id="f5fda-177">`magnitude`deve ser utilizado quando quiser é tooboost com base na forma como elevado ou baixo um valor numérico.</span><span class="sxs-lookup"><span data-stu-id="f5fda-177">`magnitude` should be used when you want tooboost based on how high or low a numeric value is.</span></span> <span data-ttu-id="f5fda-178">Os cenários que chamam para esta função incluem os aumentos por margem de lucros, preços mais elevado, preços mais baixo ou um número de transferências.</span><span class="sxs-lookup"><span data-stu-id="f5fda-178">Scenarios that call for this function include boosting by profit margin, highest price, lowest price, or a count of downloads.</span></span> <span data-ttu-id="f5fda-179">É possível inverter intervalo Olá, toolow elevada, se pretender que o padrão de inverso Olá (por exemplo, tooboost um preço inferior itens mais do que um preço superior itens).</span><span class="sxs-lookup"><span data-stu-id="f5fda-179">You can reverse hello range, high toolow, if you want hello inverse pattern (for example, tooboost lower-priced items more than higher-priced items).</span></span> <span data-ttu-id="f5fda-180">Fornecido um intervalo de preços de $100 demasiado$ 1, deverá definir `boostingRangeStart` em 100 e `boostingRangeEnd` em itens de um preço inferior Olá de 1 tooboost.</span><span class="sxs-lookup"><span data-stu-id="f5fda-180">Given a range of prices from $100 too$1, you would set `boostingRangeStart` at 100 and `boostingRangeEnd` at 1 tooboost hello lower-priced items.</span></span> <span data-ttu-id="f5fda-181">Esta função só pode ser utilizada com campos de valor de duplo e o número inteiro.</span><span class="sxs-lookup"><span data-stu-id="f5fda-181">This function can only be used with double and integer fields.</span></span>
* <span data-ttu-id="f5fda-182">`distance`deve ser utilizada quando quiser tooboost por proximidade ou localização geográfica.</span><span class="sxs-lookup"><span data-stu-id="f5fda-182">`distance` should be used when you want tooboost by proximity or geographic location.</span></span> <span data-ttu-id="f5fda-183">Esta função só pode ser utilizada com `Edm.GeographyPoint` campos.</span><span class="sxs-lookup"><span data-stu-id="f5fda-183">This function can only be used with `Edm.GeographyPoint` fields.</span></span>
* <span data-ttu-id="f5fda-184">`tag`deve ser utilizado quando quiser tooboost por etiquetas em comum entre documentos e consultas de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="f5fda-184">`tag` should be used when you want tooboost by tags in common between documents and search queries.</span></span> <span data-ttu-id="f5fda-185">Esta função só pode ser utilizada com `Edm.String` e `Collection(Edm.String)` campos.</span><span class="sxs-lookup"><span data-stu-id="f5fda-185">This function can only be used with `Edm.String` and `Collection(Edm.String)` fields.</span></span>

#### <a name="rules-for-using-functions"></a><span data-ttu-id="f5fda-186">Regras para a utilização de funções</span><span class="sxs-lookup"><span data-stu-id="f5fda-186">Rules for using functions</span></span>
* <span data-ttu-id="f5fda-187">Tipo de função (reatualização magnitude, distância, tag) tem de ser minúsculas.</span><span class="sxs-lookup"><span data-stu-id="f5fda-187">Function type (freshness, magnitude, distance, tag) must be lower case.</span></span>
* <span data-ttu-id="f5fda-188">As funções não podem incluir valores nulos nem vazios.</span><span class="sxs-lookup"><span data-stu-id="f5fda-188">Functions cannot include null or empty values.</span></span> <span data-ttu-id="f5fda-189">Especificamente, se incluir fieldname, terá de tooset-toosomething.</span><span class="sxs-lookup"><span data-stu-id="f5fda-189">Specifically, if you include fieldname, you have tooset it toosomething.</span></span>
* <span data-ttu-id="f5fda-190">As funções só podem ser aplicados toofilterable campos.</span><span class="sxs-lookup"><span data-stu-id="f5fda-190">Functions can only be applied toofilterable fields.</span></span> <span data-ttu-id="f5fda-191">Consulte [Create Index](search-api-2015-02-28-preview.md#CreateIndex) para obter mais informações sobre campos filtráveis.</span><span class="sxs-lookup"><span data-stu-id="f5fda-191">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) for more information about filterable fields.</span></span>
* <span data-ttu-id="f5fda-192">As funções só podem ser aplicados toofields que estão definidos na coleção de campos de Olá de um índice.</span><span class="sxs-lookup"><span data-stu-id="f5fda-192">Functions can only be applied toofields that are defined in hello fields collection of an index.</span></span>

<span data-ttu-id="f5fda-193">Depois de índice de Olá estiver definido, crie índice Olá ao carregar o esquema de índice Olá, seguido de documentos.</span><span class="sxs-lookup"><span data-stu-id="f5fda-193">After hello index is defined, build hello index by uploading hello index schema, followed by documents.</span></span> <span data-ttu-id="f5fda-194">Consulte [Create Index](search-api-2015-02-28-preview.md#CreateIndex) e [adicionar ou atualizar documentos](search-api-2015-02-28-preview.md#AddOrUpdateDocuments) para obter instruções sobre estas operações.</span><span class="sxs-lookup"><span data-stu-id="f5fda-194">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) and [Add or Update Documents](search-api-2015-02-28-preview.md#AddOrUpdateDocuments) for instructions on these operations.</span></span> <span data-ttu-id="f5fda-195">Uma vez que é criado o índice de Olá, deve ter um perfil de classificação funcional que funciona com os seus dados de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="f5fda-195">Once hello index is built, you should have a functional scoring profile that works with your search data.</span></span>

<a name="bkmk_template"></a>

## <a name="template"></a><span data-ttu-id="f5fda-196">Modelo</span><span class="sxs-lookup"><span data-stu-id="f5fda-196">Template</span></span>
<span data-ttu-id="f5fda-197">Esta secção mostra a sintaxe de Olá e o modelo para perfis de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-197">This section shows hello syntax and template for scoring profiles.</span></span> <span data-ttu-id="f5fda-198">Consulte demasiado[referência do atributo de índice](#bkmk_indexref) na secção seguinte, Olá para obter descrições de atributos de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-198">Refer too[Index attribute reference](#bkmk_indexref) in hello next section for descriptions of hello attributes.</span></span>

    ...
    "scoringProfiles": [
      {
        "name": "name of scoring profile",
        "text": (optional, only applies toosearchable fields) {
          "weights": {
            "searchable_field_name": relative_weight_value (positive #'s),
            ...
          }
        },
        "functions": (optional) [
          {
            "type": "magnitude | freshness | distance | tag",
            "boost": # (positive number used as multiplier for raw score != 1),
            "fieldName": "...",
            "interpolation": "constant | linear (default) | quadratic | logarithmic",

            "magnitude": {
              "boostingRangeStart": #,
              "boostingRangeEnd": #,
              "constantBoostBeyondRange": true | false (default)
            }

            // (- or -)

            "freshness": {
              "boostingDuration": "..." (value representing timespan over which boosting occurs)
            }

            // (- or -)

            "distance": {
              "referencePointParameter": "...", (parameter toobe passed in queries toouse as reference location)
              "boostingDistance": # (hello distance in kilometers from hello reference location where hello boosting range ends)
            }

            // (- or -)

            "tag": {
              "tagsParameter": "..." (parameter toobe passed in queries toospecify list of tags toocompare against target field)
            }
          }
        ],
        "functionAggregation": (optional, applies only when functions are specified)
            "sum (default) | average | minimum | maximum | firstMatching"
      }
    ],
    "defaultScoringProfile": (optional) "...",
    ...

<a name="bkmk_indexref"></a>

## <a name="scoring-profile-property-reference"></a><span data-ttu-id="f5fda-199">Referência da propriedade de perfil de classificação</span><span class="sxs-lookup"><span data-stu-id="f5fda-199">Scoring profile property reference</span></span>
> [!NOTE]
> <span data-ttu-id="f5fda-200">Uma função de classificação só pode ser aplicados toofields que são filtrável.</span><span class="sxs-lookup"><span data-stu-id="f5fda-200">A scoring function can only be applied toofields that are filterable.</span></span>
>
>

| <span data-ttu-id="f5fda-201">Propriedade</span><span class="sxs-lookup"><span data-stu-id="f5fda-201">Property</span></span> | <span data-ttu-id="f5fda-202">Descrição</span><span class="sxs-lookup"><span data-stu-id="f5fda-202">Description</span></span> |
| --- | --- |
| `name` |<span data-ttu-id="f5fda-203">Necessário.</span><span class="sxs-lookup"><span data-stu-id="f5fda-203">Required.</span></span> <span data-ttu-id="f5fda-204">Este é o nome de Olá de Olá perfil de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-204">This is hello name of hello scoring profile.</span></span> <span data-ttu-id="f5fda-205">-Forma Olá mesmas convenções de nomenclatura de um campo.</span><span class="sxs-lookup"><span data-stu-id="f5fda-205">It follows hello same naming conventions of a field.</span></span> <span data-ttu-id="f5fda-206">-Tem de começar com uma letra, não pode conter pontos, vírgula ou @ símbolos e não pode começar com o frase Olá "azuresearch, uma vez" (maiúsculas e minúsculas).</span><span class="sxs-lookup"><span data-stu-id="f5fda-206">It must start with a letter, cannot contain dots, colons or @ symbols, and cannot start with hello phrase "azureSearch" (case-sensitive).</span></span> |
| `text` |<span data-ttu-id="f5fda-207">Contém a propriedade de ponderações Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-207">Contains hello Weights property.</span></span> |
| `weights` |<span data-ttu-id="f5fda-208">Opcional.</span><span class="sxs-lookup"><span data-stu-id="f5fda-208">Optional.</span></span> <span data-ttu-id="f5fda-209">Um par nome / valor que especifica um nome de campo e o peso relativo.</span><span class="sxs-lookup"><span data-stu-id="f5fda-209">A name-value pair that specifies a field name and relative weight.</span></span> <span data-ttu-id="f5fda-210">Peso relativo tem de ser um número inteiro positivo ou o número de vírgula flutuante.</span><span class="sxs-lookup"><span data-stu-id="f5fda-210">Relative weight must be a positive integer or floating-point number.</span></span> <span data-ttu-id="f5fda-211">Pode especificar o nome do campo Olá sem uma ponderação correspondente.</span><span class="sxs-lookup"><span data-stu-id="f5fda-211">You can specify hello field name without a corresponding weight.</span></span> <span data-ttu-id="f5fda-212">Ponderações são utilizados tooindicate Olá importância de tooanother relativo de um campo.</span><span class="sxs-lookup"><span data-stu-id="f5fda-212">Weights are used tooindicate hello importance of one field relative tooanother.</span></span> |
| `functions` |<span data-ttu-id="f5fda-213">Opcional.</span><span class="sxs-lookup"><span data-stu-id="f5fda-213">Optional.</span></span> <span data-ttu-id="f5fda-214">Tenha em atenção que uma função de classificação só pode ser aplicados toofields que são filtrável.</span><span class="sxs-lookup"><span data-stu-id="f5fda-214">Note that a scoring function can only be applied toofields that are filterable.</span></span> |
| `type` |<span data-ttu-id="f5fda-215">Necessário para funções de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-215">Required for scoring functions.</span></span> <span data-ttu-id="f5fda-216">Indica o tipo de Olá de toouse de função.</span><span class="sxs-lookup"><span data-stu-id="f5fda-216">Indicates hello type of function toouse.</span></span> <span data-ttu-id="f5fda-217">Os valores válidos incluem `magnitude`, `freshness`, `distance` e `tag`.</span><span class="sxs-lookup"><span data-stu-id="f5fda-217">Valid values include `magnitude`, `freshness`, `distance` and `tag`.</span></span> <span data-ttu-id="f5fda-218">Pode incluir mais de uma função em cada perfil de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-218">You can include more than one function in each scoring profile.</span></span> <span data-ttu-id="f5fda-219">o nome de função Olá tem de ser minúsculas.</span><span class="sxs-lookup"><span data-stu-id="f5fda-219">hello function name must be lower case.</span></span> |
| `boost` |<span data-ttu-id="f5fda-220">Necessário para funções de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-220">Required for scoring functions.</span></span> <span data-ttu-id="f5fda-221">Um número positivo utilizado como multiplicador para a classificação não processada.</span><span class="sxs-lookup"><span data-stu-id="f5fda-221">A positive number used as multiplier for raw score.</span></span> <span data-ttu-id="f5fda-222">Não pode ser too1 igual.</span><span class="sxs-lookup"><span data-stu-id="f5fda-222">It cannot be equal too1.</span></span> |
| `fieldName` |<span data-ttu-id="f5fda-223">Necessário para funções de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-223">Required for scoring functions.</span></span> <span data-ttu-id="f5fda-224">Uma função de classificação só pode ser aplicados toofields que fazem parte da coleção de campo Olá do índice de Olá e que são filtrável.</span><span class="sxs-lookup"><span data-stu-id="f5fda-224">A scoring function can only be applied toofields that are part of hello field collection of hello index, and that are filterable.</span></span> <span data-ttu-id="f5fda-225">Além disso, cada tipo de função apresenta as restrições adicionais (reatualização é utilizada com os campos datetime, magnitude com um número inteiro ou duplo campos, distância com campos de localização e etiqueta com a cadeia ou campos de coleção de cadeia).</span><span class="sxs-lookup"><span data-stu-id="f5fda-225">In addition, each function type introduces additional restrictions (freshness is used with datetime fields, magnitude with integer or double fields, distance with location fields and tag with string or string collection fields).</span></span> <span data-ttu-id="f5fda-226">Só é possível especificar um único campo por definição de função.</span><span class="sxs-lookup"><span data-stu-id="f5fda-226">You can only specify a single field per function definition.</span></span> <span data-ttu-id="f5fda-227">Para o exemplo, toouse magnitude duas vezes em Olá mesmo perfil, terá de magnitude de definições de tooinclude dois, um para cada campo.</span><span class="sxs-lookup"><span data-stu-id="f5fda-227">For example, toouse magnitude twice in hello same profile, you would need tooinclude two definitions magnitude, one for each field.</span></span> |
| `interpolation` |<span data-ttu-id="f5fda-228">Necessário para funções de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-228">Required for scoring functions.</span></span> <span data-ttu-id="f5fda-229">Define o declive Olá para a classificação que Olá os aumentos aumentam desde início Olá Olá toohello final do intervalo de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-229">Defines hello slope for which hello score boosting increases from hello start of hello range toohello end of hello range.</span></span> <span data-ttu-id="f5fda-230">Os valores válidos incluem `linear` (predefinição), `constant`, `quadratic`, e `logarithmic`.</span><span class="sxs-lookup"><span data-stu-id="f5fda-230">Valid values include `linear` (default), `constant`, `quadratic`, and `logarithmic`.</span></span> <span data-ttu-id="f5fda-231">Consulte [definir interpolations](#bkmk_interpolation) para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="f5fda-231">See [Set interpolations](#bkmk_interpolation) for details.</span></span> |
| `magnitude` |<span data-ttu-id="f5fda-232">função de pontuação de magnitude de Olá é as classificações de tooalter utilizados com base no intervalo de Olá de valores de um campo numérico.</span><span class="sxs-lookup"><span data-stu-id="f5fda-232">hello magnitude scoring function is used tooalter rankings based on hello range of values for a numeric field.</span></span> <span data-ttu-id="f5fda-233">Alguns exemplos de mais comuns utilização Olá deste são:</span><span class="sxs-lookup"><span data-stu-id="f5fda-233">Some of hello most common usage examples of this are:</span></span><ul><li><span data-ttu-id="f5fda-234">Classificações em estrelas: Alter Olá classificação com base no valor de Olá no campo "Estrela de classificação" Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-234">Star ratings: Alter hello scoring based on hello value within hello "Star Rating" field.</span></span> <span data-ttu-id="f5fda-235">Quando dois itens são relevantes, item de Olá com a classificação superior Olá apresentada pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="f5fda-235">When two items are relevant, hello item with hello higher rating will be displayed first.</span></span></li><li><span data-ttu-id="f5fda-236">A margem: Quando dois documentos são relevantes, um revendedor poderá desejar tooboost documentos que tenham as margens superiores pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="f5fda-236">Margin: When two documents are relevant, a retailer may wish tooboost documents that have higher margins first.</span></span></li><li><span data-ttu-id="f5fda-237">Clique em contagens: para aplicações que controlam clique através de ações tooproducts ou páginas, pode utilizar itens de tooboost de magnitude tendem tooget Olá maioria do tráfego.</span><span class="sxs-lookup"><span data-stu-id="f5fda-237">Click counts: For applications that track click through actions tooproducts or pages, you could use magnitude tooboost items that tend tooget hello most traffic.</span></span></li><li><span data-ttu-id="f5fda-238">Transferir contagens: para aplicações que controlam as transferências, Olá magnitude função permite melhorar itens que tenham Olá a maioria das transferências.</span><span class="sxs-lookup"><span data-stu-id="f5fda-238">Download counts: For applications that track downloads, hello magnitude function lets you boost items that have hello most downloads.</span></span></li></ul> |
| `magnitude:boostingRangeStart` |<span data-ttu-id="f5fda-239">Olá conjuntos iniciar o valor do intervalo de Olá durante o qual é classificada a magnitude.</span><span class="sxs-lookup"><span data-stu-id="f5fda-239">Sets hello start value of hello range over which magnitude is scored.</span></span> <span data-ttu-id="f5fda-240">valor de Olá tem de ser um número inteiro ou o número de vírgula flutuante.</span><span class="sxs-lookup"><span data-stu-id="f5fda-240">hello value must be an integer or floating-point number.</span></span> <span data-ttu-id="f5fda-241">Para classificações em estrelas de 1 a 4, isto seria 1.</span><span class="sxs-lookup"><span data-stu-id="f5fda-241">For star ratings of 1 through 4, this would be 1.</span></span> <span data-ttu-id="f5fda-242">Para margens superiores a 50%, isto seria 50.</span><span class="sxs-lookup"><span data-stu-id="f5fda-242">For margins over 50%, this would be 50.</span></span> |
| `magnitude:boostingRangeEnd` |<span data-ttu-id="f5fda-243">Define o valor de fim de Olá do intervalo de Olá durante o qual é classificada a magnitude.</span><span class="sxs-lookup"><span data-stu-id="f5fda-243">Sets hello end value of hello range over which magnitude is scored.</span></span> <span data-ttu-id="f5fda-244">valor de Olá tem de ser um número inteiro ou o número de vírgula flutuante.</span><span class="sxs-lookup"><span data-stu-id="f5fda-244">hello value must be an integer or floating-point number.</span></span> <span data-ttu-id="f5fda-245">Para classificações em estrelas de 1 a 4, isto seria 4.</span><span class="sxs-lookup"><span data-stu-id="f5fda-245">For star ratings of 1 through 4, this would be 4.</span></span> |
| `magnitude:constantBoostBeyondRange` |<span data-ttu-id="f5fda-246">Os valores válidos são VERDADEIRO ou FALSO (predefinição).</span><span class="sxs-lookup"><span data-stu-id="f5fda-246">Valid values are true or false (default).</span></span> <span data-ttu-id="f5fda-247">Quando definida tootrue, aumento total Olá continuará toodocuments tooapply que tenham um valor para o campo de destino Olá que seja superior ao mais Olá superior do intervalo de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-247">When set tootrue, hello full boost will continue tooapply toodocuments that have a value for hello target field that’s higher than hello upper end of hello range.</span></span> <span data-ttu-id="f5fda-248">Se for FALSO, a intensificação desta função Olá será aplicado toodocuments que tenham um valor para o campo de destino Olá que esteja fora do intervalo de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-248">If false, hello boost of this function won’t be applied toodocuments having a value for hello target field that falls outside of hello range.</span></span> |
| `freshness` |<span data-ttu-id="f5fda-249">a função de classificação de atualização de Olá é utilizado tooalter classificação pontuações das classificações para itens com base em valores nos campos DateTimeOffset.</span><span class="sxs-lookup"><span data-stu-id="f5fda-249">hello freshness scoring function is used tooalter ranking scores for items based on values in DateTimeOffset fields.</span></span> <span data-ttu-id="f5fda-250">Por exemplo, um item com uma data mais recente pode ser ordenado superior do que os itens mais antigos.</span><span class="sxs-lookup"><span data-stu-id="f5fda-250">For example, an item with a more recent date can be ranked higher than older items.</span></span> <span data-ttu-id="f5fda-251">(Tenha em atenção que também é possível toorank itens, como eventos de calendário com datas futuras que itens toohello próximo presente pode classificar superior mais itens na Olá futura.) A versão de serviço atual Olá, um fim do intervalo de Olá irá ser corrigido toohello hora atual.</span><span class="sxs-lookup"><span data-stu-id="f5fda-251">(Note that it is also possible toorank items like calendar events with future dates such that items closer toohello present can be ranked higher than items further in hello future.) In hello current service release, one end of hello range will be fixed toohello current time.</span></span> <span data-ttu-id="f5fda-252">Olá outra extremidade é uma hora no Olá passado com base no Olá `boostingDuration`.</span><span class="sxs-lookup"><span data-stu-id="f5fda-252">hello other end is a time in hello past based on hello `boostingDuration`.</span></span> <span data-ttu-id="f5fda-253">tooboost um intervalo de horas no Olá futura utilizar negativo `boostingDuration`.</span><span class="sxs-lookup"><span data-stu-id="f5fda-253">tooboost a range of times in hello future use a negative `boostingDuration`.</span></span> <span data-ttu-id="f5fda-254">taxa de Olá no qual Olá os aumentos alterações a partir de um intervalo mínimo e máximo é determinado pelo Olá interpolação aplicada toohello perfil de classificação (consulte a figura Olá abaixo).</span><span class="sxs-lookup"><span data-stu-id="f5fda-254">hello rate at which hello boosting changes from a maximum and minimum range is determined by hello Interpolation applied toohello scoring profile (see hello figure below).</span></span> <span data-ttu-id="f5fda-255">tooreverse Olá fator aumento aplicada, escolha um fator de aumento de menor que 1.</span><span class="sxs-lookup"><span data-stu-id="f5fda-255">tooreverse hello boosting factor applied, choose a boost factor of less than 1.</span></span> |
| `freshness:boostingDuration` |<span data-ttu-id="f5fda-256">Define um período de expiração após o qual os aumentos param para um documento em particular.</span><span class="sxs-lookup"><span data-stu-id="f5fda-256">Sets an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="f5fda-257">Consulte [definir boostingDuration](#bkmk_boostdur) no Olá secção para a sintaxe e exemplos a seguir.</span><span class="sxs-lookup"><span data-stu-id="f5fda-257">See [Set boostingDuration](#bkmk_boostdur) in hello following section for syntax and examples.</span></span> |
| `distance` |<span data-ttu-id="f5fda-258">distância Olá da classificação de função é Olá tooaffect utilizados pontuação dos documentos com base na fechar ou até que ponto são localização geográfica de referência tooa relativo.</span><span class="sxs-lookup"><span data-stu-id="f5fda-258">hello distance scoring function is used tooaffect hello score of documents based on how close or far they are relative tooa reference geographic location.</span></span> <span data-ttu-id="f5fda-259">localização de referência de Olá é fornecida como parte da consulta de Olá num parâmetro (utilizando Olá `scoringParameter` parâmetro de consulta) como um lon, lat argumento.</span><span class="sxs-lookup"><span data-stu-id="f5fda-259">hello reference location is given as part of hello query in a parameter (using hello `scoringParameter` query parameter) as a lon,lat argument.</span></span> |
| `distance:referencePointParameter` |<span data-ttu-id="f5fda-260">Toobe um parâmetro transmitido consultas toouse como localização de referência.</span><span class="sxs-lookup"><span data-stu-id="f5fda-260">A parameter toobe passed in queries toouse as reference location.</span></span> <span data-ttu-id="f5fda-261">scoringParameter é um parâmetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="f5fda-261">scoringParameter is a query parameter.</span></span> <span data-ttu-id="f5fda-262">Consulte [documentos sobre pesquisa](search-api-2015-02-28-preview.md#SearchDocs) para obter descrições de parâmetros de consulta.</span><span class="sxs-lookup"><span data-stu-id="f5fda-262">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `distance:boostingDistance` |<span data-ttu-id="f5fda-263">Um número que indica a distância Olá em quilómetros, da localização de referência de olá onde Olá os aumentos intervalo termina.</span><span class="sxs-lookup"><span data-stu-id="f5fda-263">A number that indicates hello distance in kilometers from hello reference location where hello boosting range ends.</span></span> |
| `tag` |<span data-ttu-id="f5fda-264">Olá tag de classificação de função é utilizada pontuação de Olá tooaffect dos documentos com base nas etiquetas em documentos e consultas de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="f5fda-264">hello tag scoring function is used tooaffect hello score of documents based on tags in documents and search queries.</span></span> <span data-ttu-id="f5fda-265">Documentos que tenham etiquetas in common with consulta de pesquisa de Olá irão ser elevados.</span><span class="sxs-lookup"><span data-stu-id="f5fda-265">Documents that have tags in common with hello search query will be boosted.</span></span> <span data-ttu-id="f5fda-266">Olá etiquetas para consulta de pesquisa de Olá é fornecida como um parâmetro de classificação em cada pedido de pesquisa (utilizando Olá `scoringParameter` parâmetro de consulta).</span><span class="sxs-lookup"><span data-stu-id="f5fda-266">hello tags for hello search query is provided as a scoring parameter in each search request(using hello `scoringParameter` query parameter).</span></span> |
| `tag:tagsParameter` |<span data-ttu-id="f5fda-267">Toobe um parâmetro transmitido nas consultas toospecify etiquetas para um pedido específico.</span><span class="sxs-lookup"><span data-stu-id="f5fda-267">A parameter toobe passed in queries toospecify tags for a particular request.</span></span> <span data-ttu-id="f5fda-268">`scoringParameter`é um parâmetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="f5fda-268">`scoringParameter` is a query parameter.</span></span> <span data-ttu-id="f5fda-269">Consulte [documentos sobre pesquisa](search-api-2015-02-28-preview.md#SearchDocs) para obter descrições de parâmetros de consulta.</span><span class="sxs-lookup"><span data-stu-id="f5fda-269">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `functionAggregation` |<span data-ttu-id="f5fda-270">Opcional.</span><span class="sxs-lookup"><span data-stu-id="f5fda-270">Optional.</span></span> <span data-ttu-id="f5fda-271">Aplica-se apenas quando as funções são especificadas.</span><span class="sxs-lookup"><span data-stu-id="f5fda-271">Applies only when functions are specified.</span></span> <span data-ttu-id="f5fda-272">Os valores válidos incluem: `sum` (predefinição), `average`, `minimum`, `maximum`, e `firstMatching`.</span><span class="sxs-lookup"><span data-stu-id="f5fda-272">Valid values include: `sum` (default), `average`, `minimum`, `maximum`, and `firstMatching`.</span></span> <span data-ttu-id="f5fda-273">Uma pontuação de pesquisa é um valor único, que é calculado a partir de várias variáveis, incluindo várias funções.</span><span class="sxs-lookup"><span data-stu-id="f5fda-273">A search score is a single value that is computed from multiple variables, including multiple functions.</span></span> <span data-ttu-id="f5fda-274">Este atributos indica como boosts Olá de todas as funções de Olá são combinados necessita de uma único agregada aumento que é então aplicado toohello base pontuação de documento.</span><span class="sxs-lookup"><span data-stu-id="f5fda-274">This attributes indicates how hello boosts of all hello functions are combined into a single aggregate boost that is then applied toohello base document score.</span></span> <span data-ttu-id="f5fda-275">pontuação base Olá baseia-se no valor de tf-idf Olá calculado a partir do documento Olá e consulta de pesquisa de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-275">hello base score is based on hello tf-idf value computed from hello document and hello search query.</span></span> |
| `defaultScoringProfile` |<span data-ttu-id="f5fda-276">Quando executar um pedido de pesquisa, não se for especificado nenhum perfil de classificação, em seguida, predefinidas de classificação é utilizada (tf-idf apenas).</span><span class="sxs-lookup"><span data-stu-id="f5fda-276">When executing a search request, if no scoring profile is specified, then default scoring is used (tf-idf only).</span></span> <span data-ttu-id="f5fda-277">Uma predefinição de nome do perfil de classificação pode ser definida aqui, fazendo com que da Azure Search toouse esse perfil quando nenhum perfil específico é dado em pedido de pesquisa de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-277">A default scoring profile name can be set here, causing Azure Search toouse that profile when no specific profile is given in hello search request.</span></span> |

<a name="bkmk_interpolation"></a>

## <a name="set-interpolations"></a><span data-ttu-id="f5fda-278">Conjunto interpolations</span><span class="sxs-lookup"><span data-stu-id="f5fda-278">Set interpolations</span></span>
<span data-ttu-id="f5fda-279">Interpolations permitem-lhe declive de Olá toodefine para a classificação que Olá os aumentos aumentam desde início Olá Olá toohello final do intervalo de Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-279">Interpolations allow you toodefine hello slope for which hello score boosting increases from hello start of hello range toohello end of hello range.</span></span> <span data-ttu-id="f5fda-280">pode ser utilizado Olá interpolations os seguintes:</span><span class="sxs-lookup"><span data-stu-id="f5fda-280">hello following interpolations can be used:</span></span>

* <span data-ttu-id="f5fda-281">`Linear`: Para itens que se encontrem dentro de Olá máximo e mínimo intervalo, Olá intensificação aplicada toohello item será efetuada num período constantemente diminuir.</span><span class="sxs-lookup"><span data-stu-id="f5fda-281">`Linear`: For items that are within hello max and min range, hello boost applied toohello item will be done in a constantly decreasing amount.</span></span> <span data-ttu-id="f5fda-282">Linear é interpolação de predefinição Olá para um perfil de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-282">Linear is hello default interpolation for a scoring profile.</span></span>
* <span data-ttu-id="f5fda-283">`Constant`: Para itens que se encontrem dentro de Olá inicial e final do intervalo, um aumento constante será aplicado toohello resultados de classificação.</span><span class="sxs-lookup"><span data-stu-id="f5fda-283">`Constant`: For items that are within hello start and ending range, a constant boost will be applied toohello rank results.</span></span>
* <span data-ttu-id="f5fda-284">`Quadratic`: Na comparação tooa interpolação Linear que tenha um aumento constantemente diminuir, Quadratic inicialmente irá diminuir ao ritmo mais pequeno e, em seguida, como os se aproxima intervalo de fim de Olá,-diminui num intervalo muito superior.</span><span class="sxs-lookup"><span data-stu-id="f5fda-284">`Quadratic`: In comparison tooa Linear interpolation that has a constantly decreasing boost, Quadratic will initially decrease at smaller pace and then as it approaches hello end range, it decreases at a much higher interval.</span></span> <span data-ttu-id="f5fda-285">Esta opção de interpolação não é permitida numa tag da classificação de funções.</span><span class="sxs-lookup"><span data-stu-id="f5fda-285">This interpolation option is not allowed in tag scoring functions.</span></span>
* <span data-ttu-id="f5fda-286">`Logarithmic`: Na comparação tooa interpolação Linear que tenha um aumento constantemente diminuir, Logarithmic inicialmente irá diminuir ao ritmo superior e, em seguida, como os se aproxima intervalo de fim de Olá,-diminui num intervalo muito menor.</span><span class="sxs-lookup"><span data-stu-id="f5fda-286">`Logarithmic`: In comparison tooa Linear interpolation that has a constantly decreasing boost, Logarithmic will initially decrease at higher pace and then as it approaches hello end range, it decreases at a much smaller interval.</span></span> <span data-ttu-id="f5fda-287">Esta opção de interpolação não é permitida numa tag da classificação de funções.</span><span class="sxs-lookup"><span data-stu-id="f5fda-287">This interpolation option is not allowed in tag scoring functions.</span></span>

<span data-ttu-id="f5fda-288"><a name="Figure1"></a> ![][1]</span><span class="sxs-lookup"><span data-stu-id="f5fda-288"><a name="Figure1"></a> ![][1]</span></span>

<a name="bkmk_boostdur"></a>

## <a name="set-boostingduration"></a><span data-ttu-id="f5fda-289">Conjunto boostingDuration</span><span class="sxs-lookup"><span data-stu-id="f5fda-289">Set boostingDuration</span></span>
<span data-ttu-id="f5fda-290">`boostingDuration`é um atributo da função de reatualização Olá.</span><span class="sxs-lookup"><span data-stu-id="f5fda-290">`boostingDuration` is an attribute of hello freshness function.</span></span> <span data-ttu-id="f5fda-291">Pode utilizá-lo tooset um período de expiração após o qual os aumentos param para um documento em particular.</span><span class="sxs-lookup"><span data-stu-id="f5fda-291">You use it tooset an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="f5fda-292">Por exemplo, tooboost uma linha de produto ou marca durante um período de promocional de 10 dias, tem de especificar período de 10 dias Olá como "P10D" para esses documentos.</span><span class="sxs-lookup"><span data-stu-id="f5fda-292">For example, tooboost a product line or brand for a 10-day promotional period, you would specify hello 10-day period as "P10D" for those documents.</span></span> <span data-ttu-id="f5fda-293">Ou especifique tooboost futuros eventos Olá próximas semanas "-P7D".</span><span class="sxs-lookup"><span data-stu-id="f5fda-293">Or tooboost upcoming events in hello next week specify "-P7D".</span></span>

<span data-ttu-id="f5fda-294">`boostingDuration`tem de ser formatado como um valor de "dayTimeDuration" XSD (um subconjunto restrito de um valor de duração ISO 8601).</span><span class="sxs-lookup"><span data-stu-id="f5fda-294">`boostingDuration` must be formatted as an XSD "dayTimeDuration" value (a restricted subset of an ISO 8601 duration value).</span></span> <span data-ttu-id="f5fda-295">Olá padrão para isto é: `[-]P[nD][T[nH][nM][nS]]`.</span><span class="sxs-lookup"><span data-stu-id="f5fda-295">hello pattern for this is: `[-]P[nD][T[nH][nM][nS]]`.</span></span>

<span data-ttu-id="f5fda-296">Olá, a tabela seguinte fornece vários exemplos.</span><span class="sxs-lookup"><span data-stu-id="f5fda-296">hello following table provides several examples.</span></span>

| <span data-ttu-id="f5fda-297">Duração</span><span class="sxs-lookup"><span data-stu-id="f5fda-297">Duration</span></span> | <span data-ttu-id="f5fda-298">boostingDuration</span><span class="sxs-lookup"><span data-stu-id="f5fda-298">boostingDuration</span></span> |
| --- | --- |
| <span data-ttu-id="f5fda-299">1 dia</span><span class="sxs-lookup"><span data-stu-id="f5fda-299">1 day</span></span> |<span data-ttu-id="f5fda-300">"P1D"</span><span class="sxs-lookup"><span data-stu-id="f5fda-300">"P1D"</span></span> |
| <span data-ttu-id="f5fda-301">2 dias e 12 horas</span><span class="sxs-lookup"><span data-stu-id="f5fda-301">2 days and 12 hours</span></span> |<span data-ttu-id="f5fda-302">"P2DT12H"</span><span class="sxs-lookup"><span data-stu-id="f5fda-302">"P2DT12H"</span></span> |
| <span data-ttu-id="f5fda-303">15 minutos</span><span class="sxs-lookup"><span data-stu-id="f5fda-303">15 minutes</span></span> |<span data-ttu-id="f5fda-304">"PT15M"</span><span class="sxs-lookup"><span data-stu-id="f5fda-304">"PT15M"</span></span> |
| <span data-ttu-id="f5fda-305">30 dias, 5 horas, 10 minutos, e 6.334 segundos</span><span class="sxs-lookup"><span data-stu-id="f5fda-305">30 days, 5 hours, 10 minutes, and 6.334 seconds</span></span> |<span data-ttu-id="f5fda-306">"P30DT5H10M6.334S"</span><span class="sxs-lookup"><span data-stu-id="f5fda-306">"P30DT5H10M6.334S"</span></span> |

<span data-ttu-id="f5fda-307">Para obter mais exemplos, consulte [esquema XML: tipos de dados (W3.org web site)](http://www.w3.org/TR/xmlschema11-2/).</span><span class="sxs-lookup"><span data-stu-id="f5fda-307">For more examples, see [XML Schema: Datatypes (W3.org web site)](http://www.w3.org/TR/xmlschema11-2/).</span></span>

<span data-ttu-id="f5fda-308">**Consulte também**
[API de REST do serviço de pesquisa do Azure](http://msdn.microsoft.com/library/azure/dn798935.aspx) no MSDN</span><span class="sxs-lookup"><span data-stu-id="f5fda-308">**See Also**
[Azure Search Service REST API](http://msdn.microsoft.com/library/azure/dn798935.aspx) on MSDN</span></span> <br/><span data-ttu-id="f5fda-309">
[Criar índice (pesquisa do Azure API)](http://msdn.microsoft.com/library/azure/dn798941.aspx) no MSDN</span><span class="sxs-lookup"><span data-stu-id="f5fda-309">
[Create Index (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798941.aspx) on MSDN</span></span><br/><span data-ttu-id="f5fda-310">
[Adicione um índice de pesquisa de tooa perfil classificação](http://msdn.microsoft.com/library/azure/dn798928.aspx) no MSDN</span><span class="sxs-lookup"><span data-stu-id="f5fda-310">
[Add a scoring profile tooa search index](http://msdn.microsoft.com/library/azure/dn798928.aspx) on MSDN</span></span><br/>

<!--Image references-->
[1]: ./media/search-api-scoring-profiles-2015-02-28-Preview/scoring_interpolations.png
