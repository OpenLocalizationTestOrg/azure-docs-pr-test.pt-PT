---
title: Guia de aaaTroubleshooting para o Azure Stream Analytics | Microsoft Docs
description: Como tootroubleshoot a tarefa de Stream Analytics
keywords: "Guia de resolução de problemas"
documentationcenter: 
services: stream-analytics
author: jeffstokes72
manager: jhubbard
editor: cgronlun
ms.assetid: 
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 04/20/2017
ms.author: jeffstok
ms.openlocfilehash: 4add48054e06a7d8eb617a08595c1be4555c59d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshooting-guide-for-azure-stream-analytics"></a><span data-ttu-id="0965b-104">Guia de resolução de problemas para o Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0965b-104">Troubleshooting guide for Azure Stream Analytics</span></span>

<span data-ttu-id="0965b-105">Resolução de problemas de Stream Analytics do Azure o pode aparecer à primeira vista toobe um esforço complexo.</span><span class="sxs-lookup"><span data-stu-id="0965b-105">Azure Stream Analytics troubleshooting can appear toobe a complex effort at first glance.</span></span> <span data-ttu-id="0965b-106">Depois de trabalharem com muitos utilizadores, criou este processo de Olá do guia toohelp otimizar e remover guesswork Olá sobre as entradas, saídas, consultas e funções.</span><span class="sxs-lookup"><span data-stu-id="0965b-106">After working with many users, we have created this guide toohelp streamline hello process and remove hello guesswork about your inputs, outputs, queries, and functions.</span></span>

## <a name="troubleshoot-your-stream-analytics-job"></a><span data-ttu-id="0965b-107">Resolver problemas relacionados com a tarefa de Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0965b-107">Troubleshoot your Stream Analytics job</span></span>

<span data-ttu-id="0965b-108">Para obter os melhores resultados na sua tarefa do Stream Analytics de resolução de problemas, utilize Olá seguintes diretrizes:</span><span class="sxs-lookup"><span data-stu-id="0965b-108">For best results in troubleshooting your Stream Analytics job, use hello following guidelines:</span></span>

1.  <span data-ttu-id="0965b-109">Teste a conectividade:</span><span class="sxs-lookup"><span data-stu-id="0965b-109">Test your connectivity:</span></span>
    - <span data-ttu-id="0965b-110">Verifique a conectividade tooinputs e saídas utilizando Olá **Testar ligação** botão para cada entrada e saída.</span><span class="sxs-lookup"><span data-stu-id="0965b-110">Verify connectivity tooinputs and outputs by using hello **Test Connection** button for each input and output.</span></span>

2.  <span data-ttu-id="0965b-111">Examine os dados de entrada:</span><span class="sxs-lookup"><span data-stu-id="0965b-111">Examine your input data:</span></span>
    - <span data-ttu-id="0965b-112">tooverify dados de entrada é que fluem para Hub de eventos, utilize [Explorador do Service Bus](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) tooconnect tooAzure Hub de eventos (se for utilizada a entrada do Hub de eventos).</span><span class="sxs-lookup"><span data-stu-id="0965b-112">tooverify that input data is flowing into Event Hub, use [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) tooconnect tooAzure Event Hub (if Event Hub input is used).</span></span>  
    - <span data-ttu-id="0965b-113">Olá utilize [ **dados de exemplo** ](stream-analytics-sample-data-input.md) botão para cada entrada e transferir os dados de entrada de exemplo de Olá.</span><span class="sxs-lookup"><span data-stu-id="0965b-113">Use hello [**Sample Data**](stream-analytics-sample-data-input.md) button for each input, and download hello input sample data.</span></span>
    - <span data-ttu-id="0965b-114">Inspecione forma Olá toounderstand de dados de exemplo de Olá dos dados de Olá: Olá esquema e Olá [tipos de dados](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span><span class="sxs-lookup"><span data-stu-id="0965b-114">Inspect hello sample data toounderstand hello shape of hello data: hello schema and hello [data types](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span></span>

3.  <span data-ttu-id="0965b-115">A consulta de teste:</span><span class="sxs-lookup"><span data-stu-id="0965b-115">Test your query:</span></span>
    - <span data-ttu-id="0965b-116">No Olá **consulta** separador, utilize Olá **testar** botão consulta de Olá tootest e utilizar dados de exemplo de Olá transferido demasiado[teste Olá consulta](stream-analytics-test-query.md).</span><span class="sxs-lookup"><span data-stu-id="0965b-116">On hello **Query** tab, use hello **Test** button tootest hello query, and use hello downloaded sample data too[test hello query](stream-analytics-test-query.md).</span></span> <span data-ttu-id="0965b-117">Examine os erros e tente toocorrect-los.</span><span class="sxs-lookup"><span data-stu-id="0965b-117">Examine any errors and attempt toocorrect them.</span></span>
    - <span data-ttu-id="0965b-118">Se utilizar [ **Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), verifique se os eventos de Olá têm carimbos maiores Olá [hora de início da tarefa](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="0965b-118">If you use [**Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), verify that hello events have timestamps greater than hello [job start time](stream-analytics-out-of-order-and-late-events.md).</span></span>

4.  <span data-ttu-id="0965b-119">A consulta de depuração:</span><span class="sxs-lookup"><span data-stu-id="0965b-119">Debug your query:</span></span>
    - <span data-ttu-id="0965b-120">Reconstrua a consulta de Olá progressivamente de agregados de complexas de toomore de instrução select simples, utilizando os passos.</span><span class="sxs-lookup"><span data-stu-id="0965b-120">Rebuild hello query progressively from simple select statement toomore complex aggregates by using steps.</span></span> <span data-ttu-id="0965b-121">utilizar toobuild segurança lógica de consulta Olá passo a passo, [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) cláusulas.</span><span class="sxs-lookup"><span data-stu-id="0965b-121">toobuild up hello query logic step by step, use [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) clauses.</span></span>
    - <span data-ttu-id="0965b-122">Utilize [SELECT INTO](stream-analytics-select-into.md) toodebug passos da consulta.</span><span class="sxs-lookup"><span data-stu-id="0965b-122">Use [SELECT INTO](stream-analytics-select-into.md) toodebug query steps.</span></span>

5.  <span data-ttu-id="0965b-123">Eliminar pitfalls comuns, tais como:</span><span class="sxs-lookup"><span data-stu-id="0965b-123">Eliminate common pitfalls, such as:</span></span>
    - <span data-ttu-id="0965b-124">A [ **onde** ](https://msdn.microsoft.com/library/azure/dn835048.aspx) cláusula FROM na consulta de Olá filtrados por todos os eventos, impedir que quaisquer dados que está a ser gerado.</span><span class="sxs-lookup"><span data-stu-id="0965b-124">A [**WHERE**](https://msdn.microsoft.com/library/azure/dn835048.aspx) clause in hello query filtered out all events, preventing any output from being generated.</span></span>
    - <span data-ttu-id="0965b-125">Quando utiliza as funções de janela, aguarde toosee de duração de janela todo Olá um resultado de consulta Olá.</span><span class="sxs-lookup"><span data-stu-id="0965b-125">When you use window functions, wait for hello entire window duration toosee an output from hello query.</span></span>
    - <span data-ttu-id="0965b-126">Olá timestamp eventos precede a hora de início de tarefa Olá e, por conseguinte, os eventos estão a ser ignorados.</span><span class="sxs-lookup"><span data-stu-id="0965b-126">hello timestamp for events precedes hello job start time and, therefore, events are being dropped.</span></span>

6.  <span data-ttu-id="0965b-127">Utilize a ordenação de evento:</span><span class="sxs-lookup"><span data-stu-id="0965b-127">Use event ordering:</span></span>
    - <span data-ttu-id="0965b-128">Se hello todos os passos anteriores trabalhados ajustar, aceda toohello **definições** painel e selecione [ **eventos ordenação**](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="0965b-128">If all hello previous steps worked fine, go toohello **Settings** blade and select [**Event Ordering**](stream-analytics-out-of-order-and-late-events.md).</span></span> <span data-ttu-id="0965b-129">Certifique-se de que esta política está configurada para o que faz sentido no seu cenário.</span><span class="sxs-lookup"><span data-stu-id="0965b-129">Verify that this policy is configured for what makes sense in your scenario.</span></span> <span data-ttu-id="0965b-130">política de Olá *não* aplicada ao utilizar Olá **teste** consulta do botão tootest Olá.</span><span class="sxs-lookup"><span data-stu-id="0965b-130">hello policy is *not* applied when you use hello **Test** button tootest hello query.</span></span> <span data-ttu-id="0965b-131">Este resultado é uma diferença entre no browser versus executar tarefa de Olá na produção de teste.</span><span class="sxs-lookup"><span data-stu-id="0965b-131">This result is one difference between testing in-browser versus running hello job in production.</span></span>

7.  <span data-ttu-id="0965b-132">Depurar utilizando métricas:</span><span class="sxs-lookup"><span data-stu-id="0965b-132">Debug by using metrics:</span></span>
    - <span data-ttu-id="0965b-133">Se nenhuma saída é obter depois Olá esperado duração (com base na consulta de Olá), experimente o seguinte Olá:</span><span class="sxs-lookup"><span data-stu-id="0965b-133">If you obtain no output after hello expected duration (based on hello query), try hello following:</span></span>
        - <span data-ttu-id="0965b-134">Observe [ **monitorização métricas** ](stream-analytics-monitoring.md) no Olá **Monitor** separador. Porque os valores de Olá são agregados, métricas Olá atrasadas por alguns minutos.</span><span class="sxs-lookup"><span data-stu-id="0965b-134">Look at [**Monitoring Metrics**](stream-analytics-monitoring.md) on hello **Monitor** tab. Because hello values are aggregated, hello metrics are delayed by a few minutes.</span></span>
            - <span data-ttu-id="0965b-135">Se os eventos de entrada > 0, a tarefa de Olá é tooread capaz de dados de entrada.</span><span class="sxs-lookup"><span data-stu-id="0965b-135">If Input Events > 0, hello job is able tooread input data.</span></span> <span data-ttu-id="0965b-136">Se os eventos de entrada não é > 0, em seguida:</span><span class="sxs-lookup"><span data-stu-id="0965b-136">If Input Events is not > 0, then:</span></span>
                - <span data-ttu-id="0965b-137">toosee se a origem de dados de Olá tem dados válidos, registá-lo utilizando [Explorador do Service Bus](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span><span class="sxs-lookup"><span data-stu-id="0965b-137">toosee whether hello data source has valid data, check it by using [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span></span> <span data-ttu-id="0965b-138">Esta verificação aplica-se de tarefa Olá está a utilizar o Hub de eventos como entrada.</span><span class="sxs-lookup"><span data-stu-id="0965b-138">This check applies if hello job is using Event Hub as input.</span></span>
                - <span data-ttu-id="0965b-139">Verifique toosee se o formato de serialização de dados de Olá e codificação de dados estão como esperado.</span><span class="sxs-lookup"><span data-stu-id="0965b-139">Check toosee whether hello data serialization format and data encoding are as expected.</span></span>
                - <span data-ttu-id="0965b-140">Se a tarefa de Olá utilizar um Hub de eventos, verifique toosee se Olá corpo de mensagem de saudação é *nulo*.</span><span class="sxs-lookup"><span data-stu-id="0965b-140">If hello job is using an Event Hub, check toosee whether hello body of hello message is *Null*.</span></span>
            - <span data-ttu-id="0965b-141">Se os erros de conversão de dados > 0 e climbing, seguinte Olá poderá ser verdadeira:</span><span class="sxs-lookup"><span data-stu-id="0965b-141">If Data Conversion Errors > 0 and climbing, hello following might be true:</span></span>
                - <span data-ttu-id="0965b-142">tarefa de Olá poderá não ser capaz de toode-serializar eventos Olá.</span><span class="sxs-lookup"><span data-stu-id="0965b-142">hello job might not be able toode-serialize hello events.</span></span>
                - <span data-ttu-id="0965b-143">Olá esquema de eventos poderá não corresponder Olá definido ou era esperado o esquema de eventos de Olá na consulta de Olá.</span><span class="sxs-lookup"><span data-stu-id="0965b-143">hello event schema might not match hello defined or expected schema of hello events in hello query.</span></span>
                - <span data-ttu-id="0965b-144">Olá tipos de dados de alguns dos campos de Olá no evento Olá poderão não corresponder às expectativas do.</span><span class="sxs-lookup"><span data-stu-id="0965b-144">hello datatypes of some of hello fields in hello event might not match expectations.</span></span>
            - <span data-ttu-id="0965b-145">Se os erros de Runtime > 0, significa que essa tarefa Olá pode receber dados Olá, mas está a gerar erros ao processar a consulta de Olá.</span><span class="sxs-lookup"><span data-stu-id="0965b-145">If Runtime Errors > 0, it means that hello job can receive hello data but is generating errors while processing hello query.</span></span>
                - <span data-ttu-id="0965b-146">erros de Olá toofind, aceda toohello [registos de auditoria](../azure-resource-manager/resource-group-audit.md) e filtre *falha* estado.</span><span class="sxs-lookup"><span data-stu-id="0965b-146">toofind hello errors, go toohello [Audit Logs](../azure-resource-manager/resource-group-audit.md) and filter on *Failed* status.</span></span>
            - <span data-ttu-id="0965b-147">Se InputEvents > 0 e OutputEvents = 0, significa que uma das seguintes Olá for verdadeira:</span><span class="sxs-lookup"><span data-stu-id="0965b-147">If InputEvents > 0 and OutputEvents = 0, it means that one of hello following is true:</span></span>
                - <span data-ttu-id="0965b-148">O processamento da consulta resultou em zero eventos de saída.</span><span class="sxs-lookup"><span data-stu-id="0965b-148">Query processing resulted in zero output events.</span></span>
                - <span data-ttu-id="0965b-149">Os campos ou eventos poderão estar incorreto, resultando na saída do zero após o processamento de consulta.</span><span class="sxs-lookup"><span data-stu-id="0965b-149">Events or its fields might be malformed, resulting in zero output after query processing.</span></span>
                - <span data-ttu-id="0965b-150">tarefa de Olá foi toohello de dados não é possível toopush [sink de saída](stream-analytics-select-into.md) por motivos de autenticação ou de conectividade.</span><span class="sxs-lookup"><span data-stu-id="0965b-150">hello job was unable toopush data toohello [output sink](stream-analytics-select-into.md) for connectivity or authentication reasons.</span></span>
        - <span data-ttu-id="0965b-151">Em todos os Olá mencionado anteriormente casos de erro, operações de mensagens de registo explicam detalhes adicionais (incluindo o que acontece), exceto nos casos em que a lógica de consulta Olá filtrada a todos os eventos.</span><span class="sxs-lookup"><span data-stu-id="0965b-151">In all hello previously mentioned error cases, operations log messages explain additional details (including what is happening), except in cases where hello query logic filtered out all events.</span></span> <span data-ttu-id="0965b-152">Se o processamento de Olá de vários eventos gera erros, o Stream Analytics registos Olá três primeiros mensagens de erro do mesmo tipo dentro de 10 minutos tooOperations de Olá regista.</span><span class="sxs-lookup"><span data-stu-id="0965b-152">If hello processing of multiple events generates errors, Stream Analytics logs hello first three error messages of hello same type within 10 minutes tooOperations logs.</span></span> <span data-ttu-id="0965b-153">-Lo, em seguida, suprime erros idênticos adicionais com uma mensagem que lê "Erros estão a ocorrer demasiado rapidamente, que estes estão a ser suprimidos."</span><span class="sxs-lookup"><span data-stu-id="0965b-153">It then suppresses additional identical errors with a message that reads “Errors are happening too rapidly, these are being suppressed.”</span></span>

8. <span data-ttu-id="0965b-154">Depurar através da utilização de auditoria e registos de diagnóstico:</span><span class="sxs-lookup"><span data-stu-id="0965b-154">Debug by using audit and diagnostic logs:</span></span>
    - <span data-ttu-id="0965b-155">Utilize [registos de auditoria](../azure-resource-manager/resource-group-audit.md)e erros de filtro tooidentify e de depuração.</span><span class="sxs-lookup"><span data-stu-id="0965b-155">Use [Audit Logs](../azure-resource-manager/resource-group-audit.md), and filter tooidentify and debug errors.</span></span>
    - <span data-ttu-id="0965b-156">Utilize [os registos de diagnóstico da tarefa](stream-analytics-job-diagnostic-logs.md) erros tooidentify e depuração.</span><span class="sxs-lookup"><span data-stu-id="0965b-156">Use [job diagnostic logs](stream-analytics-job-diagnostic-logs.md) tooidentify and debug errors.</span></span>

9. <span data-ttu-id="0965b-157">Examine Olá saídas:</span><span class="sxs-lookup"><span data-stu-id="0965b-157">Examine hello outputs:</span></span>
    - <span data-ttu-id="0965b-158">Quando o estado da tarefa de Olá é *executar*, consoante a duração de Olá que stipulated consulta Olá, pode ver o resultado Olá na origem de dados do Olá sink.</span><span class="sxs-lookup"><span data-stu-id="0965b-158">When hello job status is *Running*, depending on hello duration that's stipulated in hello query, you can see hello output in hello sink data source.</span></span>
    - <span data-ttu-id="0965b-159">Se não forem apresentadas saídas que vão tooa tipo de saída específico, redirecioná-los tooan tipo de saída que é menos complexo, tais como um Blob do Azure.</span><span class="sxs-lookup"><span data-stu-id="0965b-159">If you cannot see outputs that are going tooa specific output type, redirect them tooan output type that is less complex, such as an Azure Blob.</span></span> <span data-ttu-id="0965b-160">Ao utilizar o Explorador de armazenamento, verifique toosee se saída Olá pode ser vista.</span><span class="sxs-lookup"><span data-stu-id="0965b-160">By using Storage Explorer, check toosee whether hello output can be seen.</span></span> <span data-ttu-id="0965b-161">Além disso, verifique se os limites de limitação na saída de Olá estão a impedir dados a ser recebidos.</span><span class="sxs-lookup"><span data-stu-id="0965b-161">Additionally, verify whether throttling limits at hello output are preventing data from being received.</span></span>

10. <span data-ttu-id="0965b-162">Utilize a análise de fluxo de dados com a métrica de diagrama de tarefa:</span><span class="sxs-lookup"><span data-stu-id="0965b-162">Use data-flow analysis with job diagram metrics:</span></span>
    - <span data-ttu-id="0965b-163">dados tooanalyze fluxo e identificar problemas, utilize Olá [diagrama de tarefa com a métrica](stream-analytics-job-diagram-with-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="0965b-163">tooanalyze data flow and identify issues, use hello [job diagram with metrics](stream-analytics-job-diagram-with-metrics.md).</span></span>

11. <span data-ttu-id="0965b-164">Abra um incidente de suporte:</span><span class="sxs-lookup"><span data-stu-id="0965b-164">Open a support case:</span></span>
    - <span data-ttu-id="0965b-165">Por fim, se todos os resultarem, abra um incidente de suporte da Microsoft utilizando Olá SubscriptionID que contém a tarefa.</span><span class="sxs-lookup"><span data-stu-id="0965b-165">Finally, if all else fails, open a Microsoft support case by using hello SubscriptionID that contains your job.</span></span>

## <a name="get-help"></a><span data-ttu-id="0965b-166">Obter ajuda</span><span class="sxs-lookup"><span data-stu-id="0965b-166">Get help</span></span>

<span data-ttu-id="0965b-167">Para obter mais assistência, experimente a nossa [fórum do Azure Stream Analytics](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="0965b-167">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="0965b-168">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="0965b-168">Next steps</span></span>

* [<span data-ttu-id="0965b-169">Introdução tooAzure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0965b-169">Introduction tooAzure Stream Analytics</span></span>](stream-analytics-introduction.md)
* [<span data-ttu-id="0965b-170">Começar a utilizar o Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0965b-170">Get started using Azure Stream Analytics</span></span>](stream-analytics-real-time-fraud-detection.md)
* [<span data-ttu-id="0965b-171">Tarefas de escala do Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0965b-171">Scale Azure Stream Analytics jobs</span></span>](stream-analytics-scale-jobs.md)
* [<span data-ttu-id="0965b-172">Referência do idioma de consulta do Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0965b-172">Azure Stream Analytics Query Language Reference</span></span>](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [<span data-ttu-id="0965b-173">Referência de API do REST de gestão do Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="0965b-173">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
