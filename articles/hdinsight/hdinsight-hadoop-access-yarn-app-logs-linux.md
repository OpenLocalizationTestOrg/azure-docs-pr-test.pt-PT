---
title: "os registos de aaaAccess aplicação YARN de Hadoop no HDInsight baseado em Linux - Azure | Microsoft Docs"
description: "Saiba como aplicações de YARN tooaccess os registos de um cluster de HDInsight (Hadoop) baseado em Linux utilizando Olá da linha de comandos e um browser."
services: hdinsight
documentationcenter: 
tags: azure-portal
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 3ec08d20-4f19-4a8e-ac86-639c04d2f12e
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/31/2017
ms.author: larryfr
ms.openlocfilehash: 0bab356e3b97114abbb05712c8e7b21a194f2508
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="access-yarn-application-logs-on-linux-based-hdinsight"></a><span data-ttu-id="94c37-103">Os registos de aplicação de YARN de acesso no HDInsight baseado em Linux</span><span class="sxs-lookup"><span data-stu-id="94c37-103">Access YARN application logs on Linux-based HDInsight</span></span>

<span data-ttu-id="94c37-104">Saiba como tooaccess Olá registos para aplicações de YARN (ainda outro recurso Negotiator) num cluster de Hadoop no Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="94c37-104">Learn how tooaccess hello logs for YARN (Yet Another Resource Negotiator) applications on a Hadoop cluster in Azure HDInsight.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="94c37-105">passos de Olá neste documento exigem um cluster do HDInsight que utiliza o Linux.</span><span class="sxs-lookup"><span data-stu-id="94c37-105">hello steps in this document require an HDInsight cluster that uses Linux.</span></span> <span data-ttu-id="94c37-106">Linux for Olá único sistema operativo utilizado no HDInsight versão 3.4 ou superior.</span><span class="sxs-lookup"><span data-stu-id="94c37-106">Linux is hello only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="94c37-107">Para obter mais informações, consulte [controlo de versões do HDInsight componente](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span><span class="sxs-lookup"><span data-stu-id="94c37-107">For more information, see [HDInsight component versioning](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span>

## <span data-ttu-id="94c37-108"><a name="YARNTimelineServer"></a>Servidor de linha cronológica YARN</span><span class="sxs-lookup"><span data-stu-id="94c37-108"><a name="YARNTimelineServer"></a>YARN Timeline Server</span></span>

<span data-ttu-id="94c37-109">Olá [YARN linha cronológica servidor](http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html) fornece informações genéricas nas aplicações concluídas e informações de aplicação específica do framework através de duas interfaces de rede diferentes.</span><span class="sxs-lookup"><span data-stu-id="94c37-109">hello [YARN Timeline Server](http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html) provides generic information on completed applications and framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="94c37-110">Especificamente:</span><span class="sxs-lookup"><span data-stu-id="94c37-110">Specifically:</span></span>

* <span data-ttu-id="94c37-111">Armazenamento e a obtenção de informações de aplicação genérica nos clusters do HDInsight foi ativado com a versão 3.1.1.374 ou superior.</span><span class="sxs-lookup"><span data-stu-id="94c37-111">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="94c37-112">Olá específicas do framework informações do componente da aplicação de Olá linha cronológica de servidor não está atualmente disponível nos clusters do HDInsight.</span><span class="sxs-lookup"><span data-stu-id="94c37-112">hello framework-specific application information component of hello Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="94c37-113">Genéricas informações sobre as aplicações incluem Olá seguinte tipo de dados:</span><span class="sxs-lookup"><span data-stu-id="94c37-113">Generic information on applications includes hello following type of data:</span></span>

* <span data-ttu-id="94c37-114">ID da aplicação Olá, um identificador exclusivo de uma aplicação</span><span class="sxs-lookup"><span data-stu-id="94c37-114">hello application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="94c37-115">utilizador Olá quem iniciou a aplicação Olá</span><span class="sxs-lookup"><span data-stu-id="94c37-115">hello user who started hello application</span></span>
* <span data-ttu-id="94c37-116">Informações sobre as tentativas efetuadas a aplicação de Olá toocomplete</span><span class="sxs-lookup"><span data-stu-id="94c37-116">Information on attempts made toocomplete hello application</span></span>
* <span data-ttu-id="94c37-117">contentores de Olá utilizados por qualquer tentativa de aplicação</span><span class="sxs-lookup"><span data-stu-id="94c37-117">hello containers used by any given application attempt</span></span>

## <span data-ttu-id="94c37-118"><a name="YARNAppsAndLogs"></a>Registos de aplicações de YARN e</span><span class="sxs-lookup"><span data-stu-id="94c37-118"><a name="YARNAppsAndLogs"></a>YARN applications and logs</span></span>

<span data-ttu-id="94c37-119">YARN suporta vários modelos de programação (MapReduce que está a ser um dos atributos) ao desassociar a gestão de recursos de agendamento/monitorização de aplicações.</span><span class="sxs-lookup"><span data-stu-id="94c37-119">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="94c37-120">YARN utiliza um global *ResourceManager* (RM), por--nó de trabalho *NodeManagers* (NMs) e por aplicação *ApplicationMasters* (AMs).</span><span class="sxs-lookup"><span data-stu-id="94c37-120">YARN uses a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="94c37-121">Olá por aplicação AM negoceia recursos (CPU, memória, disco, rede) para executar a aplicação com Olá RM.</span><span class="sxs-lookup"><span data-stu-id="94c37-121">hello per-application AM negotiates resources (CPU, memory, disk, network) for running your application with hello RM.</span></span> <span data-ttu-id="94c37-122">Olá RM funciona com NMs toogrant destes recursos, são concedidos como *contentores*.</span><span class="sxs-lookup"><span data-stu-id="94c37-122">hello RM works with NMs toogrant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="94c37-123">Olá AM é responsável por controlar o progresso Olá Olá contentores atribuídos tooit por Olá RM.</span><span class="sxs-lookup"><span data-stu-id="94c37-123">hello AM is responsible for tracking hello progress of hello containers assigned tooit by hello RM.</span></span> <span data-ttu-id="94c37-124">Uma aplicação pode necessitar de vários contentores, dependendo da natureza Olá da aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="94c37-124">An application may require many containers depending on hello nature of hello application.</span></span>

<span data-ttu-id="94c37-125">Cada aplicação pode consistir em várias *tentativas da aplicação*.</span><span class="sxs-lookup"><span data-stu-id="94c37-125">Each application may consist of multiple *application attempts*.</span></span> <span data-ttu-id="94c37-126">Se uma aplicação falhar, pode ser repetida como uma nova tentativa.</span><span class="sxs-lookup"><span data-stu-id="94c37-126">If an application fails, it may be retried as a new attempt.</span></span> <span data-ttu-id="94c37-127">Cada tentativa é executado num contentor.</span><span class="sxs-lookup"><span data-stu-id="94c37-127">Each attempt runs in a container.</span></span> <span data-ttu-id="94c37-128">Num sentido, um contentor fornece um contexto Olá para a unidade básica de trabalho realizado por uma aplicação YARN.</span><span class="sxs-lookup"><span data-stu-id="94c37-128">In a sense, a container provides hello context for basic unit of work performed by a YARN application.</span></span> <span data-ttu-id="94c37-129">Todo o trabalho que é efetuado no contexto de Olá de um contentor é executado no nó de trabalho única de Olá no qual Olá contentor foi alocado.</span><span class="sxs-lookup"><span data-stu-id="94c37-129">All work that is done within hello context of a container is performed on hello single worker node on which hello container was allocated.</span></span> <span data-ttu-id="94c37-130">Consulte [YARN conceitos] [ YARN-concepts] para obter mais referência.</span><span class="sxs-lookup"><span data-stu-id="94c37-130">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="94c37-131">Registos de aplicação (e os registos do contentor de Olá associado) são fatores essenciais de depuração problemáticas aplicações do Hadoop.</span><span class="sxs-lookup"><span data-stu-id="94c37-131">Application logs (and hello associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="94c37-132">O YARN fornece uma arquitetura nice para recolher, Agregar e armazenar os registos de aplicação com Olá [registo agregação] [ log-aggregation] funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="94c37-132">YARN provides a nice framework for collecting, aggregating, and storing application logs with hello [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="94c37-133">funcionalidade de registo agregação Olá torna mais determinista ao aceder aos registos de aplicação.</span><span class="sxs-lookup"><span data-stu-id="94c37-133">hello Log Aggregation feature makes accessing application logs more deterministic.</span></span> <span data-ttu-id="94c37-134">Isto agrega registos através de todos os contentores num nó de trabalho e armazena-os como um ficheiro de registo agregados por nó de trabalho.</span><span class="sxs-lookup"><span data-stu-id="94c37-134">It aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node.</span></span> <span data-ttu-id="94c37-135">registo de Olá é armazenado no sistema de ficheiros predefinido Olá após a conclusão de uma aplicação.</span><span class="sxs-lookup"><span data-stu-id="94c37-135">hello log is stored on hello default file system after an application finishes.</span></span> <span data-ttu-id="94c37-136">A aplicação pode utilizar centenas ou milhares de contentores, mas os registos para todos os contentores executados num nó único do worker são sempre tooa agregado ficheiros única.</span><span class="sxs-lookup"><span data-stu-id="94c37-136">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node are always aggregated tooa single file.</span></span> <span data-ttu-id="94c37-137">Por isso apenas é 1 registo por nó de trabalho utilizada pela sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="94c37-137">So there is only 1 log per worker node used by your application.</span></span> <span data-ttu-id="94c37-138">Agregação de registo está ativada por predefinição em clusters do HDInsight versão 3.0 e posteriores.</span><span class="sxs-lookup"><span data-stu-id="94c37-138">Log Aggregation is enabled by default on HDInsight clusters version 3.0 and above.</span></span> <span data-ttu-id="94c37-139">Agregados registos estão localizados no armazenamento de predefinido para o cluster de Olá.</span><span class="sxs-lookup"><span data-stu-id="94c37-139">Aggregated logs are located in default storage for hello cluster.</span></span> <span data-ttu-id="94c37-140">Olá seguinte caminho é Olá HDFS caminho toohello registos:</span><span class="sxs-lookup"><span data-stu-id="94c37-140">hello following path is hello HDFS path toohello logs:</span></span>

    /app-logs/<user>/logs/<applicationId>

<span data-ttu-id="94c37-141">No caminho de Olá, `user` é Olá nome de utilizador de Olá que iniciou a aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="94c37-141">In hello path, `user` is hello name of hello user who started hello application.</span></span> <span data-ttu-id="94c37-142">Olá `applicationId` é Olá Identificador exclusivo atribuído tooan aplicação por RM. YARN de Olá</span><span class="sxs-lookup"><span data-stu-id="94c37-142">hello `applicationId` is hello unique identifier assigned tooan application by hello YARN RM.</span></span>

<span data-ttu-id="94c37-143">Olá registos de agregados não são diretamente legíveis, como são escritos [TFile][T-file], [formato binário] [ binary-format] indexado por contentor.</span><span class="sxs-lookup"><span data-stu-id="94c37-143">hello aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="94c37-144">Utilize Olá que registos YARN ResourceManager ou tooview de ferramentas da CLI estes registos como texto simples para aplicações ou contentores de interesse.</span><span class="sxs-lookup"><span data-stu-id="94c37-144">Use hello YARN ResourceManager logs or CLI tools tooview these logs as plain text for applications or containers of interest.</span></span>

## <a name="yarn-cli-tools"></a><span data-ttu-id="94c37-145">Ferramentas da CLI do YARN</span><span class="sxs-lookup"><span data-stu-id="94c37-145">YARN CLI tools</span></span>

<span data-ttu-id="94c37-146">ferramentas do toouse Olá YARN CLI, tem de ligar primeiro toohello cluster do HDInsight através de SSH.</span><span class="sxs-lookup"><span data-stu-id="94c37-146">toouse hello YARN CLI tools, you must first connect toohello HDInsight cluster using SSH.</span></span> <span data-ttu-id="94c37-147">Para obter informações, veja [Use SSH with HDInsight (Utilizar SSH com o HDInsight)](hdinsight-hadoop-linux-use-ssh-unix.md).</span><span class="sxs-lookup"><span data-stu-id="94c37-147">For information, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span></span>

<span data-ttu-id="94c37-148">Pode ver estes registos como texto não encriptado, executando um dos seguintes comandos de Olá:</span><span class="sxs-lookup"><span data-stu-id="94c37-148">You can view these logs as plain text by running one of hello following commands:</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>

<span data-ttu-id="94c37-149">Especifique Olá &lt;applicationId >, &lt;-quem-iniciado-a-aplicação do utilizador >, &lt;ID do contentor >, e &lt;endereço do nó do trabalho > informações quando executar estes comandos.</span><span class="sxs-lookup"><span data-stu-id="94c37-149">Specify hello &lt;applicationId>, &lt;user-who-started-the-application>, &lt;containerId>, and &lt;worker-node-address> information when running these commands.</span></span>

## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="94c37-150">IU do YARN ResourceManager</span><span class="sxs-lookup"><span data-stu-id="94c37-150">YARN ResourceManager UI</span></span>

<span data-ttu-id="94c37-151">Olá IU do YARN ResourceManager é executada em Olá headnode de cluster.</span><span class="sxs-lookup"><span data-stu-id="94c37-151">hello YARN ResourceManager UI runs on hello cluster headnode.</span></span> <span data-ttu-id="94c37-152">É acedido através da web do Ambari Olá IU.</span><span class="sxs-lookup"><span data-stu-id="94c37-152">It is accessed through hello Ambari web UI.</span></span> <span data-ttu-id="94c37-153">Olá utilize os seguintes passos tooview Olá YARN registos:</span><span class="sxs-lookup"><span data-stu-id="94c37-153">Use hello following steps tooview hello YARN logs:</span></span>

1. <span data-ttu-id="94c37-154">No seu browser, navegue até toohttps://CLUSTERNAME.azurehdinsight.net.</span><span class="sxs-lookup"><span data-stu-id="94c37-154">In your web browser, navigate toohttps://CLUSTERNAME.azurehdinsight.net.</span></span> <span data-ttu-id="94c37-155">Substitua CLUSTERNAME pelo nome de Olá do cluster do HDInsight.</span><span class="sxs-lookup"><span data-stu-id="94c37-155">Replace CLUSTERNAME with hello name of your HDInsight cluster.</span></span>
2. <span data-ttu-id="94c37-156">Na lista de Olá dos serviços Olá esquerda, selecione **YARN**.</span><span class="sxs-lookup"><span data-stu-id="94c37-156">From hello list of services on hello left, select **YARN**.</span></span>

    ![Serviço de yarn selecionado](./media/hdinsight-hadoop-access-yarn-app-logs-linux/yarnservice.png)
3. <span data-ttu-id="94c37-158">De Olá **ligações rápidas** lista pendente, selecione um de nós principais do cluster Olá e, em seguida, selecione **ResourceManager registo**.</span><span class="sxs-lookup"><span data-stu-id="94c37-158">From hello **Quick Links** dropdown, select one of hello cluster head nodes and then select **ResourceManager Log**.</span></span>

    ![Ligações rápidas yarn](./media/hdinsight-hadoop-access-yarn-app-logs-linux/yarnquicklinks.png)

    <span data-ttu-id="94c37-160">É-lhe apresentada uma lista de ligações tooYARN registos.</span><span class="sxs-lookup"><span data-stu-id="94c37-160">You are presented with a list of links tooYARN logs.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
