---
title: "aaaAzure rede Virtual (VNet) plano e do guia de conceção | Microsoft Docs"
description: "Saiba como tooplan e design de redes virtuais no Azure com base nos seus requisitos de isolamento, conectividade e localização."
services: virtual-network
documentationcenter: na
author: jimdial
manager: carmonm
editor: tysonn
ms.assetid: 3a4a9aea-7608-4d2e-bb3c-40de2e537200
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/08/2016
ms.author: jdial
ms.openlocfilehash: f3ffadf8cf254f64b1f86b44f90315d2bc679f63
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="plan-and-design-azure-virtual-networks"></a><span data-ttu-id="6dbfb-103">Planear e estruturar as redes virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="6dbfb-103">Plan and design Azure Virtual Networks</span></span>
<span data-ttu-id="6dbfb-104">Criar um tooexperiment VNet com o fácil suficiente, mas possibilidades são, irá implementar várias VNets ao longo do tempo toosupport Olá produção às necessidades da sua organização.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-104">Creating a VNet tooexperiment with is easy enough, but chances are, you will deploy multiple VNets over time toosupport hello production needs of your organization.</span></span> <span data-ttu-id="6dbfb-105">Com algum planeamento e conceção, irá ser capaz de toodeploy VNets e ligar recursos Olá, que terá de forma mais eficaz.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-105">With some planning and design, you will be able toodeploy VNets and connect hello resources you need more effectively.</span></span> <span data-ttu-id="6dbfb-106">Se não estiver familiarizado com as VNets, é recomendado que lhe [Saiba mais sobre as VNets](virtual-networks-overview.md) e [como toodeploy](virtual-networks-create-vnet-arm-pportal.md) um antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-106">If you are not familiar with VNets, it's recommended that you [learn about VNets](virtual-networks-overview.md) and [how toodeploy](virtual-networks-create-vnet-arm-pportal.md) one before proceeding.</span></span>

## <a name="plan"></a><span data-ttu-id="6dbfb-107">Planear</span><span class="sxs-lookup"><span data-stu-id="6dbfb-107">Plan</span></span>
<span data-ttu-id="6dbfb-108">Uma compreensão profunda sobre as subscrições do Azure, regiões e recursos de rede é essencial para êxito.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-108">A thorough understanding of Azure subscriptions, regions, and network resources is critical for success.</span></span> <span data-ttu-id="6dbfb-109">Pode utilizar a lista de Olá considerações abaixo como um ponto de partida.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-109">You can use hello list of considerations below as a starting point.</span></span> <span data-ttu-id="6dbfb-110">Assim que compreender as considerações, poderá definir requisitos de Olá para o design de rede.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-110">Once you understand those considerations, you can define hello requirements for your network design.</span></span>

### <a name="considerations"></a><span data-ttu-id="6dbfb-111">Considerações</span><span class="sxs-lookup"><span data-stu-id="6dbfb-111">Considerations</span></span>
<span data-ttu-id="6dbfb-112">Antes de atender Olá abaixo de perguntas de planeamento, considere o seguinte Olá:</span><span class="sxs-lookup"><span data-stu-id="6dbfb-112">Before answering hello planning questions below, consider hello following:</span></span>

* <span data-ttu-id="6dbfb-113">Tudo o que cria no Azure é composto por um ou mais recursos.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-113">Everything you create in Azure is composed of one or more resources.</span></span> <span data-ttu-id="6dbfb-114">Uma máquina virtual (VM) é um recurso, Olá adaptador interface de rede (NIC) utilizado por uma VM é um recurso, endereço IP público Olá utilizado por um NIC é um recurso, Olá de VNet Olá NIC está ligado toois um recurso.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-114">A virtual machine (VM) is a resource, hello network adapter interface (NIC) used by a VM is a resource, hello public IP address used by a NIC is a resource, hello VNet hello NIC is connected toois a resource.</span></span>
* <span data-ttu-id="6dbfb-115">Criar recursos dentro de um [região do Azure](https://azure.microsoft.com/regions/#services) e subscrição.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-115">You create resources within an [Azure region](https://azure.microsoft.com/regions/#services) and subscription.</span></span> <span data-ttu-id="6dbfb-116">Recursos só podem ser ligado tooa rede virtual que existe na Olá mesmo recurso de subscrição e região da Olá.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-116">Resources can only be connected tooa virtual network that exists in hello same region and subscription hello resource is in.</span></span>
* <span data-ttu-id="6dbfb-117">Pode ligar redes virtuais tooeach outros utilizando:</span><span class="sxs-lookup"><span data-stu-id="6dbfb-117">You can connect virtual networks tooeach other by using:</span></span>
    * <span data-ttu-id="6dbfb-118">**[Peering de rede virtual](virtual-network-peering-overview.md)**: redes virtuais Olá tem de existir na Olá mesma região do Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-118">**[Virtual network peering](virtual-network-peering-overview.md)**: hello virtual networks must exist in hello same Azure region.</span></span> <span data-ttu-id="6dbfb-119">Largura de banda entre os recursos na redes virtuais em modo de peering é Olá mesmo como se recursos Olá foram toohello ligada mesma rede virtual.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-119">Bandwidth between resources in peered virtual networks is hello same as if hello resources were connected toohello same virtual network.</span></span>
    * <span data-ttu-id="6dbfb-120">**Um Azure [Gateway de VPN](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: redes virtuais Olá podem existir no Olá mesmo, ou em diferentes regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-120">**An Azure [VPN Gateway](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: hello virtual networks can exist in hello same, or different Azure regions.</span></span> <span data-ttu-id="6dbfb-121">Largura de banda entre os recursos na redes virtuais ligadas através de um Gateway de VPN é limitada pela largura de banda de Olá de Olá Gateway de VPN.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-121">Bandwidth between resources in virtual networks connected through a VPN Gateway is limited by hello bandwidth of hello VPN Gateway.</span></span>
* <span data-ttu-id="6dbfb-122">Pode ligar a rede do VNets tooyour no local utilizando um dos Olá [opções de conectividade](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) disponíveis no Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-122">You can connect VNets tooyour on-premises network by using one of hello [connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) available in Azure.</span></span>
* <span data-ttu-id="6dbfb-123">Recursos diferentes podem ser agrupados num [grupos de recursos](../azure-resource-manager/resource-group-overview.md#resource-groups), tornando mais fácil recursos de Olá toomanage como uma unidade.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-123">Different resources can be grouped together in [resource groups](../azure-resource-manager/resource-group-overview.md#resource-groups), making it easier toomanage hello resource as a unit.</span></span> <span data-ttu-id="6dbfb-124">Um grupo de recursos pode conter recursos a partir de várias regiões, desde que os recursos de Olá pertencer toohello mesma subscrição.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-124">A resource group can contain resources from multiple regions, as long as hello resources belong toohello same subscription.</span></span>

### <a name="define-requirements"></a><span data-ttu-id="6dbfb-125">Definir os requisitos</span><span class="sxs-lookup"><span data-stu-id="6dbfb-125">Define requirements</span></span>
<span data-ttu-id="6dbfb-126">Utilize perguntas de Olá abaixo como um ponto de partida para o design de rede do Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-126">Use hello questions below as a starting point for your Azure network design.</span></span>    

1. <span data-ttu-id="6dbfb-127">O que localizações do Azure irão efetuar a utilizar toohost VNets?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-127">What Azure locations will you use toohost VNets?</span></span>
2. <span data-ttu-id="6dbfb-128">Necessita de comunicação de tooprovide entre estas localizações do Azure?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-128">Do you need tooprovide communication between these Azure locations?</span></span>
3. <span data-ttu-id="6dbfb-129">Necessita de tooprovide comunicação entre o VNet(s) do Azure e o datacenter(s) no local?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-129">Do you need tooprovide communication between your Azure VNet(s) and your on-premises datacenter(s)?</span></span>
4. <span data-ttu-id="6dbfb-130">Quantos infraestrutura como VMs de serviço (IaaS), cloud e dos serviços de funções, efetue de aplicações web que precisa para a sua solução?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-130">How many Infrastructure as a Service (IaaS) VMs, cloud services roles, and web apps do you need for your solution?</span></span>
5. <span data-ttu-id="6dbfb-131">Precisa que o tráfego de tooisolate com base nos grupos de VMs (servidores de web ou seja, front-end e servidores de base de dados de back-end)?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-131">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>
6. <span data-ttu-id="6dbfb-132">Precisa que o fluxo de tráfego de toocontrol utilizar aplicações virtuais?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-132">Do you need toocontrol traffic flow using virtual appliances?</span></span>
7. <span data-ttu-id="6dbfb-133">Fazer a necessidade dos utilizadores diferentes conjuntos de permissões toodifferent recursos do Azure?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-133">Do users need different sets of permissions toodifferent Azure resources?</span></span>

### <a name="understand-vnet-and-subnet-properties"></a><span data-ttu-id="6dbfb-134">Compreender as propriedades de VNet e sub-rede</span><span class="sxs-lookup"><span data-stu-id="6dbfb-134">Understand VNet and subnet properties</span></span>
<span data-ttu-id="6dbfb-135">Recursos de VNet e sub-redes ajudam a definir um limite de segurança para cargas de trabalho em execução no Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-135">VNet and subnets resources help define a security boundary for workloads running in Azure.</span></span> <span data-ttu-id="6dbfb-136">Uma VNet é caracterizada por uma coleção de espaços de endereços, definida como blocos CIDR.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-136">A VNet is characterized by a collection of address spaces, defined as CIDR blocks.</span></span>

> [!NOTE]
> <span data-ttu-id="6dbfb-137">Os administradores de rede estiver familiarizados com notação CIDR.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-137">Network administrators are familiar with CIDR notation.</span></span> <span data-ttu-id="6dbfb-138">Se não estiver familiarizado com CIDR, [saber mais acerca do mesmo](http://whatismyipaddress.com/cidr).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-138">If you are not familiar with CIDR, [learn more about it](http://whatismyipaddress.com/cidr).</span></span>
>
>

<span data-ttu-id="6dbfb-139">As VNets conter Olá seguintes propriedades.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-139">VNets contain hello following properties.</span></span>

| <span data-ttu-id="6dbfb-140">Propriedade</span><span class="sxs-lookup"><span data-stu-id="6dbfb-140">Property</span></span> | <span data-ttu-id="6dbfb-141">Descrição</span><span class="sxs-lookup"><span data-stu-id="6dbfb-141">Description</span></span> | <span data-ttu-id="6dbfb-142">Restrições</span><span class="sxs-lookup"><span data-stu-id="6dbfb-142">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6dbfb-143">**nome**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-143">**name**</span></span> |<span data-ttu-id="6dbfb-144">Nome da VNet</span><span class="sxs-lookup"><span data-stu-id="6dbfb-144">VNet name</span></span> |<span data-ttu-id="6dbfb-145">Cadeia de cópia de segurança too80 carateres.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-145">String of up too80 characters.</span></span> <span data-ttu-id="6dbfb-146">Pode conter letras, números, caráter de sublinhado, pontos ou hífenes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-146">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="6dbfb-147">Tem de começar com uma letra ou um número.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-147">Must start with a letter or number.</span></span> <span data-ttu-id="6dbfb-148">Tem de terminar com uma letra, um número ou um caráter de sublinhado.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-148">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="6dbfb-149">Pode contém em maiúsculas ou letras minúsculas.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-149">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="6dbfb-150">**localização**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-150">**location**</span></span> |<span data-ttu-id="6dbfb-151">Localização do Azure (também referida tooas região).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-151">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="6dbfb-152">Tem de ser um dos Olá localizações do Azure válidas.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-152">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="6dbfb-153">**addressSpace**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-153">**addressSpace**</span></span> |<span data-ttu-id="6dbfb-154">Coleção de prefixos de endereços que compõem Olá VNet em notação CIDR.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-154">Collection of address prefixes that make up hello VNet in CIDR notation.</span></span> |<span data-ttu-id="6dbfb-155">Tem de ser uma matriz de blocos de endereços CIDR válidos, incluindo intervalos de endereços IP públicos.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-155">Must be an array of valid CIDR address blocks, including public IP address ranges.</span></span> |
| <span data-ttu-id="6dbfb-156">**sub-redes**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-156">**subnets**</span></span> |<span data-ttu-id="6dbfb-157">Coleção de sub-redes que compõem Olá VNet</span><span class="sxs-lookup"><span data-stu-id="6dbfb-157">Collection of subnets that make up hello VNet</span></span> |<span data-ttu-id="6dbfb-158">consulte a tabela de propriedades de sub-rede Olá abaixo.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-158">see hello subnet properties table below.</span></span> |
| <span data-ttu-id="6dbfb-159">**dhcpOptions**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-159">**dhcpOptions**</span></span> |<span data-ttu-id="6dbfb-160">Objeto que contém uma propriedade necessária único com o nome **dnsServers**.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-160">Object that contains a single required property named **dnsServers**.</span></span> | |
| <span data-ttu-id="6dbfb-161">**dnsServers**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-161">**dnsServers**</span></span> |<span data-ttu-id="6dbfb-162">Matriz de servidores DNS utilizados por Olá VNet.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-162">Array of DNS servers used by hello VNet.</span></span> <span data-ttu-id="6dbfb-163">Não se for especificado nenhum servidor, é utilizada a resolução do nome interno do Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-163">If no server is specified, Azure internal name resolution is used.</span></span> |<span data-ttu-id="6dbfb-164">Tem de ser uma matriz de segurança de servidores DNS too10, por endereço IP.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-164">Must be an array of up too10 DNS servers, by IP address.</span></span> |

<span data-ttu-id="6dbfb-165">Uma sub-rede é um recurso de subordinados de uma VNet e ajuda a definir segmentos dos espaços de endereços dentro de um bloco CIDR utilizar prefixos de endereços IP.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-165">A subnet is a child resource of a VNet, and helps define segments of address spaces within a CIDR block, using IP address prefixes.</span></span> <span data-ttu-id="6dbfb-166">NICs podem ser adicionados toosubnets e tooVMs ligado, fornecer conectividade de várias cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-166">NICs can be added toosubnets, and connected tooVMs, providing connectivity for various workloads.</span></span>

<span data-ttu-id="6dbfb-167">Sub-redes contenham Olá seguintes propriedades.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-167">Subnets contain hello following properties.</span></span>

| <span data-ttu-id="6dbfb-168">Propriedade</span><span class="sxs-lookup"><span data-stu-id="6dbfb-168">Property</span></span> | <span data-ttu-id="6dbfb-169">Descrição</span><span class="sxs-lookup"><span data-stu-id="6dbfb-169">Description</span></span> | <span data-ttu-id="6dbfb-170">Restrições</span><span class="sxs-lookup"><span data-stu-id="6dbfb-170">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6dbfb-171">**nome**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-171">**name**</span></span> |<span data-ttu-id="6dbfb-172">Nome da sub-rede</span><span class="sxs-lookup"><span data-stu-id="6dbfb-172">Subnet name</span></span> |<span data-ttu-id="6dbfb-173">Cadeia de cópia de segurança too80 carateres.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-173">String of up too80 characters.</span></span> <span data-ttu-id="6dbfb-174">Pode conter letras, números, caráter de sublinhado, pontos ou hífenes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-174">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="6dbfb-175">Tem de começar com uma letra ou um número.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-175">Must start with a letter or number.</span></span> <span data-ttu-id="6dbfb-176">Tem de terminar com uma letra, um número ou um caráter de sublinhado.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-176">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="6dbfb-177">Pode contém em maiúsculas ou letras minúsculas.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-177">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="6dbfb-178">**localização**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-178">**location**</span></span> |<span data-ttu-id="6dbfb-179">Localização do Azure (também referida tooas região).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-179">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="6dbfb-180">Tem de ser um dos Olá localizações do Azure válidas.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-180">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="6dbfb-181">**addressPrefix**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-181">**addressPrefix**</span></span> |<span data-ttu-id="6dbfb-182">Prefixo de endereço único que compõem a sub-rede de Olá em notação CIDR</span><span class="sxs-lookup"><span data-stu-id="6dbfb-182">Single address prefix that make up hello subnet in CIDR notation</span></span> |<span data-ttu-id="6dbfb-183">Tem de ser um bloco CIDR único que faz parte de um dos espaços de endereços da VNet Olá.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-183">Must be a single CIDR block that is part of one of hello VNet's address spaces.</span></span> |
| <span data-ttu-id="6dbfb-184">**networkSecurityGroup**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-184">**networkSecurityGroup**</span></span> |<span data-ttu-id="6dbfb-185">NSG aplicado toohello sub-rede</span><span class="sxs-lookup"><span data-stu-id="6dbfb-185">NSG applied toohello subnet</span></span> | |
| <span data-ttu-id="6dbfb-186">**routeTable**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-186">**routeTable**</span></span> |<span data-ttu-id="6dbfb-187">Tabela de rotas aplicadas toohello sub-rede</span><span class="sxs-lookup"><span data-stu-id="6dbfb-187">Route table applied toohello subnet</span></span> | |
| <span data-ttu-id="6dbfb-188">**ipConfigurations**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-188">**ipConfigurations**</span></span> |<span data-ttu-id="6dbfb-189">Coleção de objetos de configuração de IP utilizados pelo NICs toohello ligado sub-rede</span><span class="sxs-lookup"><span data-stu-id="6dbfb-189">Collection of IP configuration objects used by NICs connected toohello subnet</span></span> | |

### <a name="name-resolution"></a><span data-ttu-id="6dbfb-190">Resolução de nomes</span><span class="sxs-lookup"><span data-stu-id="6dbfb-190">Name resolution</span></span>
<span data-ttu-id="6dbfb-191">Por predefinição, utiliza a sua VNet [resolução de nome fornecidos pelo Azure](virtual-networks-name-resolution-for-vms-and-role-instances.md) Olá, nomes de tooresolve dentro Olá VNet e na Internet pública.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-191">By default, your VNet uses [Azure-provided name resolution](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names inside hello VNet, and on hello public Internet.</span></span> <span data-ttu-id="6dbfb-192">No entanto, se ligar os seus centros de dados das VNets tooyour no local, terá de tooprovide [o próprio servidor DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve nomes entre as redes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-192">However, if you connect your VNets tooyour on-premises data centers, you need tooprovide [your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names between your networks.</span></span>  

### <a name="limits"></a><span data-ttu-id="6dbfb-193">Limites</span><span class="sxs-lookup"><span data-stu-id="6dbfb-193">Limits</span></span>
<span data-ttu-id="6dbfb-194">Reveja os limites de rede Olá no Olá [Azure limita](../azure-subscription-service-limits.md#networking-limits) tooensure artigo que a estrutura não entra em conflito com qualquer um dos limites de Olá.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-194">Review hello networking limits in hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article tooensure that your design doesn't conflict with any of hello limits.</span></span> <span data-ttu-id="6dbfb-195">Alguns limites podem ser aumentados ao abrir um pedido de suporte.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-195">Some limits can be increased by opening a support ticket.</span></span>

### <a name="role-based-access-control-rbac"></a><span data-ttu-id="6dbfb-196">Controlo de Acesso Baseado em Funções (RBAC)</span><span class="sxs-lookup"><span data-stu-id="6dbfb-196">Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="6dbfb-197">Pode utilizar [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) nível de Olá toocontrol de acesso diferentes, os utilizadores pode ter toodifferent recursos no Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-197">You can use [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) toocontrol hello level of access different users may have toodifferent resources in Azure.</span></span> <span data-ttu-id="6dbfb-198">Dessa forma, que pode segregar trabalho Olá pela sua equipa com base nas suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-198">That way you can segregate hello work done by your team based on their needs.</span></span>

<span data-ttu-id="6dbfb-199">Preocupações como para as redes virtuais, os utilizadores Olá **contribuinte de rede** função tem controlo total sobre recursos de rede virtual do Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-199">As far as virtual networks are concerned, users in hello **Network Contributor** role have full control over Azure Resource Manager virtual network resources.</span></span> <span data-ttu-id="6dbfb-200">Da mesma forma, os utilizadores Olá **clássico contribuinte de rede** função tem controlo total sobre recursos de rede virtual clássica.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-200">Similarly, users in hello **Classic Network Contributor** role have full control over classic virtual network resources.</span></span>

> [!NOTE]
> <span data-ttu-id="6dbfb-201">Também pode [criar as suas próprias funções](../active-directory/role-based-access-control-configure.md) tooseparate às suas necessidades administrativas.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-201">You can also [create your own roles](../active-directory/role-based-access-control-configure.md) tooseparate your administrative needs.</span></span>
>
>

## <a name="design"></a><span data-ttu-id="6dbfb-202">Design</span><span class="sxs-lookup"><span data-stu-id="6dbfb-202">Design</span></span>
<span data-ttu-id="6dbfb-203">Quando souber as respostas de Olá toohello perguntas no Olá [planear](#Plan) secção, consulte Olá seguintes antes de definir as suas VNets.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-203">Once you know hello answers toohello questions in hello [Plan](#Plan) section, review hello following before defining your VNets.</span></span>

### <a name="number-of-subscriptions-and-vnets"></a><span data-ttu-id="6dbfb-204">Número de subscrições e as VNets</span><span class="sxs-lookup"><span data-stu-id="6dbfb-204">Number of subscriptions and VNets</span></span>
<span data-ttu-id="6dbfb-205">Deve considerar a criação de várias VNets no Olá os seguintes cenários:</span><span class="sxs-lookup"><span data-stu-id="6dbfb-205">You should consider creating multiple VNets in hello following scenarios:</span></span>

* <span data-ttu-id="6dbfb-206">**As VMs que necessitam de toobe colocada em diferentes localizações do Azure**.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-206">**VMs that need toobe placed in different Azure locations**.</span></span> <span data-ttu-id="6dbfb-207">As VNets no Azure são regionais.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-207">VNets in Azure are regional.</span></span> <span data-ttu-id="6dbfb-208">Estes não podem abranger localizações.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-208">They cannot span locations.</span></span> <span data-ttu-id="6dbfb-209">Motivo precisa de, pelo menos, uma VNet para cada localização do Azure que pretende incluir toohost VMs.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-209">Therefore you need at least one VNet for each Azure location you want toohost VMs in.</span></span>
* <span data-ttu-id="6dbfb-210">**Cargas de trabalho que necessitam de toobe completamente isolada entre si**.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-210">**Workloads that need toobe completely isolated from one another**.</span></span> <span data-ttu-id="6dbfb-211">Pode criar VNets separadas, esse mesmo Olá de utilizar espaços de endereços IP mesmos, tooisolate diferentes cargas de trabalho entre si.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-211">You can create separate VNets, that even use hello same IP address spaces, tooisolate different workloads from one another.</span></span>

<span data-ttu-id="6dbfb-212">Tenha em atenção que os limites de Olá que consulte acima são por região por subscrição.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-212">Keep in mind that hello limits you see above are per region, per subscription.</span></span> <span data-ttu-id="6dbfb-213">Isto significa que pode utilizar vários de limite de Olá do tooincrease subscrições de recursos que pode manter no Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-213">That means you can use multiple subscriptions tooincrease hello limit of resources you can maintain in Azure.</span></span> <span data-ttu-id="6dbfb-214">Pode utilizar uma VPN de site para site ou um circuito do ExpressRoute, tooconnect VNets em subscrições diferentes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-214">You can use a site-to-site VPN, or an ExpressRoute circuit, tooconnect VNets in different subscriptions.</span></span>

### <a name="subscription-and-vnet-design-patterns"></a><span data-ttu-id="6dbfb-215">Subscrição e padrões de conceção de VNet</span><span class="sxs-lookup"><span data-stu-id="6dbfb-215">Subscription and VNet design patterns</span></span>
<span data-ttu-id="6dbfb-216">tabela de Olá abaixo mostra alguns padrões de conceção comuns para a utilização de subscrições e as VNets.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-216">hello table below shows some common design patterns for using subscriptions and VNets.</span></span>

| <span data-ttu-id="6dbfb-217">Cenário</span><span class="sxs-lookup"><span data-stu-id="6dbfb-217">Scenario</span></span> | <span data-ttu-id="6dbfb-218">Diagrama</span><span class="sxs-lookup"><span data-stu-id="6dbfb-218">Diagram</span></span> | <span data-ttu-id="6dbfb-219">Profissionais de TI</span><span class="sxs-lookup"><span data-stu-id="6dbfb-219">Pros</span></span> | <span data-ttu-id="6dbfb-220">Contras</span><span class="sxs-lookup"><span data-stu-id="6dbfb-220">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6dbfb-221">Subscrição único, duas VNets por aplicação</span><span class="sxs-lookup"><span data-stu-id="6dbfb-221">Single subscription, two VNets per app</span></span> |![Subscrição único](./media/virtual-network-vnet-plan-design-arm/figure1.png) |<span data-ttu-id="6dbfb-223">Toomanage apenas uma subscrição.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-223">Only one subscription toomanage.</span></span> |<span data-ttu-id="6dbfb-224">Número máximo de VNets por região do Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-224">Maximum number of VNets per Azure region.</span></span> <span data-ttu-id="6dbfb-225">Precisa de mais subscrições depois disso.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-225">You need more subscriptions after that.</span></span> <span data-ttu-id="6dbfb-226">Olá revisão [Azure limita](../azure-subscription-service-limits.md#networking-limits) artigo para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-226">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="6dbfb-227">Uma subscrição por aplicação, duas VNets por aplicação</span><span class="sxs-lookup"><span data-stu-id="6dbfb-227">One subscription per app, two VNets per app</span></span> |![Subscrição único](./media/virtual-network-vnet-plan-design-arm/figure2.png) |<span data-ttu-id="6dbfb-229">Utiliza apenas duas VNets por subscrição.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-229">Uses only two VNets per subscription.</span></span> |<span data-ttu-id="6dbfb-230">Mais difícil toomanage quando existem demasiadas aplicações.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-230">Harder toomanage when there are too many apps.</span></span> |
| <span data-ttu-id="6dbfb-231">Uma subscrição por unidade de negócio, duas VNets por aplicação.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-231">One subscription per business unit, two VNets per app.</span></span> |![Subscrição único](./media/virtual-network-vnet-plan-design-arm/figure3.png) |<span data-ttu-id="6dbfb-233">Balancear entre o número de subscrições e as VNets.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-233">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="6dbfb-234">Número máximo de VNets por unidade de negócio (subscrição).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-234">Maximum number of VNets per business unit (subscription).</span></span> <span data-ttu-id="6dbfb-235">Olá revisão [Azure limita](../azure-subscription-service-limits.md#networking-limits) artigo para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-235">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="6dbfb-236">Uma subscrição por unidade de negócio, duas VNets por grupo de aplicações.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-236">One subscription per business unit, two VNets per group of apps.</span></span> |![Subscrição único](./media/virtual-network-vnet-plan-design-arm/figure4.png) |<span data-ttu-id="6dbfb-238">Balancear entre o número de subscrições e as VNets.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-238">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="6dbfb-239">Aplicações tem de ser isoladas através da utilização de sub-redes e NSGs.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-239">Apps must be isolated by using subnets and NSGs.</span></span> |

### <a name="number-of-subnets"></a><span data-ttu-id="6dbfb-240">Número de sub-redes</span><span class="sxs-lookup"><span data-stu-id="6dbfb-240">Number of subnets</span></span>
<span data-ttu-id="6dbfb-241">Deve considerar a várias sub-redes na VNet em Olá os seguintes cenários:</span><span class="sxs-lookup"><span data-stu-id="6dbfb-241">You should consider multiple subnets in a VNet in hello following scenarios:</span></span>

* <span data-ttu-id="6dbfb-242">**Insuficiente endereços IP privados para todas as NICs numa sub-rede**.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-242">**Not enough private IP addresses for all NICs in a subnet**.</span></span> <span data-ttu-id="6dbfb-243">Se o espaço de endereços da sub-rede não contém endereços IP suficientes para o número de Olá de NICs na sub-rede Olá, terá de toocreate várias sub-redes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-243">If your subnet address space does not contain enough IP addresses for hello number of NICs in hello subnet, you need toocreate multiple subnets.</span></span> <span data-ttu-id="6dbfb-244">Tenha em atenção que o Azure reserva 5 de cada sub-rede que não é possível utilizar a endereços IP privados: Olá primeiro e último endereços dos toobe 3 endereços utilizado internamente (para fins DHCP e DNS) e espaços de endereços de Olá (para o endereço de sub-rede Olá e multicast).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-244">Keep in mind that Azure reserves 5 private IP addresses from each subnet that cannot be used: hello first and last addresses of hello address space (for hello subnet address, and multicast) and 3 addresses toobe used internally (for DHCP and DNS purposes).</span></span>
* <span data-ttu-id="6dbfb-245">**Segurança**.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-245">**Security**.</span></span> <span data-ttu-id="6dbfb-246">Pode utilizar grupos de tooseparate de sub-redes de VMs entre si para cargas de trabalho que têm uma camada multi estrutura e aplicar diferentes [(NSGs) de grupos de segurança de rede](virtual-networks-nsg.md#subnets) para essas sub-redes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-246">You can use subnets tooseparate groups of VMs from one another for workloads that have a multi-layer structure, and apply different [network security groups (NSGs)](virtual-networks-nsg.md#subnets) for those subnets.</span></span>
* <span data-ttu-id="6dbfb-247">**Conectividade híbrida**.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-247">**Hybrid connectivity**.</span></span> <span data-ttu-id="6dbfb-248">Pode utilizar gateways de VPN e circuitos ExpressRoute demasiado[ligar](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) tooone as VNets outro, e tooyour no local center(s) de dados.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-248">You can use VPN gateways and ExpressRoute circuits too[connect](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) your VNets tooone another, and tooyour on-premises data center(s).</span></span> <span data-ttu-id="6dbfb-249">Gateways de VPN e circuitos ExpressRoute necessitam de uma sub-rede dos seus próprios toobe criado.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-249">VPN gateways and ExpressRoute circuits require a subnet of their own toobe created.</span></span>
* <span data-ttu-id="6dbfb-250">**Aplicações virtuais**.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-250">**Virtual appliances**.</span></span> <span data-ttu-id="6dbfb-251">Pode utilizar uma aplicação virtual, tal como uma firewall, o acelerador WAN ou o gateway de VPN uma VNet do Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-251">You can use a virtual appliance, such as a firewall, WAN accelerator, or VPN gateway in an Azure VNet.</span></span> <span data-ttu-id="6dbfb-252">Se o fizer, terá de demasiado[encaminhar o tráfego](virtual-networks-udr-overview.md) toothose aparelhos e isolá-los na sua própria sub-rede.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-252">When you do so, you need too[route traffic](virtual-networks-udr-overview.md) toothose appliances and isolate them in their own subnet.</span></span>

### <a name="subnet-and-nsg-design-patterns"></a><span data-ttu-id="6dbfb-253">Sub-rede e padrões de conceção do NSG</span><span class="sxs-lookup"><span data-stu-id="6dbfb-253">Subnet and NSG design patterns</span></span>
<span data-ttu-id="6dbfb-254">tabela de Olá abaixo mostra alguns padrões de conceção comuns para a utilização de sub-redes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-254">hello table below shows some common design patterns for using subnets.</span></span>

| <span data-ttu-id="6dbfb-255">Cenário</span><span class="sxs-lookup"><span data-stu-id="6dbfb-255">Scenario</span></span> | <span data-ttu-id="6dbfb-256">Diagrama</span><span class="sxs-lookup"><span data-stu-id="6dbfb-256">Diagram</span></span> | <span data-ttu-id="6dbfb-257">Profissionais de TI</span><span class="sxs-lookup"><span data-stu-id="6dbfb-257">Pros</span></span> | <span data-ttu-id="6dbfb-258">Contras</span><span class="sxs-lookup"><span data-stu-id="6dbfb-258">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6dbfb-259">Sub-rede única, NSGs por camada de aplicação, por aplicação</span><span class="sxs-lookup"><span data-stu-id="6dbfb-259">Single subnet, NSGs per application layer, per app</span></span> |![Sub-rede única](./media/virtual-network-vnet-plan-design-arm/figure5.png) |<span data-ttu-id="6dbfb-261">Apenas uma sub-rede toomanage.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-261">Only one subnet toomanage.</span></span> |<span data-ttu-id="6dbfb-262">Vários NSGs tooisolate de necessário cada aplicação.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-262">Multiple NSGs necessary tooisolate each application.</span></span> |
| <span data-ttu-id="6dbfb-263">Uma sub-rede por aplicação, os NSGs por camada da aplicação</span><span class="sxs-lookup"><span data-stu-id="6dbfb-263">One subnet per app, NSGs per application layer</span></span> |![Sub-rede por aplicação](./media/virtual-network-vnet-plan-design-arm/figure6.png) |<span data-ttu-id="6dbfb-265">Menos NSGs toomanage.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-265">Fewer NSGs toomanage.</span></span> |<span data-ttu-id="6dbfb-266">Várias sub-redes toomanage.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-266">Multiple subnets toomanage.</span></span> |
| <span data-ttu-id="6dbfb-267">Uma sub-rede por camada de aplicação, os NSGs por aplicação.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-267">One subnet per application layer, NSGs per app.</span></span> |![Sub-rede por camada](./media/virtual-network-vnet-plan-design-arm/figure7.png) |<span data-ttu-id="6dbfb-269">Balancear entre o número de sub-redes e NSGs.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-269">Balance between number of subnets and NSGs.</span></span> |<span data-ttu-id="6dbfb-270">Número máximo de NSGs por subscrição.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-270">Maximum number of NSGs per subscription.</span></span> <span data-ttu-id="6dbfb-271">Olá revisão [Azure limita](../azure-subscription-service-limits.md#networking-limits) artigo para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-271">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="6dbfb-272">Uma sub-rede por camada de aplicação, por aplicação, os NSGs por sub-rede</span><span class="sxs-lookup"><span data-stu-id="6dbfb-272">One subnet per application layer, per app, NSGs per subnet</span></span> |![Sub-rede por camada por aplicação](./media/virtual-network-vnet-plan-design-arm/figure8.png) |<span data-ttu-id="6dbfb-274">Possivelmente menor número de NSGs.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-274">Possibly smaller number of NSGs.</span></span> |<span data-ttu-id="6dbfb-275">Várias sub-redes toomanage.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-275">Multiple subnets toomanage.</span></span> |

## <a name="sample-design"></a><span data-ttu-id="6dbfb-276">Estrutura de exemplo</span><span class="sxs-lookup"><span data-stu-id="6dbfb-276">Sample design</span></span>
<span data-ttu-id="6dbfb-277">aplicação de Olá tooillustrate das informações de Olá neste artigo, considere Olá cenário a seguir.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-277">tooillustrate hello application of hello information in this article, consider hello following scenario.</span></span>

<span data-ttu-id="6dbfb-278">Funciona para uma empresa que tenha 2 centros de dados na América do Norte e Europa de centros de dados de dois.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-278">You work for a company that has 2 data centers in North America, and two data centers Europe.</span></span> <span data-ttu-id="6dbfb-279">Identificou 6 cliente diferentes aplicações mantida por 2 unidades empresariais diferentes que pretende que o toomigrate tooAzure como um piloto.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-279">You identified 6 different customer facing applications maintained by 2 different business units that you want toomigrate tooAzure as a pilot.</span></span> <span data-ttu-id="6dbfb-280">arquitetura de básico Olá para aplicações de Olá são os seguintes:</span><span class="sxs-lookup"><span data-stu-id="6dbfb-280">hello basic architecture for hello applications are as follows:</span></span>

* <span data-ttu-id="6dbfb-281">App1, App2, App3 e App4 são aplicações web alojadas em servidores Linux em execução Ubuntu.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-281">App1, App2, App3, and App4 are web applications hosted on Linux servers running Ubuntu.</span></span> <span data-ttu-id="6dbfb-282">Cada aplicação estabelece ligação a servidor de aplicação separado tooa que aloja serviços RESTful em servidores Linux.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-282">Each application connects tooa separate application server that hosts RESTful services on Linux servers.</span></span> <span data-ttu-id="6dbfb-283">serviços RESTful Olá ligar a base de dados MySQL de back-end tooa.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-283">hello RESTful services connect tooa back end MySQL database.</span></span>
* <span data-ttu-id="6dbfb-284">App5 e App6 são aplicações web alojadas em servidores Windows com o Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-284">App5 and App6 are web applications hosted on Windows servers running Windows Server 2012 R2.</span></span> <span data-ttu-id="6dbfb-285">Cada aplicação estabelece ligação tooa back-end do SQL Server da base de dados.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-285">Each application connects tooa back end SQL Server database.</span></span>
* <span data-ttu-id="6dbfb-286">Todas as aplicações estão alojadas atualmente dos centros de dados da empresa Olá na América do Norte.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-286">All apps are currently hosted in one of hello company's data centers in North America.</span></span>
* <span data-ttu-id="6dbfb-287">os centros de dados no local Olá utilizam espaço de endereços de 10.0.0.0/8 Olá.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-287">hello on-premises data centers use hello 10.0.0.0/8 address space.</span></span>

<span data-ttu-id="6dbfb-288">É necessário toodesign uma solução de rede virtual que cumpra os requisitos de Olá:</span><span class="sxs-lookup"><span data-stu-id="6dbfb-288">You need toodesign a virtual network solution that meets hello following requirements:</span></span>

* <span data-ttu-id="6dbfb-289">Cada unidade de negócio não deve ser afetada por consumo de recursos de outras unidades de negócio.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-289">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="6dbfb-290">Deve minimizar o período de Olá de VNets e sub-redes toomake a gestão mais fácil.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-290">You should minimize hello amount of VNets and subnets toomake management easier.</span></span>
* <span data-ttu-id="6dbfb-291">Cada unidade de negócio deve ter um teste/desenvolvimento único VNet utilizado para todas as aplicações.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-291">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="6dbfb-292">Cada aplicação estiver alojada num 2 do Azure data centers diferentes por continente (América do Norte e Europa).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-292">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>
* <span data-ttu-id="6dbfb-293">Cada aplicação é completamente isolada umas das outras.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-293">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="6dbfb-294">Cada aplicação pode ser acedida pelos clientes através de Olá Internet através de HTTP.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-294">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="6dbfb-295">Cada aplicação pode ser acedida por utilizadores toohello ligado centros de dados no local utilizando um túnel encriptado.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-295">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="6dbfb-296">Centros de dados de tooon local de ligação devem utilizar dispositivos VPN existentes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-296">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="6dbfb-297">Olá grupo de rede da empresa deve ter controlo total sobre a configuração de VNet Olá.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-297">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="6dbfb-298">Os programadores em cada unidade de negócio só devem ser capaz de toodeploy VMs tooexisting sub-redes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-298">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>
* <span data-ttu-id="6dbfb-299">Todas as aplicações serão migradas conforme forem tooAzure (comparação de precisão e shift).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-299">All applications will be migrated as they are tooAzure (lift-and-shift).</span></span>
* <span data-ttu-id="6dbfb-300">as bases de dados de Olá em cada localização devem replicar tooother Azure localizações uma vez por dia.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-300">hello databases in each location should replicate tooother Azure locations once a day.</span></span>
* <span data-ttu-id="6dbfb-301">Cada aplicação deve utilizar 5 servidores de web de front-end, 2 servidores de aplicações (quando for necessário) e 2 servidores de base de dados.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-301">Each application should use 5 front end web servers, 2 application servers (when necessary), and 2 database servers.</span></span>

### <a name="plan"></a><span data-ttu-id="6dbfb-302">Planear</span><span class="sxs-lookup"><span data-stu-id="6dbfb-302">Plan</span></span>
<span data-ttu-id="6dbfb-303">Deve começar a sua estrutura, planeamento respondendo perguntas Olá Olá [definir requisitos](#Define-requirements) secção conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-303">You should start your design planning by answering hello question in hello [Define requirements](#Define-requirements) section as shown below.</span></span>

1. <span data-ttu-id="6dbfb-304">O que localizações do Azure irão efetuar a utilizar toohost VNets?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-304">What Azure locations will you use toohost VNets?</span></span>

    <span data-ttu-id="6dbfb-305">2 localizações na América do Norte, 2 localizações e na Europa.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-305">2 locations in North America, and 2 locations in Europe.</span></span> <span data-ttu-id="6dbfb-306">Escolha os com base na localização física do Olá dos seus centros de dados no local existente.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-306">You should pick those based on hello physical location of your existing on-premises data centers.</span></span> <span data-ttu-id="6dbfb-307">Dessa forma, a ligação a partir do seu tooAzure localizações físicas terá uma melhor latência.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-307">That way your connection from your physical locations tooAzure will have a better latency.</span></span>
2. <span data-ttu-id="6dbfb-308">Necessita de comunicação de tooprovide entre estas localizações do Azure?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-308">Do you need tooprovide communication between these Azure locations?</span></span>

    <span data-ttu-id="6dbfb-309">Sim.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-309">Yes.</span></span> <span data-ttu-id="6dbfb-310">Uma vez que as bases de dados de Olá tem de ser replicada tooall localizações.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-310">Since hello databases must be replicated tooall locations.</span></span>
3. <span data-ttu-id="6dbfb-311">Necessita de tooprovide comunicação entre o VNet(s) do Azure e o center(s) de dados no local?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-311">Do you need tooprovide communication between your Azure VNet(s) and your on-premises data center(s)?</span></span>

    <span data-ttu-id="6dbfb-312">Sim.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-312">Yes.</span></span> <span data-ttu-id="6dbfb-313">Uma vez que os utilizadores ligados toohello os centros de dados no local tem de ser tooaccess capaz de aplicações de Olá através de um túnel encriptado.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-313">Since users connected toohello on-premises data centers must be able tooaccess hello applications through an encrypted tunnel.</span></span>
4. <span data-ttu-id="6dbfb-314">Quantas VMs de IaaS necessita para a sua solução?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-314">How many IaaS VMs do you need for your solution?</span></span>

    <span data-ttu-id="6dbfb-315">200 VMs de IaaS.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-315">200 IaaS VMs.</span></span> <span data-ttu-id="6dbfb-316">App1, App2, App3 e App4 requerem 5 servidores web cada, 2 servidores aplicacionais cada e 2 servidores de base de dados.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-316">App1, App2, App3, and App4 require 5 web servers each, 2 applications servers each, and 2 database servers each.</span></span> <span data-ttu-id="6dbfb-317">Este é um total de 9 VMs de IaaS por aplicação ou 36 VMs de IaaS.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-317">That's a total of 9 IaaS VMs per application, or 36 IaaS VMs.</span></span> <span data-ttu-id="6dbfb-318">App5 e App6 necessitam de 5 servidores web e 2 servidores de base de dados.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-318">App5 and App6 require 5 web servers and 2 database servers each.</span></span> <span data-ttu-id="6dbfb-319">Este é um total de 7 VMs de IaaS por aplicação ou 14 VMs de IaaS.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-319">That's a total of 7 IaaS VMs per application, or 14 IaaS VMs.</span></span> <span data-ttu-id="6dbfb-320">Por conseguinte, terá de 50 VMs de IaaS para todas as aplicações em cada região do Azure.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-320">Therefore, you need 50 IaaS VMs for all applications in each Azure region.</span></span> <span data-ttu-id="6dbfb-321">Uma vez que precisamos toouse 4 regiões, será 200 VMs de IaaS.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-321">Since we need toouse 4 regions, there will be 200 IaaS VMs.</span></span>

    <span data-ttu-id="6dbfb-322">Também terá de tooprovide servidores DNS em cada VNet ou em seu nome de tooresolve de centros de dados no local entre as VMs de IaaS do Azure e a sua rede no local.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-322">You will also need tooprovide DNS servers in each VNet, or in your on-premises data centers tooresolve name between your Azure IaaS VMs and your on-premises network.</span></span>
5. <span data-ttu-id="6dbfb-323">Precisa que o tráfego de tooisolate com base nos grupos de VMs (servidores de web ou seja, front-end e servidores de base de dados de back-end)?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-323">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>

    <span data-ttu-id="6dbfb-324">Sim.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-324">Yes.</span></span> <span data-ttu-id="6dbfb-325">Cada aplicação deve ser completamente isolada umas das outras e cada camada de aplicações também deve ser isolada.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-325">Each application should be completely isolated from each other, and each application layer should also be isolated.</span></span>
6. <span data-ttu-id="6dbfb-326">Precisa que o fluxo de tráfego de toocontrol utilizar aplicações virtuais?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-326">Do you need toocontrol traffic flow using virtual appliances?</span></span>

    <span data-ttu-id="6dbfb-327">Não.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-327">No.</span></span> <span data-ttu-id="6dbfb-328">Aplicações virtuais podem ser utilizado tooprovide mais controlam sobre o fluxo de tráfego, incluindo registo mais detalhado de plane de dados.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-328">Virtual appliances can be used tooprovide more control over traffic flow, including more detailed data plane logging.</span></span>
7. <span data-ttu-id="6dbfb-329">Fazer a necessidade dos utilizadores diferentes conjuntos de permissões toodifferent recursos do Azure?</span><span class="sxs-lookup"><span data-stu-id="6dbfb-329">Do users need different sets of permissions toodifferent Azure resources?</span></span>

    <span data-ttu-id="6dbfb-330">Sim.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-330">Yes.</span></span> <span data-ttu-id="6dbfb-331">equipa de rede Olá tem controlo total nas definições de rede virtual de Olá, enquanto os programadores só devem ser capaz de toodeploy as respetivas sub-redes de toopre existente para as VMs.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-331">hello networking team needs full control on hello virtual networking settings, while developers should only be able toodeploy their VMs toopre-existing subnets.</span></span>

### <a name="design"></a><span data-ttu-id="6dbfb-332">Design</span><span class="sxs-lookup"><span data-stu-id="6dbfb-332">Design</span></span>
<span data-ttu-id="6dbfb-333">Deve seguir a estrutura de Olá especificando subscrições, VNets, sub-redes e NSGs.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-333">You should follow hello design specifying subscriptions, VNets, subnets, and NSGs.</span></span> <span data-ttu-id="6dbfb-334">Vamos abordar os NSGs aqui, mas deve Saiba mais sobre [NSGs](virtual-networks-nsg.md) antes de concluir a estrutura.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-334">We will discuss NSGs here, but you should learn more about [NSGs](virtual-networks-nsg.md) before finishing your design.</span></span>

<span data-ttu-id="6dbfb-335">**Número de subscrições e as VNets**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-335">**Number of subscriptions and VNets**</span></span>

<span data-ttu-id="6dbfb-336">Olá, os requisitos é toosubscriptions relacionados e as VNets:</span><span class="sxs-lookup"><span data-stu-id="6dbfb-336">hello following requirements are related toosubscriptions and VNets:</span></span>

* <span data-ttu-id="6dbfb-337">Cada unidade de negócio não deve ser afetada por consumo de recursos de outras unidades de negócio.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-337">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="6dbfb-338">Deve minimizar o período de Olá de VNets e sub-redes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-338">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="6dbfb-339">Cada unidade de negócio deve ter um teste/desenvolvimento único VNet utilizado para todas as aplicações.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-339">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="6dbfb-340">Cada aplicação estiver alojada num 2 do Azure data centers diferentes por continente (América do Norte e Europa).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-340">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>

<span data-ttu-id="6dbfb-341">Com base nesses requisitos, precisa de uma subscrição para cada unidade de negócio.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-341">Based on those requirements, you need a subscription for each business unit.</span></span> <span data-ttu-id="6dbfb-342">Dessa forma, consumo de recursos a partir de uma unidade de negócio não contabilizará limites para outras unidades de negócio.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-342">That way, consumption of resources from a business unit will not count towards limits for other business units.</span></span> <span data-ttu-id="6dbfb-343">E, uma vez que pretende que o número de Olá toominimize de VNets, deve considerar a utilização Olá **uma subscrição por unidade de negócio, duas VNets por grupo de aplicações** padrão, como mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-343">And since you want toominimize hello number of VNets, you should consider using hello **one subscription per business unit, two VNets per group of apps** pattern as seen below.</span></span>

![Subscrição único](./media/virtual-network-vnet-plan-design-arm/figure9.png)

<span data-ttu-id="6dbfb-345">Também precisa de espaço de endereços de Olá toospecify para cada VNet.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-345">You also need toospecify hello address space for each VNet.</span></span> <span data-ttu-id="6dbfb-346">Uma vez que precisa de conectividade entre Olá no local centros de dados e hello regiões do Azure, espaço de endereços de Olá utilizado para as VNets do Azure não é possível clash com a rede no local de Olá e espaço de endereços de Olá utilizado por cada VNet não deve clash com outras VNets existentes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-346">Since you need connectivity between hello on-premises data centers and hello Azure regions, hello address space used for Azure VNets cannot clash with hello on-premises network, and hello address space used by each VNet should not clash with other existing VNets.</span></span> <span data-ttu-id="6dbfb-347">Pode utilizar espaços de endereços de Olá na tabela de Olá abaixo toosatisfy estes requisitos.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-347">You could use hello address spaces in hello table below toosatisfy these requirements.</span></span>  

| <span data-ttu-id="6dbfb-348">**Subscrição**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-348">**Subscription**</span></span> | <span data-ttu-id="6dbfb-349">**VNet**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-349">**VNet**</span></span> | <span data-ttu-id="6dbfb-350">**Região do Azure**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-350">**Azure region**</span></span> | <span data-ttu-id="6dbfb-351">**Espaço de endereços**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-351">**Address space**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="6dbfb-352">BU1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-352">BU1</span></span> |<span data-ttu-id="6dbfb-353">ProdBU1US1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-353">ProdBU1US1</span></span> |<span data-ttu-id="6dbfb-354">EUA Oeste</span><span class="sxs-lookup"><span data-stu-id="6dbfb-354">West US</span></span> |<span data-ttu-id="6dbfb-355">172.16.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-355">172.16.0.0/16</span></span> |
| <span data-ttu-id="6dbfb-356">BU1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-356">BU1</span></span> |<span data-ttu-id="6dbfb-357">ProdBU1US2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-357">ProdBU1US2</span></span> |<span data-ttu-id="6dbfb-358">EUA Leste</span><span class="sxs-lookup"><span data-stu-id="6dbfb-358">East US</span></span> |<span data-ttu-id="6dbfb-359">172.17.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-359">172.17.0.0/16</span></span> |
| <span data-ttu-id="6dbfb-360">BU1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-360">BU1</span></span> |<span data-ttu-id="6dbfb-361">ProdBU1EU1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-361">ProdBU1EU1</span></span> |<span data-ttu-id="6dbfb-362">Europa do Norte</span><span class="sxs-lookup"><span data-stu-id="6dbfb-362">North Europe</span></span> |<span data-ttu-id="6dbfb-363">172.18.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-363">172.18.0.0/16</span></span> |
| <span data-ttu-id="6dbfb-364">BU1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-364">BU1</span></span> |<span data-ttu-id="6dbfb-365">ProdBU1EU2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-365">ProdBU1EU2</span></span> |<span data-ttu-id="6dbfb-366">Europa Ocidental</span><span class="sxs-lookup"><span data-stu-id="6dbfb-366">West Europe</span></span> |<span data-ttu-id="6dbfb-367">172.19.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-367">172.19.0.0/16</span></span> |
| <span data-ttu-id="6dbfb-368">BU1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-368">BU1</span></span> |<span data-ttu-id="6dbfb-369">TestDevBU1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-369">TestDevBU1</span></span> |<span data-ttu-id="6dbfb-370">EUA Oeste</span><span class="sxs-lookup"><span data-stu-id="6dbfb-370">West US</span></span> |<span data-ttu-id="6dbfb-371">172.20.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-371">172.20.0.0/16</span></span> |
| <span data-ttu-id="6dbfb-372">BU2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-372">BU2</span></span> |<span data-ttu-id="6dbfb-373">TestDevBU2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-373">TestDevBU2</span></span> |<span data-ttu-id="6dbfb-374">EUA Oeste</span><span class="sxs-lookup"><span data-stu-id="6dbfb-374">West US</span></span> |<span data-ttu-id="6dbfb-375">172.21.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-375">172.21.0.0/16</span></span> |
| <span data-ttu-id="6dbfb-376">BU2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-376">BU2</span></span> |<span data-ttu-id="6dbfb-377">ProdBU2US1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-377">ProdBU2US1</span></span> |<span data-ttu-id="6dbfb-378">EUA Oeste</span><span class="sxs-lookup"><span data-stu-id="6dbfb-378">West US</span></span> |<span data-ttu-id="6dbfb-379">172.22.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-379">172.22.0.0/16</span></span> |
| <span data-ttu-id="6dbfb-380">BU2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-380">BU2</span></span> |<span data-ttu-id="6dbfb-381">ProdBU2US2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-381">ProdBU2US2</span></span> |<span data-ttu-id="6dbfb-382">EUA Leste</span><span class="sxs-lookup"><span data-stu-id="6dbfb-382">East US</span></span> |<span data-ttu-id="6dbfb-383">172.23.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-383">172.23.0.0/16</span></span> |
| <span data-ttu-id="6dbfb-384">BU2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-384">BU2</span></span> |<span data-ttu-id="6dbfb-385">ProdBU2EU1</span><span class="sxs-lookup"><span data-stu-id="6dbfb-385">ProdBU2EU1</span></span> |<span data-ttu-id="6dbfb-386">Europa do Norte</span><span class="sxs-lookup"><span data-stu-id="6dbfb-386">North Europe</span></span> |<span data-ttu-id="6dbfb-387">172.24.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-387">172.24.0.0/16</span></span> |
| <span data-ttu-id="6dbfb-388">BU2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-388">BU2</span></span> |<span data-ttu-id="6dbfb-389">ProdBU2EU2</span><span class="sxs-lookup"><span data-stu-id="6dbfb-389">ProdBU2EU2</span></span> |<span data-ttu-id="6dbfb-390">Europa Ocidental</span><span class="sxs-lookup"><span data-stu-id="6dbfb-390">West Europe</span></span> |<span data-ttu-id="6dbfb-391">172.25.0.0/16</span><span class="sxs-lookup"><span data-stu-id="6dbfb-391">172.25.0.0/16</span></span> |

<span data-ttu-id="6dbfb-392">**Número de sub-redes e NSGs**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-392">**Number of subnets and NSGs**</span></span>

<span data-ttu-id="6dbfb-393">Olá, os requisitos é toosubnets relacionados e NSGs:</span><span class="sxs-lookup"><span data-stu-id="6dbfb-393">hello following requirements are related toosubnets and NSGs:</span></span>

* <span data-ttu-id="6dbfb-394">Deve minimizar o período de Olá de VNets e sub-redes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-394">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="6dbfb-395">Cada aplicação é completamente isolada umas das outras.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-395">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="6dbfb-396">Cada aplicação pode ser acedida pelos clientes através de Olá Internet através de HTTP.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-396">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="6dbfb-397">Cada aplicação pode ser acedida por utilizadores toohello ligado centros de dados no local utilizando um túnel encriptado.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-397">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="6dbfb-398">Centros de dados de tooon local de ligação devem utilizar dispositivos VPN existentes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-398">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="6dbfb-399">as bases de dados de Olá em cada localização devem replicar tooother Azure localizações uma vez por dia.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-399">hello databases in each location should replicate tooother Azure locations once a day.</span></span>

<span data-ttu-id="6dbfb-400">Com base nesses requisitos, pode utilizar uma sub-rede por camada da aplicação e utilizar NSGs toofilter tráfego por aplicação.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-400">Based on those requirements, you could use one subnet per application layer, and use NSGs toofilter traffic per application.</span></span> <span data-ttu-id="6dbfb-401">Dessa forma, só tem de 3 sub-redes em cada VNet (front-end, a camada de aplicação e a camada de dados) e um NSG por aplicação por sub-rede.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-401">That way, you only have 3 subnets in each VNet (front end, application layer, and data layer) and one NSG per application per subnet.</span></span> <span data-ttu-id="6dbfb-402">Neste caso, deve considerar a utilização Olá **uma sub-rede por camada de aplicação, os NSGs por aplicação** padrão de conceção.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-402">In this case, you should consider using hello **one subnet per application layer, NSGs per app** design pattern.</span></span> <span data-ttu-id="6dbfb-403">figura Olá abaixo mostra a utilização de Olá do padrão de conceção de Olá que representa Olá **ProdBU1US1** VNet.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-403">hello figure below shows hello use of hello design pattern representing hello **ProdBU1US1** VNet.</span></span>

![Uma sub-rede por camada, um NSG por aplicação por camada](./media/virtual-network-vnet-plan-design-arm/figure11.png)

<span data-ttu-id="6dbfb-405">No entanto, também terá toocreate uma sub-rede adicional para conectividade a VPN Olá entre Olá VNets e seus centros de dados no local.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-405">However, you also need toocreate an extra subnet for hello VPN connectivity between hello VNets, and your on-premises data centers.</span></span> <span data-ttu-id="6dbfb-406">E precisa de espaço de endereços de Olá toospecify para cada sub-rede.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-406">And you need toospecify hello address space for each subnet.</span></span> <span data-ttu-id="6dbfb-407">figura Olá abaixo mostra uma solução de exemplo para **ProdBU1US1** VNet.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-407">hello figure below shows a sample solution for **ProdBU1US1** VNet.</span></span> <span data-ttu-id="6dbfb-408">Iriam replicar neste cenário para cada VNet.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-408">You would replicate this scenario for each VNet.</span></span> <span data-ttu-id="6dbfb-409">Cada cor representa uma aplicação diferente.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-409">Each color represents a different application.</span></span>

![Exemplo VNet](./media/virtual-network-vnet-plan-design-arm/figure10.png)

<span data-ttu-id="6dbfb-411">**Controlo de acesso**</span><span class="sxs-lookup"><span data-stu-id="6dbfb-411">**Access Control**</span></span>

<span data-ttu-id="6dbfb-412">Olá requisitos seguintes são tooaccess relacionados controlo:</span><span class="sxs-lookup"><span data-stu-id="6dbfb-412">hello following requirements are related tooaccess control:</span></span>

* <span data-ttu-id="6dbfb-413">Olá grupo de rede da empresa deve ter controlo total sobre a configuração de VNet Olá.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-413">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="6dbfb-414">Os programadores em cada unidade de negócio só devem ser capaz de toodeploy VMs tooexisting sub-redes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-414">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>

<span data-ttu-id="6dbfb-415">Com base nesses requisitos, pode adicionar utilizadores de Olá redes equipa toohello incorporada **contribuinte de rede** função em cada subscrição; e criar uma função personalizada para Olá os programadores de aplicações em cada subscrição dá ao direitos-las tooadd VMs tooexisting sub-redes.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-415">Based on those requirements, you could add users from hello networking team toohello built-in **Network Contributor** role in each subscription; and create a custom role for hello application developers in each subscription giving them rights tooadd VMs tooexisting subnets.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6dbfb-416">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="6dbfb-416">Next steps</span></span>
* <span data-ttu-id="6dbfb-417">[Implementar uma rede virtual](virtual-networks-create-vnet-arm-template-click.md) com base no cenário.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-417">[Deploy a virtual network](virtual-networks-create-vnet-arm-template-click.md) based on a scenario.</span></span>
* <span data-ttu-id="6dbfb-418">Compreender como demasiado[o balanceamento de carga](../load-balancer/load-balancer-overview.md) VMs de IaaS e [Gerir encaminhamento por várias regiões do Azure](../traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-418">Understand how too[load balance](../load-balancer/load-balancer-overview.md) IaaS VMs and [manage routing over multiple Azure regions](../traffic-manager/traffic-manager-overview.md).</span></span>
* <span data-ttu-id="6dbfb-419">Saiba mais sobre [NSGs e como tooplan e design](virtual-networks-nsg.md) uma solução NSG.</span><span class="sxs-lookup"><span data-stu-id="6dbfb-419">Learn more about [NSGs and how tooplan and design](virtual-networks-nsg.md) an NSG solution.</span></span>
* <span data-ttu-id="6dbfb-420">Saiba mais sobre o [em vários locais e opções de conectividade de VNet](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span><span class="sxs-lookup"><span data-stu-id="6dbfb-420">Learn more about your [cross-premises and VNet connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span></span>
