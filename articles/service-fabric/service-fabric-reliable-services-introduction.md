---
title: "aaaOverview do modelo de programação de serviço do Service Fabric fiável Olá | Microsoft Docs"
description: "Saiba mais sobre o modelo de programação do Service Fabric serviço fiável e começar a escrever os seus próprios serviços."
services: Service-Fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: vturecek; mani-ramaswamy
ms.assetid: 0c88a533-73f8-4ae1-a939-67d17456ac06
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: masnider;
ms.openlocfilehash: 41d1826df902b1f1845c4702bf2567e6b9ca1f1f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="reliable-services-overview"></a><span data-ttu-id="f743f-103">Descrição geral do Reliable Services</span><span class="sxs-lookup"><span data-stu-id="f743f-103">Reliable Services overview</span></span>
<span data-ttu-id="f743f-104">Azure Service Fabric simplifica escrever e gerir serviços fiável sem monitorização de estado e com monitorização de estado.</span><span class="sxs-lookup"><span data-stu-id="f743f-104">Azure Service Fabric simplifies writing and managing stateless and stateful Reliable Services.</span></span> <span data-ttu-id="f743f-105">Este tópico abrange:</span><span class="sxs-lookup"><span data-stu-id="f743f-105">This topic covers:</span></span>

* <span data-ttu-id="f743f-106">Olá Reliable Services modelo de programação de para serviços sem monitorização de estado e com monitorização de estado.</span><span class="sxs-lookup"><span data-stu-id="f743f-106">hello Reliable Services programming model for stateless and stateful services.</span></span>
* <span data-ttu-id="f743f-107">Opções de Olá tiver toomake ao escrever um serviço fiável.</span><span class="sxs-lookup"><span data-stu-id="f743f-107">hello choices you have toomake when writing a Reliable Service.</span></span>
* <span data-ttu-id="f743f-108">Alguns cenários e exemplos de quando toouse fiável serviços e como são escritos.</span><span class="sxs-lookup"><span data-stu-id="f743f-108">Some scenarios and examples of when toouse Reliable Services and how they are written.</span></span>

<span data-ttu-id="f743f-109">Reliable Services é uma das Olá modelos disponíveis no Service Fabric de programação.</span><span class="sxs-lookup"><span data-stu-id="f743f-109">Reliable Services is one of hello programming models available on Service Fabric.</span></span> <span data-ttu-id="f743f-110">Olá, outro é Olá Ator fiável modelo de programação, que fornece um modelo de programação de Ator virtual por cima do modelo de Reliable Services Olá.</span><span class="sxs-lookup"><span data-stu-id="f743f-110">hello other is hello Reliable Actor programming model, which provides a virtual Actor programming model on top of hello Reliable Services model.</span></span> <span data-ttu-id="f743f-111">Para obter mais informações sobre o modelo de programação do Olá Reliable Actors, consulte [tooService de introdução dos recursos de infraestrutura Reliable Actors](service-fabric-reliable-actors-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="f743f-111">For more information on hello Reliable Actors programming model, see [Introduction tooService Fabric Reliable Actors](service-fabric-reliable-actors-introduction.md).</span></span>

<span data-ttu-id="f743f-112">O Service Fabric gere duração Olá de serviços, a partir de aprovisionamento e implementação através da atualização e eliminação, através de [gestão de aplicações de Service Fabric](service-fabric-deploy-remove-applications.md).</span><span class="sxs-lookup"><span data-stu-id="f743f-112">Service Fabric manages hello lifetime of services, from provisioning and deployment through upgrade and deletion, via [Service Fabric application management](service-fabric-deploy-remove-applications.md).</span></span>

## <a name="what-are-reliable-services"></a><span data-ttu-id="f743f-113">Quais são Reliable Services?</span><span class="sxs-lookup"><span data-stu-id="f743f-113">What are Reliable Services?</span></span>
<span data-ttu-id="f743f-114">Reliable Services dá-lhe um simples, poderoso, o nível superior de programação toohelp modelo express, o que é importante tooyour aplicação.</span><span class="sxs-lookup"><span data-stu-id="f743f-114">Reliable Services gives you a simple, powerful, top-level programming model toohelp you express what is important tooyour application.</span></span> <span data-ttu-id="f743f-115">Olá Reliable Services modelo de programação, obter:</span><span class="sxs-lookup"><span data-stu-id="f743f-115">With hello Reliable Services programming model, you get:</span></span>

* <span data-ttu-id="f743f-116">Restante toohello acesso Olá APIs de programação do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="f743f-116">Access toohello rest of hello Service Fabric programming APIs.</span></span> <span data-ttu-id="f743f-117">Ao contrário dos serviços do Service Fabric modelada como [convidado executáveis](service-fabric-deploy-existing-app.md), Reliable Services obter toouse restante Olá Olá APIs de recursos de infraestrutura de serviço diretamente.</span><span class="sxs-lookup"><span data-stu-id="f743f-117">Unlike Service Fabric Services modeled as [Guest Executables](service-fabric-deploy-existing-app.md), Reliable Services get toouse hello rest of hello Service Fabric APIs directly.</span></span> <span data-ttu-id="f743f-118">Isto permite que os serviços:</span><span class="sxs-lookup"><span data-stu-id="f743f-118">This allows services to:</span></span>
  * <span data-ttu-id="f743f-119">Sistema de Olá de consulta</span><span class="sxs-lookup"><span data-stu-id="f743f-119">query hello system</span></span>
  * <span data-ttu-id="f743f-120">Estado de funcionamento do relatório sobre entidades no cluster de Olá</span><span class="sxs-lookup"><span data-stu-id="f743f-120">report health about entities in hello cluster</span></span>
  * <span data-ttu-id="f743f-121">receber notificações sobre as alterações de configuração e code</span><span class="sxs-lookup"><span data-stu-id="f743f-121">receive notifications about configuration and code changes</span></span>
  * <span data-ttu-id="f743f-122">localizar e comunicar com outros serviços</span><span class="sxs-lookup"><span data-stu-id="f743f-122">find and communicate with other services,</span></span>
  * <span data-ttu-id="f743f-123">(opcionalmente) utilizar Olá [coleções fiável](service-fabric-reliable-services-reliable-collections.md)</span><span class="sxs-lookup"><span data-stu-id="f743f-123">(optionally) use hello [Reliable Collections](service-fabric-reliable-services-reliable-collections.md)</span></span>
  * <span data-ttu-id="f743f-124">.. e. concedendo-lhes aceder toomany outras funcionalidades, tudo a partir de um modelo de programação de primeira classe em várias linguagens de programação.</span><span class="sxs-lookup"><span data-stu-id="f743f-124">...and giving them access toomany other capabilities, all from a first class programming model in several programming languages.</span></span>
* <span data-ttu-id="f743f-125">Um modelo simple para executar o seu próprio código que se pareça com modelos que é utilizados para de programação.</span><span class="sxs-lookup"><span data-stu-id="f743f-125">A simple model for running your own code that looks like programming models you are used to.</span></span> <span data-ttu-id="f743f-126">O código tem um ponto de entrada bem definidos e o ciclo de vida facilmente gerido.</span><span class="sxs-lookup"><span data-stu-id="f743f-126">Your code has a well-defined entry point and easily managed lifecycle.</span></span>
* <span data-ttu-id="f743f-127">Um modelo de comunicação incorporável.</span><span class="sxs-lookup"><span data-stu-id="f743f-127">A pluggable communication model.</span></span> <span data-ttu-id="f743f-128">Utilize o transporte de Olá à sua escolha, tal como HTTP com [Web API](service-fabric-reliable-services-communication-webapi.md), WebSockets, protocolos TCP personalizados, ou qualquer outra função.</span><span class="sxs-lookup"><span data-stu-id="f743f-128">Use hello transport of your choice, such as HTTP with [Web API](service-fabric-reliable-services-communication-webapi.md), WebSockets, custom TCP protocols, or anything else.</span></span> <span data-ttu-id="f743f-129">Reliable Services fornecem algumas excelente out of box opções pode utilizar, ou pode fornecer os seus próprios.</span><span class="sxs-lookup"><span data-stu-id="f743f-129">Reliable Services provide some great out-of-the-box options you can use, or you can provide your own.</span></span>
* <span data-ttu-id="f743f-130">Para os serviços com monitorização de estado, Olá Reliable Services modelo de programação permite-lhe tooconsistently e fiável armazenar o estado do direito dentro do seu serviço utilizando [coleções fiável](service-fabric-reliable-services-reliable-collections.md).</span><span class="sxs-lookup"><span data-stu-id="f743f-130">For stateful services, hello Reliable Services programming model allows you tooconsistently and reliably store your state right inside your service by using [Reliable Collections](service-fabric-reliable-services-reliable-collections.md).</span></span> <span data-ttu-id="f743f-131">Coleções fiáveis são um conjunto simple de classes de coleção e de elevada disponibilidade fiável que irão estar familiarizado tooanyone que tenha utilizado c# coleções.</span><span class="sxs-lookup"><span data-stu-id="f743f-131">Reliable Collections are a simple set of highly available and reliable collection classes that will be familiar tooanyone who has used C# collections.</span></span> <span data-ttu-id="f743f-132">Tradicionalmente, os serviços necessários sistemas externos para a gestão de estado fiável.</span><span class="sxs-lookup"><span data-stu-id="f743f-132">Traditionally, services needed external systems for Reliable state management.</span></span> <span data-ttu-id="f743f-133">Com coleções fiável, pode armazenar a computação tooyour seguinte estado com Olá mesma elevada disponibilidade e fiabilidade tiver tooexpect provenientes de arquivos de externos altamente disponíveis.</span><span class="sxs-lookup"><span data-stu-id="f743f-133">With Reliable Collections, you can store your state next tooyour compute with hello same high availability and reliability you've come tooexpect from highly available external stores.</span></span> <span data-ttu-id="f743f-134">Este modelo melhora também a latência porque são alocar conjuntamente Olá computação e de estado tem de toofunction.</span><span class="sxs-lookup"><span data-stu-id="f743f-134">This model also improves latency because you are co-locating hello compute and state it needs toofunction.</span></span>

<span data-ttu-id="f743f-135">Veja este vídeo Microsoft Virtual Academy para uma descrição geral dos serviços fiáveis:<center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span><span class="sxs-lookup"><span data-stu-id="f743f-135">Watch this Microsoft Virtual Academy video for an overview of Reliable services: <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span></span>

## <a name="what-makes-reliable-services-different"></a><span data-ttu-id="f743f-136">O que faz com que Reliable Services diferentes?</span><span class="sxs-lookup"><span data-stu-id="f743f-136">What makes Reliable Services different?</span></span>
<span data-ttu-id="f743f-137">Reliable Services no Service Fabric são diferentes dos serviços que pode ter escritas antes.</span><span class="sxs-lookup"><span data-stu-id="f743f-137">Reliable Services in Service Fabric are different from services you may have written before.</span></span> <span data-ttu-id="f743f-138">O Service Fabric fornece escalabilidade, consistência, disponibilidade e fiabilidade.</span><span class="sxs-lookup"><span data-stu-id="f743f-138">Service Fabric provides reliability, availability, consistency, and scalability.</span></span>

* <span data-ttu-id="f743f-139">**Fiabilidade** - a sua service mantém-se a cópia de segurança mesmo em ambientes pouco fiáveis, onde as máquinas falharam ou prima problemas de rede, ou em casos onde Olá serviços se encontrar erros e falhas ou falhar.</span><span class="sxs-lookup"><span data-stu-id="f743f-139">**Reliability** - Your service stays up even in unreliable environments where your machines fail or hit network issues, or in cases where hello services themselves encounter errors and crash or fail.</span></span> <span data-ttu-id="f743f-140">Para os serviços com monitorização de estado, o estado é preservado mesmo na presença de Olá de rede ou outras falhas.</span><span class="sxs-lookup"><span data-stu-id="f743f-140">For stateful services, your state is preserved even in hello presence of network or other failures.</span></span>
* <span data-ttu-id="f743f-141">**Disponibilidade** -o serviço é acessível e reativa.</span><span class="sxs-lookup"><span data-stu-id="f743f-141">**Availability** - Your service is reachable and responsive.</span></span> <span data-ttu-id="f743f-142">Service Fabric mantém o número pretendido de cópias a executar.</span><span class="sxs-lookup"><span data-stu-id="f743f-142">Service Fabric maintains your desired number of running copies.</span></span>
* <span data-ttu-id="f743f-143">**Escalabilidade** - os serviços são dissociados da hardware específico e podem aumentar ou diminuir o conforme necessário, através da adição de Olá ou remoção de hardware ou outros recursos.</span><span class="sxs-lookup"><span data-stu-id="f743f-143">**Scalability** - Services are decoupled from specific hardware, and they can grow or shrink as necessary through hello addition or removal of hardware or other resources.</span></span> <span data-ttu-id="f743f-144">Os serviços são tooensure facilmente particionada (especialmente no caso de monitorização de estado de Olá) que pode dimensionar o serviço de Olá e o identificador de falhas parciais.</span><span class="sxs-lookup"><span data-stu-id="f743f-144">Services are easily partitioned (especially in hello stateful case) tooensure that hello service can scale and handle partial failures.</span></span> <span data-ttu-id="f743f-145">Os serviços podem ser criados e eliminado dinamicamente através de código, permitir mais de instâncias toobe acelerada conforme necessário, diga na resposta toocustomer pedidos.</span><span class="sxs-lookup"><span data-stu-id="f743f-145">Services can be created and deleted dynamically via code, enabling more instances toobe spun up as necessary, say in response toocustomer requests.</span></span> <span data-ttu-id="f743f-146">Por fim, o Service Fabric encoraja lightweight toobe de serviços.</span><span class="sxs-lookup"><span data-stu-id="f743f-146">Finally, Service Fabric encourages services toobe lightweight.</span></span> <span data-ttu-id="f743f-147">Service Fabric permite milhares de toobe serviços aprovisionados dentro de um processo único, em vez de exigir ou dedicação de instâncias de SO todos ou processos tooa instância de um serviço.</span><span class="sxs-lookup"><span data-stu-id="f743f-147">Service Fabric allows thousands of services toobe provisioned within a single process, rather than requiring or dedicating entire OS instances or processes tooa single instance of a service.</span></span>
* <span data-ttu-id="f743f-148">**Consistência** -todas as informações armazenadas neste serviço podem ser garantidas toobe consistente.</span><span class="sxs-lookup"><span data-stu-id="f743f-148">**Consistency** - Any information stored in this service can be guaranteed toobe consistent.</span></span> <span data-ttu-id="f743f-149">Isto acontece mesmo através de várias coleções fiáveis dentro de um serviço.</span><span class="sxs-lookup"><span data-stu-id="f743f-149">This is true even across multiple reliable collections within a service.</span></span> <span data-ttu-id="f743f-150">É possível efetuar alterações em coleções dentro de um serviço de uma forma de uma forma atomic.</span><span class="sxs-lookup"><span data-stu-id="f743f-150">Changes across collections within a service can be made in a transactionally atomic manner.</span></span>

## <a name="service-lifecycle"></a><span data-ttu-id="f743f-151">Ciclo de vida do serviço</span><span class="sxs-lookup"><span data-stu-id="f743f-151">Service lifecycle</span></span>
<span data-ttu-id="f743f-152">Se o serviço está com monitorização de estado ou sem monitorização de estado, Reliable Services fornecem um ciclo de vida simple que lhe permite rapidamente fixação no seu código e começar a utilizar.</span><span class="sxs-lookup"><span data-stu-id="f743f-152">Whether your service is stateful or stateless, Reliable Services provide a simple lifecycle that lets you quickly plug in your code and get started.</span></span>  <span data-ttu-id="f743f-153">Existem apenas um ou dois métodos que terá de tooimplement tooget seu serviço operacional.</span><span class="sxs-lookup"><span data-stu-id="f743f-153">There are just one or two methods that you need tooimplement tooget your service up and running.</span></span>

* <span data-ttu-id="f743f-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** -este método é onde o serviço de Olá define Olá comunicação stack(s) que quer que toouse.</span><span class="sxs-lookup"><span data-stu-id="f743f-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** - This method is where hello service defines hello communication stack(s) that it wants toouse.</span></span> <span data-ttu-id="f743f-155">Olá, tais como a pilha de comunicações, [Web API](service-fabric-reliable-services-communication-webapi.md), é o que define Olá ponto final de escuta ou pontos finais para Olá serviço (como os clientes conseguirem contactar o serviço de Olá).</span><span class="sxs-lookup"><span data-stu-id="f743f-155">hello communication stack, such as [Web API](service-fabric-reliable-services-communication-webapi.md), is what defines hello listening endpoint or endpoints for hello service (how clients reach hello service).</span></span> <span data-ttu-id="f743f-156">Também define como mensagens hello que aparecem interagem com os restantes Olá código do serviço Olá.</span><span class="sxs-lookup"><span data-stu-id="f743f-156">It also defines how hello messages that appear interact with hello rest of hello service code.</span></span>
* <span data-ttu-id="f743f-157">**Runasync com** -este método é onde o seu serviço é executada a respetiva lógica de negócio e onde-seria iniciar quaisquer tarefas em segundo plano que devem ser executado para duração Olá do serviço de Olá.</span><span class="sxs-lookup"><span data-stu-id="f743f-157">**RunAsync** - This method is where your service runs its business logic, and where it would kick off any background tasks that should run for hello lifetime of hello service.</span></span> <span data-ttu-id="f743f-158">o token de cancelamento de Olá fornecido é um sinal de quando esse trabalho deverá ser interrompida.</span><span class="sxs-lookup"><span data-stu-id="f743f-158">hello cancellation token that is provided is a signal for when that work should stop.</span></span> <span data-ttu-id="f743f-159">Por exemplo, se o serviço de Olá tem mensagens toopull fora de uma fila fiável e processá-los, este é onde ocorre que funcionam.</span><span class="sxs-lookup"><span data-stu-id="f743f-159">For example, if hello service needs toopull messages out of a Reliable Queue and process them, this is where that work happens.</span></span>

<span data-ttu-id="f743f-160">Se estiver a aprender sobre reliable services para Olá pela primeira vez, leia sobre!</span><span class="sxs-lookup"><span data-stu-id="f743f-160">If you're learning about reliable services for hello first time, read on!</span></span> <span data-ttu-id="f743f-161">Se pretender para instruções detalhadas Olá ciclo de vida dos serviços fiáveis, pode aceda demasiado[neste artigo](service-fabric-reliable-services-lifecycle.md).</span><span class="sxs-lookup"><span data-stu-id="f743f-161">If you're looking for a detailed walkthrough of hello lifecycle of reliable services, you can head over too[this article](service-fabric-reliable-services-lifecycle.md).</span></span>

## <a name="example-services"></a><span data-ttu-id="f743f-162">Serviços de exemplo</span><span class="sxs-lookup"><span data-stu-id="f743f-162">Example services</span></span>
<span data-ttu-id="f743f-163">Saber este modelo de programação, vamos ver rapidamente dois toosee diferentes serviços a forma como estas peças encaixam.</span><span class="sxs-lookup"><span data-stu-id="f743f-163">Knowing this programming model, let's take a quick look at two different services toosee how these pieces fit together.</span></span>

### <a name="stateless-reliable-services"></a><span data-ttu-id="f743f-164">Sem monitorização de estado Reliable Services</span><span class="sxs-lookup"><span data-stu-id="f743f-164">Stateless Reliable Services</span></span>
<span data-ttu-id="f743f-165">Um serviço sem monitorização de estado é um onde há sem estado mantido no âmbito do serviço de Olá entre chamadas.</span><span class="sxs-lookup"><span data-stu-id="f743f-165">A stateless service is one where there is no state maintained within hello service across calls.</span></span> <span data-ttu-id="f743f-166">Qualquer Estado que se encontra presente é inteiramente disposable e não necessita de sincronização, replicação, persistência ou elevada disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="f743f-166">Any state that is present is entirely disposable and doesn't require synchronization, replication, persistence, or high availability.</span></span>

<span data-ttu-id="f743f-167">Por exemplo, considere uma calculadora que tenha sem memória e recebe todos os tooperform de termos e operações em simultâneo.</span><span class="sxs-lookup"><span data-stu-id="f743f-167">For example, consider a calculator that has no memory and receives all terms and operations tooperform at once.</span></span>

<span data-ttu-id="f743f-168">Neste caso, Olá `RunAsync()` (c#) ou `runAsync()` (Java) de Olá serviço pode estar vazio, porque não existe nenhum em segundo plano que o serviço de Olá de processamento de tarefas tem toodo.</span><span class="sxs-lookup"><span data-stu-id="f743f-168">In this case, hello `RunAsync()` (C#) or `runAsync()` (Java) of hello service can be empty, since there is no background task-processing that hello service needs toodo.</span></span> <span data-ttu-id="f743f-169">Quando é criado o serviço de Calculadora Olá, devolve uma `ICommunicationListener` (c#) ou `CommunicationListener` (Java) (por exemplo [Web API](service-fabric-reliable-services-communication-webapi.md)) que se abre um ponto final de escuta no algumas portas.</span><span class="sxs-lookup"><span data-stu-id="f743f-169">When hello calculator service is created, it returns an `ICommunicationListener` (C#) or `CommunicationListener` (Java) (for example [Web API](service-fabric-reliable-services-communication-webapi.md)) that opens up a listening endpoint on some port.</span></span> <span data-ttu-id="f743f-170">Este ponto final de escuta hooks dos métodos de cálculo diferente toohello (exemplo: "Adicionar (n1, n2)") que define de API pública da Calculadora Olá.</span><span class="sxs-lookup"><span data-stu-id="f743f-170">This listening endpoint hooks up toohello different calculation methods (example: "Add(n1, n2)") that define hello calculator's public API.</span></span>

<span data-ttu-id="f743f-171">Quando é efetuada uma chamada a partir de um cliente, método adequado Olá é invocado e serviço de calculadora de Olá efetua operações Olá Olá dados fornecidos e devolve o resultado de Olá.</span><span class="sxs-lookup"><span data-stu-id="f743f-171">When a call is made from a client, hello appropriate method is invoked, and hello calculator service performs hello operations on hello data provided and returns hello result.</span></span> <span data-ttu-id="f743f-172">-Não armazena qualquer Estado.</span><span class="sxs-lookup"><span data-stu-id="f743f-172">It doesn't store any state.</span></span>

<span data-ttu-id="f743f-173">Não armazenar qualquer Estado interno torna esta Calculadora de exemplo simples.</span><span class="sxs-lookup"><span data-stu-id="f743f-173">Not storing any internal state makes this example calculator simple.</span></span> <span data-ttu-id="f743f-174">Mas a maioria dos serviços não são verdadeiramente sem estado.</span><span class="sxs-lookup"><span data-stu-id="f743f-174">But most services aren't truly stateless.</span></span> <span data-ttu-id="f743f-175">Em vez disso, estes externalize toosome respetivo estado outro arquivo.</span><span class="sxs-lookup"><span data-stu-id="f743f-175">Instead, they externalize their state toosome other store.</span></span> <span data-ttu-id="f743f-176">(Por exemplo, todas as aplicações web que depende de manter o estado da sessão de um arquivo de cópia de segurança ou a cache não é sem monitorização de estado.)</span><span class="sxs-lookup"><span data-stu-id="f743f-176">(For example, any web app that relies on keeping session state in a backing store or cache is not stateless.)</span></span>

<span data-ttu-id="f743f-177">Um exemplo comum dos serviços sem monitorização de estado como são utilizadas no Service Fabric é como um front-end que expõe Olá API destinado ao público para uma aplicação web.</span><span class="sxs-lookup"><span data-stu-id="f743f-177">A common example of how stateless services are used in Service Fabric is as a front-end that exposes hello public-facing API for a web application.</span></span> <span data-ttu-id="f743f-178">em seguida, o serviço de front-end Olá sua toostateful serviços toocomplete um pedido de utilizador.</span><span class="sxs-lookup"><span data-stu-id="f743f-178">hello front-end service then talks toostateful services toocomplete a user request.</span></span> <span data-ttu-id="f743f-179">Neste caso, as chamadas a partir de clientes são direcionado tooa conhecido porta, por exemplo 80, onde o serviço sem estado Olá está a escutar.</span><span class="sxs-lookup"><span data-stu-id="f743f-179">In this case, calls from clients are directed tooa known port, such as 80, where hello stateless service is listening.</span></span> <span data-ttu-id="f743f-180">Este serviço sem monitorização de estado recebe Olá chamada e determina se a chamada de Olá é de uma entidade fidedigna e o serviço é destinado a.</span><span class="sxs-lookup"><span data-stu-id="f743f-180">This stateless service receives hello call and determines whether hello call is from a trusted party and which service it's destined for.</span></span>  <span data-ttu-id="f743f-181">Em seguida, o serviço de sem monitorização de estado de Olá reencaminha partição correto do Olá chamada toohello de serviço com estado Olá e aguarda uma resposta.</span><span class="sxs-lookup"><span data-stu-id="f743f-181">Then, hello stateless service forwards hello call toohello correct partition of hello stateful service and waits for a response.</span></span> <span data-ttu-id="f743f-182">Quando o serviço sem estado Olá recebe uma resposta, responde cliente original toohello.</span><span class="sxs-lookup"><span data-stu-id="f743f-182">When hello stateless service receives a response, it replies toohello original client.</span></span> <span data-ttu-id="f743f-183">Um exemplo de tal serviço é nos nossos exemplos [c#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span><span class="sxs-lookup"><span data-stu-id="f743f-183">An example of such a service is in our samples [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span></span> <span data-ttu-id="f743f-184">Esta é apenas um exemplo deste padrão de nos exemplos de Olá, existem outras pessoas, bem como outros exemplos.</span><span class="sxs-lookup"><span data-stu-id="f743f-184">This is only one example of this pattern in hello samples, there are others in other samples as well.</span></span>

### <a name="stateful-reliable-services"></a><span data-ttu-id="f743f-185">Reliable Services com monitorização de estado</span><span class="sxs-lookup"><span data-stu-id="f743f-185">Stateful Reliable Services</span></span>
<span data-ttu-id="f743f-186">Um serviço com estado é aquele que tem de ter uma parte do estado mantido consistente e presente para que Olá toofunction de serviço.</span><span class="sxs-lookup"><span data-stu-id="f743f-186">A stateful service is one that must have some portion of state kept consistent and present in order for hello service toofunction.</span></span> <span data-ttu-id="f743f-187">Considere um serviço que constantemente calcula um média móvel dos últimos um valor com base nas actualizações recebe.</span><span class="sxs-lookup"><span data-stu-id="f743f-187">Consider a service that constantly computes a rolling average of some value based on updates it receives.</span></span> <span data-ttu-id="f743f-188">toodo, tem de ter Olá conjunto atual de pedidos de entrada tem de tooprocess e Olá média atual.</span><span class="sxs-lookup"><span data-stu-id="f743f-188">toodo this, it must have hello current set of incoming requests it needs tooprocess and hello current average.</span></span> <span data-ttu-id="f743f-189">Qualquer serviço que obtém, processa e armazena informações num arquivo externo (por exemplo, um Azure blob ou tabela arquivo hoje) tem o estado monitorizado.</span><span class="sxs-lookup"><span data-stu-id="f743f-189">Any service that retrieves, processes, and stores information in an external store (such as an Azure blob or table store today) is stateful.</span></span> <span data-ttu-id="f743f-190">Apenas mantém o estado no armazenamento de Estados externos de Olá.</span><span class="sxs-lookup"><span data-stu-id="f743f-190">It just keeps its state in hello external state store.</span></span>

<span data-ttu-id="f743f-191">Maioria dos serviços hoje armazenar o respetivo estado externamente, uma vez que o arquivo externo Olá é o que fornece a fiabilidade, disponibilidade, escalabilidade e consistência para esse Estado.</span><span class="sxs-lookup"><span data-stu-id="f743f-191">Most services today store their state externally, since hello external store is what provides reliability, availability, scalability, and consistency for that state.</span></span> <span data-ttu-id="f743f-192">No Service Fabric, serviços não é necessária toostore respetivo estado externamente.</span><span class="sxs-lookup"><span data-stu-id="f743f-192">In Service Fabric, services aren't required toostore their state externally.</span></span> <span data-ttu-id="f743f-193">Service Fabric encarrega-se parte destes requisitos para o código do serviço Olá e o estado do serviço de Olá.</span><span class="sxs-lookup"><span data-stu-id="f743f-193">Service Fabric takes care of these requirements for both hello service code and hello service state.</span></span>

> [!NOTE]
> <span data-ttu-id="f743f-194">Suporte para monitorização de estado Reliable Services não está disponível no Linux ainda (para c# ou Java).</span><span class="sxs-lookup"><span data-stu-id="f743f-194">Support for Stateful Reliable Services is not available on Linux yet (for C# or Java).</span></span>
>

<span data-ttu-id="f743f-195">Imaginemos que queremos toowrite um serviço que processa as imagens.</span><span class="sxs-lookup"><span data-stu-id="f743f-195">Let's say we want toowrite a service that processes images.</span></span> <span data-ttu-id="f743f-196">toodo isto, Olá serviço demora uma série de imagem e Olá de tooperform conversões nessa imagem.</span><span class="sxs-lookup"><span data-stu-id="f743f-196">toodo this, hello service takes in an image and hello series of conversions tooperform on that image.</span></span> <span data-ttu-id="f743f-197">Este serviço devolve um serviço de escuta de comunicação (vamos Suponhamos é um end de WebAPI) que expõe uma API, como `ConvertImage(Image i, IList<Conversion> conversions)`.</span><span class="sxs-lookup"><span data-stu-id="f743f-197">This service returns a communication listener (let's suppose it's a WebAPI) that exposes an API like `ConvertImage(Image i, IList<Conversion> conversions)`.</span></span> <span data-ttu-id="f743f-198">Quando recebe um pedido, o serviço Olá armazena-a num `IReliableQueue`e devolve o cliente de toohello algumas id para acompanhar o pedido de Olá.</span><span class="sxs-lookup"><span data-stu-id="f743f-198">When it receives a request, hello service stores it in a `IReliableQueue`, and returns some id toohello client so it can track hello request.</span></span>

<span data-ttu-id="f743f-199">Neste serviço `RunAsync()` pode ser mais complexas.</span><span class="sxs-lookup"><span data-stu-id="f743f-199">In this service, `RunAsync()` could be more complex.</span></span> <span data-ttu-id="f743f-200">serviço Olá tem um ciclo dentro respetivo `RunAsync()` que obtém a pedidos de `IReliableQueue` e efetua conversões Olá pedidas.</span><span class="sxs-lookup"><span data-stu-id="f743f-200">hello service has a loop inside its `RunAsync()` that pulls requests out of `IReliableQueue` and performs hello conversions requested.</span></span> <span data-ttu-id="f743f-201">resultados de Olá obterem armazenados num `IReliableDictionary` para que quando o cliente de Olá volta a, podem obter as suas imagens convertidas.</span><span class="sxs-lookup"><span data-stu-id="f743f-201">hello results get stored in an `IReliableDictionary` so that when hello client comes back they can get their converted images.</span></span> <span data-ttu-id="f743f-202">tooensure ou até mesmo se algo falhar imagem Olá não é perdido, este serviço fiável seria solicitar fora fila Olá, efetuar conversões Olá e armazenar o resultado de Olá tudo numa só transação.</span><span class="sxs-lookup"><span data-stu-id="f743f-202">tooensure that even if something fails hello image isn't lost, this Reliable Service would pull out of hello queue, perform hello conversions, and store hello result all in a single transaction.</span></span> <span data-ttu-id="f743f-203">Neste caso, a mensagem de saudação é removida da fila de Olá e Olá estão armazenados no dicionário de resultado Olá apenas quando conversões Olá estiverem concluídas.</span><span class="sxs-lookup"><span data-stu-id="f743f-203">In this case, hello message is removed from hello queue and hello results are stored in hello result dictionary only when hello conversions are complete.</span></span> <span data-ttu-id="f743f-204">Em alternativa, o serviço de Olá foi solicitar a imagem de Olá fora fila Olá e imediatamente armazene-o num arquivo remoto.</span><span class="sxs-lookup"><span data-stu-id="f743f-204">Alternatively, hello service could pull hello image out of hello queue and immediately store it in a remote store.</span></span> <span data-ttu-id="f743f-205">Esta reduz Olá quantidade de serviço de estado do Olá tem toomanage, mas aumenta a complexidade, uma vez que o serviço de Olá tem tookeep Olá metadados necessários toomanage Olá remoto arquivo.</span><span class="sxs-lookup"><span data-stu-id="f743f-205">This reduces hello amount of state hello service has toomanage, but increases complexity since hello service has tookeep hello necessary metadata toomanage hello remote store.</span></span> <span data-ttu-id="f743f-206">Com uma abordagem, se algo falha no pedido de média Olá Olá permanece na Olá fila à espera toobe processado.</span><span class="sxs-lookup"><span data-stu-id="f743f-206">With either approach, if something failed in hello middle hello request remains in hello queue waiting toobe processed.</span></span>

<span data-ttu-id="f743f-207">Uma coisa toonote sobre este serviço é que o se SOA como um serviço normal do .NET!</span><span class="sxs-lookup"><span data-stu-id="f743f-207">One thing toonote about this service is that it sounds like a normal .NET service!</span></span> <span data-ttu-id="f743f-208">Olá única diferença é que Olá estruturas de dados a ser utilizado (`IReliableQueue` e `IReliableDictionary`) são fornecidas pelo serviço de recursos de infraestrutura e são de elevada disponibilidade fiável, e consistente.</span><span class="sxs-lookup"><span data-stu-id="f743f-208">hello only difference is that hello data structures being used (`IReliableQueue` and `IReliableDictionary`) are provided by Service Fabric, and are highly reliable, available, and consistent.</span></span>

## <a name="when-toouse-reliable-services-apis"></a><span data-ttu-id="f743f-209">Quando toouse fiável APIs de serviços</span><span class="sxs-lookup"><span data-stu-id="f743f-209">When toouse Reliable Services APIs</span></span>
<span data-ttu-id="f743f-210">Se qualquer um dos seguintes Olá caracterizam suas necessidades de serviço de aplicações, em seguida, deve considerar a fiável APIs de serviços:</span><span class="sxs-lookup"><span data-stu-id="f743f-210">If any of hello following characterize your application service needs, then you should consider Reliable Services APIs:</span></span>

* <span data-ttu-id="f743f-211">Pretende código do serviço (e opcionalmente de estado) toobe de elevada disponibilidade e fiável</span><span class="sxs-lookup"><span data-stu-id="f743f-211">You want your service's code (and optionally state) toobe highly available and reliable</span></span>
* <span data-ttu-id="f743f-212">Terá de garantias transacionais em várias unidades de estado (por exemplo, as ordens e itens de linha de ordem).</span><span class="sxs-lookup"><span data-stu-id="f743f-212">You need transactional guarantees across multiple units of state (for example, orders and order line items).</span></span>
* <span data-ttu-id="f743f-213">Estado da aplicação pode ser naturalmente modelado como dicionários fiável e pelas filas.</span><span class="sxs-lookup"><span data-stu-id="f743f-213">Your application’s state can be naturally modeled as Reliable Dictionaries and Queues.</span></span>
* <span data-ttu-id="f743f-214">O código de aplicações ou estado tem toobe elevada com latência baixa leituras e escritas.</span><span class="sxs-lookup"><span data-stu-id="f743f-214">Your applications code or state needs toobe highly available with low latency reads and writes.</span></span>
* <span data-ttu-id="f743f-215">A aplicação necessita de simultaneidade de Olá toocontrol ou granularidade de operações transacionadas num ou mais coleções fiável.</span><span class="sxs-lookup"><span data-stu-id="f743f-215">Your application needs toocontrol hello concurrency or granularity of transacted operations across one or more Reliable Collections.</span></span>
* <span data-ttu-id="f743f-216">Pretende que as comunicações de Olá toomanage ou Olá controlo a criação de partições de esquema para o seu serviço.</span><span class="sxs-lookup"><span data-stu-id="f743f-216">You want toomanage hello communications or control hello partitioning scheme for your service.</span></span>
* <span data-ttu-id="f743f-217">O código tem um ambiente de tempo de execução free-threaded.</span><span class="sxs-lookup"><span data-stu-id="f743f-217">Your code needs a free-threaded runtime environment.</span></span>
* <span data-ttu-id="f743f-218">A aplicação tem de toodynamically criar ou destruir dicionários fiável ou filas ou serviços todo no tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="f743f-218">Your application needs toodynamically create or destroy Reliable Dictionaries or Queues or whole Services at runtime.</span></span>
* <span data-ttu-id="f743f-219">É necessário tooprogrammatically fornecido de recursos de infraestrutura do serviço de cópia de segurança e restauro funcionalidades de controlo para o estado do serviço.</span><span class="sxs-lookup"><span data-stu-id="f743f-219">You need tooprogrammatically control Service Fabric-provided backup and restore features for your service’s state.</span></span>
* <span data-ttu-id="f743f-220">A aplicação necessita de toomaintain histórico de alterações para o respetivas unidades de estado.</span><span class="sxs-lookup"><span data-stu-id="f743f-220">Your application needs toomaintain change history for its units of state.</span></span>
* <span data-ttu-id="f743f-221">Pretende toodevelop ou consumir fornecedores de estado personalizado, desenvolvido de terceiros de terceiros.</span><span class="sxs-lookup"><span data-stu-id="f743f-221">You want toodevelop or consume third-party-developed, custom state providers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f743f-222">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="f743f-222">Next steps</span></span>
* [<span data-ttu-id="f743f-223">Início rápido de serviços fiável</span><span class="sxs-lookup"><span data-stu-id="f743f-223">Reliable Services quick start</span></span>](service-fabric-reliable-services-quick-start.md)
* [<span data-ttu-id="f743f-224">Reliable Services avançadas de utilização</span><span class="sxs-lookup"><span data-stu-id="f743f-224">Reliable Services advanced usage</span></span>](service-fabric-reliable-services-advanced-usage.md)
* [<span data-ttu-id="f743f-225">modelo de programação do Olá Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="f743f-225">hello Reliable Actors programming model</span></span>](service-fabric-reliable-actors-introduction.md)
