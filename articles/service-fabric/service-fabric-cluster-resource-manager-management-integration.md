---
title: "aaaService Gestor de recursos de Cluster de recursos de infraestrutura - integração de gestão | Microsoft Docs"
description: "Uma descrição geral de pontos de integração de Olá entre Olá Gestor de recursos do Cluster e gestão de recursos de infraestrutura de serviço."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 956cd0b8-b6e3-4436-a224-8766320e8cd7
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9a24c9de121fbe2e8e5e8e4d117e64686918936a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-integration-with-service-fabric-cluster-management"></a><span data-ttu-id="4f0f5-103">Integração de Gestor de recursos de cluster com a gestão de cluster do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="4f0f5-103">Cluster resource manager integration with Service Fabric cluster management</span></span>
<span data-ttu-id="4f0f5-104">Olá Gestor de recursos de Cluster do serviço de recursos de infraestrutura não unidade atualizações no Service Fabric, mas está envolvida.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-104">hello Service Fabric Cluster Resource Manager doesn't drive upgrades in Service Fabric, but it is involved.</span></span> <span data-ttu-id="4f0f5-105">Olá forma primeiro que Olá ajuda-o Gestor de recursos de Cluster com a gestão é pelo controlo Olá pretendido estado do cluster Olá e serviços Olá dentro do mesmo.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-105">hello first way that hello Cluster Resource Manager helps with management is by tracking hello desired state of hello cluster and hello services inside it.</span></span> <span data-ttu-id="4f0f5-106">Olá Gestor de recursos do Cluster de envia relatórios de estado de funcionamento quando este não é possível colocar o cluster Olá numa configuração pretendida Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-106">hello Cluster Resource Manager sends out health reports when it cannot put hello cluster into hello desired configuration.</span></span> <span data-ttu-id="4f0f5-107">Por exemplo, se não existir insuficientes Olá capacidade Gestor de recursos do Cluster envia os avisos de estado de funcionamento e erros que possam indicar problemas de Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-107">For example, if there is insufficient capacity hello Cluster Resource Manager sends out health warnings and errors indicating hello problem.</span></span> <span data-ttu-id="4f0f5-108">Outra informação de integração tem toodo com como funcionam as atualizações.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-108">Another piece of integration has toodo with how upgrades work.</span></span> <span data-ttu-id="4f0f5-109">Olá Gestor de recursos do Cluster altera o comportamento ligeiramente durante as atualizações.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-109">hello Cluster Resource Manager alters its behavior slightly during upgrades.</span></span>  

## <a name="health-integration"></a><span data-ttu-id="4f0f5-110">Integração de estado de funcionamento</span><span class="sxs-lookup"><span data-stu-id="4f0f5-110">Health integration</span></span>
<span data-ttu-id="4f0f5-111">Olá Gestor de recursos do Cluster constantemente controla as regras de Olá que definiu para colocar os serviços.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-111">hello Cluster Resource Manager constantly tracks hello rules you have defined for placing your services.</span></span> <span data-ttu-id="4f0f5-112">É também controla Olá restantes capacidade para cada métrica em nós de Olá e no cluster de Olá e no cluster de Olá como um todo.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-112">It also tracks hello remaining capacity for each metric on hello nodes and in hello cluster and in hello cluster as a whole.</span></span> <span data-ttu-id="4f0f5-113">Se não é possível satisfazer essas regras ou se existir capacidade insuficiente, erros e avisos sobre o estado de funcionamento são emitidos.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-113">If it can't satisfy those rules or if there is insufficient capacity, health warnings and errors are emitted.</span></span> <span data-ttu-id="4f0f5-114">Por exemplo, se um nó é efetuada através de capacidade e Olá Gestor de recursos do Cluster tentará situação de Olá toofix movendo serviços.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-114">For example, if a node is over capacity and hello Cluster Resource Manager will try toofix hello situation by moving services.</span></span> <span data-ttu-id="4f0f5-115">Se este não é possível corrigir a situação de Olá emite um aviso de estado de funcionamento que indica que o nó é através de capacidade de e para as métricas.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-115">If it can't correct hello situation it emits a health warning indicating which node is over capacity, and for which metrics.</span></span>

<span data-ttu-id="4f0f5-116">Outro exemplo de Olá Resource Manager avisos de estado de funcionamento é violações de restrições de posicionamento.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-116">Another example of hello Resource Manager's health warnings is violations of placement constraints.</span></span> <span data-ttu-id="4f0f5-117">Por exemplo, se definiu uma restrição de posicionamento (tais como `“NodeColor == Blue”`) e Olá Resource Manager Deteta uma violação dessa restrição, emite um aviso de estado de funcionamento.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-117">For example, if you have defined a placement constraint (such as `“NodeColor == Blue”`) and hello Resource Manager detects a violation of that constraint, it emits a health warning.</span></span> <span data-ttu-id="4f0f5-118">Isto é verdadeiro para restrições personalizadas e restrições predefinidas de Olá (como restrições de domínio de falhas e de domínio de atualização de Olá).</span><span class="sxs-lookup"><span data-stu-id="4f0f5-118">This is true for custom constraints and hello default constraints (like hello Fault Domain and Upgrade Domain constraints).</span></span>

<span data-ttu-id="4f0f5-119">Eis um exemplo de um relatório de estado de funcionamento deste tipo.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-119">Here’s an example of one such health report.</span></span> <span data-ttu-id="4f0f5-120">Neste caso, o relatório de estado de funcionamento de Olá é uma das partições do serviço de sistema Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-120">In this case, hello health report is for one of hello system service’s partitions.</span></span> <span data-ttu-id="4f0f5-121">mensagem de estado de funcionamento de saudação indica Olá réplicas dessa partição estão temporariamente packed em poucos domínios de atualização.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-121">hello health message indicates hello replicas of that partition are temporarily packed into too few Upgrade Domains.</span></span>

```posh
PS C:\Users\User > Get-WindowsFabricPartitionHealth -PartitionId '00000000-0000-0000-0000-000000000001'


PartitionId           : 00000000-0000-0000-0000-000000000001
AggregatedHealthState : Warning
UnhealthyEvaluations  :
                        Unhealthy event: SourceId='System.PLB', Property='ReplicaConstraintViolation_UpgradeDomain', HealthState='Warning', ConsiderWarningAsError=false.

ReplicaHealthStates   :
                        ReplicaId             : 130766528804733380
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577821
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528854889931
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577822
                        AggregatedHealthState : Ok

                        ReplicaId             : 130837073190680024
                        AggregatedHealthState : Ok

HealthEvents          :
                        SourceId              : System.PLB
                        Property              : ReplicaConstraintViolation_UpgradeDomain
                        HealthState           : Warning
                        SequenceNumber        : 130837100116930204
                        SentAt                : 8/10/2015 7:53:31 PM
                        ReceivedAt            : 8/10/2015 7:53:33 PM
                        TTL                   : 00:01:05
                        Description           : hello Load Balancer has detected a Constraint Violation for this Replica: fabric:/System/FailoverManagerService Secondary Partition 00000000-0000-0000-0000-000000000001 is
                        violating hello Constraint: UpgradeDomain Details: UpgradeDomain ID -- 4, Replica on NodeName -- Node.8 Currently Upgrading -- false Distribution Policy -- Packing
                        RemoveWhenExpired     : True
                        IsExpired             : False
                        Transitions           : Ok->Warning = 8/10/2015 7:13:02 PM, LastError = 1/1/0001 12:00:00 AM
```

<span data-ttu-id="4f0f5-122">Eis o que esta mensagem de estado de funcionamento está a informar-nos é:</span><span class="sxs-lookup"><span data-stu-id="4f0f5-122">Here's what this health message is telling us is:</span></span>

1. <span data-ttu-id="4f0f5-123">Todas as réplicas de Olá próprios estão em bom Estadas: cada tem AggregatedHealthState: Ok</span><span class="sxs-lookup"><span data-stu-id="4f0f5-123">All hello replicas themselves are healthy: Each has AggregatedHealthState : Ok</span></span>
2. <span data-ttu-id="4f0f5-124">Olá restrição de distribuição de domínio de atualização está atualmente a ser violado.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-124">hello Upgrade Domain distribution constraint is currently being violated.</span></span> <span data-ttu-id="4f0f5-125">Isto significa que um determinado domínio de atualização tem mais réplicas desta partição que devia.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-125">This means a particular Upgrade Domain has more replicas from this partition than it should.</span></span>
3. <span data-ttu-id="4f0f5-126">Nó que contém a violação de Olá que provocou do Olá réplica.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-126">Which node contains hello replica causing hello violation.</span></span> <span data-ttu-id="4f0f5-127">Neste caso é nó Olá com o nome de Olá "Node.8"</span><span class="sxs-lookup"><span data-stu-id="4f0f5-127">In this case it's hello node with hello name "Node.8"</span></span>
4. <span data-ttu-id="4f0f5-128">Indica se uma atualização está a acontecer para esta partição ("atualmente atualizar – false")</span><span class="sxs-lookup"><span data-stu-id="4f0f5-128">Whether an upgrade is currently happening for this partition ("Currently Upgrading -- false")</span></span>
5. <span data-ttu-id="4f0f5-129">Olá, política de distribuição para este serviço: "--de política de distribuição mais".</span><span class="sxs-lookup"><span data-stu-id="4f0f5-129">hello distribution policy for this service: "Distribution Policy -- Packing".</span></span> <span data-ttu-id="4f0f5-130">Isto é regido pelos Olá `RequireDomainDistribution` [política de colocação](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="4f0f5-130">This is governed by hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="4f0f5-131">"Packing" indica que neste caso DomainDistribution foi _não_ necessário, para que possamos saber que a política de colocação não foi especificada para este serviço.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-131">"Packing" indicates that in this case DomainDistribution was _not_ required, so we know that placement policy was not specified for this service.</span></span> 
6. <span data-ttu-id="4f0f5-132">Quando o relatório de Olá foi efetuada - 8/10/2015 as 19:13:02: 00</span><span class="sxs-lookup"><span data-stu-id="4f0f5-132">When hello report happened - 8/10/2015 7:13:02 PM</span></span>

<span data-ttu-id="4f0f5-133">Informações como esta alertas powers que fire no toolet produção sabe algo tornou errado e também é utilizada toodetect e pare atualizações incorretas.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-133">Information like this powers alerts that fire in production toolet you know something has gone wrong and is also used toodetect and halt bad upgrades.</span></span> <span data-ttu-id="4f0f5-134">Neste caso, seria aconselhável toosee se vamos descobrir o motivo pelo qual Olá Gestor de recursos tinha réplicas de Olá toopack para Olá domínio de atualização.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-134">In this case, we’d want toosee if we can figure out why hello Resource Manager had toopack hello replicas into hello Upgrade Domain.</span></span> <span data-ttu-id="4f0f5-135">Normalmente, packing é transitório porque nós Olá Olá outros domínios de atualização foram, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-135">Usually packing is transient because hello nodes in hello other Upgrade Domains were down, for example.</span></span>

<span data-ttu-id="4f0f5-136">Digamos Olá Gestor de recursos de Cluster está a tentar tooplace alguns serviços, mas não existe qualquer soluções que funcionam.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-136">Let’s say hello Cluster Resource Manager is trying tooplace some services, but there aren't any solutions that work.</span></span> <span data-ttu-id="4f0f5-137">Quando não não possível colocar os serviços, destina-se, normalmente, um dos Olá seguintes motivos:</span><span class="sxs-lookup"><span data-stu-id="4f0f5-137">When services can't be placed, it is usually for one of hello following reasons:</span></span>

1. <span data-ttu-id="4f0f5-138">Alguns condição transitória fez com que tooplace impossível esta instância de serviço ou a réplica corretamente</span><span class="sxs-lookup"><span data-stu-id="4f0f5-138">Some transient condition has made it impossible tooplace this service instance or replica correctly</span></span>
2. <span data-ttu-id="4f0f5-139">requisitos de posicionamento do serviço de Olá são unsatisfiable.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-139">hello service’s placement requirements are unsatisfiable.</span></span>

<span data-ttu-id="4f0f5-140">Nestes casos, relatórios de estado de funcionamento de Olá Gestor de recursos do Cluster de ajudam a determinar por que motivo não é possível colocar o serviço de Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-140">In these cases, health reports from hello Cluster Resource Manager help you determine why hello service can’t be placed.</span></span> <span data-ttu-id="4f0f5-141">Chamamos a esta sequência de eliminação de restrição de Olá do processo.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-141">We call this process hello constraint elimination sequence.</span></span> <span data-ttu-id="4f0f5-142">Durante a mesma, sistema Olá explica as restrições de Olá configurado que afetam o serviço de Olá e registos possam eliminar.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-142">During it, hello system walks through hello configured constraints affecting hello service and records what they eliminate.</span></span> <span data-ttu-id="4f0f5-143">Desta forma, quando os serviços não são capaz toobe colocada, pode ver quais os nós que foram eliminados e por que motivo.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-143">This way when services aren’t able toobe placed, you can see which nodes were eliminated and why.</span></span>

## <a name="constraint-types"></a><span data-ttu-id="4f0f5-144">Tipos de restrição</span><span class="sxs-lookup"><span data-stu-id="4f0f5-144">Constraint types</span></span>
<span data-ttu-id="4f0f5-145">Vamos falar sobre cada uma das restrições de diferentes Olá nestes relatórios de estado de funcionamento.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-145">Let’s talk about each of hello different constraints in these health reports.</span></span> <span data-ttu-id="4f0f5-146">Verá as restrições de toothese relacionados de mensagens de estado de funcionamento quando não não possível colocar as réplicas.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-146">You will see health messages related toothese constraints when replicas can't be placed.</span></span>

* <span data-ttu-id="4f0f5-147">**ReplicaExclusionStatic** e **ReplicaExclusionDynamic**: destas restrições indica que uma solução foi rejeitada porque a mesma partição de Olá dois objetos de serviço do seria ter toobe colocada Olá mesmo nó.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-147">**ReplicaExclusionStatic** and **ReplicaExclusionDynamic**: These constraints indicates that a solution was rejected because two service objects from hello same partition would have toobe placed on hello same node.</span></span> <span data-ttu-id="4f0f5-148">Isto não é permitido porque, em seguida, falha de nó excessivamente teria um impacto dessa partição.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-148">This isn’t allowed because then failure of that node would overly impact that partition.</span></span> <span data-ttu-id="4f0f5-149">ReplicaExclusionStatic e ReplicaExclusionDynamic são quase Olá mesmas diferenças de regra e Olá realmente não importa.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-149">ReplicaExclusionStatic and ReplicaExclusionDynamic are almost hello same rule and hello differences don't really matter.</span></span> <span data-ttu-id="4f0f5-150">Se vir uma sequência de eliminação de restrição que contém o Olá ReplicaExclusionStatic ou ReplicaExclusionDynamic uma restrição, Olá Gestor de recursos do Cluster pensa que não nós suficientes.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-150">If you are seeing a constraint elimination sequence containing either hello ReplicaExclusionStatic or ReplicaExclusionDynamic constraint, hello Cluster Resource Manager thinks that there aren’t enough nodes.</span></span> <span data-ttu-id="4f0f5-151">Isto requer que os restantes soluções toouse estes inválido possam ser posicionadas livremente que não é permitidos.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-151">This requires remaining solutions toouse these invalid placements which are disallowed.</span></span> <span data-ttu-id="4f0f5-152">Olá outras limitações na sequência de Olá normalmente nos irão dizer por que motivo nós estão a ser eliminado o aperto assegurados primeiro Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-152">hello other constraints in hello sequence will usually tell us why nodes are being eliminated in hello first place.</span></span>
* <span data-ttu-id="4f0f5-153">**PlacementConstraint**: Se vir esta mensagem, significa que foi eliminado o aperto alguns nós porque estes não correspondiam restrições de posicionamento do serviço de Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-153">**PlacementConstraint**: If you see this message, it means that we eliminated some nodes because they didn’t match hello service’s placement constraints.</span></span> <span data-ttu-id="4f0f5-154">Iremos rastreio saída restrições de posicionamento de Olá atualmente configurada como parte desta mensagem.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-154">We trace out hello currently configured placement constraints as a part of this message.</span></span> <span data-ttu-id="4f0f5-155">Isto é normal se tiver uma restrição de posicionamento definida.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-155">This is normal if you have a placement constraint defined.</span></span> <span data-ttu-id="4f0f5-156">No entanto, se a restrição de posicionamento está a causar incorretamente demasiadas toobe de nós eliminado o aperto esta é a forma como iria Repare.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-156">However, if placement constraint is incorrectly causing too many nodes toobe eliminated this is how you would notice.</span></span>
* <span data-ttu-id="4f0f5-157">**NodeCapacity**: esta restrição significa que Olá Gestor de recursos do Cluster não foi possível colocar réplicas Olá num Olá indicado nós porque que seria colocá-los através de capacidade.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-157">**NodeCapacity**: This constraint means that hello Cluster Resource Manager couldn’t place hello replicas on hello indicated nodes because that would put them over capacity.</span></span>
* <span data-ttu-id="4f0f5-158">**Afinidade**: esta restrição indica que iremos não foi possível colocar a réplica Olá em nós de Olá afetado porque causaria uma violação de restrição de afinidade de Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-158">**Affinity**: This constraint indicates that we couldn’t place hello replica on hello affected nodes since it would cause a violation of hello affinity constraint.</span></span> <span data-ttu-id="4f0f5-159">Mais informações sobre a afinidade estão a ser [neste artigo](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span><span class="sxs-lookup"><span data-stu-id="4f0f5-159">More information on affinity is in [this article](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span></span>
* <span data-ttu-id="4f0f5-160">**FaultDomain** e **UpgradeDomain**: esta restrição elimina nós se colocar réplica Olá Olá indicado nós causaria packing num determinado falhas ou domínio de atualização.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-160">**FaultDomain** and **UpgradeDomain**: This constraint eliminates nodes if placing hello replica on hello indicated nodes would cause packing in a particular fault or upgrade domain.</span></span> <span data-ttu-id="4f0f5-161">São vários os exemplos debater esta restrição são apresentados no tópico Olá [restrições de domínio de falhas e a atualização e o comportamento resultante](service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="4f0f5-161">Several examples discussing this constraint are presented in hello topic on [fault and upgrade domain constraints and resulting behavior](service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
* <span data-ttu-id="4f0f5-162">**PreferredLocation**: normalmente não os deveriam ver esta restrição remover nós da solução de Olá, uma vez que é executada como otimização por predefinição.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-162">**PreferredLocation**: You shouldn’t normally see this constraint removing nodes from hello solution since it runs as an optimization by default.</span></span> <span data-ttu-id="4f0f5-163">Olá preferencial a restrição de localização encontra-se também durante as atualizações.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-163">hello preferred location constraint is also present during upgrades.</span></span> <span data-ttu-id="4f0f5-164">É utilizado toomove serviços back toowhere que estavam quando iniciar a atualização de Olá durante a atualização.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-164">During upgrade it is used toomove services back toowhere they were when hello upgrade started.</span></span>

## <a name="blocklisting-nodes"></a><span data-ttu-id="4f0f5-165">Blocklisting nós</span><span class="sxs-lookup"><span data-stu-id="4f0f5-165">Blocklisting Nodes</span></span>
<span data-ttu-id="4f0f5-166">Outro relatórios de Gestor de recursos do Cluster de Olá a mensagem de estado de funcionamento é quando nós são blocklisted.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-166">Another health message hello Cluster Resource Manager reports is when nodes are blocklisted.</span></span> <span data-ttu-id="4f0f5-167">Pode considerar blocklisting como uma restrição temporária que é aplicada automaticamente para si.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-167">You can think of blocklisting as a temporary constraint that is automatically applied for you.</span></span> <span data-ttu-id="4f0f5-168">Nós obtém blocklisted registam falhas repetidas quando iniciar instâncias desse tipo de serviço.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-168">Nodes get blocklisted when they experience repeated failures when launching instances of that service type.</span></span> <span data-ttu-id="4f0f5-169">Nós são blocklisted numa base por--tipo de serviço.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-169">Nodes are blocklisted on a per-service-type basis.</span></span> <span data-ttu-id="4f0f5-170">Um nó pode ser blocklisted para o tipo de um serviço, mas não outro.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-170">A node may be blocklisted for one service type but not another.</span></span> 

<span data-ttu-id="4f0f5-171">Verá blocklisting Iniciar muitas vezes durante o desenvolvimento: alguns erros faz com que a sua toocrash de anfitrião do serviço no arranque.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-171">You'll see blocklisting kick in often during development: some bug causes your service host toocrash on startup.</span></span> <span data-ttu-id="4f0f5-172">Service Fabric tenta anfitrião do serviço toocreate Olá algumas vezes e falha Olá mantém a ocorrer.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-172">Service Fabric tries toocreate hello service host a few times, and hello failure keeps occurring.</span></span> <span data-ttu-id="4f0f5-173">Após alguns tentativas, o nó de Olá obtém blocklisted e Olá Gestor de recursos do Cluster tentará toocreate serviço de Olá noutro local.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-173">After a few attempts, hello node gets blocklisted, and hello Cluster Resource Manager will try toocreate hello service elsewhere.</span></span> <span data-ttu-id="4f0f5-174">Se essa falha mantém a acontecer em vários nós, é possível que todos os nós de válido Olá no final de cluster Olá cópias de segurança de bloqueado.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-174">If that failure keeps happening on multiple nodes, it's possible that all of hello valid nodes in hello cluster end up blocked.</span></span> <span data-ttu-id="4f0f5-175">Blocklisting pode também remover nós tantas insuficiente pode iniciar com êxito escala do Olá serviço toomeet Olá assim o desejar.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-175">Blocklisting cna also remove so many nodes that not enough can successfully launch hello service toomeet hello desired scale.</span></span> <span data-ttu-id="4f0f5-176">Normalmente, irá ver erros adicionais ou avisos de Olá Gestor de recursos de Cluster com a indicação de que o serviço de Olá está abaixo réplica pretendido Olá ou a contagem de instâncias, bem como as mensagens de estado de funcionamento que indica que falha Olá é que origina toohello blocklisting assegurados primeiro Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-176">You'll typically see additional errors or warnings from hello Cluster Resource Manager indicating that hello service is below hello desired replica or instance count, as well as health messages indicating what hello failure is that's leading toohello blocklisting in hello first place.</span></span>

<span data-ttu-id="4f0f5-177">Blocklisting não é uma condição permanente.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-177">Blocklisting is not a permanent condition.</span></span> <span data-ttu-id="4f0f5-178">Após alguns minutos, o nó de Olá é removido do Olá blocklist e Service Fabric pode ativar os serviços de Olá nesse nó novamente.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-178">After a few minutes, hello node is removed from hello blocklist and Service Fabric may activate hello services on that node again.</span></span> <span data-ttu-id="4f0f5-179">Se os serviços continuem toofail, o nó de Olá é novamente blocklisted para esse tipo de serviço.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-179">If services continue toofail, hello node is blocklisted for that service type again.</span></span> 

### <a name="constraint-priorities"></a><span data-ttu-id="4f0f5-180">Prioridades da restrição</span><span class="sxs-lookup"><span data-stu-id="4f0f5-180">Constraint priorities</span></span>

> [!WARNING]
> <span data-ttu-id="4f0f5-181">Alterar as prioridades de restrição não se recomenda e pode ter efeitos adversos significativos no seu cluster.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-181">Changing constraint priorities is not recommended and may have significant adverse effects on your cluster.</span></span> <span data-ttu-id="4f0f5-182">Olá abaixo informações é fornecida para a referência de prioridades de restrição de predefinição Olá e o comportamento.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-182">hello below information is provided for reference of hello default constraint priorities and their behavior.</span></span> 
>

<span data-ttu-id="4f0f5-183">Com todas as destas restrições, poderá ter sido pensar "Hei responsável pelo – julgo que restrições de domínio de falhas são coisa mais importante de Olá no meu sistema.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-183">With all of these constraints, you may have been thinking “Hey – I think that fault domain constraints are hello most important thing in my system.</span></span> <span data-ttu-id="4f0f5-184">Na ordem tooensure hello restrição de domínio de falhas não é violada, estou dispostos tooviolate outras restrições. "</span><span class="sxs-lookup"><span data-stu-id="4f0f5-184">In order tooensure hello fault domain constraint isn't violated, I’m willing tooviolate other constraints.”</span></span>

<span data-ttu-id="4f0f5-185">Restrições podem ser configuradas com níveis de prioridade diferente.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-185">Constraints can be configured with different priority levels.</span></span> <span data-ttu-id="4f0f5-186">Nomeadamente:</span><span class="sxs-lookup"><span data-stu-id="4f0f5-186">These are:</span></span>

   - <span data-ttu-id="4f0f5-187">"rígido" (0)</span><span class="sxs-lookup"><span data-stu-id="4f0f5-187">“hard” (0)</span></span>
   - <span data-ttu-id="4f0f5-188">"soft" (1)</span><span class="sxs-lookup"><span data-stu-id="4f0f5-188">“soft” (1)</span></span>
   - <span data-ttu-id="4f0f5-189">"otimização" (2)</span><span class="sxs-lookup"><span data-stu-id="4f0f5-189">“optimization” (2)</span></span>
   - <span data-ttu-id="4f0f5-190">"off" (-1).</span><span class="sxs-lookup"><span data-stu-id="4f0f5-190">“off” (-1).</span></span> 
   
<span data-ttu-id="4f0f5-191">Na maioria das restrições de Olá está configurada como restrições de disco rígidas, por predefinição.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-191">Most of hello constraints are configured as hard constraints by default.</span></span>

<span data-ttu-id="4f0f5-192">Alterar a prioridade de Olá restrições é invulgar.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-192">Changing hello priority of constraints is uncommon.</span></span> <span data-ttu-id="4f0f5-193">Existiram vezes onde prioridades de restrição necessários toochange, normalmente toowork em torno alguns erros ou comportamento que está a afetar ambiente Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-193">There have been times where constraint priorities needed toochange, usually toowork around some other bug or behavior that was impacting hello environment.</span></span> <span data-ttu-id="4f0f5-194">Geralmente flexibilidade Olá da infraestrutura de prioridade de restrição de Olá trabalhou muito bem, mas este não é necessário frequentemente.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-194">Generally hello flexibility of hello constraint priority infrastructure has worked very well, but it isn't needed often.</span></span> <span data-ttu-id="4f0f5-195">A maioria do tempo de Olá tudo encontra-se nas respetivas prioridades da predefinição.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-195">Most of hello time everything sits at their default priorities.</span></span> 

<span data-ttu-id="4f0f5-196">níveis de prioridade de Olá não significam que uma restrição determinada _será_ ser violado, nem que será sempre ser satisfeita.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-196">hello priority levels don't mean that a given constraint _will_ be violated, nor that it will always be met.</span></span> <span data-ttu-id="4f0f5-197">Prioridades da restrição definem uma ordem na qual as restrições são aplicadas.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-197">Constraint priorities define an order in which constraints are enforced.</span></span> <span data-ttu-id="4f0f5-198">Prioridades definem fala Olá quando é impossível toosatisfy todas as restrições.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-198">Priorities define hello tradeoffs when it is impossible toosatisfy all constraints.</span></span> <span data-ttu-id="4f0f5-199">Normalmente, todas as restrições de Olá podem ser satisfeitas a menos que exista um senão passa no ambiente de Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-199">Usually all hello constraints can be satisfied unless there's something else going on in hello environment.</span></span> <span data-ttu-id="4f0f5-200">Alguns exemplos de cenários que irão causar tooconstraint violações são as restrições em conflito, ou grande número de falhas em simultâneo.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-200">Some examples of scenarios that will lead tooconstraint violations are conflicting constraints, or large numbers of concurrent failures.</span></span>

<span data-ttu-id="4f0f5-201">Em situações avançadas, pode alterar as prioridades de restrição de Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-201">In advanced situations, you can change hello constraint priorities.</span></span> <span data-ttu-id="4f0f5-202">Por exemplo, imagine que pretendia tooensure que afinidade sempre deverá ser violada quando emite a capacidade de nó toosolve necessário.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-202">For example, say you wanted tooensure that affinity would always be violated when necessary toosolve node capacity issues.</span></span> <span data-ttu-id="4f0f5-203">tooachieve, foi possível definir a prioridade de Olá Olá afinidade restrição demasiado "forma recuperável" (1) e deixar Olá capacidade restrição definida demasiado "disco rígida" (0).</span><span class="sxs-lookup"><span data-stu-id="4f0f5-203">tooachieve this, you could set hello priority of hello affinity constraint too“soft” (1) and leave hello capacity constraint set too“hard” (0).</span></span>

<span data-ttu-id="4f0f5-204">valores de prioridade Olá predefinidos para as restrições de diferentes Olá estão especificados na Olá a seguinte configuração:</span><span class="sxs-lookup"><span data-stu-id="4f0f5-204">hello default priority values for hello different constraints are specified in hello following config:</span></span>

<span data-ttu-id="4f0f5-205">ClusterManifest.xml</span><span class="sxs-lookup"><span data-stu-id="4f0f5-205">ClusterManifest.xml</span></span>

```xml
        <Section Name="PlacementAndLoadBalancing">
            <Parameter Name="PlacementConstraintPriority" Value="0" />
            <Parameter Name="CapacityConstraintPriority" Value="0" />
            <Parameter Name="AffinityConstraintPriority" Value="0" />
            <Parameter Name="FaultDomainConstraintPriority" Value="0" />
            <Parameter Name="UpgradeDomainConstraintPriority" Value="1" />
            <Parameter Name="PreferredLocationConstraintPriority" Value="2" />
        </Section>
```

<span data-ttu-id="4f0f5-206">através de Clusterconfig para implementações autónomas ou Template do Azure alojada clusters:</span><span class="sxs-lookup"><span data-stu-id="4f0f5-206">via ClusterConfig.json for Standalone deployments or Template.json for Azure hosted clusters:</span></span>

```json
"fabricSettings": [
  {
    "name": "PlacementAndLoadBalancing",
    "parameters": [
      {
          "name": "PlacementConstraintPriority",
          "value": "0"
      },
      {
          "name": "CapacityConstraintPriority",
          "value": "0"
      },
      {
          "name": "AffinityConstraintPriority",
          "value": "0"
      },
      {
          "name": "FaultDomainConstraintPriority",
          "value": "0"
      },
      {
          "name": "UpgradeDomainConstraintPriority",
          "value": "1"
      },
      {
          "name": "PreferredLocationConstraintPriority",
          "value": "2"
      }
    ]
  }
]
```

## <a name="fault-domain-and-upgrade-domain-constraints"></a><span data-ttu-id="4f0f5-207">Restrições de domínio do domínio e a atualização falha</span><span class="sxs-lookup"><span data-stu-id="4f0f5-207">Fault domain and upgrade domain constraints</span></span>
<span data-ttu-id="4f0f5-208">Olá Gestor de recursos do Cluster pretende serviços tookeep distribuir entre domínios de falhas e a atualização.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-208">hello Cluster Resource Manager wants tookeep services spread out among fault and upgrade domains.</span></span> <span data-ttu-id="4f0f5-209">Modelos tal como uma restrição dentro Olá Cluster o Gestor de recursos do motor.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-209">It models this as a constraint inside hello Cluster Resource Manager’s engine.</span></span> <span data-ttu-id="4f0f5-210">Para obter mais informações sobre como são utilizadas e o respetivo comportamento específico, consulte o artigo de Olá no [configuração de cluster](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span><span class="sxs-lookup"><span data-stu-id="4f0f5-210">For more information on how they are used and their specific behavior, check out hello article on [cluster configuration](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span></span>

<span data-ttu-id="4f0f5-211">Olá Gestor de recursos do Cluster pode ser necessário toopack alguns réplicas para um domínio de atualização na ordem toodeal com as atualizações, falhas ou outras violações de restrição.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-211">hello Cluster Resource Manager may need toopack a couple replicas into an upgrade domain in order toodeal with upgrades, failures, or other constraint violations.</span></span> <span data-ttu-id="4f0f5-212">Packing em domínios de falhas ou atualização normalmente ocorre apenas quando existem várias falhas ou outro volume de alterações no sistema de Olá impedir a colocação corretas.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-212">Packing into fault or upgrade domains normally happens only when there are several failures or other churn in hello system preventing correct placement.</span></span> <span data-ttu-id="4f0f5-213">Se desejar tooprevent packing, mesmo durante estas situações, pode utilizar Olá `RequireDomainDistribution` [política de colocação](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="4f0f5-213">If you wish tooprevent packing even during these situations, you can utilize hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="4f0f5-214">Tenha em atenção que isto pode afetar a disponibilidade do serviço e a fiabilidade como efeito, por isso considere.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-214">Note that this may affect service availability and reliability as a side effect, so consider it carefully.</span></span>

<span data-ttu-id="4f0f5-215">Se o ambiente de Olá está configurado corretamente, os todas as restrições, completamente são respeitadas, mesmo durante as atualizações.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-215">If hello environment is configured correctly, all constraints are fully respected, even during upgrades.</span></span> <span data-ttu-id="4f0f5-216">Olá chave é essa Olá Gestor de recursos de Cluster está a observar para as restrições.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-216">hello key thing is that hello Cluster Resource Manager is watching out for your constraints.</span></span> <span data-ttu-id="4f0f5-217">Quando Deteta uma violação-lo imediatamente relatórios-lo e tenta problema de Olá toocorrect.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-217">When it detects a violation it immediately reports it and tries toocorrect hello issue.</span></span>

## <a name="hello-preferred-location-constraint"></a><span data-ttu-id="4f0f5-218">restrição de localização de Olá preferido</span><span class="sxs-lookup"><span data-stu-id="4f0f5-218">hello preferred location constraint</span></span>
<span data-ttu-id="4f0f5-219">Olá PreferredLocation restrição é ligeiramente diferente, porque tem dois utiliza diferentes.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-219">hello PreferredLocation constraint is a little different, as it has two different uses.</span></span> <span data-ttu-id="4f0f5-220">É uma utilização desta restrição durante as atualizações de aplicações.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-220">One use of this constraint is during application upgrades.</span></span> <span data-ttu-id="4f0f5-221">Olá Gestor de recursos do Cluster gere automaticamente esta restrição durante as atualizações.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-221">hello Cluster Resource Manager automatically manages this constraint during upgrades.</span></span> <span data-ttu-id="4f0f5-222">É utilizado tooensure que, ao atualiza estiverem concluídas de que as réplicas devolvem tootheir localizações iniciais.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-222">It is used tooensure that when upgrades are complete that replicas return tootheir initial locations.</span></span> <span data-ttu-id="4f0f5-223">Olá outra utilização de Olá PreferredLocation restrição destina Olá [ `PreferredPrimaryDomain` política de colocação](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span><span class="sxs-lookup"><span data-stu-id="4f0f5-223">hello other use of hello PreferredLocation constraint is for hello [`PreferredPrimaryDomain` placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span></span> <span data-ttu-id="4f0f5-224">Estes são otimizações, não sendo, por conseguinte, Olá PreferredLocation restrição restrição apenas Olá definida demasiado "Otimização" por predefinição.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-224">Both of these are optimizations, and hence hello PreferredLocation constraint is hello only constraint set too"Optimization" by default.</span></span>

## <a name="upgrades"></a><span data-ttu-id="4f0f5-225">Atualizações</span><span class="sxs-lookup"><span data-stu-id="4f0f5-225">Upgrades</span></span>
<span data-ttu-id="4f0f5-226">Também ajuda Olá Gestor de recursos do Cluster durante a aplicação e atualizações de cluster, durante os quais tem duas tarefas:</span><span class="sxs-lookup"><span data-stu-id="4f0f5-226">hello Cluster Resource Manager also helps during application and cluster upgrades, during which it has two jobs:</span></span>

* <span data-ttu-id="4f0f5-227">Certifique-se de que existem regras de Olá do cluster de Olá não fiquem comprometidas</span><span class="sxs-lookup"><span data-stu-id="4f0f5-227">ensure that hello rules of hello cluster are not compromised</span></span>
* <span data-ttu-id="4f0f5-228">Tente aceda de atualização de Olá toohelp facilmente</span><span class="sxs-lookup"><span data-stu-id="4f0f5-228">try toohelp hello upgrade go smoothly</span></span>

### <a name="keep-enforcing-hello-rules"></a><span data-ttu-id="4f0f5-229">Manter a impor regras Olá</span><span class="sxs-lookup"><span data-stu-id="4f0f5-229">Keep enforcing hello rules</span></span>
<span data-ttu-id="4f0f5-230">Olá coisa principal toobe em consideração é que ainda são impostas quais regras Olá – Olá strict as restrições, como restrições de posicionamento e as capacidades - durante as atualizações.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-230">hello main thing toobe aware of is that hello rules – hello strict constraints like placement constraints and capacities - are still enforced during upgrades.</span></span> <span data-ttu-id="4f0f5-231">Restrições de posicionamento Certifique-se de que as cargas de trabalho executam apenas em que estão autorizados a, mesmo durante as atualizações.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-231">Placement constraints ensure that your workloads only run where they are allowed to, even during upgrades.</span></span> <span data-ttu-id="4f0f5-232">Quando os serviços são altamente restrita, as atualizações podem demorar mais tempo.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-232">When services are highly constrained, upgrades can take longer.</span></span> <span data-ttu-id="4f0f5-233">Quando o serviço de Olá ou nó de Olá está em execução no é colocada para uma atualização poderão existir algumas opções para onde pode aceder.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-233">When hello service or hello node it is running on is brought down for an update there may be few options for where it can go.</span></span>

### <a name="smart-replacements"></a><span data-ttu-id="4f0f5-234">Substituições inteligentes</span><span class="sxs-lookup"><span data-stu-id="4f0f5-234">Smart replacements</span></span>
<span data-ttu-id="4f0f5-235">Quando uma atualização é iniciado, Olá Resource Manager tira um instantâneo de disposição atual do Olá de cluster Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-235">When an upgrade starts, hello Resource Manager takes a snapshot of hello current arrangement of hello cluster.</span></span> <span data-ttu-id="4f0f5-236">Como cada domínio de atualização estiver concluída, tenta serviços de Olá tooreturn que se encontravam em que disposição original de tootheir de domínio de atualização.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-236">As each Upgrade Domain completes, it attempts tooreturn hello services that were in that Upgrade Domain tootheir original arrangement.</span></span> <span data-ttu-id="4f0f5-237">Desta forma existem no máximo duas transições para um serviço durante a atualização de Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-237">This way there are at most two transitions for a service during hello upgrade.</span></span> <span data-ttu-id="4f0f5-238">Existe uma movimentação fora do nó de Olá afetado e um regresse.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-238">There is one move out of hello affected node and one move back in.</span></span> <span data-ttu-id="4f0f5-239">Devolver toohow de cluster ou o serviço de Olá foi antes de atualização de Olá também garante a atualização de Olá não tem impacto esquema Olá do cluster de Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-239">Returning hello cluster or service toohow it was before hello upgrade also ensures hello upgrade doesn’t impact hello layout of hello cluster.</span></span> 

### <a name="reduced-churn"></a><span data-ttu-id="4f0f5-240">Volume de alterações reduzida</span><span class="sxs-lookup"><span data-stu-id="4f0f5-240">Reduced churn</span></span>
<span data-ttu-id="4f0f5-241">Outra coisa a fazer durante atualizações é essa Olá Gestor de recursos do Cluster se desligar balanceamento.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-241">Another thing that happens during upgrades is that hello Cluster Resource Manager turns off balancing.</span></span> <span data-ttu-id="4f0f5-242">Impedir balanceamento impede reactions desnecessários toohello atualização em si, como mover serviços para nós que foram esvaziados para atualização Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-242">Preventing balancing prevents unnecessary reactions toohello upgrade itself, like moving services into nodes that were emptied for hello upgrade.</span></span> <span data-ttu-id="4f0f5-243">Se a atualização de Olá em questão for uma atualização do Cluster, cluster completo Olá não é balanceado durante a atualização de Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-243">If hello upgrade in question is a Cluster upgrade, then hello entire cluster is not balanced during hello upgrade.</span></span> <span data-ttu-id="4f0f5-244">Verificações de restrição permanecerá ativas, movimento apenas com base no Olá balanceamento proativa das métricas está desativado.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-244">Constraint checks stay active, only movement based on hello proactive balancing of metrics is disabled.</span></span>

### <a name="buffered-capacity--upgrade"></a><span data-ttu-id="4f0f5-245">Capacidade de memória intermédia & atualização</span><span class="sxs-lookup"><span data-stu-id="4f0f5-245">Buffered Capacity & Upgrade</span></span>
<span data-ttu-id="4f0f5-246">Geralmente, quer toocomplete atualização Olá, mesmo que esteja cluster Olá toofull restrita ou fechar.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-246">Generally you want hello upgrade toocomplete even if hello cluster is constrained or close toofull.</span></span> <span data-ttu-id="4f0f5-247">Gerir a capacidade de Olá do cluster de Olá é ainda mais importante durante as atualizações que o habitual.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-247">Managing hello capacity of hello cluster is even more important during upgrades than usual.</span></span> <span data-ttu-id="4f0f5-248">Consoante Olá número de domínios de atualização, entre 5 e 20 por cento da capacidade de têm de ser migrado como hello atualização se faz através de cluster Olá.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-248">Depending on hello number of upgrade domains, between 5 and 20 percent of capacity must be migrated as hello upgrade rolls through hello cluster.</span></span> <span data-ttu-id="4f0f5-249">Se o trabalho tem toogo algures.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-249">That work has toogo somewhere.</span></span> <span data-ttu-id="4f0f5-250">Isto é olá onde noção do [colocado na memória intermédia as capacidades](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) é útil.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-250">This is where hello notion of [buffered capacities](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) is useful.</span></span> <span data-ttu-id="4f0f5-251">Capacidade de memória intermédia é respeitada durante o funcionamento normal.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-251">Buffered capacity is respected during normal operation.</span></span> <span data-ttu-id="4f0f5-252">Olá Gestor de recursos do Cluster pode preencher nós segurança tootheir capacidade total (a consumir memória intermédia de Olá) durante as atualizações, se necessário.</span><span class="sxs-lookup"><span data-stu-id="4f0f5-252">hello Cluster Resource Manager may fill nodes up tootheir total capacity (consuming hello buffer) during upgrades if necessary.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4f0f5-253">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="4f0f5-253">Next steps</span></span>
* <span data-ttu-id="4f0f5-254">Partir do início de Olá e [obter uma introdução toohello Gestor de recursos de Cluster do Service Fabric](service-fabric-cluster-resource-manager-introduction.md)</span><span class="sxs-lookup"><span data-stu-id="4f0f5-254">Start from hello beginning and [get an Introduction toohello Service Fabric Cluster Resource Manager](service-fabric-cluster-resource-manager-introduction.md)</span></span>
