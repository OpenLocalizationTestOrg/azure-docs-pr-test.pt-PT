---
title: "aaaScale um recurso de infraestrutura do serviço de cluster ou reduzir | Microsoft Docs"
description: "Dimensione um cluster do Service Fabric ou reduzir a pedido de toomatch definindo as regras de dimensionamento automático para cada conjunto de dimensionamento da Máquina Virtual/tipo nó. Adicionar ou remover cluster do Service Fabric nós tooa"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: aeb76f63-7303-4753-9c64-46146340b83d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/22/2017
ms.author: chackdan
ms.openlocfilehash: 37cfeaf80edc016cf6de017d1c2dc6fbcb8acc2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="scale-a-service-fabric-cluster-in-or-out-using-auto-scale-rules"></a><span data-ttu-id="2ff65-104">Um cluster do Service Fabric no ou utilizando regras de dimensionamento automático de escala</span><span class="sxs-lookup"><span data-stu-id="2ff65-104">Scale a Service Fabric cluster in or out using auto-scale rules</span></span>
<span data-ttu-id="2ff65-105">Conjuntos de dimensionamento de máquina virtual são um recurso de computação do Azure que pode utilizar toodeploy e gerir uma coleção de máquinas virtuais como um conjunto.</span><span class="sxs-lookup"><span data-stu-id="2ff65-105">Virtual machine scale sets are an Azure compute resource that you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="2ff65-106">Cada tipo de nó que está definido num cluster de Service Fabric está configurado como um conjunto de dimensionamento de Máquina Virtual separado.</span><span class="sxs-lookup"><span data-stu-id="2ff65-106">Every node type that is defined in a Service Fabric cluster is set up as a separate Virtual Machine scale set.</span></span> <span data-ttu-id="2ff65-107">Cada tipo de nó, em seguida, pode ser ampliado na ou saída de forma independente, têm conjuntos diferentes de portas abertas e pode ter as métricas de capacidade diferentes.</span><span class="sxs-lookup"><span data-stu-id="2ff65-107">Each node type can then be scaled in or out independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="2ff65-108">Saiba mais sobre-lo na Olá [nodetypes de Service Fabric](service-fabric-cluster-nodetypes.md) documento.</span><span class="sxs-lookup"><span data-stu-id="2ff65-108">Read more about it in hello [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span></span> <span data-ttu-id="2ff65-109">Uma vez que os tipos de nó de Service Fabric Olá no seu cluster são constituídos por conjuntos de dimensionamento de Máquina Virtual no back-end de Olá, terá de tooset configurar regras de dimensionamento automático para cada conjunto de dimensionamento da Máquina Virtual/tipo nó.</span><span class="sxs-lookup"><span data-stu-id="2ff65-109">Since hello Service Fabric node types in your cluster are made of Virtual Machine scale sets at hello backend, you need tooset up auto-scale rules for each node type/Virtual Machine scale set.</span></span>

> [!NOTE]
> <span data-ttu-id="2ff65-110">A subscrição tem de ter suficiente tooadd núcleos Olá novas VMs que compõem este cluster.</span><span class="sxs-lookup"><span data-stu-id="2ff65-110">Your subscription must have enough cores tooadd hello new VMs that make up this cluster.</span></span> <span data-ttu-id="2ff65-111">Não há nenhuma validação de modelo atualmente, para obter uma falha de tempo de implementação, se qualquer um dos limites de quota Olá são acessos.</span><span class="sxs-lookup"><span data-stu-id="2ff65-111">There is no model validation currently, so you get a deployment time failure, if any of hello quota limits are hit.</span></span>
> 
> 

## <a name="choose-hello-node-typevirtual-machine-scale-set-tooscale"></a><span data-ttu-id="2ff65-112">Escolha o tipo do nó de Olá/Virtual dimensionamento da máquina definir tooscale</span><span class="sxs-lookup"><span data-stu-id="2ff65-112">Choose hello node type/Virtual Machine scale set tooscale</span></span>
<span data-ttu-id="2ff65-113">Atualmente, não toospecify capaz de regras de dimensionamento automático de Olá para conjuntos de dimensionamento de Máquina Virtual através do portal Olá, por isso, permitem-nos utilizar tipos de nó do Azure PowerShell (com+ 1.0) toolist Olá e, em seguida, adicionar toothem de regras de dimensionamento automático.</span><span class="sxs-lookup"><span data-stu-id="2ff65-113">Currently, you are not able toospecify hello auto-scale rules for Virtual Machine scale sets using hello portal, so let us use Azure PowerShell (1.0+) toolist hello node types and then add auto-scale rules toothem.</span></span>

<span data-ttu-id="2ff65-114">lista de Olá tooget da Máquina Virtual do conjunto de dimensionamento que compõem o cluster, execute Olá os seguintes cmdlets:</span><span class="sxs-lookup"><span data-stu-id="2ff65-114">tooget hello list of Virtual Machine scale set that make up your cluster, run hello following cmdlets:</span></span>

```powershell
Get-AzureRmResource -ResourceGroupName <RGname> -ResourceType Microsoft.Compute/VirtualMachineScaleSets

Get-AzureRmVmss -ResourceGroupName <RGname> -VMScaleSetName <Virtual Machine scale set name>
```

## <a name="set-auto-scale-rules-for-hello-node-typevirtual-machine-scale-set"></a><span data-ttu-id="2ff65-115">Definir regras de dimensionamento automático para o conjunto de dimensionamento da Máquina Virtual/tipo Olá nó</span><span class="sxs-lookup"><span data-stu-id="2ff65-115">Set auto-scale rules for hello node type/Virtual Machine scale set</span></span>
<span data-ttu-id="2ff65-116">Se o cluster tem vários tipos de nó, em seguida, repita que esta ação para cada nó tipos/Virtual dimensionamento da máquina define que pretende que tooscale (entrada ou saída).</span><span class="sxs-lookup"><span data-stu-id="2ff65-116">If your cluster has multiple node types, then repeat this for each node types/Virtual Machine scale sets that you want tooscale (in or out).</span></span> <span data-ttu-id="2ff65-117">Demorar, no número de Olá de conta de nós, que tem de ter antes de configurar o dimensionamento automático.</span><span class="sxs-lookup"><span data-stu-id="2ff65-117">Take into account hello number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="2ff65-118">número mínimo de Olá de nós que tem de ter para o tipo de nó principal Olá é conduzido por nível de fiabilidade Olá que escolheu.</span><span class="sxs-lookup"><span data-stu-id="2ff65-118">hello minimum number of nodes that you must have for hello primary node type is driven by hello reliability level you have chosen.</span></span> <span data-ttu-id="2ff65-119">Leia mais sobre [níveis de fiabilidade](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="2ff65-119">Read more about [reliability levels](service-fabric-cluster-capacity.md).</span></span>

> [!NOTE]
> <span data-ttu-id="2ff65-120">Dimensionamento baixo tooless de tipo de nó principal Olá que o número mínimo de Olá fazer cluster Olá instável, ou colocá-lo para baixo.</span><span class="sxs-lookup"><span data-stu-id="2ff65-120">Scaling down hello primary node type tooless than hello minimum number make hello cluster unstable or bring it down.</span></span> <span data-ttu-id="2ff65-121">Isto pode resultar em perda de dados para as suas aplicações e serviços do sistema de Olá.</span><span class="sxs-lookup"><span data-stu-id="2ff65-121">This could result in data loss for your applications and for hello system services.</span></span>
> 
> 

<span data-ttu-id="2ff65-122">Atualmente funcionalidade de dimensionamento automático de Olá não é condicionada por cargas Olá que as aplicações podem ser reporting tooService recursos de infraestrutura.</span><span class="sxs-lookup"><span data-stu-id="2ff65-122">Currently hello auto-scale feature is not driven by hello loads that your applications may be reporting tooService Fabric.</span></span> <span data-ttu-id="2ff65-123">Por isso, no Olá tempo depara-se de dimensionamento automático é puramente conduzido pelos contadores de desempenho de Olá que são emitidos por cada uma das instâncias de conjunto de dimensionamento de Máquina Virtual de Olá.</span><span class="sxs-lookup"><span data-stu-id="2ff65-123">So at this time hello auto-scale you get is purely driven by hello performance counters that are emitted by each of hello Virtual Machine scale set instances.</span></span>  

<span data-ttu-id="2ff65-124">Siga estas instruções [tooset segurança dimensionamento automático para cada conjunto de dimensionamento da Máquina Virtual](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2ff65-124">Follow these instructions [tooset up auto-scale for each Virtual Machine scale set](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="2ff65-125">Uma escala baixo cenário, a menos que o tipo de nó tem um nível de durabilidade de ouro ou Silver terá toocall Olá [cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/azure/mt125993.aspx) com o nome de nó adequado Olá.</span><span class="sxs-lookup"><span data-stu-id="2ff65-125">In a scale down scenario, unless your node type has a durability level of Gold or Silver you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/azure/mt125993.aspx) with hello appropriate node name.</span></span>
> 
> 

## <a name="manually-add-vms-tooa-node-typevirtual-machine-scale-set"></a><span data-ttu-id="2ff65-126">Adicionar manualmente VMs tooa nó tipo/Virtual conjunto de dimensionamento da máquina</span><span class="sxs-lookup"><span data-stu-id="2ff65-126">Manually add VMs tooa node type/Virtual Machine scale set</span></span>
<span data-ttu-id="2ff65-127">Siga Olá/instruções de exemplo no Olá [Galeria de modelo de início rápido](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange Olá diversas VMs em cada Nodetype.</span><span class="sxs-lookup"><span data-stu-id="2ff65-127">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs in each Nodetype.</span></span> 

> [!NOTE]
> <span data-ttu-id="2ff65-128">A adição de VMs leva tempo, pelo que não espera Olá adições toobe instantânea.</span><span class="sxs-lookup"><span data-stu-id="2ff65-128">Adding of VMs takes time, so do not expect hello additions toobe instantaneous.</span></span> <span data-ttu-id="2ff65-129">Para planear a capacidade de tooadd bem em tempo, tooallow durante mais de 10 minutos antes de Olá capacidade de VM está disponível para réplicas de Olá / tooget instâncias colocada de serviço.</span><span class="sxs-lookup"><span data-stu-id="2ff65-129">So plan tooadd capacity well in time, tooallow for over 10 minutes before hello VM capacity is available for hello replicas/ service instances tooget placed.</span></span>
> 
> 

## <a name="manually-remove-vms-from-hello-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="2ff65-130">Remova manualmente as VMs do conjunto de dimensionamento da Máquina Virtual/tipo Olá nó principal</span><span class="sxs-lookup"><span data-stu-id="2ff65-130">Manually remove VMs from hello primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="2ff65-131">executam serviços do sistema de recursos de infraestrutura de serviço de Olá no tipo de nó principal Olá no seu cluster.</span><span class="sxs-lookup"><span data-stu-id="2ff65-131">hello service fabric system services run in hello Primary node type in your cluster.</span></span> <span data-ttu-id="2ff65-132">Por isso nunca deve encerrar ou reduzir verticalmente o número de Olá de instâncias em que tipos de nó menor do que o escalão de fiabilidade Olá warrants.</span><span class="sxs-lookup"><span data-stu-id="2ff65-132">So should never shut down or scale down hello number of instances in that node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="2ff65-133">Consulte demasiado[Olá detalhes sobre camadas de fiabilidade aqui](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="2ff65-133">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 
> 
> 

<span data-ttu-id="2ff65-134">Terá de tooexecute seguinte Olá passos uma instância VM a uma hora.</span><span class="sxs-lookup"><span data-stu-id="2ff65-134">You need tooexecute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="2ff65-135">Este procedimento permite que os serviços de sistema de Olá (e os serviços com monitorização de estado) toobe encerrado sem problemas na instância de VM de Olá estiver a remover e réplicas novo criadas nos outros nós.</span><span class="sxs-lookup"><span data-stu-id="2ff65-135">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created on other nodes.</span></span>

1. <span data-ttu-id="2ff65-136">Executar [desativar ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) com o nó de Olá de toodisable 'RemoveNode' intenção vai tooremove (instância mais elevada para os Olá esse tipo de nó).</span><span class="sxs-lookup"><span data-stu-id="2ff65-136">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="2ff65-137">Executar [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake se esse nó Olá realmente transitou toodisabled.</span><span class="sxs-lookup"><span data-stu-id="2ff65-137">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="2ff65-138">Caso contrário, aguarde até que o nó de Olá está desativada.</span><span class="sxs-lookup"><span data-stu-id="2ff65-138">If not, wait until hello node is disabled.</span></span> <span data-ttu-id="2ff65-139">Não é possível hurry este passo.</span><span class="sxs-lookup"><span data-stu-id="2ff65-139">You cannot hurry this step.</span></span>
3. <span data-ttu-id="2ff65-140">Siga Olá/instruções de exemplo no Olá [Galeria de modelo de início rápido](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange Olá diversas VMs por um em que Nodetype.</span><span class="sxs-lookup"><span data-stu-id="2ff65-140">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="2ff65-141">instância de Olá removida é maior instância de VM Olá.</span><span class="sxs-lookup"><span data-stu-id="2ff65-141">hello instance removed is hello highest VM instance.</span></span> 
4. <span data-ttu-id="2ff65-142">Repita os passos 1 a 3 conforme necessário, mas nunca reduzir verticalmente o número de Olá de instâncias em tipos de nó principal Olá menor que o escalão de fiabilidade Olá warrants.</span><span class="sxs-lookup"><span data-stu-id="2ff65-142">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="2ff65-143">Consulte demasiado[Olá detalhes sobre camadas de fiabilidade aqui](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="2ff65-143">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 

## <a name="manually-remove-vms-from-hello-non-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="2ff65-144">Remova manualmente as VMs de Olá não primário nó tipo/Virtual conjunto de dimensionamento da máquina</span><span class="sxs-lookup"><span data-stu-id="2ff65-144">Manually remove VMs from hello non-primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="2ff65-145">Para um serviço com estado, precisa de um determinado número de nós toobe sempre para cima do Estado de disponibilidade e preserve toomaintain do seu serviço.</span><span class="sxs-lookup"><span data-stu-id="2ff65-145">For a stateful service, you need a certain number of nodes toobe always up toomaintain availability and preserve state of your service.</span></span> <span data-ttu-id="2ff65-146">Em Olá muito mínimo, precisa de número de Olá de toohello igual destino réplica conjunto o número de nós de Olá partição/serviços.</span><span class="sxs-lookup"><span data-stu-id="2ff65-146">At hello very minimum, you need hello number of nodes equal toohello target replica set count of hello partition/service.</span></span> 
> 
> 

<span data-ttu-id="2ff65-147">Terá de Olá executar Olá uma instância VM passos a seguir a uma hora.</span><span class="sxs-lookup"><span data-stu-id="2ff65-147">You need hello execute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="2ff65-148">Este procedimento permite que os serviços de sistema de Olá (e os serviços com monitorização de estado) toobe encerrar corretamente em Olá instância VM que está a remover e réplicas nova criada onde pessoa.</span><span class="sxs-lookup"><span data-stu-id="2ff65-148">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created else where.</span></span>

1. <span data-ttu-id="2ff65-149">Executar [desativar ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) com o nó de Olá de toodisable 'RemoveNode' intenção vai tooremove (instância mais elevada para os Olá esse tipo de nó).</span><span class="sxs-lookup"><span data-stu-id="2ff65-149">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="2ff65-150">Executar [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake se esse nó Olá realmente transitou toodisabled.</span><span class="sxs-lookup"><span data-stu-id="2ff65-150">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="2ff65-151">Se não for Aguarde até o nó de Olá está desativada.</span><span class="sxs-lookup"><span data-stu-id="2ff65-151">If not wait till hello node is disabled.</span></span> <span data-ttu-id="2ff65-152">Não é possível hurry este passo.</span><span class="sxs-lookup"><span data-stu-id="2ff65-152">You cannot hurry this step.</span></span>
3. <span data-ttu-id="2ff65-153">Siga Olá/instruções de exemplo no Olá [Galeria de modelo de início rápido](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange Olá diversas VMs por um em que Nodetype.</span><span class="sxs-lookup"><span data-stu-id="2ff65-153">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="2ff65-154">Agora, esta ação irá remover instância de VM Olá mais elevada.</span><span class="sxs-lookup"><span data-stu-id="2ff65-154">This will now remove hello highest VM instance.</span></span> 
4. <span data-ttu-id="2ff65-155">Repita os passos 1 a 3 conforme necessário, mas nunca reduzir verticalmente o número de Olá de instâncias em tipos de nó principal Olá menor que o escalão de fiabilidade Olá warrants.</span><span class="sxs-lookup"><span data-stu-id="2ff65-155">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="2ff65-156">Consulte demasiado[Olá detalhes sobre camadas de fiabilidade aqui](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="2ff65-156">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span>

## <a name="behaviors-you-may-observe-in-service-fabric-explorer"></a><span data-ttu-id="2ff65-157">Comportamentos que pode observar no Service Fabric Explorer</span><span class="sxs-lookup"><span data-stu-id="2ff65-157">Behaviors you may observe in Service Fabric Explorer</span></span>
<span data-ttu-id="2ff65-158">Ao aumentar verticalmente Olá um cluster Service Fabric Explorer irá refletir o número de Olá de nós (as instâncias do conjunto de dimensionamento de Máquina Virtual), que fazem parte do cluster de Olá.</span><span class="sxs-lookup"><span data-stu-id="2ff65-158">When you scale up a cluster hello Service Fabric Explorer will reflect hello number of nodes (Virtual Machine scale set instances) that are part of hello cluster.</span></span>  <span data-ttu-id="2ff65-159">No entanto, quando dimensiona um cluster inativo, verá instância de nó/VM Olá removido apresentada em mau estado de funcionamento, a menos que tem de chamar [remover ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) com o nome de nó adequado Olá.</span><span class="sxs-lookup"><span data-stu-id="2ff65-159">However, when you scale a cluster down you will see hello removed node/VM instance displayed in an unhealthy state unless you call [Remove-ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) with hello appropriate node name.</span></span>   

<span data-ttu-id="2ff65-160">Eis explicação Olá para este comportamento.</span><span class="sxs-lookup"><span data-stu-id="2ff65-160">Here is hello explanation for this behavior.</span></span>

<span data-ttu-id="2ff65-161">Olá nós listados no Service Fabric Explorer são um reflexão dos serviços de sistema de Service Fabric que Olá (FM especificamente) conhece o número de Olá de nós Olá cluster tinha/tem.</span><span class="sxs-lookup"><span data-stu-id="2ff65-161">hello nodes listed in Service Fabric Explorer are a reflection of what hello Service Fabric system services (FM specifically) knows about hello number of nodes hello cluster had/has.</span></span> <span data-ttu-id="2ff65-162">Quando dimensionar Olá conjunto para baixo de dimensionamento de Máquina Virtual, Olá VM foi eliminada, mas o serviço do system FM pensa ainda nesse nó Olá (que foi mapeada toohello VM que foi eliminada) voltar.</span><span class="sxs-lookup"><span data-stu-id="2ff65-162">When you scale hello Virtual Machine scale set down, hello VM was deleted but FM system service still thinks that hello node (that was mapped toohello VM that was deleted) will come back.</span></span> <span data-ttu-id="2ff65-163">Por isso, Service Fabric Explorer continua toodisplay esse nó (embora o estado de funcionamento de Olá pode ser erro ou desconhecido).</span><span class="sxs-lookup"><span data-stu-id="2ff65-163">So Service Fabric Explorer continues toodisplay that node (though hello health state may be error or unknown).</span></span>

<span data-ttu-id="2ff65-164">No toomake de ordem se de que um nó é removido quando uma VM for removida, tem duas opções:</span><span class="sxs-lookup"><span data-stu-id="2ff65-164">In order toomake sure that a node is removed when a VM is removed, you have two options:</span></span>

1) <span data-ttu-id="2ff65-165">Escolha o nível de durabilidade de ouro ou Silver (disponível em breve) Olá para tipos de nó do cluster, que lhe oferece Olá integração de infraestrutura.</span><span class="sxs-lookup"><span data-stu-id="2ff65-165">Choose a durability level of Gold or Silver (available soon) for hello node types in your cluster, which gives you hello infrastructure integration.</span></span> <span data-ttu-id="2ff65-166">Que, em seguida, removerá automaticamente nós de Olá do nosso estado do sistema de serviços (FM) quando reduzir verticalmente.</span><span class="sxs-lookup"><span data-stu-id="2ff65-166">Which will then automatically remove hello nodes from our system services (FM) state when you scale down.</span></span>
<span data-ttu-id="2ff65-167">Consulte demasiado[Olá detalhes nos níveis de durabilidade aqui](service-fabric-cluster-capacity.md)</span><span class="sxs-lookup"><span data-stu-id="2ff65-167">Refer too[hello details on durability levels here](service-fabric-cluster-capacity.md)</span></span>

2) <span data-ttu-id="2ff65-168">Assim que a instância de VM Olá tem sido ampliada para baixo, terá de toocall Olá [cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/mt125993.aspx).</span><span class="sxs-lookup"><span data-stu-id="2ff65-168">Once hello VM instance has been scaled down, you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/mt125993.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="2ff65-169">Clusters de recursos de infraestrutura serviços necessitam de um determinado número de nós toobe cópias de segurança em todos os Olá tempo na ordem toomaintain disponibilidade e preserve Estado - tooas referenciado "manter o quórum".</span><span class="sxs-lookup"><span data-stu-id="2ff65-169">Service Fabric clusters require a certain number of nodes toobe up at all hello time in order toomaintain availability and preserve state - referred tooas "maintaining quorum."</span></span> <span data-ttu-id="2ff65-170">Por isso, é normalmente insegura tooshut baixo todas as máquinas de Olá num cluster de Olá, exceto se tiver efetuado primeiro um [cópia de segurança completa do seu estado](service-fabric-reliable-services-backup-restore.md).</span><span class="sxs-lookup"><span data-stu-id="2ff65-170">So, it is typically unsafe tooshut down all hello machines in hello cluster unless you have first performed a [full backup of your state](service-fabric-reliable-services-backup-restore.md).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="2ff65-171">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="2ff65-171">Next steps</span></span>
<span data-ttu-id="2ff65-172">Olá leitura seguir tooalso Saiba mais sobre o planeamento da capacidade de cluster, atualização de um cluster e a criação de partições de serviços:</span><span class="sxs-lookup"><span data-stu-id="2ff65-172">Read hello following tooalso learn about planning cluster capacity, upgrading a cluster, and partitioning services:</span></span>

* [<span data-ttu-id="2ff65-173">Planear a capacidade de cluster</span><span class="sxs-lookup"><span data-stu-id="2ff65-173">Plan your cluster capacity</span></span>](service-fabric-cluster-capacity.md)
* [<span data-ttu-id="2ff65-174">Atualizações de cluster</span><span class="sxs-lookup"><span data-stu-id="2ff65-174">Cluster upgrades</span></span>](service-fabric-cluster-upgrade.md)
* [<span data-ttu-id="2ff65-175">Serviços de monitorização de estado de partição para dimensionamento máximo</span><span class="sxs-lookup"><span data-stu-id="2ff65-175">Partition stateful services for maximum scale</span></span>](service-fabric-concepts-partitioning.md)

<!--Image references-->
[BrowseServiceFabricClusterResource]: ./media/service-fabric-cluster-scale-up-down/BrowseServiceFabricClusterResource.png
[ClusterResources]: ./media/service-fabric-cluster-scale-up-down/ClusterResources.png
