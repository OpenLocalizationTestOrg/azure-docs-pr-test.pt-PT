---
title: "aaaSet a integração contínua para micro-serviços do Azure | Microsoft Docs"
description: "Obter uma descrição geral de como tooset integração contínua e implementação para uma aplicação de Service Fabric através dos serviços de equipa do Visual Studio (VSTS)."
services: service-fabric
documentationcenter: na
author: mthalman-msft
manager: timlt
editor: 
ms.assetid: 3e8c2290-9e7a-456a-9b2c-db44d1b3988d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/06/2016
ms.author: mthalman;mikhegn
ms.openlocfilehash: 041e081f4a42f379394f2d21f07db4f6de045b24
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="set-up-service-fabric-continuous-integration-and-deployment-with-visual-studio-team-services"></a><span data-ttu-id="abc37-103">Configurar a integração contínua de recursos de infraestrutura de serviço e a implementação com o Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="abc37-103">Set up Service Fabric continuous integration and deployment with Visual Studio Team Services</span></span>
<span data-ttu-id="abc37-104">Este artigo descreve os passos de Olá tooset integração contínua e implementação para uma aplicação de Service Fabric do Azure utilizando os serviços de equipa do Visual Studio (VSTS).</span><span class="sxs-lookup"><span data-stu-id="abc37-104">This article describes hello steps tooset up continuous integration and deployment for an Azure Service Fabric application by using Visual Studio Team Services (VSTS).</span></span>

<span data-ttu-id="abc37-105">Este documento reflete procedimento atual Olá e é toochange esperado ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="abc37-105">This document reflects hello current procedure and is expected toochange over time.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="abc37-106">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="abc37-106">Prerequisites</span></span>
<span data-ttu-id="abc37-107">tooget iniciado, siga estes passos:</span><span class="sxs-lookup"><span data-stu-id="abc37-107">tooget started, follow these steps:</span></span>

1. <span data-ttu-id="abc37-108">Certifique-se de que tem acesso tooa Team Services conta ou [criar um](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) por si.</span><span class="sxs-lookup"><span data-stu-id="abc37-108">Ensure that you have access tooa Team Services account or [create one](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) yourself.</span></span>
2. <span data-ttu-id="abc37-109">Certifique-se de que tem o projeto de equipa de serviços da equipa do acesso tooa ou [criar um](https://www.visualstudio.com/docs/setup-admin/create-team-project) por si.</span><span class="sxs-lookup"><span data-stu-id="abc37-109">Ensure that you have access tooa Team Services team project or [create one](https://www.visualstudio.com/docs/setup-admin/create-team-project) yourself.</span></span>
3. <span data-ttu-id="abc37-110">Certifique-se de que tem um toowhich de cluster do Service Fabric pode implementar a aplicação ou crie uma utilizando Olá [portal do Azure](service-fabric-cluster-creation-via-portal.md), um [modelo Azure Resource Manager](service-fabric-cluster-creation-via-arm.md), ou [Visual Studio ](service-fabric-cluster-creation-via-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="abc37-110">Ensure that you have a Service Fabric cluster toowhich you can deploy your application or create one using hello [Azure portal](service-fabric-cluster-creation-via-portal.md), an [Azure Resource Manager template](service-fabric-cluster-creation-via-arm.md), or [Visual Studio](service-fabric-cluster-creation-via-visual-studio.md).</span></span>
4. <span data-ttu-id="abc37-111">Certifique-se de que já criou um projeto de aplicação de recursos de infraestrutura de serviço (.sfproj).</span><span class="sxs-lookup"><span data-stu-id="abc37-111">Ensure that you have already created a Service Fabric Application (.sfproj) project.</span></span> <span data-ttu-id="abc37-112">Tem de ter um projeto que foi criado ou atualizado com o serviço de recursos de infraestrutura SDK 2.1 ou superior (o ficheiro de .sfproj Olá deve conter um valor de propriedade ProjectVersion de 1.1 ou superior).</span><span class="sxs-lookup"><span data-stu-id="abc37-112">You must have a project that was created or upgraded with Service Fabric SDK 2.1 or higher (hello .sfproj file should contain a ProjectVersion property value of 1.1 or higher).</span></span>

> [!NOTE]
> <span data-ttu-id="abc37-113">Agentes de compilação personalizado já não são necessários.</span><span class="sxs-lookup"><span data-stu-id="abc37-113">Custom build agents are no longer required.</span></span> <span data-ttu-id="abc37-114">Equipa de serviços alojados agentes agora vêm pré-instaladas com software de gestão de cluster do Service Fabric, permitindo a implementação das suas aplicações diretamente a partir desses agentes.</span><span class="sxs-lookup"><span data-stu-id="abc37-114">Team Services hosted agents now come pre-installed with Service Fabric cluster management software, allowing for deployment of your applications directly from those agents.</span></span>
> 
> 

## <a name="configure-and-share-your-source-files"></a><span data-ttu-id="abc37-115">Configurar e partilhe os ficheiros de origem</span><span class="sxs-lookup"><span data-stu-id="abc37-115">Configure and share your source files</span></span>
<span data-ttu-id="abc37-116">Olá primeira coisa que pretende é toodo preparar um perfil de publicação para utilização pelo processo de implementação de Olá que é executada num Team Services.</span><span class="sxs-lookup"><span data-stu-id="abc37-116">hello first thing you want toodo is prepare a publish profile for use by hello deployment process that executes within Team Services.</span></span>  <span data-ttu-id="abc37-117">perfil de publicação de Olá deve ser o cluster de Olá tootarget configurado que já preparou anteriormente:</span><span class="sxs-lookup"><span data-stu-id="abc37-117">hello publish profile should be configured tootarget hello cluster that you've previously prepared:</span></span>

1. <span data-ttu-id="abc37-118">Escolha um perfil de publicação dentro do seu projeto de aplicação que pretende que toouse ao fluxo de trabalho de integração contínua.</span><span class="sxs-lookup"><span data-stu-id="abc37-118">Choose a publish profile within your Application project that you want toouse for your continuous integration workflow.</span></span> <span data-ttu-id="abc37-119">Siga Olá [publicar instruções](service-fabric-publish-app-remote-cluster.md) sobre toopublish um cluster remoto de tooa de aplicação.</span><span class="sxs-lookup"><span data-stu-id="abc37-119">Follow hello [publish instructions](service-fabric-publish-app-remote-cluster.md) on how toopublish an application tooa remote cluster.</span></span> <span data-ttu-id="abc37-120">Não, na verdade, precisa de toopublish a aplicação apesar.</span><span class="sxs-lookup"><span data-stu-id="abc37-120">You don't actually need toopublish your application though.</span></span> <span data-ttu-id="abc37-121">Pode clicar em Olá **guardar** hiperligação no Olá caixa de diálogo Publicar depois de configurar devidamente coisas.</span><span class="sxs-lookup"><span data-stu-id="abc37-121">You can click hello **Save** hyperlink in hello publish dialog once you have configured things appropriately.</span></span>
2. <span data-ttu-id="abc37-122">Se pretender que o seu toobe aplicação atualizado para cada implementação que ocorre dentro do Team Services, pretende tooconfigure Olá publicar atualização tooenable de perfil.</span><span class="sxs-lookup"><span data-stu-id="abc37-122">If you want your application toobe upgraded for each deployment that occurs within Team Services, you want tooconfigure hello publish profile tooenable upgrade.</span></span> <span data-ttu-id="abc37-123">Na caixa de diálogo utilizada mesmo publicar no passo 1 de Olá, certifique-se que Olá **Olá atualização aplicação** caixa de verificação está selecionada.</span><span class="sxs-lookup"><span data-stu-id="abc37-123">In hello same publish dialog used in step 1, ensure that hello **Upgrade hello Application** checkbox is checked.</span></span>  <span data-ttu-id="abc37-124">Saiba mais sobre [configurar definições de atualização adicionais](service-fabric-visualstudio-configure-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="abc37-124">Learn more about [configuring additional upgrade settings](service-fabric-visualstudio-configure-upgrade.md).</span></span> <span data-ttu-id="abc37-125">Clique em Olá **guardar** hyperlink toosave Olá definições toohello perfil de publicação.</span><span class="sxs-lookup"><span data-stu-id="abc37-125">Click hello **Save** hyperlink toosave hello settings toohello publish profile.</span></span>
3. <span data-ttu-id="abc37-126">Certifique-se de que tenha as alterações foram guardadas toohello publicar perfil e cancelar Olá caixa de diálogo Publicar.</span><span class="sxs-lookup"><span data-stu-id="abc37-126">Ensure that you've saved your changes toohello publish profile and cancel hello publish dialog.</span></span>
4. <span data-ttu-id="abc37-127">Agora está na altura demasiado[partilhar os ficheiros de origem do projeto de aplicação](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) com a equipa de serviços.</span><span class="sxs-lookup"><span data-stu-id="abc37-127">Now it's time too[share your Application project source files](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) with Team Services.</span></span> <span data-ttu-id="abc37-128">Depois dos ficheiros de origem estão acessíveis no Team Services, agora pode mover no passo seguinte toohello gerar compilações.</span><span class="sxs-lookup"><span data-stu-id="abc37-128">Once your source files are accessible in Team Services, you can now move on toohello next step of generating builds.</span></span> 

## <a name="create-a-build-definition"></a><span data-ttu-id="abc37-129">Criar uma definição de compilação</span><span class="sxs-lookup"><span data-stu-id="abc37-129">Create a build definition</span></span>
<span data-ttu-id="abc37-130">Uma definição de compilação Team Services descreve um fluxo de trabalho é composto por um conjunto de passos de compilação que são executados sequencialmente.</span><span class="sxs-lookup"><span data-stu-id="abc37-130">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="abc37-131">objetivo de Olá da definição de compilação de Olá que está a criar é tooproduce um pacote de aplicação de Service Fabric e outros objetos, que podem ser utilizados toodeploy Olá aplicação.</span><span class="sxs-lookup"><span data-stu-id="abc37-131">hello goal of hello build definition that you are creating is tooproduce a Service Fabric application package, and other artifacts, that can be used toodeploy hello application.</span></span> <span data-ttu-id="abc37-132">Saiba mais sobre os serviços da equipa [definições de compilação](https://www.visualstudio.com/docs/build/define/create).</span><span class="sxs-lookup"><span data-stu-id="abc37-132">Learn more about Team Services [build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span>

### <a name="create-a-definition-from-hello-build-template"></a><span data-ttu-id="abc37-133">Criar uma definição a partir do modelo de compilação de Olá</span><span class="sxs-lookup"><span data-stu-id="abc37-133">Create a definition from hello build template</span></span>
1. <span data-ttu-id="abc37-134">Abra o projeto de equipa no Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="abc37-134">Open your team project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="abc37-135">Selecione Olá **criar** separador.</span><span class="sxs-lookup"><span data-stu-id="abc37-135">Select hello **Build** tab.</span></span>
3. <span data-ttu-id="abc37-136">Verde Olá selecione  **+**  assinar toocreate uma nova definição de compilação.</span><span class="sxs-lookup"><span data-stu-id="abc37-136">Select hello green **+** sign toocreate a new build definition.</span></span>
4. <span data-ttu-id="abc37-137">Olá caixa de diálogo que se abre, selecione **aplicação do Azure Service Fabric** dentro Olá **criar** categoria de modelo.</span><span class="sxs-lookup"><span data-stu-id="abc37-137">In hello dialog that opens, select **Azure Service Fabric Application** within hello **Build** template category.</span></span>
5. <span data-ttu-id="abc37-138">Selecione **seguinte**.</span><span class="sxs-lookup"><span data-stu-id="abc37-138">Select **Next**.</span></span>
6. <span data-ttu-id="abc37-139">Selecione o repositório de Olá e ramo associada com a sua aplicação de Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="abc37-139">Select hello repository and branch associated with your Service Fabric application.</span></span>
7. <span data-ttu-id="abc37-140">Selecione a fila de agente Olá desejar toouse.</span><span class="sxs-lookup"><span data-stu-id="abc37-140">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="abc37-141">Agentes alojados são suportados.</span><span class="sxs-lookup"><span data-stu-id="abc37-141">Hosted agents are supported.</span></span>
8. <span data-ttu-id="abc37-142">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="abc37-142">Select **Create**.</span></span>
9. <span data-ttu-id="abc37-143">Guardar a definição de compilação de Olá e forneça um nome.</span><span class="sxs-lookup"><span data-stu-id="abc37-143">Save hello build definition and provide a name.</span></span>
10. <span data-ttu-id="abc37-144">Olá parágrafo seguinte é uma descrição dos passos de compilação de Olá gerado pelo modelo de Olá:</span><span class="sxs-lookup"><span data-stu-id="abc37-144">hello following paragraph is a description of hello build steps generated by hello template:</span></span>

| <span data-ttu-id="abc37-145">Passo de compilação</span><span class="sxs-lookup"><span data-stu-id="abc37-145">Build step</span></span> | <span data-ttu-id="abc37-146">Descrição</span><span class="sxs-lookup"><span data-stu-id="abc37-146">Description</span></span> |
| --- | --- |
| <span data-ttu-id="abc37-147">Restauro do NuGet</span><span class="sxs-lookup"><span data-stu-id="abc37-147">NuGet restore</span></span> |<span data-ttu-id="abc37-148">Restaura os pacotes de NuGet Olá para a solução de Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-148">Restores hello NuGet packages for hello solution.</span></span> |
| <span data-ttu-id="abc37-149">Compilar solução \*. sln</span><span class="sxs-lookup"><span data-stu-id="abc37-149">Build solution \*.sln</span></span> |<span data-ttu-id="abc37-150">Baseia-se a solução completa de Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-150">Builds hello entire solution.</span></span> |
| <span data-ttu-id="abc37-151">Compilar solução \*.sfproj</span><span class="sxs-lookup"><span data-stu-id="abc37-151">Build solution \*.sfproj</span></span> |<span data-ttu-id="abc37-152">Gera o pacote de aplicação de Service Fabric Olá que é utilizado toodeploy Olá aplicação.</span><span class="sxs-lookup"><span data-stu-id="abc37-152">Generates hello Service Fabric application package that is used toodeploy hello application.</span></span> <span data-ttu-id="abc37-153">localização de pacote de aplicação Olá é toobe especificada dentro do diretório de artefacto da compilação Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-153">hello application package location is specified toobe within hello build's artifact directory.</span></span> |
| <span data-ttu-id="abc37-154">Atualizar versões de aplicação do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="abc37-154">Update Service Fabric App Versions</span></span> |<span data-ttu-id="abc37-155">Atualiza os valores da versão Olá contidos no tooallow de ficheiros de manifesto do pacote de aplicação Olá para suporte de atualização.</span><span class="sxs-lookup"><span data-stu-id="abc37-155">Updates hello version values contained in hello application package's manifest files tooallow for upgrade support.</span></span> <span data-ttu-id="abc37-156">Consulte Olá [página de documentação de tarefas](https://go.microsoft.com/fwlink/?LinkId=820529) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="abc37-156">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> |
| <span data-ttu-id="abc37-157">Copiar ficheiros</span><span class="sxs-lookup"><span data-stu-id="abc37-157">Copy Files</span></span> |<span data-ttu-id="abc37-158">Olá cópias publicar perfil e toobe de artefactos do aplicação parâmetros ficheiros toohello compilação consumidos para implementação.</span><span class="sxs-lookup"><span data-stu-id="abc37-158">Copies hello publish profile and application parameters files toohello build's artifacts toobe consumed for deployment.</span></span> |
| <span data-ttu-id="abc37-159">Publicar artefactos</span><span class="sxs-lookup"><span data-stu-id="abc37-159">Publish Artifact</span></span> |<span data-ttu-id="abc37-160">Publica artefactos da compilação Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-160">Publishes hello build's artifacts.</span></span> <span data-ttu-id="abc37-161">Permite que uma definição de versão artefactos de compilação de Olá a tooconsume.</span><span class="sxs-lookup"><span data-stu-id="abc37-161">Allows a release definition tooconsume hello build's artifacts.</span></span> |

### <a name="verify-hello-default-set-of-tasks"></a><span data-ttu-id="abc37-162">Verificar conjunto predefinido de Olá de tarefas</span><span class="sxs-lookup"><span data-stu-id="abc37-162">Verify hello default set of tasks</span></span>
1. <span data-ttu-id="abc37-163">Certifique-se Olá **solução** campo entrada de Olá **NuGet restauro** e **construir solução** criar passos.</span><span class="sxs-lookup"><span data-stu-id="abc37-163">Verify hello **Solution** input field for hello **NuGet restore** and **Build solution** build steps.</span></span>  <span data-ttu-id="abc37-164">Por predefinição, estes passos de compilação executar após todos os ficheiros de solução que estão contidos no repositório de Olá associado.</span><span class="sxs-lookup"><span data-stu-id="abc37-164">By default, these build steps execute upon all solution files that are contained in hello associated repository.</span></span>  <span data-ttu-id="abc37-165">Se pretender apenas Olá compilação definição toooperate desses ficheiros de solução, terá do ficheiro de toothat do tooexplicitly atualização Olá caminho.</span><span class="sxs-lookup"><span data-stu-id="abc37-165">If you only want hello build definition toooperate on one of those solution files, you need tooexplicitly update hello path toothat file.</span></span>
2. <span data-ttu-id="abc37-166">Certifique-se Olá **solução** campo entrada de Olá **empacotar a aplicação** passo de compilação.</span><span class="sxs-lookup"><span data-stu-id="abc37-166">Verify hello **Solution** input field for hello **Package application** build step.</span></span>  <span data-ttu-id="abc37-167">Por predefinição, este passo de compilação assume que apenas um projeto de aplicação de recursos de infraestrutura de serviço (.sfproj) existe no repositório de Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-167">By default, this build step assumes only one Service Fabric Application project (.sfproj) exists in hello repository.</span></span>  <span data-ttu-id="abc37-168">Se tiver vários esses ficheiros no seu repositório e quiser tootarget apenas um para esta definição de compilação, é necessário o ficheiro de toothat do tooexplicitly atualização Olá caminho.</span><span class="sxs-lookup"><span data-stu-id="abc37-168">If you have multiple such files in your repository and want tootarget only one of them for this build definition, you need tooexplicitly update hello path toothat file.</span></span>  <span data-ttu-id="abc37-169">Se quiser toopackage projetos de várias aplicações no seu repositório, terá de toocreate adicionais **compilação do Visual Studio** os passos na definição de compilação de Olá que cada um projeto de aplicação de destino.</span><span class="sxs-lookup"><span data-stu-id="abc37-169">If you want toopackage multiple Application projects in your repository, you need toocreate additional **Visual Studio Build** steps in hello build definition that each target an Application project.</span></span>  <span data-ttu-id="abc37-170">Em seguida, também terá de tooupdate Olá **argumentos de MSBuild** campo para cada um desses passos de compilação, para que a localização do pacote Olá seja exclusiva para cada um deles.</span><span class="sxs-lookup"><span data-stu-id="abc37-170">You would then also need tooupdate hello **MSBuild Arguments** field for each of those build steps so that hello package location is unique for each of them.</span></span>
3. <span data-ttu-id="abc37-171">Verifique se o comportamento de controlo de versões de Olá definido no Olá **versões de aplicação de recursos de infraestrutura de serviço de atualização** passo de compilação.</span><span class="sxs-lookup"><span data-stu-id="abc37-171">Verify hello versioning behavior defined in hello **Update Service Fabric App Versions** build step.</span></span>  <span data-ttu-id="abc37-172">Por predefinição, este passo de compilação acrescenta Olá compilação tooall versão valores numéricos nos ficheiros de manifesto do pacote de aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-172">By default, this build step appends hello build number tooall version values in hello application package's manifest files.</span></span> <span data-ttu-id="abc37-173">Consulte Olá [página de documentação de tarefas](https://go.microsoft.com/fwlink/?LinkId=820529) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="abc37-173">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> <span data-ttu-id="abc37-174">Isto é útil para suportar a atualização da sua aplicação, uma vez que os valores da versão diferente da implementação anterior Olá requer que cada implementação de atualização.</span><span class="sxs-lookup"><span data-stu-id="abc37-174">This is useful for supporting upgrade of your application since each upgrade deployment requires different version values from hello previous deployment.</span></span> <span data-ttu-id="abc37-175">Se não estiver a destinar toouse atualização da aplicação no seu fluxo de trabalho, pode considerar desativar este passo de compilação.</span><span class="sxs-lookup"><span data-stu-id="abc37-175">If you're not intending toouse application upgrade in your workflow, you may consider disabling this build step.</span></span> <span data-ttu-id="abc37-176">Tem de ser desativada se a sua intenção é tooproduce uma compilação que pode ser utilizado toooverwrite uma aplicação de Service Fabric existente.</span><span class="sxs-lookup"><span data-stu-id="abc37-176">It must be disabled if your intention is tooproduce a build that can be used toooverwrite an existing Service Fabric application.</span></span> <span data-ttu-id="abc37-177">Falha na implementação de Olá se versão Olá da aplicação Olá produzida por compilação de Olá não corresponde à versão de Olá da aplicação Olá num cluster de Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-177">hello deployment fails if hello version of hello application produced by hello build does not match hello version of hello application in hello cluster.</span></span>
4. <span data-ttu-id="abc37-178">Se a solução contiver um projeto de .NET Core, certifique-se de que a definição da compilação contiver um passo de compilação que restaura dependências Olá:</span><span class="sxs-lookup"><span data-stu-id="abc37-178">If your solution contains a .NET Core project, you must ensure that your build definition contains a build step that restores hello dependencies:</span></span>
   1. <span data-ttu-id="abc37-179">Selecione **passo de compilação de adicionar...** .</span><span class="sxs-lookup"><span data-stu-id="abc37-179">Select **Add build step...**.</span></span>
   2. <span data-ttu-id="abc37-180">Localizar Olá **da linha de comandos** no separador de utilitário Olá de tarefas e clique o botão Adicionar.</span><span class="sxs-lookup"><span data-stu-id="abc37-180">Locate hello **Command-Line** task within hello Utility tab and click its Add button.</span></span>
   3. <span data-ttu-id="abc37-181">Para campos de entrada da tarefa de Olá, utilize Olá os seguintes valores:</span><span class="sxs-lookup"><span data-stu-id="abc37-181">For hello task's input fields, use hello following values:</span></span>
   4. <span data-ttu-id="abc37-182">Ferramenta: dotnet</span><span class="sxs-lookup"><span data-stu-id="abc37-182">Tool: dotnet</span></span>
   5. <span data-ttu-id="abc37-183">Argumentos: restaurar</span><span class="sxs-lookup"><span data-stu-id="abc37-183">Arguments: restore</span></span>
   6. <span data-ttu-id="abc37-184">Arraste tarefas Olá, para que seja imediatamente após Olá **NuGet restauro** passo.</span><span class="sxs-lookup"><span data-stu-id="abc37-184">Drag hello task so that it is immediately after hello **NuGet restore** step.</span></span>
5. <span data-ttu-id="abc37-185">Guarde as alterações efetuadas toohello compilação definição.</span><span class="sxs-lookup"><span data-stu-id="abc37-185">Save any changes you've made toohello build definition.</span></span>

### <a name="try-it"></a><span data-ttu-id="abc37-186">Experimente</span><span class="sxs-lookup"><span data-stu-id="abc37-186">Try it</span></span>
<span data-ttu-id="abc37-187">Selecione **criar fila** toomanually iniciar uma compilação.</span><span class="sxs-lookup"><span data-stu-id="abc37-187">Select **Queue Build** toomanually start a build.</span></span> <span data-ttu-id="abc37-188">Baseia-se também acionadores na emissão ou entrada.</span><span class="sxs-lookup"><span data-stu-id="abc37-188">Builds also triggers upon push or check-in.</span></span> <span data-ttu-id="abc37-189">Depois de verificar que a compilação de Olá está a executar com êxito, pode agora passar toodefining uma definição de versão que implementa o cluster de tooa de aplicação.</span><span class="sxs-lookup"><span data-stu-id="abc37-189">Once you've verified that hello build is executing successfully, you can now move on toodefining a release definition that deploys your application tooa cluster.</span></span>

## <a name="create-a-release-definition"></a><span data-ttu-id="abc37-190">Criar uma definição de versão</span><span class="sxs-lookup"><span data-stu-id="abc37-190">Create a release definition</span></span>
<span data-ttu-id="abc37-191">Uma definição de versão Team Services descreve um fluxo de trabalho é composto por um conjunto de tarefas que são executados sequencialmente.</span><span class="sxs-lookup"><span data-stu-id="abc37-191">A Team Services release definition describes a workflow that is composed of a set of tasks that are executed sequentially.</span></span> <span data-ttu-id="abc37-192">objetivo Olá da definição da versão Olá que está a criar é tootake um pacote de aplicação e implementá-la tooa cluster.</span><span class="sxs-lookup"><span data-stu-id="abc37-192">hello goal of hello release definition that you are creating is tootake an application package and deploy it tooa cluster.</span></span> <span data-ttu-id="abc37-193">Quando utilizado em conjunto, Olá Criar definição e definição de versão pode executar o fluxo de trabalho completo Olá de carateres começadas tooending de ficheiros de origem com uma aplicação em execução no seu cluster.</span><span class="sxs-lookup"><span data-stu-id="abc37-193">When used together, hello build definition and release definition can execute hello entire workflow from starting with source files tooending with a running application in your cluster.</span></span> <span data-ttu-id="abc37-194">Saiba mais sobre os serviços da equipa [versão definições](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span><span class="sxs-lookup"><span data-stu-id="abc37-194">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-definition-from-hello-release-template"></a><span data-ttu-id="abc37-195">Criar uma definição do modelo da versão Olá</span><span class="sxs-lookup"><span data-stu-id="abc37-195">Create a definition from hello release template</span></span>
1. <span data-ttu-id="abc37-196">Abra o projeto no Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="abc37-196">Open your project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="abc37-197">Selecione Olá **versão** separador.</span><span class="sxs-lookup"><span data-stu-id="abc37-197">Select hello **Release** tab.</span></span>
3. <span data-ttu-id="abc37-198">Selecione Olá verde  **+**  iniciar sessão toocreate uma nova definição de versão e selecionar **criar versão definição** no menu de Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-198">Select hello green **+** sign toocreate a new release definition and select **Create release definition** in hello menu.</span></span>
4. <span data-ttu-id="abc37-199">Olá caixa de diálogo que se abre, selecione **implementação de recursos de infraestrutura do serviço de Azure** dentro Olá **implementação** categoria de modelo.</span><span class="sxs-lookup"><span data-stu-id="abc37-199">In hello dialog that opens, select **Azure Service Fabric Deployment** within hello **Deployment** template category.</span></span>
5. <span data-ttu-id="abc37-200">Selecione **seguinte**.</span><span class="sxs-lookup"><span data-stu-id="abc37-200">Select **Next**.</span></span>
6. <span data-ttu-id="abc37-201">Selecione a definição de compilação de Olá pretende toouse como origem Olá esta definição de versão.</span><span class="sxs-lookup"><span data-stu-id="abc37-201">Select hello build definition you want toouse as hello source of this release definition.</span></span>  <span data-ttu-id="abc37-202">Olá versão definição referências Olá artefactos que foram produzidos pelo Olá selecionado Criar definição.</span><span class="sxs-lookup"><span data-stu-id="abc37-202">hello release definition references hello artifacts that were produced by hello selected build definition.</span></span>
7. <span data-ttu-id="abc37-203">Verifique Olá **a implementação contínua** caixa de verificação se quiser toohave Team Services automaticamente criar uma nova versão e implementar a aplicação de Service Fabric Olá sempre que uma compilação for concluída.</span><span class="sxs-lookup"><span data-stu-id="abc37-203">Check hello **Continuous deployment** check box if you wish toohave Team Services automatically create a new release and deploy hello Service Fabric application whenever a build completes.</span></span>
8. <span data-ttu-id="abc37-204">Selecione a fila de agente Olá desejar toouse.</span><span class="sxs-lookup"><span data-stu-id="abc37-204">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="abc37-205">Agentes alojados são suportados.</span><span class="sxs-lookup"><span data-stu-id="abc37-205">Hosted agents are supported.</span></span>
9. <span data-ttu-id="abc37-206">Selecione **Criar**.</span><span class="sxs-lookup"><span data-stu-id="abc37-206">Select **Create**.</span></span>
10. <span data-ttu-id="abc37-207">Edite o nome de definição de Olá clicando no ícone lápis Olá em Olá parte superior da página Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-207">Edit hello definition name by clicking hello pencil icon at hello top of hello page.</span></span>
11. <span data-ttu-id="abc37-208">Selecione Olá toowhich de cluster deve ser implementada a sua aplicação Olá **ligação de Cluster** campo entrada de tarefa Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-208">Select hello cluster toowhich your application should be deployed from hello **Cluster Connection** input field of hello task.</span></span> <span data-ttu-id="abc37-209">ligação de cluster Olá fornece informações necessárias Olá que permite que o cluster de toohello Olá implementação tarefas tooconnect.</span><span class="sxs-lookup"><span data-stu-id="abc37-209">hello cluster connection provides hello necessary information that allows hello deployment task tooconnect toohello cluster.</span></span> <span data-ttu-id="abc37-210">Se ainda não tiver uma ligação de cluster para o cluster, selecione Olá **gerir** hiperligação seguinte toohello campo tooadd um.</span><span class="sxs-lookup"><span data-stu-id="abc37-210">If you do not yet have a cluster connection for your cluster, select hello **Manage** hyperlink next toohello field tooadd one.</span></span> <span data-ttu-id="abc37-211">Na página Olá que se abre, execute Olá os seguintes passos:</span><span class="sxs-lookup"><span data-stu-id="abc37-211">On hello page that opens, perform hello following steps:</span></span>
    1. <span data-ttu-id="abc37-212">Selecione **ponto final de serviço novo** e, em seguida, selecione **Azure Service Fabric** menu Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-212">Select **New Service Endpoint** and then select **Azure Service Fabric** from hello menu.</span></span>
    2. <span data-ttu-id="abc37-213">Selecione o tipo de Olá de autenticação a ser utilizado pelo cluster Olá visada por este ponto final.</span><span class="sxs-lookup"><span data-stu-id="abc37-213">Select hello type of authentication being used by hello cluster targeted by this endpoint.</span></span>
    3. <span data-ttu-id="abc37-214">Defina um nome para a sua ligação no Olá **nome da ligação** campo.</span><span class="sxs-lookup"><span data-stu-id="abc37-214">Define a name for your connection in hello **Connection Name** field.</span></span>  <span data-ttu-id="abc37-215">Normalmente, seria utilizar Olá nome do cluster.</span><span class="sxs-lookup"><span data-stu-id="abc37-215">Typically, you would use hello name of your cluster.</span></span>
    4. <span data-ttu-id="abc37-216">Definir o URL de ponto final da ligação de cliente de Olá no Olá **ponto final de Cluster** campo.</span><span class="sxs-lookup"><span data-stu-id="abc37-216">Define hello client connection endpoint URL in hello **Cluster Endpoint** field.</span></span>  <span data-ttu-id="abc37-217">Exemplo: tcp://contoso.westus.cloudapp.azure.com:19000.</span><span class="sxs-lookup"><span data-stu-id="abc37-217">Example: tcp://contoso.westus.cloudapp.azure.com:19000.</span></span>
    5. <span data-ttu-id="abc37-218">Para as credenciais do Azure Active Directory, definir credenciais Olá pretende toouse tooconnect toohello cluster Olá **Username** e **palavra-passe** campos.</span><span class="sxs-lookup"><span data-stu-id="abc37-218">For Azure Active Directory credentials, define hello credentials you want toouse tooconnect toohello cluster in hello **Username** and **Password** fields.</span></span>
    6. <span data-ttu-id="abc37-219">Para a autenticação baseada em certificado, defina Olá Base64 codificação de ficheiro de certificado de cliente Olá no Olá **certificado de cliente** campo.</span><span class="sxs-lookup"><span data-stu-id="abc37-219">For Certificate Based authentication, define hello Base64 encoding of hello client certificate file in hello **Client Certificate** field.</span></span>  <span data-ttu-id="abc37-220">Consulte o menu de pop-up Olá ajuda sobre esse campo para informações sobre como tooget valor.</span><span class="sxs-lookup"><span data-stu-id="abc37-220">See hello help pop-up on that field for info on how tooget that value.</span></span>  <span data-ttu-id="abc37-221">Se o certificado é protegido por palavra-passe, definir palavra-passe de Olá Olá **palavra-passe** campo.</span><span class="sxs-lookup"><span data-stu-id="abc37-221">If your certificate is password-protected, define hello password in hello **Password** field.</span></span>
    7. <span data-ttu-id="abc37-222">Confirmar as alterações ao clicar em **OK**.</span><span class="sxs-lookup"><span data-stu-id="abc37-222">Confirm your changes by clicking **OK**.</span></span> <span data-ttu-id="abc37-223">Depois de navegar tooyour back-definição de versão, clique em ícone de atualização de Olá no Olá **ligação de Cluster** endpoint Olá toosee de campo acabou de adicionar.</span><span class="sxs-lookup"><span data-stu-id="abc37-223">After navigating back tooyour release definition, click hello refresh icon on hello **Cluster Connection** field toosee hello endpoint you just added.</span></span>
12. <span data-ttu-id="abc37-224">Guarde a definição da versão de Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-224">Save hello release definition.</span></span>

> [!NOTE]
> <span data-ttu-id="abc37-225">Accounts da Microsoft (por exemplo, @hotmail.com ou @outlook.com) não são suportadas com a autenticação do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="abc37-225">Microsoft Accounts (for example, @hotmail.com or @outlook.com) are not supported with Azure Active Directory authentication.</span></span>
> 
> 

<span data-ttu-id="abc37-226">definição de Olá criado é composta por uma tarefa do tipo **implementação de aplicação do serviço de recursos de infraestrutura**.</span><span class="sxs-lookup"><span data-stu-id="abc37-226">hello definition that is created consists of one task of type **Service Fabric Application Deployment**.</span></span> <span data-ttu-id="abc37-227">Consulte Olá [página de documentação de tarefas](https://go.microsoft.com/fwlink/?LinkId=820528) para obter mais informações sobre esta tarefa.</span><span class="sxs-lookup"><span data-stu-id="abc37-227">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820528) for more information about this task.</span></span>

### <a name="verify-hello-template-defaults"></a><span data-ttu-id="abc37-228">Certifique-se as predefinições de modelo Olá</span><span class="sxs-lookup"><span data-stu-id="abc37-228">Verify hello template defaults</span></span>
1. <span data-ttu-id="abc37-229">Certifique-se Olá **publicar perfil** campo entrada de Olá **implementar aplicações de recursos de infraestrutura de serviço** tarefas.</span><span class="sxs-lookup"><span data-stu-id="abc37-229">Verify hello **Publish Profile** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="abc37-230">Por predefinição, este campo faz referência a um perfil de publicação com o nome Cloud.xml contidas no artefactos da compilação Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-230">By default, this field references a publish profile named Cloud.xml contained in hello build's artifacts.</span></span> <span data-ttu-id="abc37-231">Se pretender tooreference um perfil de publicação diferente ou se a compilação de Olá contém vários pacotes de aplicações os artefactos, terá de caminho de Olá tooupdate adequadamente.</span><span class="sxs-lookup"><span data-stu-id="abc37-231">If you want tooreference a different publish profile or if hello build contains multiple application packages in its artifacts, you need tooupdate hello path appropriately.</span></span>
2. <span data-ttu-id="abc37-232">Certifique-se Olá **pacote de aplicação** campo entrada de Olá **implementar aplicações de recursos de infraestrutura de serviço** tarefas.</span><span class="sxs-lookup"><span data-stu-id="abc37-232">Verify hello **Application Package** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="abc37-233">Por predefinição, este campo referencia Olá predefinido pacote caminho da aplicação utilizado num modelo de definição de compilação Olá.</span><span class="sxs-lookup"><span data-stu-id="abc37-233">By default, this field references hello default application package path used in hello build definition template.</span></span>  <span data-ttu-id="abc37-234">Se tiver modificado o caminho de pacote de aplicação de predefinido Olá Olá Criar definição, tem de caminho de Olá tooupdate adequadamente aqui bem.</span><span class="sxs-lookup"><span data-stu-id="abc37-234">If you've modified hello default application package path in hello build definition, you need tooupdate hello path appropriately here as well.</span></span>

### <a name="try-it"></a><span data-ttu-id="abc37-235">Experimente</span><span class="sxs-lookup"><span data-stu-id="abc37-235">Try it</span></span>
<span data-ttu-id="abc37-236">Selecione **criar versão** de Olá **versão** toomanually de menu do botão de criar uma versão.</span><span class="sxs-lookup"><span data-stu-id="abc37-236">Select **Create Release** from hello **Release** button menu toomanually create a release.</span></span> <span data-ttu-id="abc37-237">Olá caixa de diálogo que se abre, selecione a compilação de Olá que pretende versão de Olá toobase em e, em seguida, clique em **criar**.</span><span class="sxs-lookup"><span data-stu-id="abc37-237">In hello dialog that opens, select hello build that you want toobase hello release on and then click **Create**.</span></span> <span data-ttu-id="abc37-238">Se ativou a implementação contínua, versões serão criadas automaticamente quando a definição de compilação de Olá associado conclui uma compilação.</span><span class="sxs-lookup"><span data-stu-id="abc37-238">If you enabled continuous deployment, releases will be created automatically when hello associated build definition completes a build.</span></span>

## <a name="next-steps"></a><span data-ttu-id="abc37-239">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="abc37-239">Next steps</span></span>
<span data-ttu-id="abc37-240">toolearn mais sobre a integração contínua com aplicações de Service Fabric, leia Olá seguintes artigos:</span><span class="sxs-lookup"><span data-stu-id="abc37-240">toolearn more about continuous integration with Service Fabric applications, read hello following articles:</span></span>

* [<span data-ttu-id="abc37-241">Equipa de documentação dos serviços de raiz</span><span class="sxs-lookup"><span data-stu-id="abc37-241">Team Services documentation home</span></span>](https://www.visualstudio.com/docs/overview)
* [<span data-ttu-id="abc37-242">Criar gestão nos serviços de equipa</span><span class="sxs-lookup"><span data-stu-id="abc37-242">Build management in Team Services</span></span>](https://www.visualstudio.com/docs/build/overview)
* [<span data-ttu-id="abc37-243">Gestão de versões nos serviços de equipa</span><span class="sxs-lookup"><span data-stu-id="abc37-243">Release management in Team Services</span></span>](https://www.visualstudio.com/docs/release/overview)

