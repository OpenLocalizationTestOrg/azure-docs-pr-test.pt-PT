---
title: "aaaAzure agregação de eventos de recursos de infraestrutura de serviço com o Linux do diagnóstico do Azure | Microsoft Docs"
description: "Saiba mais sobre agregar e recolha de eventos utilizando LAD para monitorização e diagnóstico de clusters de Service Fabric do Azure."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/17/2017
ms.author: dekapur
ms.openlocfilehash: aefa869219a0dd219e01e6574816fe3ce47fe472
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="event-aggregation-and-collection-using-linux-azure-diagnostics"></a><span data-ttu-id="91c13-103">Agregação de eventos e a coleção com Linux do diagnóstico do Azure</span><span class="sxs-lookup"><span data-stu-id="91c13-103">Event aggregation and collection using Linux Azure Diagnostics</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="91c13-104">Windows</span><span class="sxs-lookup"><span data-stu-id="91c13-104">Windows</span></span>](service-fabric-diagnostics-event-aggregation-wad.md)
> * [<span data-ttu-id="91c13-105">Linux</span><span class="sxs-lookup"><span data-stu-id="91c13-105">Linux</span></span>](service-fabric-diagnostics-event-aggregation-lad.md)
>
>

<span data-ttu-id="91c13-106">Quando estiver a executar um cluster do Service Fabric do Azure, é uma boa ideia toocollect Olá os registos de todos os nós de Olá numa localização central.</span><span class="sxs-lookup"><span data-stu-id="91c13-106">When you're running an Azure Service Fabric cluster, it's a good idea toocollect hello logs from all hello nodes in a central location.</span></span> <span data-ttu-id="91c13-107">Ter Olá registos numa localização central ajuda a analisar e resolver problemas no seu cluster, ou problemas em aplicações de Olá e serviços em execução nesse cluster.</span><span class="sxs-lookup"><span data-stu-id="91c13-107">Having hello logs in a central location helps you analyze and troubleshoot issues in your cluster, or issues in hello applications and services running in that cluster.</span></span>

<span data-ttu-id="91c13-108">Tooupload unidirecional e recolher registos é a extensão de Linux do Azure Diagnostics (LAD) do toouse Olá, que carrega registos tooAzure armazenamento e tem também Olá opção toosend registos tooAzure Application Insights ou Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="91c13-108">One way tooupload and collect logs is toouse hello Linux Azure Diagnostics (LAD) extension, which uploads logs tooAzure Storage, and also has hello option toosend logs tooAzure Application Insights or Event Hubs.</span></span> <span data-ttu-id="91c13-109">Também pode utilizar eventos processo externo tooread Olá do armazenamento e colocá-los como um produto de plataforma de análise, [análise de registos do OMS](../log-analytics/log-analytics-service-fabric.md) ou outra solução de análise do registo.</span><span class="sxs-lookup"><span data-stu-id="91c13-109">You can also use an external process tooread hello events from storage and place them in an analysis platform product, such as [OMS Log Analytics](../log-analytics/log-analytics-service-fabric.md) or another log-parsing solution.</span></span>

## <a name="log-and-event-sources"></a><span data-ttu-id="91c13-110">Origens de registo e evento</span><span class="sxs-lookup"><span data-stu-id="91c13-110">Log and event sources</span></span>

### <a name="service-fabric-platform-events"></a><span data-ttu-id="91c13-111">Eventos de plataforma do Service Fabric</span><span class="sxs-lookup"><span data-stu-id="91c13-111">Service Fabric platform events</span></span>
<span data-ttu-id="91c13-112">Service Fabric emite alguns registos de out of box através de [LTTng](http://lttng.org), incluindo eventos operacionais ou eventos de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="91c13-112">Service Fabric emits a few out-of-the-box logs via [LTTng](http://lttng.org), including operational events or runtime events.</span></span> <span data-ttu-id="91c13-113">Estes registos são armazenados na localização de Olá que Olá modelo especifica o Gestor de recursos do cluster.</span><span class="sxs-lookup"><span data-stu-id="91c13-113">These logs are stored in hello location that hello cluster's Resource Manager template specifies.</span></span> <span data-ttu-id="91c13-114">tooget ou definir os detalhes da conta de armazenamento Olá, procure a tag de Olá **AzureTableWinFabETWQueryable** e procure **StoreConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="91c13-114">tooget or set hello storage account details, search for hello tag **AzureTableWinFabETWQueryable** and look for **StoreConnectionString**.</span></span>

### <a name="application-events"></a><span data-ttu-id="91c13-115">Eventos de aplicações</span><span class="sxs-lookup"><span data-stu-id="91c13-115">Application events</span></span>
 <span data-ttu-id="91c13-116">Eventos emitidos a partir do código as suas aplicações e dos serviços, conforme especificado por si quando instrumentação o software.</span><span class="sxs-lookup"><span data-stu-id="91c13-116">Events emitted from your applications' and services' code as specified by you when instrumenting your software.</span></span> <span data-ttu-id="91c13-117">Pode utilizar qualquer solução de registo que escreve os ficheiros de registo baseados em texto – por exemplo, LTTng.</span><span class="sxs-lookup"><span data-stu-id="91c13-117">You can use any logging solution that writes text-based log files--for example, LTTng.</span></span> <span data-ttu-id="91c13-118">Para obter mais informações, consulte a documentação de LTTng Olá no rastrear a aplicação.</span><span class="sxs-lookup"><span data-stu-id="91c13-118">For more information, see hello LTTng documentation on tracing your application.</span></span>

<span data-ttu-id="91c13-119">[Monitorizar e diagnosticar os serviços de uma configuração de desenvolvimento do computador local](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span><span class="sxs-lookup"><span data-stu-id="91c13-119">[Monitor and diagnose services in a local machine development setup](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span></span>

## <a name="deploy-hello-diagnostics-extension"></a><span data-ttu-id="91c13-120">Implementar a extensão de diagnóstico de Olá</span><span class="sxs-lookup"><span data-stu-id="91c13-120">Deploy hello Diagnostics extension</span></span>
<span data-ttu-id="91c13-121">Olá primeiro passo para recolher registos é uma extensão de diagnóstico de Olá toodeploy em cada um dos Olá VMs no cluster do Service Fabric Olá.</span><span class="sxs-lookup"><span data-stu-id="91c13-121">hello first step in collecting logs is toodeploy hello Diagnostics extension on each of hello VMs in hello Service Fabric cluster.</span></span> <span data-ttu-id="91c13-122">Olá extensão de diagnóstico recolhe registos de cada VM e carrega-os conta de armazenamento toohello que especificar.</span><span class="sxs-lookup"><span data-stu-id="91c13-122">hello Diagnostics extension collects logs on each VM and uploads them toohello storage account that you specify.</span></span> <span data-ttu-id="91c13-123">passos de Olá variam com base no quer utilize Olá portal do Azure ou do Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="91c13-123">hello steps vary based on whether you use hello Azure portal or Azure Resource Manager.</span></span>

<span data-ttu-id="91c13-124">Definir toodeploy Olá diagnóstico extensão toohello VMs no cluster de Olá como parte da criação do cluster, **diagnóstico** demasiado**no**.</span><span class="sxs-lookup"><span data-stu-id="91c13-124">toodeploy hello Diagnostics extension toohello VMs in hello cluster as part of cluster creation, set **Diagnostics** too**On**.</span></span> <span data-ttu-id="91c13-125">Depois de criar o cluster de Olá, não é possível alterar esta definição utilizando Olá portal.</span><span class="sxs-lookup"><span data-stu-id="91c13-125">After you create hello cluster, you can't change this setting by using hello portal.</span></span>

<span data-ttu-id="91c13-126">Em seguida, configurar Linux do Azure Diagnostics (LAD) toocollect Olá ficheiros e colocá-los na sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="91c13-126">Then, configure Linux Azure Diagnostics (LAD) toocollect hello files and place them into your storage account.</span></span> <span data-ttu-id="91c13-127">Este processo é explicado como cenário 3 ("carregar os seus próprios ficheiros de registo") no artigo Olá [utilizando LAD toomonitor e diagnosticar VMs com Linux](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="91c13-127">This process is explained as scenario 3 ("Upload your own log files") in hello article [Using LAD toomonitor and diagnose Linux VMs](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="91c13-128">Seguinte obtém este processo aceder toohello rastreios.</span><span class="sxs-lookup"><span data-stu-id="91c13-128">Following this process gets you access toohello traces.</span></span> <span data-ttu-id="91c13-129">Pode carregar Visualizador tooa de rastreios de Olá à sua escolha.</span><span class="sxs-lookup"><span data-stu-id="91c13-129">You can upload hello traces tooa visualizer of your choice.</span></span>

<span data-ttu-id="91c13-130">Também pode implementar a extensão de diagnóstico de Olá utilizando o Gestor de recursos do Azure.</span><span class="sxs-lookup"><span data-stu-id="91c13-130">You can also deploy hello Diagnostics extension by using Azure Resource Manager.</span></span> <span data-ttu-id="91c13-131">Olá processo é semelhante para o Windows e Linux e é documentado para clusters do Windows no [como toocollect regista com o Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span><span class="sxs-lookup"><span data-stu-id="91c13-131">hello process is similar for Windows and Linux and is documented for Windows clusters in [How toocollect logs with Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span></span>

<span data-ttu-id="91c13-132">Também pode utilizar o Operations Management Suite, conforme descrito em [análise de registos do Operations Management Suite com o Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span><span class="sxs-lookup"><span data-stu-id="91c13-132">You can also use Operations Management Suite, as described in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span></span>

<span data-ttu-id="91c13-133">Depois de concluir esta configuração, Olá LAD agente monitores Olá ficheiros de registo especificado.</span><span class="sxs-lookup"><span data-stu-id="91c13-133">After you finish this configuration, hello LAD agent monitors hello specified log files.</span></span> <span data-ttu-id="91c13-134">Sempre que uma nova linha é anexado toohello ficheiro, cria uma entrada de syslog que é enviado toohello armazenamento que especificou.</span><span class="sxs-lookup"><span data-stu-id="91c13-134">Whenever a new line is appended toohello file, it creates a syslog entry that is sent toohello storage that you specified.</span></span>

## <a name="next-steps"></a><span data-ttu-id="91c13-135">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="91c13-135">Next steps</span></span>

<span data-ttu-id="91c13-136">toounderstand em mais detalhe que eventos deve examinar durante a resolução de problemas, consulte [LTTng documentação](http://lttng.org/docs) e [utilizando LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="91c13-136">toounderstand in more detail what events you should examine while troubleshooting issues, see [LTTng documentation](http://lttng.org/docs) and [Using LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>
