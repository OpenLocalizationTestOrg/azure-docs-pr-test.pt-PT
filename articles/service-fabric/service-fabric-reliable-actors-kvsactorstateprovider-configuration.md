---
title: "definições de KVSActorStateProvider aaaChange no Azure micro-serviços | Microsoft Docs"
description: "Saiba mais sobre a configuração de atores com monitorização de estado do Azure Service Fabric do tipo KVSActorStateProvider."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: dbed72f4-dda5-4287-bd56-da492710cd96
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: e003512678556e68a8926b1b9c6c28d9ae3979d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--kvsactorstateprovider"></a><span data-ttu-id="fcf3a-103">Configurar Reliable Actors – KVSActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="fcf3a-103">Configuring Reliable Actors--KVSActorStateProvider</span></span>
<span data-ttu-id="fcf3a-104">Pode modificar a configuração predefinida Olá KVSActorStateProvider alterando o ficheiro de settings.xml Olá que é gerado na raiz do pacote Microsoft Visual Studio Olá na pasta de configuração de Olá para ator especificado Olá.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-104">You can modify hello default configuration of KVSActorStateProvider by changing hello settings.xml file that is generated in hello Microsoft Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="fcf3a-105">Olá Azure Service Fabric runtime procura os nomes de secção predefinidas no ficheiro de settings.xml Olá e consome valores de configuração de Olá ao criar Olá subjacente componentes runtime.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="fcf3a-106">Efetue **não** eliminar ou modificar os nomes de secção Olá de Olá seguintes configurações no ficheiro de settings.xml Olá que é gerado no Olá solução do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

## <a name="replicator-security-configuration"></a><span data-ttu-id="fcf3a-107">Configuração de segurança do replicador</span><span class="sxs-lookup"><span data-stu-id="fcf3a-107">Replicator security configuration</span></span>
<span data-ttu-id="fcf3a-108">Configurações de segurança do replicador são canal de comunicação de Olá toosecure utilizado que é utilizado durante a replicação.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-108">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="fcf3a-109">Isto significa que os serviços não é possível ver uns dos outros tráfego de replicação, garantir que os dados de Olá efetuada elevados também estão segurados.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-109">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="fcf3a-110">Por predefinição, uma secção de configuração de segurança vazio impede a segurança da replicação.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-110">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="fcf3a-111">Nome de secção</span><span class="sxs-lookup"><span data-stu-id="fcf3a-111">Section name</span></span>
<span data-ttu-id="fcf3a-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="fcf3a-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="fcf3a-113">Configuração do replicador</span><span class="sxs-lookup"><span data-stu-id="fcf3a-113">Replicator configuration</span></span>
<span data-ttu-id="fcf3a-114">Configurações do replicador configurar replicador Olá que é responsável por verificar o estado de fornecedor de estado de Ator Olá altamente fiável.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-114">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>
<span data-ttu-id="fcf3a-115">configuração predefinida de Olá é gerada pelo modelo de Visual Studio Olá e deve suffice.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-115">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="fcf3a-116">Esta secção aborda as configurações adicionais que são replicador de Olá tootune disponíveis.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-116">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="fcf3a-117">Nome de secção</span><span class="sxs-lookup"><span data-stu-id="fcf3a-117">Section name</span></span>
<span data-ttu-id="fcf3a-118">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="fcf3a-118">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="fcf3a-119">Nomes de configuração</span><span class="sxs-lookup"><span data-stu-id="fcf3a-119">Configuration names</span></span>
| <span data-ttu-id="fcf3a-120">Nome</span><span class="sxs-lookup"><span data-stu-id="fcf3a-120">Name</span></span> | <span data-ttu-id="fcf3a-121">Unidade</span><span class="sxs-lookup"><span data-stu-id="fcf3a-121">Unit</span></span> | <span data-ttu-id="fcf3a-122">Valor predefinido</span><span class="sxs-lookup"><span data-stu-id="fcf3a-122">Default value</span></span> | <span data-ttu-id="fcf3a-123">Observações</span><span class="sxs-lookup"><span data-stu-id="fcf3a-123">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="fcf3a-124">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="fcf3a-124">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="fcf3a-125">Segundos</span><span class="sxs-lookup"><span data-stu-id="fcf3a-125">Seconds</span></span> |<span data-ttu-id="fcf3a-126">0.015</span><span class="sxs-lookup"><span data-stu-id="fcf3a-126">0.015</span></span> |<span data-ttu-id="fcf3a-127">Período de tempo para o replicador Olá em aguarda secundária de Olá depois de receber uma operação antes de devolver um toohello confirmação primário.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-127">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="fcf3a-128">Outro toobe confirmações enviado para operações de processamento dentro deste intervalo são enviadas como uma resposta.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-128">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="fcf3a-129">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="fcf3a-129">ReplicatorEndpoint</span></span> |<span data-ttu-id="fcf3a-130">N/D</span><span class="sxs-lookup"><span data-stu-id="fcf3a-130">N/A</span></span> |<span data-ttu-id="fcf3a-131">Sem predefinição - parâmetro necessário</span><span class="sxs-lookup"><span data-stu-id="fcf3a-131">No default--required parameter</span></span> |<span data-ttu-id="fcf3a-132">Endereço IP e porta Olá replicador principal/secundário irão utilizar toocommunicate com outros os replicadores no conjunto de réplicas Olá.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-132">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="fcf3a-133">Isto deverá referenciar um ponto de final de recursos TCP no manifesto do serviço de Olá.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-133">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="fcf3a-134">Consulte demasiado[recursos do serviço do manifesto](service-fabric-service-manifest-resources.md) tooread mais sobre como definir os recursos de ponto final no manifesto do serviço de Olá.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-134">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in hello service manifest.</span></span> |
| <span data-ttu-id="fcf3a-135">RetryInterval</span><span class="sxs-lookup"><span data-stu-id="fcf3a-135">RetryInterval</span></span> |<span data-ttu-id="fcf3a-136">Segundos</span><span class="sxs-lookup"><span data-stu-id="fcf3a-136">Seconds</span></span> |<span data-ttu-id="fcf3a-137">5</span><span class="sxs-lookup"><span data-stu-id="fcf3a-137">5</span></span> |<span data-ttu-id="fcf3a-138">Período de tempo após o qual Olá replicador novamente transmite a mensagem se receber uma confirmação de uma operação.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-138">Time period after which hello replicator re-transmits a message if it does not receive an acknowledgement for an operation.</span></span> |
| <span data-ttu-id="fcf3a-139">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="fcf3a-139">MaxReplicationMessageSize</span></span> |<span data-ttu-id="fcf3a-140">Bytes</span><span class="sxs-lookup"><span data-stu-id="fcf3a-140">Bytes</span></span> |<span data-ttu-id="fcf3a-141">50 MB</span><span class="sxs-lookup"><span data-stu-id="fcf3a-141">50 MB</span></span> |<span data-ttu-id="fcf3a-142">Tamanho máximo de dados de replicação que podem ser transmitidos numa única mensagem.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-142">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="fcf3a-143">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="fcf3a-143">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="fcf3a-144">Número de operações</span><span class="sxs-lookup"><span data-stu-id="fcf3a-144">Number of operations</span></span> |<span data-ttu-id="fcf3a-145">1024</span><span class="sxs-lookup"><span data-stu-id="fcf3a-145">1024</span></span> |<span data-ttu-id="fcf3a-146">Número máximo de operações em fila primário Olá.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-146">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="fcf3a-147">Uma operação é libertada cópias de segurança depois do replicador primário Olá recebe uma confirmação dos de replicadores secundário Olá todos os.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-147">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="fcf3a-148">Este valor tem de ser superior a 64 e uma potência de 2.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-148">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="fcf3a-149">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="fcf3a-149">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="fcf3a-150">Número de operações</span><span class="sxs-lookup"><span data-stu-id="fcf3a-150">Number of operations</span></span> |<span data-ttu-id="fcf3a-151">2048</span><span class="sxs-lookup"><span data-stu-id="fcf3a-151">2048</span></span> |<span data-ttu-id="fcf3a-152">Número máximo de operações em fila secundária Olá.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-152">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="fcf3a-153">Uma operação é libertada cópias de segurança depois de efetuar o seu estado de elevada disponibilidade através de persistência.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-153">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="fcf3a-154">Este valor tem de ser superior a 64 e uma potência de 2.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-154">This value must be greater than 64 and a power of 2.</span></span> |

## <a name="store-configuration"></a><span data-ttu-id="fcf3a-155">Configuração do arquivo</span><span class="sxs-lookup"><span data-stu-id="fcf3a-155">Store configuration</span></span>
<span data-ttu-id="fcf3a-156">Configurações de arquivo são utilizados tooconfigure Olá arquivo local que é utilizado toopersist Olá Estado que está a ser replicado.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-156">Store configurations are used tooconfigure hello local store that is used toopersist hello state that is being replicated.</span></span>
<span data-ttu-id="fcf3a-157">configuração predefinida de Olá é gerada pelo modelo de Visual Studio Olá e deve suffice.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-157">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="fcf3a-158">Esta secção aborda as configurações adicionais que são arquivo local do Olá tootune disponíveis.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-158">This section talks about additional configurations that are available tootune hello local store.</span></span>

### <a name="section-name"></a><span data-ttu-id="fcf3a-159">Nome de secção</span><span class="sxs-lookup"><span data-stu-id="fcf3a-159">Section name</span></span>
<span data-ttu-id="fcf3a-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span><span class="sxs-lookup"><span data-stu-id="fcf3a-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="fcf3a-161">Nomes de configuração</span><span class="sxs-lookup"><span data-stu-id="fcf3a-161">Configuration names</span></span>
| <span data-ttu-id="fcf3a-162">Nome</span><span class="sxs-lookup"><span data-stu-id="fcf3a-162">Name</span></span> | <span data-ttu-id="fcf3a-163">Unidade</span><span class="sxs-lookup"><span data-stu-id="fcf3a-163">Unit</span></span> | <span data-ttu-id="fcf3a-164">Valor predefinido</span><span class="sxs-lookup"><span data-stu-id="fcf3a-164">Default value</span></span> | <span data-ttu-id="fcf3a-165">Observações</span><span class="sxs-lookup"><span data-stu-id="fcf3a-165">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="fcf3a-166">MaxAsyncCommitDelayInMilliseconds</span><span class="sxs-lookup"><span data-stu-id="fcf3a-166">MaxAsyncCommitDelayInMilliseconds</span></span> |<span data-ttu-id="fcf3a-167">milissegundos</span><span class="sxs-lookup"><span data-stu-id="fcf3a-167">Milliseconds</span></span> |<span data-ttu-id="fcf3a-168">200</span><span class="sxs-lookup"><span data-stu-id="fcf3a-168">200</span></span> |<span data-ttu-id="fcf3a-169">Define o máximo de Olá intervalo do arquivo local durável consolidações de criação de batches.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-169">Sets hello maximum batching interval for durable local store commits.</span></span> |
| <span data-ttu-id="fcf3a-170">MaxVerPages</span><span class="sxs-lookup"><span data-stu-id="fcf3a-170">MaxVerPages</span></span> |<span data-ttu-id="fcf3a-171">Número de páginas</span><span class="sxs-lookup"><span data-stu-id="fcf3a-171">Number of pages</span></span> |<span data-ttu-id="fcf3a-172">16384</span><span class="sxs-lookup"><span data-stu-id="fcf3a-172">16384</span></span> |<span data-ttu-id="fcf3a-173">número máximo de Olá de páginas de versão no local Olá armazena a base de dados.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-173">hello maximum number of version pages in hello local store database.</span></span> <span data-ttu-id="fcf3a-174">Determina o número máximo de Olá de transações pendentes.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-174">It determines hello maximum number of outstanding transactions.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="fcf3a-175">Ficheiro de configuração de exemplo</span><span class="sxs-lookup"><span data-stu-id="fcf3a-175">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
   </Section>
   <Section Name="MyActorServiceLocalStoreConfig">
      <Parameter Name="MaxVerPages" Value="8192" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```
## <a name="remarks"></a><span data-ttu-id="fcf3a-176">Observações</span><span class="sxs-lookup"><span data-stu-id="fcf3a-176">Remarks</span></span>
<span data-ttu-id="fcf3a-177">parâmetro de BatchAcknowledgementInterval Olá controla a latência de replicação.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-177">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="fcf3a-178">Um valor de '0' resulta num Olá menor latência possível, custo Olá de débito (como mais mensagens de confirmação tem de ser enviadas e processadas, cada que contém menos confirmações).</span><span class="sxs-lookup"><span data-stu-id="fcf3a-178">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="fcf3a-179">Olá maior valor Olá BatchAcknowledgementInterval, Olá Olá superior global débito de replicação, custo Olá de latência de operação superior.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-179">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="fcf3a-180">Isto traduz diretamente toohello latência de consolidações de transações.</span><span class="sxs-lookup"><span data-stu-id="fcf3a-180">This directly translates toohello latency of transaction commits.</span></span>

