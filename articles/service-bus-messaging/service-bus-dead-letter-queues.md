---
title: filas de aaaService Bus entregues | Microsoft Docs
description: "Descrição geral de filas do Service Bus do Azure entregues"
services: service-bus-messaging
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 68b2aa38-dba7-491a-9c26-0289bc15d397
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/17/2017
ms.author: clemensv;sethm
ms.openlocfilehash: 1638272085b8a3a59e8814f6f943caee35a2bfdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="overview-of-service-bus-dead-letter-queues"></a><span data-ttu-id="b9d9e-103">Descrição geral de filas do Service Bus entregues</span><span class="sxs-lookup"><span data-stu-id="b9d9e-103">Overview of Service Bus dead-letter queues</span></span>

<span data-ttu-id="b9d9e-104">Filas do Service Bus e subscrições proporcionam uma fila secundárias secundária, chamada um *entregues fila* (DLQ).</span><span class="sxs-lookup"><span data-stu-id="b9d9e-104">Service Bus queues and topic subscriptions provide a secondary sub-queue, called a *dead-letter queue* (DLQ).</span></span> <span data-ttu-id="b9d9e-105">fila de entregues Olá não precisa de toobe explicitamente criado e não pode ser eliminado ou de outra forma independente gerido da entidade principal Olá.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-105">hello dead-letter queue does not need toobe explicitly created and cannot be deleted or otherwise managed independent of hello main entity.</span></span>

<span data-ttu-id="b9d9e-106">Este artigo aborda entregues filas no Service Bus do Azure.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-106">This article discusses dead-letter queues in Azure Service Bus.</span></span> <span data-ttu-id="b9d9e-107">Muitas das debate Olá é ilustrada Olá [exemplo entregues filas](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) no GitHub.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-107">Much of hello discussion is illustrated by hello [Dead-Letter Queues sample](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) on GitHub.</span></span>
 
## <a name="hello-dead-letter-queue"></a><span data-ttu-id="b9d9e-108">fila de entregues Olá</span><span class="sxs-lookup"><span data-stu-id="b9d9e-108">hello dead-letter queue</span></span>

<span data-ttu-id="b9d9e-109">objetivo de Olá da fila de entregues Olá é toohold mensagens que não não possível entregar tooany recetor ou mensagens que não foi possível processar.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-109">hello purpose of hello dead-letter queue is toohold messages that cannot be delivered tooany receiver, or messages that could not be processed.</span></span> <span data-ttu-id="b9d9e-110">As mensagens podem ser removidas Olá DLQ e inspecionadas.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-110">Messages can then be removed from hello DLQ and inspected.</span></span> <span data-ttu-id="b9d9e-111">Uma aplicação poderá, com a ajuda de um operador, corrigir problemas e submeta novamente a mensagem de saudação, facto Olá que ocorreu um erro de registo e tomar uma ação corretiva.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-111">An application might, with help of an operator, correct issues and resubmit hello message, log hello fact that there was an error, and take corrective action.</span></span> 

<span data-ttu-id="b9d9e-112">Perspetiva de um protocolo e a API, Olá DLQ é principalmente semelhante tooany outra fila, exceto que só podem ser submetidas mensagens através do gesto de entregues Olá da entidade de principal de Olá.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-112">From an API and protocol perspective, hello DLQ is mostly similar tooany other queue, except that messages can only be submitted via hello dead-letter gesture of hello parent entity.</span></span> <span data-ttu-id="b9d9e-113">Além disso, a time-to-live não é observados, e não é uma mensagem de um DLQ entregues.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-113">In addition, time-to-live is not observed, and you can't dead-letter a message from a DLQ.</span></span> <span data-ttu-id="b9d9e-114">fila de entregues Olá suporta totalmente operações transacionais e entrega de bloqueio peek.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-114">hello dead-letter queue fully supports peek-lock delivery and transactional operations.</span></span>

<span data-ttu-id="b9d9e-115">Tenha em atenção que não há nenhum limpeza automática de Olá DLQ.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-115">Note that there is no automatic cleanup of hello DLQ.</span></span> <span data-ttu-id="b9d9e-116">Mensagens permanecem no Olá DLQ até obter explicitamente Olá DLQ e chamada [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) na mensagem de entregues Olá.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-116">Messages remain in hello DLQ until you explicitly retrieve them from hello DLQ and call [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) on hello dead-letter message.</span></span>

## <a name="moving-messages-toohello-dlq"></a><span data-ttu-id="b9d9e-117">Mover mensagens toohello DLQ</span><span class="sxs-lookup"><span data-stu-id="b9d9e-117">Moving messages toohello DLQ</span></span>

<span data-ttu-id="b9d9e-118">Existem várias atividades no Service Bus que causam tooget de mensagens enviadas por push toohello DLQ de dentro de Olá mensagens do motor de si próprio.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-118">There are several activities in Service Bus that cause messages tooget pushed toohello DLQ from within hello messaging engine itself.</span></span> <span data-ttu-id="b9d9e-119">Uma aplicação explicitamente também pode mover mensagens toohello DLQ.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-119">An application can also explicitly move messages toohello DLQ.</span></span> 

<span data-ttu-id="b9d9e-120">Como mensagem de saudação obtém movida mediador Olá, duas propriedades são adicionadas toohello mensagem como mediador Olá chamadas a respetiva versão interno de Olá [mensagens não entregues](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) método na mensagem de saudação: `DeadLetterReason` e `DeadLetterErrorDescription`.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-120">As hello message gets moved by hello broker, two properties are added toohello message as hello broker calls its internal version of hello [DeadLetter](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) method on hello message: `DeadLetterReason` and `DeadLetterErrorDescription`.</span></span>

<span data-ttu-id="b9d9e-121">As aplicações podem definir os seus próprios códigos para Olá `DeadLetterReason` propriedade, mas Olá sistema conjuntos Olá os seguintes valores.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-121">Applications can define their own codes for hello `DeadLetterReason` property, but hello system sets hello following values.</span></span>

| <span data-ttu-id="b9d9e-122">Condição</span><span class="sxs-lookup"><span data-stu-id="b9d9e-122">Condition</span></span> | <span data-ttu-id="b9d9e-123">DeadLetterReason</span><span class="sxs-lookup"><span data-stu-id="b9d9e-123">DeadLetterReason</span></span> | <span data-ttu-id="b9d9e-124">DeadLetterErrorDescription</span><span class="sxs-lookup"><span data-stu-id="b9d9e-124">DeadLetterErrorDescription</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b9d9e-125">Sempre</span><span class="sxs-lookup"><span data-stu-id="b9d9e-125">Always</span></span> |<span data-ttu-id="b9d9e-126">HeaderSizeExceeded</span><span class="sxs-lookup"><span data-stu-id="b9d9e-126">HeaderSizeExceeded</span></span> |<span data-ttu-id="b9d9e-127">quota de tamanho de Olá para esta sequência foi excedido.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-127">hello size quota for this stream has been exceeded.</span></span> |
| <span data-ttu-id="b9d9e-128">! TopicDescription.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-128">!TopicDescription.</span></span><br /><span data-ttu-id="b9d9e-129">EnableFilteringMessagesBeforePublishing e SubscriptionDescription.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-129">EnableFilteringMessagesBeforePublishing and SubscriptionDescription.</span></span><br /><span data-ttu-id="b9d9e-130">EnableDeadLetteringOnFilterEvaluationExceptions</span><span class="sxs-lookup"><span data-stu-id="b9d9e-130">EnableDeadLetteringOnFilterEvaluationExceptions</span></span> |<span data-ttu-id="b9d9e-131">exceção. GetType(). Nome</span><span class="sxs-lookup"><span data-stu-id="b9d9e-131">exception.GetType().Name</span></span> |<span data-ttu-id="b9d9e-132">exceção. Mensagem</span><span class="sxs-lookup"><span data-stu-id="b9d9e-132">exception.Message</span></span> |
| <span data-ttu-id="b9d9e-133">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="b9d9e-133">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="b9d9e-134">TTLExpiredException</span><span class="sxs-lookup"><span data-stu-id="b9d9e-134">TTLExpiredException</span></span> |<span data-ttu-id="b9d9e-135">mensagem de saudação expirou e foi inutilizado lettered.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-135">hello message expired and was dead lettered.</span></span> |
| <span data-ttu-id="b9d9e-136">SubscriptionDescription.RequiresSession</span><span class="sxs-lookup"><span data-stu-id="b9d9e-136">SubscriptionDescription.RequiresSession</span></span> |<span data-ttu-id="b9d9e-137">Id de sessão é nulo.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-137">Session id is null.</span></span> |<span data-ttu-id="b9d9e-138">Entidade de sessão ativado não permite uma mensagem cujo identificador de sessão é nulo.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-138">Session enabled entity doesn't allow a message whose session identifier is null.</span></span> |
| <span data-ttu-id="b9d9e-139">! entregues fila</span><span class="sxs-lookup"><span data-stu-id="b9d9e-139">!dead letter queue</span></span> |<span data-ttu-id="b9d9e-140">MaxTransferHopCountExceeded</span><span class="sxs-lookup"><span data-stu-id="b9d9e-140">MaxTransferHopCountExceeded</span></span> |<span data-ttu-id="b9d9e-141">Valor nulo</span><span class="sxs-lookup"><span data-stu-id="b9d9e-141">Null</span></span> |
| <span data-ttu-id="b9d9e-142">Aplicação explícita lettering inutilizado</span><span class="sxs-lookup"><span data-stu-id="b9d9e-142">Application explicit dead lettering</span></span> |<span data-ttu-id="b9d9e-143">Especificado por aplicação</span><span class="sxs-lookup"><span data-stu-id="b9d9e-143">Specified by application</span></span> |<span data-ttu-id="b9d9e-144">Especificado por aplicação</span><span class="sxs-lookup"><span data-stu-id="b9d9e-144">Specified by application</span></span> |

## <a name="exceeding-maxdeliverycount"></a><span data-ttu-id="b9d9e-145">Exceder MaxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="b9d9e-145">Exceeding MaxDeliveryCount</span></span>
<span data-ttu-id="b9d9e-146">As filas e subscrições têm um [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) e [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) propriedade respetivamente; hello o valor predefinido é 10.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-146">Queues and subscriptions each have a [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) and [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) property respectively; hello default value is 10.</span></span> <span data-ttu-id="b9d9e-147">Sempre que uma mensagem tem sido entregar sob um bloqueio ([ReceiveMode.PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)), mas foi um explicitamente abandonado ou bloqueio Olá expirou, mensagem de saudação [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) é incrementado.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-147">Whenever a message has been delivered under a lock ([ReceiveMode.PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)), but has been either explicitly abandoned or hello lock has expired, hello message's [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) is incremented.</span></span> <span data-ttu-id="b9d9e-148">Quando [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) excede [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), mensagem de saudação é movido toohello DLQ, especificando Olá `MaxDeliveryCountExceeded` pelo motivo código.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-148">When [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) exceeds [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), hello message is moved toohello DLQ, specifying hello `MaxDeliveryCountExceeded` reason code.</span></span>

<span data-ttu-id="b9d9e-149">Não é possível desativar este comportamento, mas pode definir [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) número muito elevado de tooa.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-149">This behavior cannot be disabled, but you can set [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) tooa very large number.</span></span>

## <a name="exceeding-timetolive"></a><span data-ttu-id="b9d9e-150">TimeToLive excedesse</span><span class="sxs-lookup"><span data-stu-id="b9d9e-150">Exceeding TimeToLive</span></span>
<span data-ttu-id="b9d9e-151">Quando Olá [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) ou [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) for definida demasiado**true** (é a predefinição de Olá **falso**), todas as mensagens de expiração são movida toohello DLQ, especificando Olá `TTLExpiredException` pelo motivo código.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-151">When hello [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) or [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) property is set too**true** (hello default is **false**), all expiring messages are moved toohello DLQ, specifying hello  `TTLExpiredException` reason code.</span></span>

<span data-ttu-id="b9d9e-152">Tenha em atenção que apenas são removidas e, por conseguinte, movido toohello DLQ quando existe, pelo menos, um recetor Active Directory extrair em fila principal Olá ou de subscrição; as mensagens de expirada Se o comportamento é por predefinição.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-152">Note that expired messages are only purged and therefore moved toohello DLQ when there is at least one active receiver pulling on hello main queue or subscription; that behavior is by design.</span></span>

## <a name="errors-while-processing-subscription-rules"></a><span data-ttu-id="b9d9e-153">Erros ao processar as regras de subscrição</span><span class="sxs-lookup"><span data-stu-id="b9d9e-153">Errors while processing subscription rules</span></span>
<span data-ttu-id="b9d9e-154">Quando Olá [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) propriedade está ativada para uma subscrição, quaisquer erros que ocorrem enquanto executa a regra de filtro do SQL Server de uma subscrição são capturados num Olá DLQ juntamente com Olá inválida mensagem.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-154">When hello [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) property is enabled for a subscription, any errors that occur while a subscription's SQL filter rule executes are captured in hello DLQ along with hello offending message.</span></span>

## <a name="application-level-dead-lettering"></a><span data-ttu-id="b9d9e-155">Ao nível da aplicação mensagens não entregues</span><span class="sxs-lookup"><span data-stu-id="b9d9e-155">Application-level dead-lettering</span></span>
<span data-ttu-id="b9d9e-156">Na adição toohello fornecidos pelo sistema mensagens não entregues funcionalidades, as aplicações podem utilizar mensagens hello do DLQ tooexplicitly rejeitar inaceitável.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-156">In addition toohello system-provided dead-lettering features, applications can use hello DLQ tooexplicitly reject unacceptable messages.</span></span> <span data-ttu-id="b9d9e-157">Isto pode incluir as mensagens que não podem ser processadas corretamente devido a ordenação tooany de problema de sistema, as mensagens que contêm payloads com formato incorreto ou mensagens que falham a autenticação quando é utilizada o esquema algumas segurança ao nível da mensagem.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-157">This may include messages that cannot be properly processed due tooany sort of system issue, messages that hold malformed payloads, or messages that fail authentication when some message-level security scheme is used.</span></span>

## <a name="dead-lettering-in-forwardto-or-sendvia-scenarios"></a><span data-ttu-id="b9d9e-158">Mensagens não entregues nos cenários ForwardTo ou SendVia</span><span class="sxs-lookup"><span data-stu-id="b9d9e-158">Dead-lettering in ForwardTo or SendVia scenarios</span></span>

<span data-ttu-id="b9d9e-159">As mensagens serão enviados toohello fila de entregues transferências em Olá seguintes condições:</span><span class="sxs-lookup"><span data-stu-id="b9d9e-159">Messages will be sent toohello transfer dead-letter queue under hello following conditions:</span></span>

- <span data-ttu-id="b9d9e-160">Uma mensagem passa através de mais de 3 filas ou os tópicos [ligadas em cadeia](service-bus-auto-forwarding.md).</span><span class="sxs-lookup"><span data-stu-id="b9d9e-160">A message passes through more than 3 queues or topics that are [chained together](service-bus-auto-forwarding.md).</span></span>
- <span data-ttu-id="b9d9e-161">fila de destino Olá ou um tópico, está desativado ou eliminado.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-161">hello destination queue or topic is disabled or deleted.</span></span>
- <span data-ttu-id="b9d9e-162">Olá fila de destino ou um tópico excede o tamanho máximo de entidade de Olá.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-162">hello destination queue or topic exceeds hello maximum entity size.</span></span>

<span data-ttu-id="b9d9e-163">tooretrieve estas mensagens lettered de mensagens não pode criar um recetor utilizando Olá [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) método do utilitário.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-163">tooretrieve these dead-lettered messages, you can create a receiver using hello [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) utility method.</span></span>

## <a name="example"></a><span data-ttu-id="b9d9e-164">Exemplo</span><span class="sxs-lookup"><span data-stu-id="b9d9e-164">Example</span></span>
<span data-ttu-id="b9d9e-165">Olá seguinte fragmento de código cria um recetor de mensagem.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-165">hello following code snippet creates a message receiver.</span></span> <span data-ttu-id="b9d9e-166">No Olá receber ciclo para a fila principal Olá, código de Olá obtém a mensagem de saudação com [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), que pede-lhe Olá mediador tooinstantly retorno qualquer mensagem prontamente disponível ou tooreturn com nenhum resultado.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-166">In hello receive loop for hello main queue, hello code retrieves hello message with [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), which asks hello broker tooinstantly return any message readily available, or tooreturn with no result.</span></span> <span data-ttu-id="b9d9e-167">Se o código de Olá recebe uma mensagem,-lo imediatamente abandons, que incrementa Olá `DeliveryCount`.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-167">If hello code receives a message, it immediately abandons it, which increments hello  `DeliveryCount`.</span></span> <span data-ttu-id="b9d9e-168">Depois do sistema Olá move Olá mensagem toohello DLQ, fila principal Olá está vazia e Olá sai do ciclo, como [ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) devolve **nulo**.</span><span class="sxs-lookup"><span data-stu-id="b9d9e-168">Once hello system moves hello message toohello DLQ, hello main queue is empty and hello loop exits, as [ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) returns **null**.</span></span>

```csharp
var receiver = await receiverFactory.CreateMessageReceiverAsync(queueName, ReceiveMode.PeekLock);
while(true)
{
    var msg = await receiver.ReceiveAsync(TimeSpan.Zero);
    if (msg != null)
    {
        Console.WriteLine("Picked up message; DeliveryCount {0}", msg.DeliveryCount);
        await msg.AbandonAsync();
    }
    else
    {
        break;
    }
}
```

## <a name="next-steps"></a><span data-ttu-id="b9d9e-169">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="b9d9e-169">Next steps</span></span>
<span data-ttu-id="b9d9e-170">Olá seguintes artigos para obter mais informações sobre as filas do Service Bus, consulte:</span><span class="sxs-lookup"><span data-stu-id="b9d9e-170">See hello following articles for more information about Service Bus queues:</span></span>

* [<span data-ttu-id="b9d9e-171">Introdução às filas do Service Bus</span><span class="sxs-lookup"><span data-stu-id="b9d9e-171">Get started with Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="b9d9e-172">As filas do Azure e o Service Bus filas em comparação comparadas</span><span class="sxs-lookup"><span data-stu-id="b9d9e-172">Azure Queues and Service Bus queues compared</span></span>](service-bus-azure-and-service-bus-queues-compared-contrasted.md)

