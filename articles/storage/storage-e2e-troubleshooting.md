---
title: "aaaTroubleshooting Storage do Azure com o diagnóstico & Message Analyzer | Microsoft Docs"
description: "Um tutorial que demonstra ponto-a-ponto de resolução de problemas com a análise de armazenamento do Azure, o AzCopy e o Microsoft Message Analyzer"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 643372a3-1c07-4e88-b4ef-042512a43086
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/15/2017
ms.author: robinsh
ms.openlocfilehash: f0b7886911c35de1fdc0bcbe6f83c220ddb38cf5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="b10aa-103">Resolução de problemas de ponto-a-ponto utilizando as métricas do Storage do Azure e o registo, o AzCopy e o Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="b10aa-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

<span data-ttu-id="b10aa-104">Resolução de problemas e diagnosticar são uma chave skill para criar e suportar aplicações de cliente com o armazenamento do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-104">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="b10aa-105">Devido a natureza toohello distribuído de uma aplicação do Azure, diagnosticar e resolução de problemas de erros e problemas de desempenho podem ser mais complexos do que em ambientes tradicionais.</span><span class="sxs-lookup"><span data-stu-id="b10aa-105">Due toohello distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="b10aa-106">Neste tutorial, iremos demonstrar como tooidentify determinados erros que possam afetar o desempenho e resolver os erros de ponto-a-ponto utilizando as ferramentas fornecidas pelo Microsoft e Storage do Azure, na aplicação de cliente do ordem toooptimize Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-106">In this tutorial, we demonstrate how tooidentify certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order toooptimize hello client application.</span></span>

<span data-ttu-id="b10aa-107">Este tutorial fornece uma exploração prática de um cenário de resolução de problemas de ponto a ponto.</span><span class="sxs-lookup"><span data-stu-id="b10aa-107">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="b10aa-108">Para aplicações de armazenamento do Azure tootroubleshooting um Guia conceptual aprofundada, consulte [monitorizar, diagnosticar e resolver problemas de armazenamento do Microsoft Azure](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="b10aa-108">For an in-depth conceptual guide tootroubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="b10aa-109">Ferramentas para resolução de problemas de aplicações de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="b10aa-109">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="b10aa-110">tootroubleshoot as aplicações de cliente utilizando o armazenamento do Microsoft Azure, pode utilizar uma combinação de ferramentas toodetermine quando ocorreu um problema e o que causa Olá problema Olá poderá ser.</span><span class="sxs-lookup"><span data-stu-id="b10aa-110">tootroubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools toodetermine when an issue has occurred and what hello cause of hello problem may be.</span></span> <span data-ttu-id="b10aa-111">Estas ferramentas incluem:</span><span class="sxs-lookup"><span data-stu-id="b10aa-111">These tools include:</span></span>

* <span data-ttu-id="b10aa-112">**Análise de armazenamento do Azure**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-112">**Azure Storage Analytics**.</span></span> <span data-ttu-id="b10aa-113">[Análise de armazenamento do Azure](/rest/api/storageservices/Storage-Analytics) fornece métricas e registo para o Storage do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) provides metrics and logging for Azure Storage.</span></span>
  
  * <span data-ttu-id="b10aa-114">**As métricas do Storage** controla as métricas de transação e métricas de capacidade para a sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b10aa-114">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="b10aa-115">Utilizar métricas, pode determinar como a aplicação está a funcionar de acordo com tooa diversas medidas diferentes.</span><span class="sxs-lookup"><span data-stu-id="b10aa-115">Using metrics, you can determine how your application is performing according tooa variety of different measures.</span></span> <span data-ttu-id="b10aa-116">Consulte [armazenamento esquema da tabela de métricas de análise](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) para obter mais informações sobre os tipos de Olá das métricas controladas pela análise de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b10aa-116">See [Storage Analytics Metrics Table Schema](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) for more information about hello types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="b10aa-117">**Registo de armazenamento** os registos de cada registo de toohello Storage do Azure serviços tooa lado do servidor do pedido.</span><span class="sxs-lookup"><span data-stu-id="b10aa-117">**Storage logging** logs each request toohello Azure Storage services tooa server-side log.</span></span> <span data-ttu-id="b10aa-118">Olá registo controla dados detalhados para cada pedido, incluindo a operação de Olá efetuar Estado Olá operação Olá, e informações de latência.</span><span class="sxs-lookup"><span data-stu-id="b10aa-118">hello log tracks detailed data for each request, including hello operation performed, hello status of hello operation, and latency information.</span></span> <span data-ttu-id="b10aa-119">Consulte [formato de registo de análise do armazenamento](/rest/api/storageservices/Storage-Analytics-Log-Format) para obter mais informações sobre os dados de pedido e resposta de Olá que são escritos toohello registos através da análise de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b10aa-119">See [Storage Analytics Log Format](/rest/api/storageservices/Storage-Analytics-Log-Format) for more information about hello request and response data that is written toohello logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="b10aa-120">As contas de armazenamento com um tipo de replicação de com redundância de zona de armazenamento (ZRS) não dispõe de métricas de Olá ou capacidade de registo neste momento ativada.</span><span class="sxs-lookup"><span data-stu-id="b10aa-120">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span> 
> 
> 

* <span data-ttu-id="b10aa-121">**Portal do Azure**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-121">**Azure portal**.</span></span> <span data-ttu-id="b10aa-122">Pode configurar as métricas e registo para a sua conta de armazenamento no Olá [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b10aa-122">You can configure metrics and logging for your storage account in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="b10aa-123">Também pode ver gráficos e gráficos que mostram a forma como a aplicação está a efetuar ao longo do tempo e configurar toonotify alertas que se a aplicação executa de forma diferente que destinados para uma métrica especificada.</span><span class="sxs-lookup"><span data-stu-id="b10aa-123">You can also view charts and graphs that show how your application is performing over time, and configure alerts toonotify you if your application performs differently than expected for a specified metric.</span></span>
  
    <span data-ttu-id="b10aa-124">Consulte [monitorizar uma conta de armazenamento no portal do Azure de Olá](storage-monitor-storage-account.md) para obter informações sobre como configurar a monitorização no Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-124">See [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md) for information about configuring monitoring in hello Azure portal.</span></span>
* <span data-ttu-id="b10aa-125">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-125">**AzCopy**.</span></span> <span data-ttu-id="b10aa-126">Registos do servidor para o Storage do Azure são armazenados como blobs, pelo que pode utilizar o AzCopy toocopy Olá blobs tooa local diretório de registo para análise com o Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="b10aa-126">Server logs for Azure Storage are stored as blobs, so you can use AzCopy toocopy hello log blobs tooa local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="b10aa-127">Consulte [transferir dados com o utilitário de linha de comandos do AzCopy Olá](storage-use-azcopy.md) para obter mais informações sobre o AzCopy.</span><span class="sxs-lookup"><span data-stu-id="b10aa-127">See [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="b10aa-128">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-128">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="b10aa-129">Analisador de mensagens é uma ferramenta que consome os ficheiros de registo e apresenta dados de registo num formato visual que torna toofilter fácil, pesquisa e grupo registar dados para conjuntos útil que pode utilizar tooanalyze erros e problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="b10aa-129">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy toofilter, search, and group log data into useful sets that you can use tooanalyze errors and performance issues.</span></span> <span data-ttu-id="b10aa-130">Consulte [Microsoft mensagem analisador operativo guia](http://technet.microsoft.com/library/jj649776.aspx) para obter mais informações sobre o Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="b10aa-130">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-hello-sample-scenario"></a><span data-ttu-id="b10aa-131">Sobre o cenário de exemplo de Olá</span><span class="sxs-lookup"><span data-stu-id="b10aa-131">About hello sample scenario</span></span>
<span data-ttu-id="b10aa-132">Para este tutorial, vamos examinar um cenário onde as métricas do Storage do Azure indica uma taxa de êxito de percentagem baixa para uma aplicação que chama o armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-132">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="b10aa-133">Olá métrica de taxa de êxito de percentagem baixa (apresentada como **PercentSuccess** no Olá [portal do Azure](https://portal.azure.com) e nas tabelas de métricas de Olá) controla as operações que tenha êxito, mas que devolver um código de estado HTTP é superior que 299.</span><span class="sxs-lookup"><span data-stu-id="b10aa-133">hello low percent success rate metric (shown as **PercentSuccess** in hello [Azure portal](https://portal.azure.com) and in hello metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="b10aa-134">Nos ficheiros de registo de armazenamento do lado do servidor de Olá, estas operações são registadas com um Estado de transação de **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-134">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="b10aa-135">Para obter mais detalhes sobre a métrica de percentagem de êxito baixa Olá, consulte [métricas mostram PercentSuccess baixa ou entradas de registo de análise tem operações com o estado de transação de ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="b10aa-135">For more details about hello low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="b10aa-136">Operações de armazenamento do Azure podem devolver os códigos de estado HTTP maior 299 como parte da respetiva funcionalidade normal.</span><span class="sxs-lookup"><span data-stu-id="b10aa-136">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="b10aa-137">Mas estes erros em alguns casos indicam que que pode ser capaz de toooptimize a aplicação de cliente para um desempenho melhorado.</span><span class="sxs-lookup"><span data-stu-id="b10aa-137">But these errors in some cases indicate that you may be able toooptimize your client application for improved performance.</span></span>

<span data-ttu-id="b10aa-138">Neste cenário, iremos irá considerar um toobe de taxa de êxito de percentagem baixa nada inferior a 100%.</span><span class="sxs-lookup"><span data-stu-id="b10aa-138">In this scenario, we'll consider a low percent success rate toobe anything below 100%.</span></span> <span data-ttu-id="b10aa-139">Pode escolher um métrico um nível diferente, no entanto, de acordo com as necessidades de tooyour.</span><span class="sxs-lookup"><span data-stu-id="b10aa-139">You can choose a different metric level, however, according tooyour needs.</span></span> <span data-ttu-id="b10aa-140">Recomendamos que durante os testes da aplicação, estabeleça uma tolerância de linha de base para as métricas chave de desempenho.</span><span class="sxs-lookup"><span data-stu-id="b10aa-140">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="b10aa-141">Por exemplo, poderá determinar, com base em testes, que a aplicação deve ter uma taxa de êxito de percentagem consistente de 90% ou 85%.</span><span class="sxs-lookup"><span data-stu-id="b10aa-141">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="b10aa-142">Se os dados de métricas mostram que a aplicação Olá é deviating desse número, em seguida, pode investigar o que poderá estar a causar Olá aumento.</span><span class="sxs-lookup"><span data-stu-id="b10aa-142">If your metrics data shows that hello application is deviating from that number, then you can investigate what may be causing hello increase.</span></span>

<span data-ttu-id="b10aa-143">Para o nosso cenário de exemplo, uma vez que estabeleceu que métrica de taxa de êxito de percentagem de Olá é inferior a 100%, iremos irá examinar Olá registos toofind Olá erros correlacionar toohello métricas e utilizá-los toofigure saída que está a causar taxa de êxito de percentagem de inferior Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-143">For our sample scenario, once we've established that hello percent success rate metric is below 100%, we will examine hello logs toofind hello errors that correlate toohello metrics, and use them toofigure out what is causing hello lower percent success rate.</span></span> <span data-ttu-id="b10aa-144">Vamos analisar especificamente erros no intervalo de 400 Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-144">We'll look specifically at errors in hello 400 range.</span></span> <span data-ttu-id="b10aa-145">Em seguida, iremos irá investigar mais detalhadamente 404 erros (não for encontrado).</span><span class="sxs-lookup"><span data-stu-id="b10aa-145">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="b10aa-146">Algumas causas dos erros de intervalo de 400</span><span class="sxs-lookup"><span data-stu-id="b10aa-146">Some causes of 400-range errors</span></span>
<span data-ttu-id="b10aa-147">Exemplos de Olá abaixo apresenta uma amostra de alguns erros de intervalo de 400 para pedidos para o Blob Storage do Azure e das suas causas possíveis.</span><span class="sxs-lookup"><span data-stu-id="b10aa-147">hello examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="b10aa-148">Qualquer um destes erros, bem como erros no intervalo de 300 Olá e o intervalo de 500 Olá, este pode contribuir tooa taxa de êxito de percentagem baixa.</span><span class="sxs-lookup"><span data-stu-id="b10aa-148">Any of these errors, as well as errors in hello 300 range and hello 500 range, can contribute tooa low percent success rate.</span></span>

<span data-ttu-id="b10aa-149">Tenha em atenção que as listas de Olá abaixo longe concluída.</span><span class="sxs-lookup"><span data-stu-id="b10aa-149">Note that hello lists below are far from complete.</span></span> <span data-ttu-id="b10aa-150">Consulte [estado e códigos de erro](http://msdn.microsoft.com/library/azure/dd179382.aspx) no MSDN para obter mais informações sobre erros gerais de armazenamento do Azure e sobre erros tooeach específicas dos serviços de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-150">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on MSDN for details about general Azure Storage errors and about errors specific tooeach of hello storage services.</span></span>

<span data-ttu-id="b10aa-151">**Exemplos de código 404 (não for encontrado) de estado**</span><span class="sxs-lookup"><span data-stu-id="b10aa-151">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="b10aa-152">Ocorre quando uma operação de leitura em relação a um contentor ou um blob falhará porque os BLOBs Olá ou contentor não foi encontrado.</span><span class="sxs-lookup"><span data-stu-id="b10aa-152">Occurs when a read operation against a container or blob fails because hello blob or container is not found.</span></span>

* <span data-ttu-id="b10aa-153">Ocorre se um contentor ou um blob foi eliminado por outro cliente antes deste pedido.</span><span class="sxs-lookup"><span data-stu-id="b10aa-153">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="b10aa-154">Ocorre se estiver a utilizar uma chamada de API que cria o contentor de Olá ou um blob após verificar se existe.</span><span class="sxs-lookup"><span data-stu-id="b10aa-154">Occurs if you are using an API call that creates hello container or blob after checking whether it exists.</span></span> <span data-ttu-id="b10aa-155">Olá CreateIfNotExists APIs tornar um cabeçalho chamar primeiro toocheck quanto à existência de Olá do contentor de Olá ou um blob; Se não existir, é devolvido um erro 404 e, em seguida, é efetuada uma chamada PUT segundo toowrite Olá contentor ou um blob.</span><span class="sxs-lookup"><span data-stu-id="b10aa-155">hello CreateIfNotExists APIs make a HEAD call first toocheck for hello existence of hello container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made toowrite hello container or blob.</span></span>

<span data-ttu-id="b10aa-156">**409 (conflito) Exemplos de código de estado**</span><span class="sxs-lookup"><span data-stu-id="b10aa-156">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="b10aa-157">Ocorre se utilizar um toocreate de API de criar um novo contentor ou um blob, sem verificar primeiro existência e já existe um contentor ou um blob com esse nome.</span><span class="sxs-lookup"><span data-stu-id="b10aa-157">Occurs if you use a Create API toocreate a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="b10aa-158">Ocorre se um contentor está a ser eliminado e tente toocreate um novo contentor com Olá antes de concluída a operação de eliminação de Olá o mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="b10aa-158">Occurs if a container is being deleted, and you attempt toocreate a new container with hello same name before hello deletion operation is complete.</span></span>
* <span data-ttu-id="b10aa-159">Ocorre se especificar uma concessão no contentor ou blob e já houver uma concessão presente.</span><span class="sxs-lookup"><span data-stu-id="b10aa-159">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="b10aa-160">**Código de estado 412 (falhada de pré-condição) Exemplos**</span><span class="sxs-lookup"><span data-stu-id="b10aa-160">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="b10aa-161">Ocorre quando a condição de Olá especificada por um cabeçalho condicional não foram cumprida.</span><span class="sxs-lookup"><span data-stu-id="b10aa-161">Occurs when hello condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="b10aa-162">Ocorre quando o ID de concessão de Olá especificado não corresponde ao ID de concessão de Olá no contentor de Olá ou um blob.</span><span class="sxs-lookup"><span data-stu-id="b10aa-162">Occurs when hello lease ID specified does not match hello lease ID on hello container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="b10aa-163">Gerar ficheiros de registo de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="b10aa-163">Generate log files for analysis</span></span>
<span data-ttu-id="b10aa-164">Neste tutorial, iremos utilizar Message Analyzer toowork com três tipos diferentes de ficheiros de registo, embora poderia escolher toowork com qualquer um dos seguintes:</span><span class="sxs-lookup"><span data-stu-id="b10aa-164">In this tutorial, we'll use Message Analyzer toowork with three different types of log files, although you could choose toowork with any one of these:</span></span>

* <span data-ttu-id="b10aa-165">Olá **registo server**, que é criado quando ativar o registo de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-165">hello **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="b10aa-166">registo de servidor Olá contém dados sobre cada operação chamado dos serviços de armazenamento do Azure Olá – blob, fila, tabela e ficheiro.</span><span class="sxs-lookup"><span data-stu-id="b10aa-166">hello server log contains data about each operation called against one of hello Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="b10aa-167">registo de servidor Olá indica que a operação foi chamada e o código de estado foi devolvidos, bem como outros detalhes sobre Olá pedido e resposta.</span><span class="sxs-lookup"><span data-stu-id="b10aa-167">hello server log indicates which operation was called and what status code was returned, as well as other details about hello request and response.</span></span>
* <span data-ttu-id="b10aa-168">Olá **registo de cliente .NET**, que é criado quando ativar o registo do lado do cliente de dentro da aplicação .NET.</span><span class="sxs-lookup"><span data-stu-id="b10aa-168">hello **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="b10aa-169">registo de cliente Olá inclui informações detalhadas sobre como Olá cliente prepara o pedido de Olá e recebe e processa Olá resposta.</span><span class="sxs-lookup"><span data-stu-id="b10aa-169">hello client log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>
* <span data-ttu-id="b10aa-170">Olá **registo de rastreio de rede HTTP**, que recolhe dados de HTTP/HTTPS pedido e resposta de dados, incluindo para operações de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-170">hello **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="b10aa-171">Neste tutorial, iremos irá gerar o rastreio de rede Olá através do analisador de mensagens.</span><span class="sxs-lookup"><span data-stu-id="b10aa-171">In this tutorial, we'll generate hello network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="b10aa-172">Configurar registo do lado do servidor e métricas</span><span class="sxs-lookup"><span data-stu-id="b10aa-172">Configure server-side logging and metrics</span></span>
<span data-ttu-id="b10aa-173">Em primeiro lugar, precisamos tooconfigure o registo de armazenamento do Azure e métricas de, pelo que temos dados a partir de tooanalyze de aplicação de cliente Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-173">First, we'll need tooconfigure Azure Storage logging and metrics, so that we have data from hello client application tooanalyze.</span></span> <span data-ttu-id="b10aa-174">Pode configurar o registo e as métricas numa variedade de formas - através de Olá [portal do Azure](https://portal.azure.com), utilizando o PowerShell, ou através de programação.</span><span class="sxs-lookup"><span data-stu-id="b10aa-174">You can configure logging and metrics in a variety of ways - via hello [Azure portal](https://portal.azure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="b10aa-175">Consulte [ativar as métricas do Storage e visualizar dados de métricas](http://msdn.microsoft.com/library/azure/dn782843.aspx) e [aceder aos dados de registo e ativar o registo de armazenamento](http://msdn.microsoft.com/library/azure/dn782840.aspx) no MSDN para obter detalhes sobre como configurar o registo e as métricas.</span><span class="sxs-lookup"><span data-stu-id="b10aa-175">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) on MSDN for details about configuring logging and metrics.</span></span>

<span data-ttu-id="b10aa-176">**Através de Olá portal do Azure**</span><span class="sxs-lookup"><span data-stu-id="b10aa-176">**Via hello Azure portal**</span></span>

<span data-ttu-id="b10aa-177">registo de tooconfigure e métricas para a sua conta de armazenamento utilizando Olá [portal do Azure](https://portal.azure.com), siga as instruções de Olá em [monitorizar uma conta de armazenamento no portal do Azure de Olá](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="b10aa-177">tooconfigure logging and metrics for your storage account using hello [Azure portal](https://portal.azure.com), follow hello instructions at [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="b10aa-178">Não é possível tooset as métricas minuto utilizando Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-178">It's not possible tooset minute metrics using hello Azure portal.</span></span> <span data-ttu-id="b10aa-179">No entanto, recomendamos que defina-las para efeitos deste tutorial Olá e para investigar problemas de desempenho com a sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="b10aa-179">However, we recommend that you do set them for hello purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="b10aa-180">Pode definir métricas minutos com o PowerShell, conforme mostrado abaixo ou através de programação utilizando a biblioteca de clientes do storage Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-180">You can set minute metrics using PowerShell as shown below, or programmatically using hello storage client library.</span></span>
> 
> <span data-ttu-id="b10aa-181">Tenha em atenção que Olá portal do Azure não é possível a apresentação das métricas minutos, apenas as métricas por hora.</span><span class="sxs-lookup"><span data-stu-id="b10aa-181">Note that hello Azure portal cannot display minute metrics, only hourly metrics.</span></span>
> 
> 

<span data-ttu-id="b10aa-182">**Através do PowerShell**</span><span class="sxs-lookup"><span data-stu-id="b10aa-182">**Via PowerShell**</span></span>

<span data-ttu-id="b10aa-183">tooget iniciado com o PowerShell para o Azure, consulte [como tooinstall e configurar o Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="b10aa-183">tooget started with PowerShell for Azure, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="b10aa-184">Olá utilize [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd toohello janela do PowerShell da conta de utilizador do Azure:</span><span class="sxs-lookup"><span data-stu-id="b10aa-184">Use hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd your Azure user account toohello PowerShell window:</span></span>
   
    ```powershell
    Add-AzureAccount
    ```

2. <span data-ttu-id="b10aa-185">No Olá **sessão tooMicrosoft Azure** janela, endereço de correio eletrónico do tipo Olá e palavra-passe associada à sua conta.</span><span class="sxs-lookup"><span data-stu-id="b10aa-185">In hello **Sign in tooMicrosoft Azure** window, type hello email address and password associated with your account.</span></span> <span data-ttu-id="b10aa-186">Azure autentica guarda as informações de credencial de Olá e, em seguida, fecha a janela de Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-186">Azure authenticates and saves hello credential information, and then closes hello window.</span></span>
3. <span data-ttu-id="b10aa-187">Definir Olá conta toohello armazenamento conta do storage predefinida que estiver a utilizar para o tutorial Olá executando estes comandos numa janela do PowerShell Olá:</span><span class="sxs-lookup"><span data-stu-id="b10aa-187">Set hello default storage account toohello storage account you are using for hello tutorial by executing these commands in hello PowerShell window:</span></span>
   
    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="b10aa-188">Ative o registo para Olá serviço Blob de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="b10aa-188">Enable storage logging for hello Blob service:</span></span>
   
    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="b10aa-189">Ativar as métricas do storage para Olá serviço Blob, tornando tooset se **- MetricsType** demasiado`Minute`:</span><span class="sxs-lookup"><span data-stu-id="b10aa-189">Enable storage metrics for hello Blob service, making sure tooset **-MetricsType** too`Minute`:</span></span>
   
    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="b10aa-190">Configurar o registo do .NET do lado do cliente</span><span class="sxs-lookup"><span data-stu-id="b10aa-190">Configure .NET client-side logging</span></span>
<span data-ttu-id="b10aa-191">tooconfigure do lado do cliente registo para uma aplicação .NET, ative os diagnósticos de .NET no ficheiro de configuração da aplicação Olá (Web. config ou App. config).</span><span class="sxs-lookup"><span data-stu-id="b10aa-191">tooconfigure client-side logging for a .NET application, enable .NET diagnostics in hello application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="b10aa-192">Consulte [do lado do cliente registo com Olá biblioteca de clientes do Storage .NET](http://msdn.microsoft.com/library/azure/dn782839.aspx) e [do lado do cliente registo com Olá SDK de armazenamento do Microsoft Azure para Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) no MSDN para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="b10aa-192">See [Client-side Logging with hello .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) on MSDN for details.</span></span>

<span data-ttu-id="b10aa-193">registo do lado do cliente de Olá inclui informações detalhadas sobre como Olá cliente prepara o pedido de Olá e recebe e processa Olá resposta.</span><span class="sxs-lookup"><span data-stu-id="b10aa-193">hello client-side log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>

<span data-ttu-id="b10aa-194">Olá biblioteca de clientes de armazenamento armazena dados de registo do lado do cliente na localização de Olá especificada no ficheiro de configuração da aplicação Olá (Web. config ou App. config).</span><span class="sxs-lookup"><span data-stu-id="b10aa-194">hello Storage Client Library stores client-side log data in hello location specified in hello application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="b10aa-195">Recolher um rastreio de rede</span><span class="sxs-lookup"><span data-stu-id="b10aa-195">Collect a network trace</span></span>
<span data-ttu-id="b10aa-196">Pode utilizar o Message Analyzer toocollect um rastreio de rede HTTP/HTTPS enquanto a aplicação de cliente está em execução.</span><span class="sxs-lookup"><span data-stu-id="b10aa-196">You can use Message Analyzer toocollect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="b10aa-197">Utiliza analisador de mensagens [Fiddler](http://www.telerik.com/fiddler) no Olá back-end.</span><span class="sxs-lookup"><span data-stu-id="b10aa-197">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on hello back end.</span></span> <span data-ttu-id="b10aa-198">Antes de recolher o rastreio de rede Olá, recomendamos que configure o Fiddler toorecord não encriptada HTTPS tráfego:</span><span class="sxs-lookup"><span data-stu-id="b10aa-198">Before you collect hello network trace, we recommend that you configure Fiddler toorecord unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="b10aa-199">Instalar [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="b10aa-199">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="b10aa-200">Inicie o Fiddler.</span><span class="sxs-lookup"><span data-stu-id="b10aa-200">Launch Fiddler.</span></span>
3. <span data-ttu-id="b10aa-201">Selecione **ferramentas | Opções de fiddler**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-201">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="b10aa-202">Na caixa de diálogo Opções Olá, certifique-se de que **capturar liga-se de HTTPS** e **desencriptar o tráfego HTTPS** estão ambos selecionadas, conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-202">In hello Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Configurar opções de Fiddler](./media/storage-e2e-troubleshooting/fiddler-options-1.png)

<span data-ttu-id="b10aa-204">Para tutorial Olá, recolher e guardar um rastreio de rede pela primeira vez em Message Analyzer, em seguida, criar um rastreio de Olá do Analysis Services sessão tooanalyze e Olá registos.</span><span class="sxs-lookup"><span data-stu-id="b10aa-204">For hello tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session tooanalyze hello trace and hello logs.</span></span> <span data-ttu-id="b10aa-205">um rastreio de rede Message Analyzer toocollect:</span><span class="sxs-lookup"><span data-stu-id="b10aa-205">toocollect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="b10aa-206">No Message Analyzer, selecione **ficheiro | Rastreio rápido | Não encriptada HTTPS**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-206">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="b10aa-207">rastreio de Olá começará imediatamente.</span><span class="sxs-lookup"><span data-stu-id="b10aa-207">hello trace will begin immediately.</span></span> <span data-ttu-id="b10aa-208">Selecione **parar** toostop Olá rastreio para que podemos configurá-lo apenas o tráfego de armazenamento tootrace.</span><span class="sxs-lookup"><span data-stu-id="b10aa-208">Select **Stop** toostop hello trace so that we can configure it tootrace storage traffic only.</span></span>
3. <span data-ttu-id="b10aa-209">Selecione **editar** sessão de rastreio de Olá tooedit.</span><span class="sxs-lookup"><span data-stu-id="b10aa-209">Select **Edit** tooedit hello tracing session.</span></span>
4. <span data-ttu-id="b10aa-210">Selecione Olá **configurar** ligação toohello à direita dos Olá **Microsoft-Pef-WebProxy** fornecedor ETW.</span><span class="sxs-lookup"><span data-stu-id="b10aa-210">Select hello **Configure** link toohello right of hello **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="b10aa-211">No Olá **definições avançadas** caixa de diálogo, clique em Olá **fornecedor** separador.</span><span class="sxs-lookup"><span data-stu-id="b10aa-211">In hello **Advanced Settings** dialog, click hello **Provider** tab.</span></span>
6. <span data-ttu-id="b10aa-212">No Olá **Hostname filtro** campo, especifique os pontos finais de armazenamento, separados por espaços.</span><span class="sxs-lookup"><span data-stu-id="b10aa-212">In hello **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="b10aa-213">Por exemplo, pode especificar pontos finais da sua forma; alterar `storagesample` toohello nome da conta de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="b10aa-213">For example, you can specify your endpoints as follows; change `storagesample` toohello name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="b10aa-214">Sair da caixa de diálogo Olá e clique em **reiniciar** toobegin recolher rastreio Olá com filtro de nome de anfitrião Olá no local, para que apenas tráfego de rede de armazenamento do Azure está incluído no rastreio Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-214">Exit hello dialog, and click **Restart** toobegin collecting hello trace with hello hostname filter in place, so that only Azure Storage network traffic is included in hello trace.</span></span>

> [!NOTE]
> <span data-ttu-id="b10aa-215">Depois de concluída a recolha de rastreio de rede, recomendamos vivamente que reverter as definições de Olá que pode ter sido alterado no tráfego HTTPS de toodecrypt Fiddler.</span><span class="sxs-lookup"><span data-stu-id="b10aa-215">After you have finished collecting your network trace, we strongly recommend that you revert hello settings that you may have changed in Fiddler toodecrypt HTTPS traffic.</span></span> <span data-ttu-id="b10aa-216">Na caixa de diálogo de opções de Fiddler Olá, desmarque Olá **capturar liga-se de HTTPS** e **desencriptar o tráfego HTTPS** caixas de verificação.</span><span class="sxs-lookup"><span data-stu-id="b10aa-216">In hello Fiddler Options dialog, deselect hello **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
> 
> 

<span data-ttu-id="b10aa-217">Consulte [utilizar funcionalidades de rastreio de rede de Olá](http://technet.microsoft.com/library/jj674819.aspx) na Technet para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="b10aa-217">See [Using hello Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-hello-azure-portal"></a><span data-ttu-id="b10aa-218">Reveja os dados de métricas em Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="b10aa-218">Review metrics data in hello Azure portal</span></span>
<span data-ttu-id="b10aa-219">Assim que a aplicação tem estado em execução durante um período de tempo, pode rever gráficos de métricas de Olá que aparecem no Olá [portal do Azure](https://portal.azure.com) tooobserve como o seu serviço tem sido executar.</span><span class="sxs-lookup"><span data-stu-id="b10aa-219">Once your application has been running for a period of time, you can review hello metrics charts that appear in hello [Azure portal](https://portal.azure.com) tooobserve how your service has been performing.</span></span>

<span data-ttu-id="b10aa-220">Em primeiro lugar, navegue até tooyour a conta de armazenamento no Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-220">First, navigate tooyour storage account in hello Azure portal.</span></span> <span data-ttu-id="b10aa-221">Por predefinição, uma monitorização de gráfico com Olá **percentagem de êxito** métrica é apresentada no painel de conta Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-221">By default, a monitoring chart with hello **Success percentage** metric is displayed on hello account blade.</span></span> <span data-ttu-id="b10aa-222">Se anteriormente tiver modificado as métricas de Olá gráfico toodisplay diferentes, adicione Olá **percentagem de êxito** métrica.</span><span class="sxs-lookup"><span data-stu-id="b10aa-222">If you've previously modified hello chart toodisplay different metrics, add hello **Success percentage** metric.</span></span>

<span data-ttu-id="b10aa-223">Agora verá **percentagem de êxito** no gráfico de monitorização de Olá, juntamente com quaisquer outras métricas que possa ter adicionado.</span><span class="sxs-lookup"><span data-stu-id="b10aa-223">You'll now see **Success percentage** in hello monitoring chart, along with any other metrics you may have added.</span></span> <span data-ttu-id="b10aa-224">Cenário de Olá que vai investigar junto ao analisar registos de Olá no analisador de mensagens, a taxa de êxito de percentagem de Olá é um pouco inferior a 100%.</span><span class="sxs-lookup"><span data-stu-id="b10aa-224">In hello scenario we'll investigate next by analyzing hello logs in Message Analyzer, hello percent success rate is somewhat below 100%.</span></span>

<span data-ttu-id="b10aa-225">Para obter mais detalhes sobre a adição e personalizar os gráficos de métricas, consulte [personalizar gráficos de métricas](storage-monitor-storage-account.md#customize-metrics-charts).</span><span class="sxs-lookup"><span data-stu-id="b10aa-225">For more details on adding and customizing metrics charts, see [Customize metrics charts](storage-monitor-storage-account.md#customize-metrics-charts).</span></span>

> [!NOTE]
> <span data-ttu-id="b10aa-226">Pode demorar algum tempo para a sua tooappear de dados de métricas no portal do Azure de Olá depois de ativar as métricas do storage.</span><span class="sxs-lookup"><span data-stu-id="b10aa-226">It may take some time for your metrics data tooappear in hello Azure portal after you enable storage metrics.</span></span> <span data-ttu-id="b10aa-227">Isto acontece porque as métricas de hora a hora para Olá hora anterior não são apresentadas no Olá portal do Azure até Olá hora atual tiver decorrido.</span><span class="sxs-lookup"><span data-stu-id="b10aa-227">This is because hourly metrics for hello previous hour are not displayed in hello Azure portal until hello current hour has elapsed.</span></span> <span data-ttu-id="b10aa-228">Além disso, as métricas de minutos atualmente não são apresentadas no Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-228">Also, minute metrics are not currently displayed in hello Azure portal.</span></span> <span data-ttu-id="b10aa-229">Por isso, consoante o quando ativar métricas, pode demorar dos dados de métricas tootwo horas toosee.</span><span class="sxs-lookup"><span data-stu-id="b10aa-229">So depending on when you enable metrics, it may take up tootwo hours toosee metrics data.</span></span>
> 
> 

## <a name="use-azcopy-toocopy-server-logs-tooa-local-directory"></a><span data-ttu-id="b10aa-230">Utilizar o AzCopy toocopy servidor registos tooa diretório local</span><span class="sxs-lookup"><span data-stu-id="b10aa-230">Use AzCopy toocopy server logs tooa local directory</span></span>
<span data-ttu-id="b10aa-231">Armazenamento do Azure escreve tooblobs de dados de registo do servidor, enquanto as métricas são escritas tootables.</span><span class="sxs-lookup"><span data-stu-id="b10aa-231">Azure Storage writes server log data tooblobs, while metrics are written tootables.</span></span> <span data-ttu-id="b10aa-232">Os blobs de registo estão disponíveis no Olá conhecido `$logs` contentor para a sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b10aa-232">Log blobs are available in hello well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="b10aa-233">Registo blobs são denominados hierárquica por ano, mês, dia e hora, para que possa localizar facilmente intervalo Olá de tempo que pretende tooinvestigate.</span><span class="sxs-lookup"><span data-stu-id="b10aa-233">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate hello range of time you wish tooinvestigate.</span></span> <span data-ttu-id="b10aa-234">Por exemplo, no Olá `storagesample` conta, contentor Olá para blobs de registo de Olá para 02/01/2015, de 8-09: 00, é `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="b10aa-234">For example, in hello `storagesample` account, hello container for hello log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="b10aa-235">os blobs neste contentor individuais Olá são denominados sequencialmente, começando com `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="b10aa-235">hello individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="b10aa-236">Pode utilizar toodownload de ferramenta da linha de comandos do AzCopy Olá estes localização de tooa de ficheiros de registo do lado do servidor da sua preferência no seu computador local.</span><span class="sxs-lookup"><span data-stu-id="b10aa-236">You can use hello AzCopy command-line tool toodownload these server-side log files tooa location of your choice on your local machine.</span></span> <span data-ttu-id="b10aa-237">Por exemplo, pode utilizar Olá os seguintes ficheiros de registo do comando toodownload Olá para operações de BLOBs que demoraram colocar em 2 de Janeiro de 2015 toohello pasta `C:\Temp\Logs\Server`; substituir `<storageaccountname>` com o nome de Olá da sua conta do storage e `<storageaccountkey>` com o chave de acesso da conta:</span><span class="sxs-lookup"><span data-stu-id="b10aa-237">For example, you can use hello following command toodownload hello log files for blob operations that took place on January 2, 2015 toohello folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with hello name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```
<span data-ttu-id="b10aa-238">AzCopy está disponível para transferência no Olá [Azure transfere](https://azure.microsoft.com/downloads/) página.</span><span class="sxs-lookup"><span data-stu-id="b10aa-238">AzCopy is available for download on hello [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="b10aa-239">Para obter mais informações sobre como utilizar o AzCopy, consulte [transferir dados com o utilitário de linha de comandos do AzCopy Olá](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="b10aa-239">For details about using AzCopy, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="b10aa-240">Para obter informações adicionais sobre a transferir os registos do lado do servidor, consulte [registo do armazenamento de transferir dados de registo](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="b10aa-240">For additional information about downloading server-side logs, see [Download Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-tooanalyze-log-data"></a><span data-ttu-id="b10aa-241">Utilizar dados de registo do Microsoft Message Analyzer tooanalyze</span><span class="sxs-lookup"><span data-stu-id="b10aa-241">Use Microsoft Message Analyzer tooanalyze log data</span></span>
<span data-ttu-id="b10aa-242">Microsoft Message Analyzer é uma ferramenta para capturar, visualizar e analisar o tráfego, eventos e outras mensagens de sistema ou aplicação em cenários de resolução de problemas e diagnóstico de mensagens de protocolo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-242">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="b10aa-243">Analisador de mensagens também permite-lhe tooload, agregação e analisar dados de registo e guardar ficheiros de rastreio.</span><span class="sxs-lookup"><span data-stu-id="b10aa-243">Message Analyzer also enables you tooload, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="b10aa-244">Para obter mais informações sobre o Message Analyzer, consulte [Microsoft mensagem analisador operativo guia](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="b10aa-244">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="b10aa-245">Analisador de mensagens inclui recursos para o armazenamento do Azure que o ajudam a tooanalyze servidor, cliente e registos de rede.</span><span class="sxs-lookup"><span data-stu-id="b10aa-245">Message Analyzer includes assets for Azure Storage that help you tooanalyze server, client, and network logs.</span></span> <span data-ttu-id="b10aa-246">Nesta secção, vamos abordar como toouse tooaddress essas ferramentas Olá problema de sucesso percentagem baixo no Olá os registos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="b10aa-246">In this section, we'll discuss how toouse those tools tooaddress hello issue of low percent success in hello storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-hello-azure-storage-assets"></a><span data-ttu-id="b10aa-247">Transfira e instale o Message Analyzer e Olá recursos de armazenamento do Azure</span><span class="sxs-lookup"><span data-stu-id="b10aa-247">Download and install Message Analyzer and hello Azure Storage Assets</span></span>
1. <span data-ttu-id="b10aa-248">Transferir [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) de Olá Microsoft Download Center, e execute o instalador de Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-248">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from hello Microsoft Download Center, and run hello installer.</span></span>
2. <span data-ttu-id="b10aa-249">Inicie o analisador de mensagens.</span><span class="sxs-lookup"><span data-stu-id="b10aa-249">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="b10aa-250">De Olá **ferramentas** menu, selecione **Gestor do Asset Intelligence**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-250">From hello **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="b10aa-251">No Olá **Gestor do Asset Intelligence** caixa de diálogo, selecione **transfere**, em seguida, filtre **Storage do Azure**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-251">In hello **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="b10aa-252">Irá ver recursos de armazenamento de Azure Olá, conforme mostrado na imagem de Olá abaixo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-252">You will see hello Azure Storage Assets, as shown in hello picture below.</span></span>
4. <span data-ttu-id="b10aa-253">Clique em **sincronização todos os itens apresentados** tooinstall Olá recursos de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-253">Click **Sync All Displayed Items** tooinstall hello Azure Storage Assets.</span></span> <span data-ttu-id="b10aa-254">recursos disponíveis Olá incluem:</span><span class="sxs-lookup"><span data-stu-id="b10aa-254">hello available assets include:</span></span>
   * <span data-ttu-id="b10aa-255">**Regras de cor de armazenamento do Azure:** as regras de cor de armazenamento do Azure permitem-lhe toodefine filtros especiais que utilizam a cor de texto, e toohighlight mensagens que contêm informações específicas num rastreio de estilos de tipo de letra.</span><span class="sxs-lookup"><span data-stu-id="b10aa-255">**Azure Storage Color Rules:** Azure Storage color rules enable you toodefine special filters that use color, text, and font styles toohighlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="b10aa-256">**Gráficos de armazenamento do Azure:** gráficos de armazenamento do Azure são gráficos predefinidos que graph dados de registo do servidor.</span><span class="sxs-lookup"><span data-stu-id="b10aa-256">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="b10aa-257">Tenha em atenção que toouse gráficos de armazenamento do Azure neste momento, pode apenas carga Olá registo do servidor para Olá grelha de análise.</span><span class="sxs-lookup"><span data-stu-id="b10aa-257">Note that toouse Azure Storage charts at this time, you may only load hello server log into hello Analysis Grid.</span></span>
   * <span data-ttu-id="b10aa-258">**Parsers de armazenamento do Azure:** hello do cliente do Storage do Azure parsers parse Olá Storage do Azure, o servidor e o HTTP inicia sessão na ordem toodisplay-los no Olá grelha de análise.</span><span class="sxs-lookup"><span data-stu-id="b10aa-258">**Azure Storage Parsers:** hello Azure Storage parsers parse hello Azure Storage client, server, and HTTP logs in order toodisplay them in hello Analysis Grid.</span></span>
   * <span data-ttu-id="b10aa-259">**Filtros de armazenamento do Azure:** filtros de armazenamento do Azure são critérios predefinidos que pode utilizar tooquery os dados no Olá grelha de análise.</span><span class="sxs-lookup"><span data-stu-id="b10aa-259">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use tooquery your data in hello Analysis Grid.</span></span>
   * <span data-ttu-id="b10aa-260">**Esquemas de vista de armazenamento do Azure:** esquemas de vista de armazenamento do Azure são esquemas de coluna predefinida e os agrupamentos no Olá grelha de análise.</span><span class="sxs-lookup"><span data-stu-id="b10aa-260">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in hello Analysis Grid.</span></span>
5. <span data-ttu-id="b10aa-261">Reinicie o Message Analyzer depois de instalar ativos Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-261">Restart Message Analyzer after you've installed hello assets.</span></span>

![Gestor do Asset Intelligence de analisador de mensagens](./media/storage-e2e-troubleshooting/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="b10aa-263">Instale todos os recursos de armazenamento do Azure Olá mostrados para fins de Olá deste tutorial.</span><span class="sxs-lookup"><span data-stu-id="b10aa-263">Install all of hello Azure Storage assets shown for hello purposes of this tutorial.</span></span>
> 
> 

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="b10aa-264">Importar os ficheiros de registo para o Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="b10aa-264">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="b10aa-265">Pode importar todos os seus ficheiros de registo guardado (do lado do servidor, do lado do cliente e rede) para uma única sessão no Microsoft Message Analyzer para análise.</span><span class="sxs-lookup"><span data-stu-id="b10aa-265">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="b10aa-266">No Olá **ficheiro** menu no Microsoft Message Analyzer, clique em **nova sessão**e, em seguida, clique em **sessão em branco**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-266">On hello **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="b10aa-267">No Olá **nova sessão** caixa de diálogo, introduza um nome para a sua sessão do Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="b10aa-267">In hello **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="b10aa-268">No Olá **detalhes da sessão** painel, clique em Olá **ficheiros** botão.</span><span class="sxs-lookup"><span data-stu-id="b10aa-268">In hello **Session Details** panel, click on hello **Files** button.</span></span>
2. <span data-ttu-id="b10aa-269">tooload Olá rede rastreio dados gerados por Message Analyzer, clique em **adicionar ficheiros**, procure a localização de toohello onde guardou o ficheiro .matp da sua sessão de rastreio web, ficheiro de .matp selecione Olá, e clique em **abrir**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-269">tooload hello network trace data generated by Message Analyzer, click on **Add Files**, browse toohello location where you saved your .matp file from your web tracing session, select hello .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="b10aa-270">dados de registo do lado do servidor do tooload Olá, clique em **adicionar ficheiros**, procure a localização de toohello onde transferiu os registos do lado do servidor, selecione os ficheiros de registo de Olá para o intervalo de tempo de Olá pretende tooanalyze e clique em **abrir**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-270">tooload hello server-side log data, click on **Add Files**, browse toohello location where you downloaded your server-side logs, select hello log files for hello time range you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="b10aa-271">Em seguida, no Olá **detalhes da sessão** painel, conjunto Olá **configuração de registo de texto** pendente para cada ficheiro de registo do lado do servidor demasiado**AzureStorageLog** tooensure pela Microsoft Analisador de mensagens pode analisar o ficheiro de registo Olá corretamente.</span><span class="sxs-lookup"><span data-stu-id="b10aa-271">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each server-side log file too**AzureStorageLog** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
4. <span data-ttu-id="b10aa-272">dados de registo do lado do cliente do tooload Olá, clique em **adicionar ficheiros**, procure a localização de toohello onde guardou os registos do lado do cliente, selecione os ficheiros de registo de Olá pretende tooanalyze e clique em **abra**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-272">tooload hello client-side log data, click on **Add Files**, browse toohello location where you saved your client-side logs, select hello log files you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="b10aa-273">Em seguida, no Olá **detalhes da sessão** painel, conjunto Olá **configuração de registo de texto** pendente para cada ficheiro de registo do lado do cliente demasiado**AzureStorageClientDotNetV4** tooensure que Microsoft Message Analyzer pode analisar o ficheiro de registo Olá corretamente.</span><span class="sxs-lookup"><span data-stu-id="b10aa-273">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each client-side log file too**AzureStorageClientDotNetV4** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
5. <span data-ttu-id="b10aa-274">Clique em **iniciar** no Olá **nova sessão** diálogo tooload e análise Olá dados de registo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-274">Click **Start** in hello **New Session** dialog tooload and parse hello log data.</span></span> <span data-ttu-id="b10aa-275">Apresenta dados de registo Olá no Olá grelha de análise do analisador de mensagens.</span><span class="sxs-lookup"><span data-stu-id="b10aa-275">hello log data displays in hello Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="b10aa-276">imagem de Olá abaixo mostra uma sessão de exemplo configurada com o servidor, cliente e os ficheiros de registo de rastreio de rede.</span><span class="sxs-lookup"><span data-stu-id="b10aa-276">hello picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Configurar sessão do analisador de mensagens](./media/storage-e2e-troubleshooting/configure-mma-session-1.png)

<span data-ttu-id="b10aa-278">Tenha em atenção que o Message Analyzer carrega os ficheiros de registo na memória.</span><span class="sxs-lookup"><span data-stu-id="b10aa-278">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="b10aa-279">Se tiver um grande conjunto de dados de registo, é melhor toofiltê-lo na ordem tooget Olá melhor desempenho do analisador de mensagens.</span><span class="sxs-lookup"><span data-stu-id="b10aa-279">If you have a large set of log data, you will want toofilter it in order tooget hello best performance from Message Analyzer.</span></span>

<span data-ttu-id="b10aa-280">Em primeiro lugar, determine o período de tempo de Olá que está interessado em rever e manter este período de tempo tão reduzida quanto possível.</span><span class="sxs-lookup"><span data-stu-id="b10aa-280">First, determine hello time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="b10aa-281">Em muitos casos, é aconselhável tooreview um período de minutos ou horas no máximo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-281">In many cases you will want tooreview a period of minutes or hours at most.</span></span> <span data-ttu-id="b10aa-282">Importar mais pequeno conjunto de Olá de registos que pode satisfazer as suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="b10aa-282">Import hello smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="b10aa-283">Se ainda tiver uma grande quantidade de dados de registo, em seguida, poderá ser útil toospecify um toofilter de filtro da sessão os dados de registo antes que o carregamento.</span><span class="sxs-lookup"><span data-stu-id="b10aa-283">If you still have a large amount of log data, then you may want toospecify a session filter toofilter your log data before you load it.</span></span> <span data-ttu-id="b10aa-284">No Olá **sessão filtro** caixa, selecione de Olá **biblioteca** botão toochoose um filtro predefinido; por exemplo, escolha **Global tempo filtro I** de Olá filtros de armazenamento do Azure toofilter num intervalo de tempo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-284">In hello **Session Filter** box, select hello **Library** button toochoose a predefined filter; for example, choose **Global Time Filter I** from hello Azure Storage filters toofilter on a time interval.</span></span> <span data-ttu-id="b10aa-285">Em seguida, pode editar Olá toospecify Olá filtro critérios inicial e final timestamp para o intervalo de Olá pretende toosee.</span><span class="sxs-lookup"><span data-stu-id="b10aa-285">You can then edit hello filter criteria toospecify hello starting and ending timestamp for hello interval you want toosee.</span></span> <span data-ttu-id="b10aa-286">Pode também filtrar por um código de estado específico; Por exemplo, pode escolher tooload apenas entradas de registo em que o código de estado de Olá é 404.</span><span class="sxs-lookup"><span data-stu-id="b10aa-286">You can also filter on a particular status code; for example, you can choose tooload only log entries where hello status code is 404.</span></span>

<span data-ttu-id="b10aa-287">Para obter mais informações sobre como importar dados de registo para o Microsoft Message Analyzer, consulte [obter dados de mensagens](http://technet.microsoft.com/library/dn772437.aspx) no TechNet.</span><span class="sxs-lookup"><span data-stu-id="b10aa-287">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-hello-client-request-id-toocorrelate-log-file-data"></a><span data-ttu-id="b10aa-288">Utilizar pedido de cliente de Olá ID dados de ficheiro de registo de toocorrelate</span><span class="sxs-lookup"><span data-stu-id="b10aa-288">Use hello client request ID toocorrelate log file data</span></span>
<span data-ttu-id="b10aa-289">Olá biblioteca de clientes do Storage do Azure gera automaticamente um ID de pedido de cliente exclusivos para cada pedido.</span><span class="sxs-lookup"><span data-stu-id="b10aa-289">hello Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="b10aa-290">Este valor é escrito toohello registo de cliente, o registo de servidor Olá e o rastreio de rede Olá, pelo que pode utilizar este toocorrelate dados em todos os registos de três dentro do analisador de mensagens.</span><span class="sxs-lookup"><span data-stu-id="b10aa-290">This value is written toohello client log, hello server log, and hello network trace, so you can use it toocorrelate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="b10aa-291">Consulte [ID do pedido de cliente](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) para obter informações adicionais sobre o cliente de Olá pedir ID.</span><span class="sxs-lookup"><span data-stu-id="b10aa-291">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about hello client request ID.</span></span>

<span data-ttu-id="b10aa-292">secções Olá abaixo descrevem como toouse pré-configurados e vistas de esquema personalizadas toocorrelate e o grupo de dados com base no pedido do cliente Olá ID.</span><span class="sxs-lookup"><span data-stu-id="b10aa-292">hello sections below describe how toouse pre-configured and custom layout views toocorrelate and group data based on hello client request ID.</span></span>

### <a name="select-a-view-layout-toodisplay-in-hello-analysis-grid"></a><span data-ttu-id="b10aa-293">Selecione um toodisplay de esquema de vista Olá grelha de análise</span><span class="sxs-lookup"><span data-stu-id="b10aa-293">Select a view layout toodisplay in hello Analysis Grid</span></span>
<span data-ttu-id="b10aa-294">Recursos de armazenamento Olá para Message Analyzer incluem esquemas de vista de armazenamento de Azure, que são vistas pré-configuradas que pode utilizar toodisplay os dados com agrupamentos útil e colunas para diferentes cenários.</span><span class="sxs-lookup"><span data-stu-id="b10aa-294">hello Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use toodisplay your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="b10aa-295">Também pode criar esquemas de vista personalizada e guardá-las para serem reutilizadas.</span><span class="sxs-lookup"><span data-stu-id="b10aa-295">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="b10aa-296">imagem de Olá abaixo mostra Olá **esquema de vista** menu, disponível selecionando **esquema de vista** do Friso de barra de ferramentas de Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-296">hello picture below shows hello **View Layout** menu, available by selecting **View Layout** from hello toolbar ribbon.</span></span> <span data-ttu-id="b10aa-297">esquemas de vista de Olá para armazenamento do Azure estão agrupadas em Olá **Storage do Azure** no menu de Olá nó.</span><span class="sxs-lookup"><span data-stu-id="b10aa-297">hello view layouts for Azure Storage are grouped under hello **Azure Storage** node in hello menu.</span></span> <span data-ttu-id="b10aa-298">Pode procurar `Azure Storage` no Olá toofilter de caixa de pesquisa no armazenamento do Azure ver apenas os esquemas.</span><span class="sxs-lookup"><span data-stu-id="b10aa-298">You can search for `Azure Storage` in hello search box toofilter on Azure Storage view layouts only.</span></span> <span data-ttu-id="b10aa-299">Também pode selecionar Olá estrela seguinte tooa Vista esquema toomake it um favorito e apresentá-lo, Olá parte superior do menu de Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-299">You can also select hello star next tooa view layout toomake it a favorite and display it at hello top of hello menu.</span></span>

![Visualizar o menu de esquema](./media/storage-e2e-troubleshooting/view-layout-menu.png)

<span data-ttu-id="b10aa-301">toobegin com selecione **agrupados por ClientRequestID e módulo**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-301">toobegin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="b10aa-302">Grupos de esquema esta vista de registo dados a partir de todos os registos de três primeiro por ID de pedido de cliente, em seguida, ao ficheiro de registo de origem (ou **módulo** no Message Analyzer).</span><span class="sxs-lookup"><span data-stu-id="b10aa-302">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="b10aa-303">Com esta vista, pode desagregar um ID de pedido de cliente específico e ver os dados todos os três ficheiros de registo para esse pedido de cliente ID.</span><span class="sxs-lookup"><span data-stu-id="b10aa-303">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="b10aa-304">imagem de Olá abaixo mostra estas vista aplicada toohello exemplo registo dados de esquema, com um subconjunto de colunas apresentadas.</span><span class="sxs-lookup"><span data-stu-id="b10aa-304">hello picture below shows this layout view applied toohello sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="b10aa-305">Pode ver que um ID de pedido de cliente específico, Olá Analysis grelha apresenta dados de registo de cliente Olá, registo de servidor e de rastreio de rede.</span><span class="sxs-lookup"><span data-stu-id="b10aa-305">You can see that for a particular client request ID, hello Analysis Grid displays data from hello client log, server log, and network trace.</span></span>

![Esquema de vista de armazenamento do Azure](./media/storage-e2e-troubleshooting/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="b10aa-307">Ficheiros de registo diferentes têm colunas diferentes, pelo que, quando os dados de vários ficheiros de registo são apresentados na grelha de análise de Olá, algumas colunas não podem conter quaisquer dados para uma linha fornecida.</span><span class="sxs-lookup"><span data-stu-id="b10aa-307">Different log files have different columns, so when data from multiple log files is displayed in hello Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="b10aa-308">Por exemplo, a imagem de Olá acima, as linhas de registo de cliente não mostram todos os dados para Olá **Timestamp**, **TimeElapsed**, **origem**, e **destino** colunas, porque estas colunas não existe no registo de cliente Olá, mas existe no rastreio de rede Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-308">For example, in hello picture above, the client log rows do not show any data for hello **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in hello client log, but do exist in hello network trace.</span></span> <span data-ttu-id="b10aa-309">Da mesma forma, Olá **Timestamp** coluna apresenta dados de carimbo do registo de servidor Olá, mas não existem dados são apresentados para Olá **TimeElapsed**, **origem**, e  **Destino** colunas, o que não façam parte do registo de hello do servidor.</span><span class="sxs-lookup"><span data-stu-id="b10aa-309">Similarly, hello **Timestamp** column displays timestamp data from hello server log, but no data is displayed for hello **TimeElapsed**, **Source**, and **Destination** columns, which are not part of hello server log.</span></span>
> 
> 

<span data-ttu-id="b10aa-310">Além disso toousing esquemas de vista de armazenamento do Azure Olá, também pode definir e guarde as seus próprios esquemas de vista.</span><span class="sxs-lookup"><span data-stu-id="b10aa-310">In addition toousing hello Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="b10aa-311">Pode selecionar outros campos para agrupar dados pretendidos e guardar o agrupamento de Olá como parte do seu esquema de personalizado.</span><span class="sxs-lookup"><span data-stu-id="b10aa-311">You can select other desired fields for grouping data and save hello grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-toohello-analysis-grid"></a><span data-ttu-id="b10aa-312">Aplicar regras de cor toohello grelha de análise</span><span class="sxs-lookup"><span data-stu-id="b10aa-312">Apply color rules toohello Analysis Grid</span></span>
<span data-ttu-id="b10aa-313">Recursos de armazenamento Olá também incluir regras de cor, o que oferecem que um visual significa tooidentify diferentes tipos de erros no Olá grelha de análise.</span><span class="sxs-lookup"><span data-stu-id="b10aa-313">hello Storage Assets also include color rules, which offer a visual means tooidentify different types of errors in hello Analysis Grid.</span></span> <span data-ttu-id="b10aa-314">Olá as regras de cor predefinida aplicam tooHTTP erros, pelo que aparecem apenas para o rastreio Olá do registo e da rede.</span><span class="sxs-lookup"><span data-stu-id="b10aa-314">hello predefined color rules apply tooHTTP errors, so they appear only for hello server log and network trace.</span></span>

<span data-ttu-id="b10aa-315">as regras de cor tooapply, selecione **as regras de cor** do Friso de barra de ferramentas de Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-315">tooapply color rules, select **Color Rules** from hello toolbar ribbon.</span></span> <span data-ttu-id="b10aa-316">Verá as regras de cor de armazenamento do Azure Olá no menu de Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-316">You'll see hello Azure Storage color rules in hello menu.</span></span> <span data-ttu-id="b10aa-317">Tutorial de Olá, selecione **erros de cliente (StatusCode compreendido entre 400 e 499)**, conforme mostrado na imagem de Olá abaixo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-317">For hello tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in hello picture below.</span></span>

![Esquema de vista de armazenamento do Azure](./media/storage-e2e-troubleshooting/color-rules-menu.png)

<span data-ttu-id="b10aa-319">Além disso toousing Olá Storage do Azure cor regras, também pode definir e guardar as suas próprias regras de cor.</span><span class="sxs-lookup"><span data-stu-id="b10aa-319">In addition toousing hello Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-toofind-400-range-errors"></a><span data-ttu-id="b10aa-320">Grupo e filtro de registo de erros de 400-intervalo de toofind de dados</span><span class="sxs-lookup"><span data-stu-id="b10aa-320">Group and filter log data toofind 400-range errors</span></span>
<span data-ttu-id="b10aa-321">Em seguida, vamos grupo e filtrar toofind de dados de registo Olá todos os erros no intervalo de Olá 400.</span><span class="sxs-lookup"><span data-stu-id="b10aa-321">Next, we'll group and filter hello log data toofind all errors in hello 400 range.</span></span>

1. <span data-ttu-id="b10aa-322">Localizar Olá **StatusCode** coluna na Olá grelha de análise, contexto Olá coluna cabeçalho e selecione **grupo**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-322">Locate hello **StatusCode** column in hello Analysis Grid, right-click hello column heading, and select **Group**.</span></span>
2. <span data-ttu-id="b10aa-323">Em seguida, grupo no Olá **ClientRequestId** coluna.</span><span class="sxs-lookup"><span data-stu-id="b10aa-323">Next, group on hello **ClientRequestId** column.</span></span> <span data-ttu-id="b10aa-324">Verá que dados Olá Olá que Analysis grelha agora está organizada por Estado de código e a pedido do cliente ID.</span><span class="sxs-lookup"><span data-stu-id="b10aa-324">You'll see that hello data in hello Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="b10aa-325">Apresentar a janela de ferramenta de filtro de vista de Olá se já não for apresentado.</span><span class="sxs-lookup"><span data-stu-id="b10aa-325">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="b10aa-326">No Friso da barra de ferramentas de Olá, selecione **ferramenta Windows**, em seguida, **vista filtro**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-326">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="b10aa-327">toofilter Olá dados toodisplay apenas 400-intervalo erros do registo, adicionar Olá seguir toohello de critérios de filtro **vista filtro** janela e clique em **aplicar**:</span><span class="sxs-lookup"><span data-stu-id="b10aa-327">toofilter hello log data toodisplay only 400-range errors, add hello following filter criteria toohello **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="b10aa-328">imagem de Olá abaixo mostra os resultados de Olá este agrupamento e o filtro.</span><span class="sxs-lookup"><span data-stu-id="b10aa-328">hello picture below shows hello results of this grouping and filter.</span></span> <span data-ttu-id="b10aa-329">Expansão Olá **ClientRequestID** campo abaixo Olá agrupamento para o código de estado 409, por exemplo, mostra uma operação que resultaram nesse código de estado.</span><span class="sxs-lookup"><span data-stu-id="b10aa-329">Expanding hello **ClientRequestID** field beneath hello grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Esquema de vista de armazenamento do Azure](./media/storage-e2e-troubleshooting/400-range-errors1.png)

<span data-ttu-id="b10aa-331">Depois de aplicar este filtro, verá que as linhas de registo de cliente Olá são excluídas, como Olá o registo de cliente não inclui um **StatusCode** coluna.</span><span class="sxs-lookup"><span data-stu-id="b10aa-331">After applying this filter, you'll see that rows from hello client log are excluded, as hello client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="b10aa-332">toobegin com, iremos irá rever servidor Olá e 404 erros de toolocate registos de rastreio de rede e, em seguida, iremos devolver toohello registo tooexamine Olá cliente operações de cliente que conduziram toothem.</span><span class="sxs-lookup"><span data-stu-id="b10aa-332">toobegin with, we'll review hello server and network trace logs toolocate 404 errors, and then we'll return toohello client log tooexamine hello client operations that led toothem.</span></span>

> [!NOTE]
> <span data-ttu-id="b10aa-333">Pode filtrar por Olá **StatusCode** coluna ainda apresentar dados e de todos os registos de três, incluindo Olá registo de cliente, se adicionar um filtro de toohello expressão que inclui entradas de registo em que o código de estado de Olá é nulo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-333">You can filter on hello **StatusCode** column and still display data from all three logs, including hello client log, if you add an expression toohello filter that includes log entries where hello status code is null.</span></span> <span data-ttu-id="b10aa-334">tooconstruct nesta expressão de filtro, utilize:</span><span class="sxs-lookup"><span data-stu-id="b10aa-334">tooconstruct this filter expression, use:</span></span>
> 
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
> 
> <span data-ttu-id="b10aa-335">Este filtro devolve todas as linhas a partir do cliente de Olá registo e apenas as linhas de registo do servidor de Olá e registo HTTP onde o código de estado de Olá é maior do que 400.</span><span class="sxs-lookup"><span data-stu-id="b10aa-335">This filter returns all rows from hello client log and only rows from hello server log and HTTP log where hello status code is greater than 400.</span></span> <span data-ttu-id="b10aa-336">Se aplicar este esquema de vista toohello agrupada por ID de pedido de cliente e o módulo, pode procurar ou deslocamento através de Olá iniciar sessão entradas toofind aqueles onde todos os registos de três são representados.</span><span class="sxs-lookup"><span data-stu-id="b10aa-336">If you apply it toohello view layout grouped by client request ID and module, you can search or scroll through hello log entries toofind ones where all three logs are represented.</span></span>   
> 
> 

### <a name="filter-log-data-toofind-404-errors"></a><span data-ttu-id="b10aa-337">Registar dados toofind 404 erros de filtro</span><span class="sxs-lookup"><span data-stu-id="b10aa-337">Filter log data toofind 404 errors</span></span>
<span data-ttu-id="b10aa-338">Recursos de armazenamento Olá incluem filtros predefinidos que pode utilizar erros de Olá toonarrow registo dados toofind ou tendências que procura.</span><span class="sxs-lookup"><span data-stu-id="b10aa-338">hello Storage Assets include predefined filters that you can use toonarrow log data toofind hello errors or trends you are looking for.</span></span> <span data-ttu-id="b10aa-339">Em seguida, iremos irá aplicar dois filtros predefinidos: que filtra o servidor de Olá e registos de rastreio de rede 404 erros e, que filtra os dados de Olá um intervalo de tempo especificado.</span><span class="sxs-lookup"><span data-stu-id="b10aa-339">Next, we'll apply two predefined filters: one that filters hello server and network trace logs for 404 errors, and one that filters hello data on a specified time range.</span></span>

1. <span data-ttu-id="b10aa-340">Apresentar a janela de ferramenta de filtro de vista de Olá se já não for apresentado.</span><span class="sxs-lookup"><span data-stu-id="b10aa-340">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="b10aa-341">No Friso da barra de ferramentas de Olá, selecione **ferramenta Windows**, em seguida, **vista filtro**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-341">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="b10aa-342">Na janela de vista filtro Olá, selecione **biblioteca**e uma procura `Azure Storage` Olá toofind filtros de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="b10aa-342">In hello View Filter window, select **Library**, and search on `Azure Storage` toofind hello Azure Storage filters.</span></span> <span data-ttu-id="b10aa-343">O filtro para selecionar Olá **404 (não for encontrado) de mensagens em todos os registos**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-343">Select hello filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="b10aa-344">Olá apresentar **biblioteca** menu novo e localize e selecione Olá **filtro de tempo Global**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-344">Display hello **Library** menu again, and locate and select hello **Global Time Filter**.</span></span>
4. <span data-ttu-id="b10aa-345">Edite os carimbos de Olá mostrados no intervalo de toohello de filtro de Olá que desejar tooview.</span><span class="sxs-lookup"><span data-stu-id="b10aa-345">Edit hello timestamps shown in hello filter toohello range you wish tooview.</span></span> <span data-ttu-id="b10aa-346">Isto irá ajudar toonarrow intervalo Olá tooanalyze de dados.</span><span class="sxs-lookup"><span data-stu-id="b10aa-346">This will help toonarrow hello range of data tooanalyze.</span></span>
5. <span data-ttu-id="b10aa-347">O filtro deve aparecer semelhante exemplo toohello abaixo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-347">Your filter should appear similar toohello example below.</span></span> <span data-ttu-id="b10aa-348">Clique em **aplicar** tooapply Olá filtro toohello grelha de análise.</span><span class="sxs-lookup"><span data-stu-id="b10aa-348">Click **Apply** tooapply hello filter toohello Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

    ![Esquema de vista de armazenamento do Azure](./media/storage-e2e-troubleshooting/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="b10aa-350">Analisar os dados de registo</span><span class="sxs-lookup"><span data-stu-id="b10aa-350">Analyze your log data</span></span>
<span data-ttu-id="b10aa-351">Agora que tem agrupados e filtrar os dados, pode examinar os detalhes de Olá dos pedidos individuais que geraram 404 erros.</span><span class="sxs-lookup"><span data-stu-id="b10aa-351">Now that you have grouped and filtered your data, you can examine hello details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="b10aa-352">Esquema de vista atual Olá, os dados de Olá são agrupados por ID de pedido de cliente, em seguida, pela origem de registo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-352">In hello current view layout, hello data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="b10aa-353">Uma vez que vamos está a filtrar nos pedidos em que o campo de StatusCode Olá contém 404, iremos ver apenas servidor Olá e os dados de rastreio de rede, não Olá cliente dados de registo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-353">Since we are filtering on requests where hello StatusCode field contains 404, we'll see only hello server and network trace data, not hello client log data.</span></span>

<span data-ttu-id="b10aa-354">imagem de Olá abaixo mostra um pedido específico em que uma operação de Blob obter geraram um 404 porque blob Olá não existe.</span><span class="sxs-lookup"><span data-stu-id="b10aa-354">hello picture below shows a specific request where a Get Blob operation yielded a 404 because hello blob did not exist.</span></span> <span data-ttu-id="b10aa-355">Tenha em atenção que algumas colunas foram removidas da visualização padrão Olá dados relevantes do ordem toodisplay Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-355">Note that some columns have been removed from hello standard view in order toodisplay hello relevant data.</span></span>

![Servidor filtrado e registos de rastreio de rede](./media/storage-e2e-troubleshooting/server-filtered-404-error.png)

<span data-ttu-id="b10aa-357">Em seguida, iremos irá correlacionar este ID de pedido de cliente com toosee de dados de registo de cliente Olá o cliente de Olá ações estava a demorar quando ocorreu um erro de Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-357">Next, we'll correlate this client request ID with hello client log data toosee what actions hello client was taking when hello error happened.</span></span> <span data-ttu-id="b10aa-358">Pode visualizar uma nova vista de grelha de análise para estas sessão tooview Olá cliente dados de registo, que abre num separador segundo:</span><span class="sxs-lookup"><span data-stu-id="b10aa-358">You can display a new Analysis Grid view for this session tooview hello client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="b10aa-359">Em primeiro lugar, copie o valor de Olá da Olá **ClientRequestId** área de transferência do campo toohello.</span><span class="sxs-lookup"><span data-stu-id="b10aa-359">First, copy hello value of hello **ClientRequestId** field toohello clipboard.</span></span> <span data-ttu-id="b10aa-360">Pode fazer isto, selecionando a linha, localizar Olá **ClientRequestId** campo, clicar no valor de dados de Olá e escolher **cópia 'ClientRequestId'**.</span><span class="sxs-lookup"><span data-stu-id="b10aa-360">You can do this by selecting either row, locating hello **ClientRequestId** field, right-clicking on hello data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="b10aa-361">No Friso da barra de ferramentas de Olá, selecione **novo Visualizador**, em seguida, selecione **Analysis grelha** tooopen um novo separador. Olá novo separador mostra todos os dados nos seus ficheiros de registo, sem agrupamento, filtragem ou as regras de cor.</span><span class="sxs-lookup"><span data-stu-id="b10aa-361">On hello toolbar ribbon, select **New Viewer**, then select **Analysis Grid** tooopen a new tab. hello new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="b10aa-362">No Friso da barra de ferramentas de Olá, selecione **esquema de vista**, em seguida, selecione **todas as colunas de cliente .NET** em Olá **Storage do Azure** secção.</span><span class="sxs-lookup"><span data-stu-id="b10aa-362">On hello toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under hello **Azure Storage** section.</span></span> <span data-ttu-id="b10aa-363">Este esquema de vista apresenta dados de registo de cliente Olá, bem como Olá registos de rastreio do servidor e da rede.</span><span class="sxs-lookup"><span data-stu-id="b10aa-363">This view layout shows data from hello client log as well as hello server and network trace logs.</span></span> <span data-ttu-id="b10aa-364">Por predefinição é ordenada na Olá **MessageNumber** coluna.</span><span class="sxs-lookup"><span data-stu-id="b10aa-364">By default it is sorted on hello **MessageNumber** column.</span></span>
4. <span data-ttu-id="b10aa-365">Em seguida, procure o registo de cliente Olá ID de pedido de cliente para Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-365">Next, search hello client log for hello client request ID.</span></span> <span data-ttu-id="b10aa-366">No Friso da barra de ferramentas de Olá, selecione **localizar mensagens**, em seguida, especifique um filtro personalizado no ID de pedido de cliente Olá no Olá **localizar** campo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-366">On hello toolbar ribbon, select **Find Messages**, then specify a custom filter on hello client request ID in hello **Find** field.</span></span> <span data-ttu-id="b10aa-367">Utilize esta sintaxe de filtro de Olá, especificando o seu próprio ID do pedido de cliente:</span><span class="sxs-lookup"><span data-stu-id="b10aa-367">Use this syntax for hello filter, specifying your own client request ID:</span></span>

    ```
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="b10aa-368">Analisador de mensagens localiza e seleciona Olá primeiro entrada de registo em que os critérios de pesquisa de Olá corresponde ao ID de pedido de cliente para Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-368">Message Analyzer locates and selects hello first log entry where hello search criteria matches hello client request ID.</span></span> <span data-ttu-id="b10aa-369">No registo de cliente Olá, existem várias entradas para cada ID de pedido de cliente, pelo que poderá ser útil toogroup-las em Olá **ClientRequestId** campo toomake-lo mais fácil toosee-los em conjunto.</span><span class="sxs-lookup"><span data-stu-id="b10aa-369">In hello client log, there are several entries for each client request ID, so you may want toogroup them on hello **ClientRequestId** field toomake it easier toosee them all together.</span></span> <span data-ttu-id="b10aa-370">imagem de Olá abaixo mostra todas as mensagens hello do cliente de Olá registo Olá especificado o ID de pedido do cliente.</span><span class="sxs-lookup"><span data-stu-id="b10aa-370">hello picture below shows all of hello messages in hello client log for hello specified client request ID.</span></span>

![Erros de 404 de apresentação do registo de cliente](./media/storage-e2e-troubleshooting/client-log-analysis-grid1.png)

<span data-ttu-id="b10aa-372">Utilizar dados Olá apresentados esquemas de vista de Olá desses dois separadores, pode analisar Olá pedido dados toodetermine que poderá ter causado erro Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-372">Using hello data shown in hello view layouts in these two tabs, you can analyze hello request data toodetermine what may have caused hello error.</span></span> <span data-ttu-id="b10aa-373">Também pode ver pedidos que precedido este um toosee se um evento anterior resultaram toohello de erro 404.</span><span class="sxs-lookup"><span data-stu-id="b10aa-373">You can also look at requests that preceded this one toosee if a previous event may have led toohello 404 error.</span></span> <span data-ttu-id="b10aa-374">Por exemplo, pode rever as entradas do registo de cliente de Olá precedente este toodetermine de ID do pedido de cliente se blob Olá poderá ter sido eliminado ou se o erro de Olá foi devido a aplicação de cliente toohello chamar uma API CreateIfNotExists num contentor ou BLOBs.</span><span class="sxs-lookup"><span data-stu-id="b10aa-374">For example, you can review hello client log entries preceding this client request ID toodetermine whether hello blob may have been deleted, or if hello error was due toohello client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="b10aa-375">No registo de cliente Olá, pode encontrar o endereço de blob Olá no Olá **Descrição** campo; no servidor de Olá e registos de rastreio de rede, estas informações aparecem na Olá **resumo** campo.</span><span class="sxs-lookup"><span data-stu-id="b10aa-375">In hello client log, you can find hello blob's address in hello **Description** field; in hello server and network trace logs, this information appears in hello **Summary** field.</span></span>

<span data-ttu-id="b10aa-376">Quando souber endereço Olá do blob Olá que geraram erros Olá 404, pode investigar mais.</span><span class="sxs-lookup"><span data-stu-id="b10aa-376">Once you know hello address of hello blob that yielded hello 404 error, you can investigate further.</span></span> <span data-ttu-id="b10aa-377">Se procurar entradas de registo de Olá para outras mensagens associadas com operações em Olá mesmo blob, pode verificar se o cliente de Olá eliminado anteriormente entidade Olá.</span><span class="sxs-lookup"><span data-stu-id="b10aa-377">If you search hello log entries for other messages associated with operations on hello same blob, you can check whether hello client previously deleted hello entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="b10aa-378">Analisar os outros tipos de erros de armazenamento</span><span class="sxs-lookup"><span data-stu-id="b10aa-378">Analyze other types of storage errors</span></span>
<span data-ttu-id="b10aa-379">Agora que já está familiarizado com a utilização Message Analyzer tooanalyze os dados de registo, pode analisar outros tipos de erros de utilizar a vista de esquemas, as regras de cor e pesquisar/filtragem.</span><span class="sxs-lookup"><span data-stu-id="b10aa-379">Now that you are familiar with using Message Analyzer tooanalyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="b10aa-380">Olá tabelas abaixo apresenta uma lista alguns problemas que poderá encontrar e Olá critérios de filtro, pode utilizar toolocate-los.</span><span class="sxs-lookup"><span data-stu-id="b10aa-380">hello tables below lists some issues you may encounter and hello filter criteria you can use toolocate them.</span></span> <span data-ttu-id="b10aa-381">Para obter mais informações sobre como construir filtros e Olá Message Analyzer filtragem de idioma, consulte o artigo [dados de mensagens de filtragem](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="b10aa-381">For more information on constructing filters and hello Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="b10aa-382">tooInvestigate...</span><span class="sxs-lookup"><span data-stu-id="b10aa-382">tooInvestigate…</span></span> | <span data-ttu-id="b10aa-383">Utilize a expressão de filtro...</span><span class="sxs-lookup"><span data-stu-id="b10aa-383">Use Filter Expression…</span></span> | <span data-ttu-id="b10aa-384">Expressão aplica-se tooLog (cliente, de servidor, de rede, todos os)</span><span class="sxs-lookup"><span data-stu-id="b10aa-384">Expression Applies tooLog (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b10aa-385">Atrasos inesperados na entrega de mensagens numa fila</span><span class="sxs-lookup"><span data-stu-id="b10aa-385">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="b10aa-386">AzureStorageClientDotNetV4.Description contém "Repetir falha na operação."</span><span class="sxs-lookup"><span data-stu-id="b10aa-386">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="b10aa-387">Cliente</span><span class="sxs-lookup"><span data-stu-id="b10aa-387">Client</span></span> |
| <span data-ttu-id="b10aa-388">Aumento de HTTP no PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="b10aa-388">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="b10aa-389">PROTOCOLO HTTP. Response.StatusCode = = 500 &#124; &#124; PROTOCOLO HTTP. Response.StatusCode = = 503</span><span class="sxs-lookup"><span data-stu-id="b10aa-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="b10aa-390">Rede</span><span class="sxs-lookup"><span data-stu-id="b10aa-390">Network</span></span> |
| <span data-ttu-id="b10aa-391">Aumentam PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="b10aa-391">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="b10aa-392">PROTOCOLO HTTP. Response.StatusCode = = 500</span><span class="sxs-lookup"><span data-stu-id="b10aa-392">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="b10aa-393">Rede</span><span class="sxs-lookup"><span data-stu-id="b10aa-393">Network</span></span> |
| <span data-ttu-id="b10aa-394">Aumentam PercentTimeoutError (todos)</span><span class="sxs-lookup"><span data-stu-id="b10aa-394">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="b10aa-395">* StatusCode = = 500</span><span class="sxs-lookup"><span data-stu-id="b10aa-395">*StatusCode   == 500</span></span> |<span data-ttu-id="b10aa-396">Todos</span><span class="sxs-lookup"><span data-stu-id="b10aa-396">All</span></span> |
| <span data-ttu-id="b10aa-397">Aumentam PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="b10aa-397">Increase in PercentNetworkError</span></span> |<span data-ttu-id="b10aa-398">AzureStorageClientDotNetV4.EventLogEntry.Level < 2</span><span class="sxs-lookup"><span data-stu-id="b10aa-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="b10aa-399">Cliente</span><span class="sxs-lookup"><span data-stu-id="b10aa-399">Client</span></span> |
| <span data-ttu-id="b10aa-400">Mensagens HTTP 403 (proibido)</span><span class="sxs-lookup"><span data-stu-id="b10aa-400">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="b10aa-401">PROTOCOLO HTTP. Response.StatusCode = = 403</span><span class="sxs-lookup"><span data-stu-id="b10aa-401">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="b10aa-402">Rede</span><span class="sxs-lookup"><span data-stu-id="b10aa-402">Network</span></span> |
| <span data-ttu-id="b10aa-403">HTTP 404 (não for encontrado) mensagens</span><span class="sxs-lookup"><span data-stu-id="b10aa-403">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="b10aa-404">PROTOCOLO HTTP. Response.StatusCode = = 404</span><span class="sxs-lookup"><span data-stu-id="b10aa-404">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="b10aa-405">Rede</span><span class="sxs-lookup"><span data-stu-id="b10aa-405">Network</span></span> |
| <span data-ttu-id="b10aa-406">404 (todos)</span><span class="sxs-lookup"><span data-stu-id="b10aa-406">404 (all)</span></span> |<span data-ttu-id="b10aa-407">* StatusCode = = 404</span><span class="sxs-lookup"><span data-stu-id="b10aa-407">*StatusCode   == 404</span></span> |<span data-ttu-id="b10aa-408">Todos</span><span class="sxs-lookup"><span data-stu-id="b10aa-408">All</span></span> |
| <span data-ttu-id="b10aa-409">Partilhado problema de autorização de assinatura de acesso (SAS)</span><span class="sxs-lookup"><span data-stu-id="b10aa-409">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="b10aa-410">AzureStorageLog.RequestStatus = = "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="b10aa-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="b10aa-411">Rede</span><span class="sxs-lookup"><span data-stu-id="b10aa-411">Network</span></span> |
| <span data-ttu-id="b10aa-412">HTTP 409 (conflito) mensagens</span><span class="sxs-lookup"><span data-stu-id="b10aa-412">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="b10aa-413">PROTOCOLO HTTP. Response.StatusCode = = 409</span><span class="sxs-lookup"><span data-stu-id="b10aa-413">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="b10aa-414">Rede</span><span class="sxs-lookup"><span data-stu-id="b10aa-414">Network</span></span> |
| <span data-ttu-id="b10aa-415">409 (todos)</span><span class="sxs-lookup"><span data-stu-id="b10aa-415">409 (all)</span></span> |<span data-ttu-id="b10aa-416">* StatusCode = = 409</span><span class="sxs-lookup"><span data-stu-id="b10aa-416">*StatusCode   == 409</span></span> |<span data-ttu-id="b10aa-417">Todos</span><span class="sxs-lookup"><span data-stu-id="b10aa-417">All</span></span> |
| <span data-ttu-id="b10aa-418">Entradas de registo PercentSuccess baixa ou análise tem operações com o estado de transação de ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="b10aa-418">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="b10aa-419">AzureStorageLog.RequestStatus = = "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="b10aa-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="b10aa-420">Servidor</span><span class="sxs-lookup"><span data-stu-id="b10aa-420">Server</span></span> |
| <span data-ttu-id="b10aa-421">Aviso de Nagle</span><span class="sxs-lookup"><span data-stu-id="b10aa-421">Nagle   Warning</span></span> |<span data-ttu-id="b10aa-422">((AzureStorageLog.EndToEndLatencyMS-AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS * 1.5)) e (AzureStorageLog.RequestPacketSize < 1460) e (AzureStorageLog.EndToEndLatencyMS - AzureStorageLog.ServerLatencyMS > = 200)</span><span class="sxs-lookup"><span data-stu-id="b10aa-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="b10aa-423">Servidor</span><span class="sxs-lookup"><span data-stu-id="b10aa-423">Server</span></span> |
| <span data-ttu-id="b10aa-424">Intervalo de tempo nos registos do servidor e da rede</span><span class="sxs-lookup"><span data-stu-id="b10aa-424">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="b10aa-425">#Timestamp > = 2014-10-20T16:36:38 e #Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="b10aa-425">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="b10aa-426">Servidor de rede</span><span class="sxs-lookup"><span data-stu-id="b10aa-426">Server, Network</span></span> |
| <span data-ttu-id="b10aa-427">Intervalo de tempo em registos do servidor</span><span class="sxs-lookup"><span data-stu-id="b10aa-427">Range of   time in Server logs</span></span> |<span data-ttu-id="b10aa-428">AzureStorageLog.Timestamp > = 2014-10-20T16:36:38 e AzureStorageLog.Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="b10aa-428">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="b10aa-429">Servidor</span><span class="sxs-lookup"><span data-stu-id="b10aa-429">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="b10aa-430">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="b10aa-430">Next steps</span></span>
<span data-ttu-id="b10aa-431">Para obter mais informações sobre os cenários de ponto a ponto de resolução de problemas no armazenamento do Azure, consulte estes recursos:</span><span class="sxs-lookup"><span data-stu-id="b10aa-431">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="b10aa-432">Monitorizar, diagnosticar e resolver problemas de armazenamento do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="b10aa-432">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="b10aa-433">Análise de Armazenamento</span><span class="sxs-lookup"><span data-stu-id="b10aa-433">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="b10aa-434">Monitorizar uma conta de armazenamento no Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="b10aa-434">Monitor a storage account in hello Azure portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="b10aa-435">Transferência de dados com o utilitário de linha de comandos do AzCopy Olá</span><span class="sxs-lookup"><span data-stu-id="b10aa-435">Transfer data with hello AzCopy Command-Line Utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="b10aa-436">Guia de funcionamento de analisador de mensagens da Microsoft</span><span class="sxs-lookup"><span data-stu-id="b10aa-436">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
