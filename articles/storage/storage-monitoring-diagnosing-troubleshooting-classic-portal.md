---
title: aaaMonitor, diagnosticar e resolver problemas de armazenamento | Microsoft Docs
description: "Utilize as funcionalidades, tais como análise de armazenamento, o registo do lado do cliente, tooidentify outras ferramentas de terceiros, diagnosticar e resolver problemas relacionados com o Storage do Azure."
services: storage
documentationcenter: 
author: fhryo-msft
manager: jahogg
editor: tysonn
ms.assetid: da57e844-705d-449d-8ed5-5607d2a6170b
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/28/2017
ms.author: fhryo-msft
ms.openlocfilehash: 294a0bd27bd03913e01a719c0175cab827d58225
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-diagnose-and-troubleshoot-microsoft-azure-storage"></a><span data-ttu-id="1e6b4-103">Monitorizar, diagnosticar e resolver problemas do Armazenamento do Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="1e6b4-103">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>
[!INCLUDE [storage-selector-portal-monitoring-diagnosing-troubleshooting](../../includes/storage-selector-portal-monitoring-diagnosing-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="1e6b4-104">Descrição geral</span><span class="sxs-lookup"><span data-stu-id="1e6b4-104">Overview</span></span>
<span data-ttu-id="1e6b4-105">Diagnosticar e resolver problemas de uma aplicação distribuída alojada num ambiente de nuvem podem ser mais complexos do que em ambientes tradicionais.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-105">Diagnosing and troubleshooting issues in a distributed application hosted in a cloud environment can be more complex than in traditional environments.</span></span> <span data-ttu-id="1e6b4-106">As aplicações podem ser implementadas numa infraestrutura PaaS ou IaaS, no local, num dispositivo móvel, ou numa combinação destas.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-106">Applications can be deployed in a PaaS or IaaS infrastructure, on premises, on a mobile device, or in some combination of these.</span></span> <span data-ttu-id="1e6b4-107">Normalmente, o tráfego de rede da sua aplicação pode atravessar redes públicas e privadas e a aplicação pode utilizar várias tecnologias de armazenamento, como tabelas de armazenamento do Microsoft Azure, Blobs, filas ou ficheiros nos dados de tooother adição armazena, tais como relacional e bases de dados de documento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-107">Typically, your application's network traffic may traverse public and private networks and your application may use multiple storage technologies such as Microsoft Azure Storage Tables, Blobs, Queues, or Files in addition tooother data stores such as relational and document databases.</span></span>

<span data-ttu-id="1e6b4-108">toomanage essas aplicações com êxito, deve monitorizá-los de forma pró-ativa e compreender como toodiagnose e resolver problemas de todos os aspetos da-los e as tecnologias dependentes.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-108">toomanage such applications successfully you should monitor them proactively and understand how toodiagnose and troubleshoot all aspects of them and their dependent technologies.</span></span> <span data-ttu-id="1e6b4-109">Como um utilizador dos serviços de armazenamento do Azure, deve continuamente monitorizar os serviços de armazenamento de Olá a aplicação utiliza para efetuar quaisquer alterações inesperadas no comportamento (por exemplo, mais lenta do que os tempos de resposta habitual) e utilizar toocollect de registo mais detalhadas dados e tooanalyze um problema em profundidade.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-109">As a user of Azure Storage services, you should continuously monitor hello Storage services your application uses for any unexpected changes in behavior (such as slower than usual response times), and use logging toocollect more detailed data and tooanalyze a problem in depth.</span></span> <span data-ttu-id="1e6b4-110">informações de diagnóstico de Olá que obter de monitorização e registo ajudará a toodetermine Olá causa de raiz Olá emitir a aplicação encontrada.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-110">hello diagnostics information you obtain from both monitoring and logging will help you toodetermine hello root cause of hello issue your application encountered.</span></span> <span data-ttu-id="1e6b4-111">Em seguida, pode resolver o problema de Olá e determinar os passos adequados de Olá que pode tomar tooremediate-lo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-111">Then you can troubleshoot hello issue and determine hello appropriate steps you can take tooremediate it.</span></span> <span data-ttu-id="1e6b4-112">Armazenamento do Azure é um núcleo de serviço do Azure e constitui uma parte importante da maioria Olá das soluções que os clientes implementar toohello infraestrutura do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-112">Azure Storage is a core Azure service, and forms an important part of hello majority of solutions that customers deploy toohello Azure infrastructure.</span></span> <span data-ttu-id="1e6b4-113">Armazenamento do Azure inclui capacidades de monitorização de toosimplify, diagnosticar e resolver problemas de armazenamento nas suas aplicações baseado na nuvem.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-113">Azure Storage includes capabilities toosimplify monitoring, diagnosing, and troubleshooting storage issues in your cloud-based applications.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-114">As contas de armazenamento com um tipo de replicação de com redundância de zona de armazenamento (ZRS) não dispõe de métricas de Olá ou capacidade de registo neste momento ativada.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-114">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span> 
> 
> 

<span data-ttu-id="1e6b4-115">Para uma guia prática tooend-a-ponto resolução de problemas em aplicações de armazenamento do Azure, consulte [ponto-a-ponto resolução de problemas com as métricas do Storage do Azure e o registo, o AzCopy e o Message Analyzer](storage-e2e-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-115">For a hands-on guide tooend-to-end troubleshooting in Azure Storage applications, see [End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer](storage-e2e-troubleshooting.md).</span></span>

* <span data-ttu-id="1e6b4-116">[Introdução]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-116">[Introduction]</span></span>
  * <span data-ttu-id="1e6b4-117">[Como este guia está organizado]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-117">[How this guide is organized]</span></span>
* <span data-ttu-id="1e6b4-118">[monitorização do seu serviço de armazenamento]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-118">[Monitoring your storage service]</span></span>
  * <span data-ttu-id="1e6b4-119">[Monitorização de estado de funcionamento do serviço]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-119">[Monitoring service health]</span></span>
  * <span data-ttu-id="1e6b4-120">[Capacidade de monitorização]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-120">[Monitoring capacity]</span></span>
  * <span data-ttu-id="1e6b4-121">[Monitorização de disponibilidade]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-121">[Monitoring availability]</span></span>
  * <span data-ttu-id="1e6b4-122">[Monitorização do desempenho]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-122">[Monitoring performance]</span></span>
* <span data-ttu-id="1e6b4-123">[diagnosticar problemas de armazenamento]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-123">[Diagnosing storage issues]</span></span>
  * <span data-ttu-id="1e6b4-124">[Problemas de estado de funcionamento de serviço]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-124">[Service health issues]</span></span>
  * <span data-ttu-id="1e6b4-125">[Problemas de desempenho]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-125">[Performance issues]</span></span>
  * <span data-ttu-id="1e6b4-126">[Erros de diagnóstico]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-126">[Diagnosing errors]</span></span>
  * <span data-ttu-id="1e6b4-127">[Problemas de emulador de armazenamento]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-127">[Storage emulator issues]</span></span>
  * <span data-ttu-id="1e6b4-128">[Ferramentas de registo de armazenamento]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-128">[Storage logging tools]</span></span>
  * <span data-ttu-id="1e6b4-129">[Utilizar ferramentas de registo de rede]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-129">[Using network logging tools]</span></span>
* <span data-ttu-id="1e6b4-130">[rastreio ponto-a-ponto]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-130">[End-to-end tracing]</span></span>
  * <span data-ttu-id="1e6b4-131">[Correlacionar dados de registo]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-131">[Correlating log data]</span></span>
  * <span data-ttu-id="1e6b4-132">[ID do pedido de cliente]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-132">[Client request ID]</span></span>
  * <span data-ttu-id="1e6b4-133">[ID do pedido de servidor]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-133">[Server request ID]</span></span>
  * <span data-ttu-id="1e6b4-134">[Carimbos]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-134">[Timestamps]</span></span>
* <span data-ttu-id="1e6b4-135">[orientações de resolução de problemas]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-135">[Troubleshooting guidance]</span></span>
  * <span data-ttu-id="1e6b4-136">[métricas mostram AverageE2ELatency alta e baixa AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-136">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
  * <span data-ttu-id="1e6b4-137">[Métricas mostram AverageE2ELatency baixa e baixa AverageServerLatency mas cliente Olá está com latência elevada]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-137">[Metrics show low AverageE2ELatency and low AverageServerLatency but hello client is experiencing high latency]</span></span>
  * <span data-ttu-id="1e6b4-138">[As métricas apresentam uma AverageServerLatency alta]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-138">[Metrics show high AverageServerLatency]</span></span>
  * <span data-ttu-id="1e6b4-139">[Ocorrem atrasos inesperados na entrega de mensagens numa fila]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-139">[You are experiencing unexpected delays in message delivery on a queue]</span></span>
  * <span data-ttu-id="1e6b4-140">[métricas mostram um aumento no PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-140">[Metrics show an increase in PercentThrottlingError]</span></span>
  * <span data-ttu-id="1e6b4-141">[métricas mostram um aumento no PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-141">[Metrics show an increase in PercentTimeoutError]</span></span>
  * <span data-ttu-id="1e6b4-142">[As métricas apresentam um aumento do PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-142">[Metrics show an increase in PercentNetworkError]</span></span>
  * <span data-ttu-id="1e6b4-143">[cliente de Olá está a receber mensagens HTTP 403 (proibido)]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-143">[hello client is receiving HTTP 403 (Forbidden) messages]</span></span>
  * <span data-ttu-id="1e6b4-144">[cliente de Olá está a receber mensagens HTTP 404 (não for encontrado)]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-144">[hello client is receiving HTTP 404 (Not found) messages]</span></span>
  * <span data-ttu-id="1e6b4-145">[cliente de Olá está a receber mensagens de HTTP 409 (conflito)]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-145">[hello client is receiving HTTP 409 (Conflict) messages]</span></span>
  * <span data-ttu-id="1e6b4-146">[métricas mostram PercentSuccess baixa ou entradas de registo de análise de ter operações com Estado de transação de ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-146">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>
  * <span data-ttu-id="1e6b4-147">[Métricas de capacidade mostram um aumento inesperado na utilização da capacidade de armazenamento]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-147">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>
  * <span data-ttu-id="1e6b4-148">[Estão a experienciar inesperados reinícios das máquinas virtuais que tenham um grande número de VHDs ligados]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-148">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>
  * <span data-ttu-id="1e6b4-149">[O problema se for utilizar o emulador do storage Olá para programação ou testes]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-149">[Your issue arises from using hello storage emulator for development or test]</span></span>
  * <span data-ttu-id="1e6b4-150">[São encontrar problemas ao instalar Olá Azure SDK para .NET]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-150">[You are encountering problems installing hello Azure SDK for .NET]</span></span>
  * <span data-ttu-id="1e6b4-151">[Tem um problema com um serviço de armazenamento diferente]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-151">[You have a different issue with a storage service]</span></span>
* <span data-ttu-id="1e6b4-152">[Appendices]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-152">[Appendices]</span></span>
  * <span data-ttu-id="1e6b4-153">[apêndice 1: o tráfego utilizando o Fiddler toocapture HTTP e HTTPS]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-153">[Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic]</span></span>
  * <span data-ttu-id="1e6b4-154">[apêndice 2: o tráfego de rede utilizando o Wireshark toocapture]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-154">[Appendix 2: Using Wireshark toocapture network traffic]</span></span>
  * <span data-ttu-id="1e6b4-155">[apêndice 3: o tráfego de rede utilizando o Microsoft Message Analyzer toocapture]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-155">[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]</span></span>
  * <span data-ttu-id="1e6b4-156">[Apêndice 4: Utilizar tooview métricas e registo de dados do Excel]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-156">[Appendix 4: Using Excel tooview metrics and log data]</span></span>
  * <span data-ttu-id="1e6b4-157">[apêndice 5: monitorizar com o Application Insights para Visual Studio Team Services]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-157">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]</span></span>

## <span data-ttu-id="1e6b4-158"><a name="introduction"></a>Introdução</span><span class="sxs-lookup"><span data-stu-id="1e6b4-158"><a name="introduction"></a>Introduction</span></span>
<span data-ttu-id="1e6b4-159">Problemas relacionados com este mostra guia, como toouse funcionalidades como a análise de armazenamento do Azure, o registo do lado do cliente no Olá biblioteca de clientes do Storage do Azure e tooidentify outras ferramentas de terceiros, diagnosticar e resolver problemas de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-159">This guide shows you how toouse features such as Azure Storage Analytics, client-side logging in hello Azure Storage Client Library, and other third-party tools tooidentify, diagnose, and troubleshoot Azure Storage related issues.</span></span>

![][1]

<span data-ttu-id="1e6b4-160">*Figura 1 a monitorização, diagnóstico e a resolução de problemas*</span><span class="sxs-lookup"><span data-stu-id="1e6b4-160">*Figure 1 Monitoring, Diagnostics, and Troubleshooting*</span></span>

<span data-ttu-id="1e6b4-161">Este guia é toobe pretendido ler principalmente pelos programadores dos serviços online que utilizam serviços de armazenamento do Azure e os profissionais de TI responsáveis pela gestão desses serviços online.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-161">This guide is intended toobe read primarily by developers of online services that use Azure Storage Services and IT Pros responsible for managing such online services.</span></span> <span data-ttu-id="1e6b4-162">Olá objetivos deste guia são:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-162">hello goals of this guide are:</span></span>

* <span data-ttu-id="1e6b4-163">toohelp manter o estado de funcionamento de Olá e o desempenho das suas contas do Storage do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-163">toohelp you maintain hello health and performance of your Azure Storage accounts.</span></span>
* <span data-ttu-id="1e6b4-164">tooprovide-lhe processos necessários Olá e toohelp ferramentas decidir se um problema numa aplicação ou um problema relacionado com tooAzure armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-164">tooprovide you with hello necessary processes and tools toohelp you decide if an issue or problem in an application relates tooAzure Storage.</span></span>
* <span data-ttu-id="1e6b4-165">tooprovide-lhe orientações acionável para resolver problemas relacionados com tooAzure armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-165">tooprovide you with actionable guidance for resolving problems related tooAzure Storage.</span></span>

### <span data-ttu-id="1e6b4-166"><a name="how-this-guide-is-organized"></a>Como este guia está organizado</span><span class="sxs-lookup"><span data-stu-id="1e6b4-166"><a name="how-this-guide-is-organized"></a>How this guide is organized</span></span>
<span data-ttu-id="1e6b4-167">Olá a secção "[monitorização do seu serviço de armazenamento]" descreve como toomonitor Olá estado de funcionamento e desempenho dos seus serviços de armazenamento do Azure através de métricas de análise de armazenamento do Azure (as métricas do Storage).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-167">hello section "[Monitoring your storage service]" describes how toomonitor hello health and performance of your Azure Storage services using Azure Storage Analytics Metrics (Storage Metrics).</span></span>

<span data-ttu-id="1e6b4-168">Olá a secção "[diagnosticar problemas de armazenamento]" descreve como toodiagnose problemas com o Azure Storage Analytics registo (registo de armazenamento).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-168">hello section "[Diagnosing storage issues]" describes how toodiagnose issues using Azure Storage Analytics Logging (Storage Logging).</span></span> <span data-ttu-id="1e6b4-169">Também descreve como utilizar o registo do lado do cliente tooenable hello instalações de uma das bibliotecas de cliente Olá, tais como Olá biblioteca de clientes de armazenamento para .NET ou Olá Azure SDK para Java.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-169">It also describes how tooenable client-side logging using hello facilities in one of hello client libraries such as hello Storage Client Library for .NET or hello Azure SDK for Java.</span></span>

<span data-ttu-id="1e6b4-170">Olá a secção "[rastreio ponto-a-ponto]" descreve como pode correlacionar informações Olá contidas em vários ficheiros de registo e dados de métricas.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-170">hello section "[End-to-end tracing]" describes how you can correlate hello information contained in various log files and metrics data.</span></span>

<span data-ttu-id="1e6b4-171">Olá a secção "[orientações de resolução de problemas]" fornece orientações para resolução de problemas para algumas das Olá relacionadas com o armazenamento problemas comuns que poderá encontrar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-171">hello section "[Troubleshooting guidance]" provides troubleshooting guidance for some of hello common storage-related issues you might encounter.</span></span>

<span data-ttu-id="1e6b4-172">Olá "[Appendices]" incluem informações sobre como utilizar outras ferramentas, como o Wireshark e Netmon, para analisar dados de pacote, o Fiddler para analisar mensagens HTTP/HTTPS, de rede e o Microsoft Message Analyzer para correlacionar dados de registo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-172">hello "[Appendices]" include information about using other tools such as Wireshark and Netmon for analyzing network packet data, Fiddler for analyzing HTTP/HTTPS messages, and Microsoft Message Analyzer for correlating log data.</span></span>

## <span data-ttu-id="1e6b4-173"><a name="monitoring-your-storage-service"></a>O serviço de armazenamento de monitorização</span><span class="sxs-lookup"><span data-stu-id="1e6b4-173"><a name="monitoring-your-storage-service"></a>Monitoring your storage service</span></span>
<span data-ttu-id="1e6b4-174">Se estiver familiarizado com a monitorização de desempenho do Windows, pode considerar as métricas do Storage como sendo equivalente Storage do Azure de contadores de Monitor de desempenho do Windows.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-174">If you are familiar with Windows performance monitoring, you can think of Storage Metrics as being an Azure Storage equivalent of Windows Performance Monitor counters.</span></span> <span data-ttu-id="1e6b4-175">As métricas do Storage encontrará um conjunto abrangente de métricas (contadores na terminologia de Monitor de desempenho do Windows), tais como a disponibilidade do serviço, o número total de pedidos tooservice ou percentagem de pedidos com êxito tooservice (para uma lista completa das Olá as métricas disponíveis, consulte <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">armazenamento esquema da tabela de métricas de análise</a> no MSDN).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-175">In Storage Metrics you will find a comprehensive set of metrics (counters in Windows Performance Monitor terminology) such as service availability, total number of requests tooservice, or percentage of successful requests tooservice (for a full list of hello available metrics, see <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a> on MSDN).</span></span> <span data-ttu-id="1e6b4-176">Pode especificar se pretende que toocollect de serviço de armazenamento Olá e métricas de agregação hora a hora ou a cada minuto.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-176">You can specify whether you want hello storage service toocollect and aggregate metrics every hour or every minute.</span></span> <span data-ttu-id="1e6b4-177">Para obter mais informações sobre como tooenable métricas e monitorizar as contas do storage, consulte o artigo <a href="http://go.microsoft.com/fwlink/?LinkId=510865" target="_blank">ativar as métricas do storage</a> no MSDN.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-177">For more information about how tooenable metrics and monitor your storage accounts, see <a href="http://go.microsoft.com/fwlink/?LinkId=510865" target="_blank">Enabling storage metrics</a> on MSDN.</span></span>

<span data-ttu-id="1e6b4-178">Pode escolher quais métricas horárias pretende toodisplay Olá Portal clássico do Azure e configurar regras de notificar os administradores por e-mail sempre que uma métrica de hora a hora excede um limiar específico (para obter mais informações, consulte a página Olá <a href="http://msdn.microsoft.com/library/azure/dn306638.aspx" target="_blank">como: Receber notificações de alerta e gerir regras de alertas no Azure</a>).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-178">You can choose which hourly metrics you want toodisplay in hello Azure Classic Portal and configure rules that notify administrators by email whenever an hourly metric exceeds a particular threshold (for more information, see hello page <a href="http://msdn.microsoft.com/library/azure/dn306638.aspx" target="_blank">How to: Receive Alert Notifications and Manage Alert Rules in Azure</a>).</span></span> <span data-ttu-id="1e6b4-179">serviço de armazenamento Olá recolhe métricas de utilizar um melhor esforço, mas não pode registar cada operação de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-179">hello storage service collects metrics using a best effort, but may not record every storage operation.</span></span>

<span data-ttu-id="1e6b4-180">Figura 2 abaixo mostra a página de Monitor de Olá no Olá Portal clássico do Azure, onde pode ver as métricas como disponibilidade, total de pedidos e números de latência média de uma conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-180">Figure 2 below shows hello Monitor page in hello Azure Classic Portal where you can view metrics such as availability, total requests, and average latency numbers for a storage account.</span></span> <span data-ttu-id="1e6b4-181">Uma regra de notificação também foi configurada tooalert administrador se disponibilidade descerem abaixo de um determinado nível.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-181">A notification rule has also been set up tooalert an administrator if availability drops below a certain level.</span></span> <span data-ttu-id="1e6b4-182">De ver estes dados, uma área possíveis para investigação está a ser inferior a 100% dos percentagem de êxito de serviço para tabela Olá (para obter mais informações, consulte a secção de Olá "[métricas mostram PercentSuccess baixa ou entradas de registo de análise de ter operações com Estado de transação de ClientOtherErrors]").</span><span class="sxs-lookup"><span data-stu-id="1e6b4-182">From viewing this data, one possible area for investigation is hello table service success percentage being below 100% (for more information, see hello section "[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]").</span></span>

![][2]

<span data-ttu-id="1e6b4-183">*Figura 2 visualizar as métricas do storage no Olá Portal clássico do Azure*</span><span class="sxs-lookup"><span data-stu-id="1e6b4-183">*Figure 2 Viewing storage metrics in hello Azure Classic Portal*</span></span>

<span data-ttu-id="1e6b4-184">Deverá monitorizar continuamente a tooensure de aplicações do Azure são bom estado de funcionamento e desempenho, tal como esperado pelo:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-184">You should continuously monitor your Azure applications tooensure they are healthy and performing as expected by:</span></span>

* <span data-ttu-id="1e6b4-185">Estabelecer algumas métricas de linha de base para a aplicação que irão permitir-lhe dados atuais toocompare e identificar quaisquer alterações significativas no comportamento de Olá de armazenamento do Azure e a sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-185">Establishing some baseline metrics for application that will enable you toocompare current data and identify any significant changes in hello behavior of Azure storage and your application.</span></span> <span data-ttu-id="1e6b4-186">valores de Olá das métricas de linha de base será, em muitos casos, aplicações específicas e deve estabelecer quando estiver a testar a aplicação de desempenho.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-186">hello values of your baseline metrics will, in many cases, be application specific and you should establish them when you are performance testing your application.</span></span>
* <span data-ttu-id="1e6b4-187">Gravar métricas minutos e utilizá-los toomonitor ativamente para erros inesperados e anomalias como picos em contagens de erro ou taxas de pedidos.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-187">Recording minute metrics and using them toomonitor actively for unexpected errors and anomalies such as spikes in error counts or request rates.</span></span>
* <span data-ttu-id="1e6b4-188">Gravar as métricas de hora a hora e a utilizá-los valores médios toomonitor como erro de contagens de média e taxas de pedidos.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-188">Recording hourly metrics and using them toomonitor average values such as average error counts and request rates.</span></span>
* <span data-ttu-id="1e6b4-189">Investigar potenciais problemas de utilizar ferramentas de diagnóstico, tal como explicado posteriormente na secção de Olá "[diagnosticar problemas de armazenamento]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-189">Investigating potential issues using diagnostics tools as discussed later in hello section "[Diagnosing storage issues]."</span></span>

<span data-ttu-id="1e6b4-190">gráficos de Olá na figura 3 abaixo mostram como Olá média que ocorre a cada hora com base nas métricas pode ocultar picos na atividade.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-190">hello charts in Figure 3 below illustrate how hello averaging that occurs for hourly metrics can hide spikes in activity.</span></span> <span data-ttu-id="1e6b4-191">métricas de hora a hora de Olá aparecem tooshow uma taxa de pedidos, gradual ao minuto Olá métricas revelar flutuações de Olá que realmente estão a decorrer.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-191">hello hourly metrics appear tooshow a steady rate of requests, while hello minute metrics reveal hello fluctuations that are really taking place.</span></span>

![][3]

<span data-ttu-id="1e6b4-192">Olá resto esta secção descreve as métricas, deve monitorizar e por que motivo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-192">hello remainder of this section describes what metrics you should monitor and why.</span></span>

### <span data-ttu-id="1e6b4-193"><a name="monitoring-service-health"></a>Monitorização de estado de funcionamento do serviço</span><span class="sxs-lookup"><span data-stu-id="1e6b4-193"><a name="monitoring-service-health"></a>Monitoring service health</span></span>
<span data-ttu-id="1e6b4-194">Pode utilizar Olá [Portal clássico do Azure](https://manage.windowsazure.com) Olá de estado de funcionamento do tooview Olá do serviço de armazenamento Olá (e outros serviços do Azure) em todas as regiões do Azure em torno Olá mundo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-194">You can use hello [Azure Classic Portal](https://manage.windowsazure.com) tooview hello health of hello Storage service (and other Azure services) in all hello Azure regions around hello world.</span></span> <span data-ttu-id="1e6b4-195">Isto permite-lhe toosee imediatamente se um problema fora do controlo está a afetar Olá serviço de armazenamento na região de Olá que utilizar para a sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-195">This enables you toosee immediately if an issue outside of your control is affecting hello Storage service in hello region you use for your application.</span></span>

<span data-ttu-id="1e6b4-196">Olá Portal clássico do Azure também pode fornecer notificações de incidentes que afetam Olá vários serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-196">hello Azure Classic Portal can also provide with notifications of incidents that affect hello various Azure services.</span></span>
<span data-ttu-id="1e6b4-197">Nota: Estas informações estavam anteriormente disponíveis, juntamente com os dados históricos, no Olá no Dashboard do serviço Azure <a href="http://status.azure.com" target="_blank">http://status.azure.com</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-197">Note: This information was previously available, along with historical data, on hello Azure Service Dashboard at <a href="http://status.azure.com" target="_blank">http://status.azure.com</a>.</span></span>

<span data-ttu-id="1e6b4-198">Enquanto Olá Portal clássico do Azure recolhe informações de estado de funcionamento do dentro Olá centros de dados do Azure (monitorização do interior-out), pode também considerar adotar uma abordagem no exterior toogenerate das transações sintéticas que periodicamente aceder à sua alojado no Azure aplicação Web a partir de várias localizações.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-198">While hello Azure Classic Portal collects health information from inside hello Azure datacenters (inside-out monitoring), you could also consider adopting an outside-in approach toogenerate synthetic transactions that periodically access your Azure-hosted web application from multiple locations.</span></span> <span data-ttu-id="1e6b4-199">Olá serviços oferecidos por <a href="http://www.keynote.com/solutions/monitoring/web-monitoring" target="_blank">Keynote</a>, <a href="https://www.gomeznetworks.com/?g=1" target="_blank">Gomez</a>, e o Application Insights para Visual Studio Team Services são exemplos desta abordagem no exterior.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-199">hello services offered by <a href="http://www.keynote.com/solutions/monitoring/web-monitoring" target="_blank">Keynote</a>, <a href="https://www.gomeznetworks.com/?g=1" target="_blank">Gomez</a>, and Application Insights for Visual Studio Team Services are examples of this outside-in approach.</span></span> <span data-ttu-id="1e6b4-200">Para mais informações sobre o Application Insights para Visual Studio Team Services, consulte o apêndice Olá "[apêndice 5: monitorizar com o Application Insights para Visual Studio Team Services]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-200">For more information about Application Insights for Visual Studio Team Services, see hello appendix "[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]."</span></span>

### <span data-ttu-id="1e6b4-201"><a name="monitoring-capacity"></a>Capacidade de monitorização</span><span class="sxs-lookup"><span data-stu-id="1e6b4-201"><a name="monitoring-capacity"></a>Monitoring capacity</span></span>
<span data-ttu-id="1e6b4-202">As métricas do Storage apenas armazena as métricas de capacidade para o serviço de blob Olá porque blobs conta normalmente para proporção de maior Olá dos dados armazenados (momento Olá de escrita, não é possível toouse as métricas do Storage toomonitor Olá capacidade as tabelas e filas) .</span><span class="sxs-lookup"><span data-stu-id="1e6b4-202">Storage Metrics only stores capacity metrics for hello blob service because blobs typically account for hello largest proportion of stored data (at hello time of writing, it is not possible toouse Storage Metrics toomonitor hello capacity of your tables and queues).</span></span> <span data-ttu-id="1e6b4-203">Pode encontrar estes dados Olá **$MetricsCapacityBlob** tabela se tiver ativado a monitorização para Olá serviço Blob.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-203">You can find this data in hello **$MetricsCapacityBlob** table if you have enabled monitoring for hello Blob service.</span></span> <span data-ttu-id="1e6b4-204">As métricas do Storage regista estes dados uma vez por dia, e pode utilizar o valor Olá Olá **RowKey** toodetermine se linha Olá contém uma entidade que está relacionada com a dados toouser (valor **dados**) ou (de dados de análise valor **análise**).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-204">Storage Metrics records this data once per day, and you can use hello value of hello **RowKey** toodetermine whether hello row contains an entity that relates toouser data (value **data**) or analytics data (value **analytics**).</span></span> <span data-ttu-id="1e6b4-205">Cada entidade armazenada contém informações sobre a quantidade de Olá de armazenamento utilizado (**capacidade** medido em bytes) e o número atual de Olá de contentores (**ContainerCount**) e os blobs ( **ObjectCount**) em utilização na conta de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-205">Each stored entity contains information about hello amount of storage used (**Capacity** measured in bytes) and hello current number of containers (**ContainerCount**) and blobs (**ObjectCount**) in use in hello storage account.</span></span> <span data-ttu-id="1e6b4-206">Para obter mais informações sobre as métricas de capacidade de Olá armazenadas no Olá **$MetricsCapacityBlob** tabela, consulte <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">armazenamento esquema da tabela de métricas de análise</a> no MSDN.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-206">For more information about hello capacity metrics stored in hello **$MetricsCapacityBlob** table, see <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-207">Deverá monitorizar estes valores para um aviso inicial que está a atingir os limites de capacidade de Olá da sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-207">You should monitor these values for an early warning that you are approaching hello capacity limits of your storage account.</span></span> <span data-ttu-id="1e6b4-208">No Olá Portal clássico do Azure, no Olá **Monitor** página para a sua conta de armazenamento, pode adicionar regras de alerta toonotify se excede a utilização de agregação de armazenamento ou fica abaixo do limiares que especificar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-208">In hello Azure Classic Portal, on hello **Monitor** page for your storage account, you can add alert rules toonotify you if aggregate storage use exceeds or falls below thresholds that you specify.</span></span>
> 
> 

<span data-ttu-id="1e6b4-209">Para obter ajuda a estimar o tamanho de Olá de vários objetos de armazenamento, tais como blobs, consulte a mensagem de blogue de Olá <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx" target="_blank">compreender Azure armazenamento faturação – largura de banda, as transações e a capacidade</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-209">For help estimating hello size of various storage objects such as blobs, see hello blog post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx" target="_blank">Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity</a>.</span></span>

### <span data-ttu-id="1e6b4-210"><a name="monitoring-availability"></a>Monitorização de disponibilidade</span><span class="sxs-lookup"><span data-stu-id="1e6b4-210"><a name="monitoring-availability"></a>Monitoring availability</span></span>
<span data-ttu-id="1e6b4-211">Deverá monitorizar disponibilidade Olá dos serviços de armazenamento Olá na sua conta de armazenamento através da monitorização valor Olá Olá **disponibilidade** coluna na Olá tabelas de métricas de hora a hora ou minutos — **$ MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$ MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$ MetricsCapacityBlob**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-211">You should monitor hello availability of hello storage services in your storage account by monitoring hello value in hello **Availability** column in hello hourly or minute metrics tables — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span></span> <span data-ttu-id="1e6b4-212">Olá **disponibilidade** coluna contém um valor de percentagem que indica a disponibilidade de Olá Olá do serviço de ou operação de Olá API representado por linha Olá (Olá **RowKey** mostra se a linha de Olá contém métricas para o serviço de Olá como um todo, ou para uma operação de API específica).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-212">hello **Availability** column contains a percentage value that indicates hello availability of hello service or hello API operation represented by hello row (hello **RowKey** shows if hello row contains metrics for hello service as a whole or for a specific API operation).</span></span>

<span data-ttu-id="1e6b4-213">Qualquer valor inferior a 100% indica que alguns pedidos de armazenamento estão a falhar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-213">Any value less than 100% indicates that some storage requests are failing.</span></span> <span data-ttu-id="1e6b4-214">Pode ver por que motivo falhar, examinando Olá outras colunas nos dados de métricas de Olá que mostram como números de Olá dos pedidos com tipos de erro diferente **ServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-214">You can see why they are failing by examining hello other columns in hello metrics data that show hello numbers of requests with different error types such as **ServerTimeoutError**.</span></span> <span data-ttu-id="1e6b4-215">Deve esperar toosee **disponibilidade** enquadram-se temporariamente inferior a 100% por motivos como servidor transitório tempos limite enquanto serviço Olá move o pedido de partições de balanceamento de carga de toobetter; Olá repetir lógica na sua aplicação de cliente deve processar estas condições intermitentes.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-215">You should expect toosee **Availability** fall temporarily below 100% for reasons such as transient server timeouts while hello service moves partitions toobetter load-balance request; hello retry logic in your client application should handle such intermittent conditions.</span></span> <span data-ttu-id="1e6b4-216">página Olá <a href="http://msdn.microsoft.com/library/azure/hh343260.aspx" target="_blank"> </a> listas Olá tipos de transação que inclui as métricas do Storage no respetivo **disponibilidade** cálculo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-216">hello page <a href="http://msdn.microsoft.com/library/azure/hh343260.aspx" target="_blank"></a> lists hello transaction types that Storage Metrics includes in its **Availability** calculation.</span></span>

<span data-ttu-id="1e6b4-217">No Olá Portal clássico do Azure, no Olá **Monitor** página para a sua conta de armazenamento, pode adicionar regras de alerta toonotify se **disponibilidade** para um serviço está abaixo de um limiar que especificar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-217">In hello Azure Classic Portal, on hello **Monitor** page for your storage account, you can add alert rules toonotify you if **Availability** for a service falls below a threshold that you specify.</span></span>

<span data-ttu-id="1e6b4-218">Olá "[orientações de resolução de problemas]" secção deste guia descreve alguns armazenamento serviço problemas relacionados tooavailability comuns.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-218">hello "[Troubleshooting guidance]" section of this guide describes some common storage service issues related tooavailability.</span></span>

### <span data-ttu-id="1e6b4-219"><a name="monitoring-performance"></a>Monitorização do desempenho</span><span class="sxs-lookup"><span data-stu-id="1e6b4-219"><a name="monitoring-performance"></a>Monitoring performance</span></span>
<span data-ttu-id="1e6b4-220">desempenho de Olá toomonitor dos serviços de armazenamento Olá, pode utilizar Olá seguintes métricas de Olá hora a hora e minutos tabelas de métricas.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-220">toomonitor hello performance of hello storage services, you can use hello following metrics from hello hourly and minute metrics tables.</span></span>

* <span data-ttu-id="1e6b4-221">Olá valores Olá **AverageE2ELatency** e **AverageServerLatency** Mostrar o serviço de armazenamento de Olá de tempo médio de Olá ou tipo de operação de API está a demorar tooprocess pedidos.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-221">hello values in hello **AverageE2ELatency** and **AverageServerLatency** show hello average time hello storage service or API operation type is taking tooprocess requests.</span></span> <span data-ttu-id="1e6b4-222">**AverageE2ELatency** é uma medida de latência de ponto-a-ponto que inclui o tempo de Olá decorrido o pedido de Olá tooread e enviar uma resposta de Olá num pedido de Olá adição toohello tempo decorrido tooprocess (assim inclui latência de rede depois Olá pedido serviço de armazenamento Olá atingir); **AverageServerLatency** é uma medida do tempo de processamento de Olá apenas e exclui, por conseguinte, qualquer latência de rede relacionadas com toocommunicating com cliente Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-222">**AverageE2ELatency** is a measure of end-to-end latency that includes hello time taken tooread hello request and send hello response in addition toohello time taken tooprocess hello request (therefore includes network latency once hello request reaches hello storage service); **AverageServerLatency** is a measure of just hello processing time and therefore excludes any network latency related toocommunicating with hello client.</span></span> <span data-ttu-id="1e6b4-223">Consulte a secção de Olá "[métricas mostram AverageE2ELatency alta e baixa AverageServerLatency]" mais tarde neste guia para um debate do motivo poderão existir uma diferença significativa entre estes dois valores.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-223">See hello section "[Metrics show high AverageE2ELatency and low AverageServerLatency]" later in this guide for a discussion of why there might be a significant difference between these two values.</span></span>
* <span data-ttu-id="1e6b4-224">Olá valores Olá **TotalIngress** e **TotalEgress** colunas Mostrar quantidade total de Olá de dados, em bytes, futuras do tooand ficar fora do seu serviço de armazenamento ou através de um tipo de operação de API específico.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-224">hello values in hello **TotalIngress** and **TotalEgress** columns show hello total amount of data, in bytes, coming in tooand going out of your storage service or through a specific API operation type.</span></span>
* <span data-ttu-id="1e6b4-225">Olá valores Olá **TotalRequests** coluna Mostrar Olá número de pedidos que Olá o serviço de armazenamento da operação de API está a receber.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-225">hello values in hello **TotalRequests** column show hello total number of requests that hello storage service of API operation is receiving.</span></span> <span data-ttu-id="1e6b4-226">**TotalRequests** é Olá número total de pedidos que o serviço de armazenamento Olá recebe.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-226">**TotalRequests** is hello total number of requests that hello storage service receives.</span></span>

<span data-ttu-id="1e6b4-227">Normalmente, irá monitorizar alterações inesperado em qualquer um destes valores como um indicador de que tem um problema que requerem a investigação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-227">Typically, you will monitor for unexpected changes in any of these values as an indicator that you have an issue that requires investigation.</span></span>

<span data-ttu-id="1e6b4-228">No Olá Portal clássico do Azure, no Olá **Monitor** página para a sua conta de armazenamento, pode adicionar regras de alerta toonotify se qualquer uma das métricas de desempenho de Olá para este serviço descerem abaixo ou excede um limiar que especificar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-228">In hello Azure Classic Portal, on hello **Monitor** page for your storage account, you can add alert rules toonotify you if any of hello performance metrics for this service fall below or exceed a threshold that you specify.</span></span>

<span data-ttu-id="1e6b4-229">Olá "[orientações de resolução de problemas]" secção deste guia descreve alguns armazenamento serviço problemas relacionados tooperformance comuns.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-229">hello "[Troubleshooting guidance]" section of this guide describes some common storage service issues related tooperformance.</span></span>

## <span data-ttu-id="1e6b4-230"><a name="diagnosing-storage-issues"></a>Diagnosticar problemas de armazenamento</span><span class="sxs-lookup"><span data-stu-id="1e6b4-230"><a name="diagnosing-storage-issues"></a>Diagnosing storage issues</span></span>
<span data-ttu-id="1e6b4-231">Existem várias formas que que pode tornar-se em consideração um problema ou um problema na sua aplicação, estas incluem:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-231">There are a number of ways that you might become aware of a problem or issue in your application, these include:</span></span>

* <span data-ttu-id="1e6b4-232">Uma falha de principais que faz com que trabalhar de toocrash ou toostop da aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-232">A major failure that causes hello application toocrash or toostop working.</span></span>
* <span data-ttu-id="1e6b4-233">As alterações significativas de valores de linha de base nas métricas Olá que está a monitorizar, tal como descrito na secção anterior Olá "[monitorização do seu serviço de armazenamento]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-233">Significant changes from baseline values in hello metrics you are monitoring as described in hello previous section "[Monitoring your storage service]."</span></span>
* <span data-ttu-id="1e6b4-234">Relatórios de utilizadores da sua aplicação que algumas operações específica não foram concluída conforme esperado ou que algumas funcionalidades não está a funcionar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-234">Reports from users of your application that some particular operation didn't complete as expected or that some feature is not working.</span></span>
* <span data-ttu-id="1e6b4-235">Erros gerados na aplicação que aparecem nos ficheiros de registo ou através de algum outro método de notificação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-235">Errors generated within your application that appear in log files or through some other notification method.</span></span>

<span data-ttu-id="1e6b4-236">Normalmente, serviços de armazenamento problemas relacionados tooAzure enquadram-se um dos quatro amplas categorias:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-236">Typically, issues related tooAzure storage services fall into one of four broad categories:</span></span>

* <span data-ttu-id="1e6b4-237">A aplicação tem um problema de desempenho comunicados pelos seus utilizadores, ou revelado por alterações de métricas de desempenho de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-237">Your application has a performance issue, either reported by your users, or revealed by changes in hello performance metrics.</span></span>
* <span data-ttu-id="1e6b4-238">Não há um problema com a infraestrutura de armazenamento do Azure de Olá num ou mais regiões.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-238">There is a problem with hello Azure Storage infrastructure in one or more regions.</span></span>
* <span data-ttu-id="1e6b4-239">Verificou um erro comunicado pelos seus utilizadores, ou revelado por um aumento de uma das métricas de contagem de erros de Olá, monitorizar a sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-239">Your application is encountering an error, either reported by your users, or revealed by an increase in one of hello error count metrics you monitor.</span></span>
* <span data-ttu-id="1e6b4-240">Durante o desenvolvimento e teste, pode utilizar o emulador de armazenamento local Olá; poderá encontrar alguns problemas que se relacionam com especificamente toousage do emulador de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-240">During development and test, you may be using hello local storage emulator; you may encounter some issues that relate specifically toousage of hello storage emulator.</span></span>

<span data-ttu-id="1e6b4-241">Olá secções seguintes descrevem os passos de Olá deve seguir toodiagnose e resolver problemas em cada um destes quatro categorias.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-241">hello following sections outline hello steps you should follow toodiagnose and troubleshoot issues in each of these four categories.</span></span> <span data-ttu-id="1e6b4-242">Olá a secção "[orientações de resolução de problemas]" mais adiante neste guia, fornece mais detalhes, para alguns problemas comuns que poderá encontrar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-242">hello section "[Troubleshooting guidance]" later in this guide provides more detail for some common issues you may encounter.</span></span>

### <span data-ttu-id="1e6b4-243"><a name="service-health-issues"></a>Problemas de estado de funcionamento de serviço</span><span class="sxs-lookup"><span data-stu-id="1e6b4-243"><a name="service-health-issues"></a>Service health issues</span></span>
<span data-ttu-id="1e6b4-244">Problemas de estado de funcionamento de serviço normalmente estão fora do controlo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-244">Service health issues are typically outside of your control.</span></span> <span data-ttu-id="1e6b4-245">Olá Portal clássico do Azure fornece informações sobre quaisquer problemas em curso com serviços do Azure, incluindo os serviços de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-245">hello Azure Classic Portal provides information about any ongoing issues with Azure services including storage services.</span></span> <span data-ttu-id="1e6b4-246">Se tiver optado por armazenamento Georredundante com acesso de leitura quando criou a conta de armazenamento, em seguida, no evento Olá dos seus dados indisponível na localização principal Olá, a aplicação foi possível mudar temporariamente toohello cópia só de leitura na localização secundária Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-246">If you opted for Read-Access Geo-Redundant Storage when you created your storage account, then in hello event of your data being unavailable in hello primary location, your application could switch temporarily toohello read-only copy in hello secondary location.</span></span> <span data-ttu-id="1e6b4-247">toodo, a aplicação deve ser capaz de tooswitch entre utilizando as localizações de armazenamento primário e secundário Olá e ser capaz de toowork no modo de funcionalidade reduzida com dados só de leitura.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-247">toodo this, your application must be able tooswitch between using hello primary and secondary storage locations, and be able toowork in a reduced functionality mode with read-only data.</span></span> <span data-ttu-id="1e6b4-248">bibliotecas de cliente de armazenamento do Azure Olá permitem-lhe toodefine uma política de repetição pode ler a partir do armazenamento secundário no caso de falha de uma leitura de armazenamento primário.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-248">hello Azure Storage Client libraries allow you toodefine a retry policy that can read from secondary storage in case a read from primary storage fails.</span></span> <span data-ttu-id="1e6b4-249">A aplicação também tem de toobe em atenção que os dados de Olá na localização secundária Olá são eventualmente consistentes.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-249">Your application also needs toobe aware that hello data in hello secondary location is eventually consistent.</span></span> <span data-ttu-id="1e6b4-250">Para obter mais informações, consulte a mensagem de blogue de Olá <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/04/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx" target="_blank">as opções de redundância do armazenamento do Azure e de armazenamento redundantes do acesso de leitura Georreplicação</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-250">For more information, see hello blog post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/04/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx" target="_blank">Azure Storage Redundancy Options and Read Access Geo Redundant Storage</a>.</span></span>

### <span data-ttu-id="1e6b4-251"><a name="performance-issues"></a>Problemas de desempenho</span><span class="sxs-lookup"><span data-stu-id="1e6b4-251"><a name="performance-issues"></a>Performance issues</span></span>
<span data-ttu-id="1e6b4-252">desempenho de Olá de uma aplicação pode ser subjective, especialmente perspetiva de um utilizador.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-252">hello performance of an application can be subjective, especially from a user perspective.</span></span> <span data-ttu-id="1e6b4-253">Por conseguinte, é importante toohave da linha de base métricas disponíveis toohelp identificar qual poderá haver um problema de desempenho.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-253">Therefore, it is important toohave baseline metrics available toohelp you identify where there might be a performance issue.</span></span> <span data-ttu-id="1e6b4-254">Vários fatores poderão afetar o desempenho de Olá de um serviço de armazenamento do Azure da perspetiva de aplicação de cliente Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-254">Many factors might affect hello performance of an Azure storage service from hello client application perspective.</span></span> <span data-ttu-id="1e6b4-255">Estes fatores podem operar no serviço de armazenamento Olá, no cliente Olá ou na infraestrutura de rede Olá; é então importante toohave uma estratégia para identificar a origem de Olá do problema de desempenho de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-255">These factors might operate in hello storage service, in hello client, or in hello network infrastructure; therefore it is important toohave a strategy for identifying hello origin of hello performance issue.</span></span>

<span data-ttu-id="1e6b4-256">Depois de ter identificado localização provável de Olá das causas Olá problema de desempenho de Olá de métricas de Olá, pode, em seguida, utilize Olá registo ficheiros toofind detalhados toodiagnose de informações e resolver o problema de Olá adicional.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-256">After you have identified hello likely location of hello cause of hello performance issue from hello metrics, you can then use hello log files toofind detailed information toodiagnose and troubleshoot hello problem further.</span></span>

<span data-ttu-id="1e6b4-257">Olá a secção "[orientações de resolução de problemas]" mais adiante neste guia fornece mais informações sobre algumas comuns desempenho relacionado com problemas que poderá encontrar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-257">hello section "[Troubleshooting guidance]" later in this guide provides more information about some common performance related issues you may encounter.</span></span>

### <span data-ttu-id="1e6b4-258"><a name="diagnosing-errors"></a>Erros de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="1e6b4-258"><a name="diagnosing-errors"></a>Diagnosing errors</span></span>
<span data-ttu-id="1e6b4-259">Os utilizadores da sua aplicação podem notificá-lo de erros reportados pela aplicação de cliente Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-259">Users of your application may notify you of errors reported by hello client application.</span></span> <span data-ttu-id="1e6b4-260">As métricas do Storage também regista contagens dos tipos de erro diferente de serviços de armazenamento como **NetworkError**, **ClientTimeoutError**, ou **AuthorizationError**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-260">Storage Metrics also records counts of different error types from your storage services such as **NetworkError**, **ClientTimeoutError**, or **AuthorizationError**.</span></span> <span data-ttu-id="1e6b4-261">Enquanto as métricas do Storage apenas regista contagens dos tipos de erro diferente, pode obter mais detalhes sobre pedidos individuais, examinando o lado do servidor, do lado do cliente e registos de rede.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-261">While Storage Metrics only records counts of different error types, you can obtain more detail about individual requests by examining server-side, client-side, and network logs.</span></span> <span data-ttu-id="1e6b4-262">Normalmente, código de estado HTTP de Olá devolvido pelo serviço de armazenamento Olá fornecem uma indicação do motivo pelo qual o pedido de Olá falhou.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-262">Typically, hello HTTP status code returned by hello storage service will give an indication of why hello request failed.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-263">Lembre-se de que deverá toosee alguns erros intermitentes: por exemplo, os erros devido a condições de rede tootransient ou erros de aplicações.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-263">Remember that you should expect toosee some intermittent errors: for example, errors due tootransient network conditions, or application errors.</span></span>
> 
> 

<span data-ttu-id="1e6b4-264">Olá seguintes recursos no MSDN são úteis para compreender os códigos de erro e de estado relacionadas com o armazenamento:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-264">hello following resources on MSDN are useful for understanding storage-related status and error codes:</span></span>

* <span data-ttu-id="1e6b4-265"><a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Códigos de erro de API de REST comuns</a></span><span class="sxs-lookup"><span data-stu-id="1e6b4-265"><a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Common REST API Error Codes</a></span></span>
* <span data-ttu-id="1e6b4-266"><a href="http://msdn.microsoft.com/library/azure/dd179439.aspx" target="_blank">Códigos de erro do serviço blob</a></span><span class="sxs-lookup"><span data-stu-id="1e6b4-266"><a href="http://msdn.microsoft.com/library/azure/dd179439.aspx" target="_blank">Blob Service Error Codes</a></span></span>
* <span data-ttu-id="1e6b4-267"><a href="http://msdn.microsoft.com/library/azure/dd179446.aspx" target="_blank">Códigos de erro do serviço fila</a></span><span class="sxs-lookup"><span data-stu-id="1e6b4-267"><a href="http://msdn.microsoft.com/library/azure/dd179446.aspx" target="_blank">Queue Service Error Codes</a></span></span>
* <span data-ttu-id="1e6b4-268"><a href="http://msdn.microsoft.com/library/azure/dd179438.aspx" target="_blank">Códigos de erro do serviço tabela</a></span><span class="sxs-lookup"><span data-stu-id="1e6b4-268"><a href="http://msdn.microsoft.com/library/azure/dd179438.aspx" target="_blank">Table Service Error Codes</a></span></span>

### <span data-ttu-id="1e6b4-269"><a name="storage-emulator-issues"></a>Problemas de emulador de armazenamento</span><span class="sxs-lookup"><span data-stu-id="1e6b4-269"><a name="storage-emulator-issues"></a>Storage emulator issues</span></span>
<span data-ttu-id="1e6b4-270">Olá SDK do Azure inclui um emulador do storage que pode executar uma estação de trabalho de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-270">hello Azure SDK includes a storage emulator you can run on a development workstation.</span></span> <span data-ttu-id="1e6b4-271">Este emulador simula maioria do comportamento de Olá dos serviços de armazenamento do Azure Olá e é útil durante a programação e teste, permitindo-lhe toorun as aplicações que utilizam serviços de armazenamento do Azure sem Olá é necessário para uma subscrição do Azure e uma conta de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-271">This emulator simulates most of hello behavior of hello Azure storage services and is useful during development and test, enabling you toorun applications that use Azure storage services without hello need for an Azure subscription and an Azure storage account.</span></span>

<span data-ttu-id="1e6b4-272">Olá "[orientações de resolução de problemas]" secção deste guia descreve alguns problemas comuns encontrados utilizando o emulador do storage Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-272">hello "[Troubleshooting guidance]" section of this guide describes some common issues encountered using hello storage emulator.</span></span>

### <span data-ttu-id="1e6b4-273"><a name="storage-logging-tools"></a>Ferramentas de registo de armazenamento</span><span class="sxs-lookup"><span data-stu-id="1e6b4-273"><a name="storage-logging-tools"></a>Storage logging tools</span></span>
<span data-ttu-id="1e6b4-274">O registo de armazenamento fornece o registo do lado do servidor de pedidos de armazenamento na sua conta do storage do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-274">Storage Logging provides server-side logging of storage requests in your Azure storage account.</span></span> <span data-ttu-id="1e6b4-275">Para obter mais informações sobre como tooenable o registo do lado do servidor e Olá de acesso no registo de dados, consulte <a href="http://go.microsoft.com/fwlink/?LinkId=510867" target="_blank">utilizando o registo do lado do servidor</a> no MSDN.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-275">For more information about how tooenable server-side logging and access hello log data, see <a href="http://go.microsoft.com/fwlink/?LinkId=510867" target="_blank">Using server-side logging</a> on MSDN.</span></span>

<span data-ttu-id="1e6b4-276">Olá biblioteca de clientes de armazenamento para .NET permite-lhe dados de registo do lado do cliente do toocollect que está relacionada com operações de toostorage efetuadas pela sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-276">hello Storage Client Library for .NET enables you toocollect client-side log data that relates toostorage operations performed by your application.</span></span> <span data-ttu-id="1e6b4-277">Para obter mais informações sobre como tooenable o registo do lado do cliente e Olá de acesso no registo de dados, consulte <a href="http://go.microsoft.com/fwlink/?LinkId=510868" target="_blank">utilizando o registo do lado do cliente Olá a biblioteca de clientes de armazenamento</a> no MSDN.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-277">For more information about how tooenable client-side logging and access hello log data, see <a href="http://go.microsoft.com/fwlink/?LinkId=510868" target="_blank">Client-side logging using hello Storage Client Library</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-278">Em algumas circunstâncias (como falhas de autorização de SAS), um utilizador poderá reportar um erro para o qual pode encontrar sem dados de pedido no Olá os registos de armazenamento do lado do servidor.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-278">In some circumstances (such as SAS authorization failures), a user may report an error for which you can find no request data in hello server-side Storage logs.</span></span> <span data-ttu-id="1e6b4-279">Pode utilizar as capacidades de registo de Olá de Olá biblioteca de clientes de armazenamento tooinvestigate se causa Olá problema de Olá no cliente Olá ou utilizar a rede de Olá tooinvestigate de ferramentas de monitorização de rede.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-279">You can use hello logging capabilities of hello Storage Client Library tooinvestigate if hello cause of hello issue is on hello client or use network monitoring tools tooinvestigate hello network.</span></span>
> 
> 

### <span data-ttu-id="1e6b4-280"><a name="using-network-logging-tools"></a>Utilizar ferramentas de registo de rede</span><span class="sxs-lookup"><span data-stu-id="1e6b4-280"><a name="using-network-logging-tools"></a>Using network logging tools</span></span>
<span data-ttu-id="1e6b4-281">Pode capturar o tráfego de Olá entre Olá o cliente e servidor tooprovide detalhada sobre a Olá dados Olá cliente e servidor são trocar e Olá subjacente condições de rede.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-281">You can capture hello traffic between hello client and server tooprovide detailed information about hello data hello client and server are exchanging and hello underlying network conditions.</span></span> <span data-ttu-id="1e6b4-282">Ferramentas de registo de rede útil incluem:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-282">Useful network logging tools include:</span></span>

* <span data-ttu-id="1e6b4-283">Fiddler (<a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>) é uma web livre depuração proxy que permite os cabeçalhos de Olá tooexamine e os dados do payload de mensagens de pedido e resposta HTTP e HTTPS.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-283">Fiddler (<a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>) is a free web debugging proxy that enables you tooexamine hello headers and payload data of HTTP and HTTPS request and response messages.</span></span> <span data-ttu-id="1e6b4-284">Para obter mais informações, consulte "[apêndice 1: o tráfego utilizando o Fiddler toocapture HTTP e HTTPS]".</span><span class="sxs-lookup"><span data-stu-id="1e6b4-284">For more information, see "[Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic]".</span></span>
* <span data-ttu-id="1e6b4-285">Monitor de rede da Microsoft (Netmon) (<a href="http://www.microsoft.com/download/details.aspx?id=4865" target="_blank">http://www.microsoft.com/download/details.aspx?id=4865</a>) e Wireshark (<a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>) é rede livre analisadores de protocolo que permitem tooview pacote informações detalhadas para uma vasta gama de protocolos de rede.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-285">Microsoft Network Monitor (Netmon) (<a href="http://www.microsoft.com/download/details.aspx?id=4865" target="_blank">http://www.microsoft.com/download/details.aspx?id=4865</a>) and Wireshark (<a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>) are free network protocol analyzers that enable you tooview detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="1e6b4-286">Para mais informações sobre o Wireshark, consulte "[apêndice 2: o tráfego de rede utilizando o Wireshark toocapture]".</span><span class="sxs-lookup"><span data-stu-id="1e6b4-286">For more information about Wireshark, see "[Appendix 2: Using Wireshark toocapture network traffic]".</span></span>
* <span data-ttu-id="1e6b4-287">Microsoft Message Analyzer é uma ferramenta da Microsoft que substitui Netmon que além toocapturing de rede e dados do pacote, ajuda-o a tooview e analisar dados de registo de Olá capturados a partir de outras ferramentas.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-287">Microsoft Message Analyzer is a tool from Microsoft that supersedes Netmon and that in addition toocapturing network packet data, helps you tooview and analyze hello log data captured from other tools.</span></span> <span data-ttu-id="1e6b4-288">Para obter mais informações, consulte "[apêndice 3: o tráfego de rede utilizando o Microsoft Message Analyzer toocapture]".</span><span class="sxs-lookup"><span data-stu-id="1e6b4-288">For more information, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]".</span></span>
* <span data-ttu-id="1e6b4-289">Se quiser tooperform um toocheck de teste de conectividade básica que o seu computador cliente pode ligar toohello serviço de armazenamento do Azure através de rede de Olá, fazê-lo não é possível utilizar o padrão de Olá **ping** ferramenta no cliente Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-289">If you want tooperform a basic connectivity test toocheck that your client machine can connect toohello Azure storage service over hello network, you cannot do this using hello standard **ping** tool on hello client.</span></span> <span data-ttu-id="1e6b4-290">No entanto, pode utilizar Olá **tcping** ferramenta toocheck conectividade.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-290">However, you can use hello **tcping** tool toocheck connectivity.</span></span> <span data-ttu-id="1e6b4-291">**Tcping** está disponível para transferência em <a href="http://www.elifulkerson.com/projects/tcping.php" target="_blank">http://www.elifulkerson.com/projects/tcping.php</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-291">**Tcping** is available for download at <a href="http://www.elifulkerson.com/projects/tcping.php" target="_blank">http://www.elifulkerson.com/projects/tcping.php</a>.</span></span>

<span data-ttu-id="1e6b4-292">Em muitos casos, os dados de registo Olá do registo de armazenamento e biblioteca de clientes de armazenamento de Olá serão suficiente toodiagnose um problema mas, em alguns cenários, poderá ser necessário Olá que informações que estas ferramentas de registo de rede podem fornecer mais detalhadas.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-292">In many cases, hello log data from Storage Logging and hello Storage Client Library will be sufficient toodiagnose an issue, but in some scenarios, you may need hello more detailed information that these network logging tools can provide.</span></span> <span data-ttu-id="1e6b4-293">Por exemplo, utilizar o Fiddler tooview permite que as mensagens HTTP e HTTPS tooview cabeçalho e o payload de dados enviados tooand do Olá os serviços de armazenamento, seriam ativar tooexamine como uma aplicação de cliente tentará novamente operações de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-293">For example, using Fiddler tooview HTTP and HTTPS messages enables you tooview header and payload data sent tooand from hello storage services, which would enable you tooexamine how a client application retries storage operations.</span></span> <span data-ttu-id="1e6b4-294">Analisadores de protocolo, tais como o Wireshark operam ao nível do pacote de Olá, permitindo-lhe dados TCP de tooview, seriam ativar tootroubleshoot perda de pacotes e problemas de conectividade.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-294">Protocol analyzers such as Wireshark operate at hello packet level enabling you tooview TCP data, which would enable you tootroubleshoot lost packets and connectivity issues.</span></span> <span data-ttu-id="1e6b4-295">Analisador de mensagens pode operar em camadas HTTP e TCP.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-295">Message Analyzer can operate at both HTTP and TCP layers.</span></span>

## <span data-ttu-id="1e6b4-296"><a name="end-to-end-tracing"></a>Rastreio de ponto a ponto</span><span class="sxs-lookup"><span data-stu-id="1e6b4-296"><a name="end-to-end-tracing"></a>End-to-end tracing</span></span>
<span data-ttu-id="1e6b4-297">Utilizando uma variedade de ficheiros de registo de rastreio de ponto a ponto é uma técnica útil para investigar potenciais problemas.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-297">End-to-end tracing using a variety of log files is a useful technique for investigating potential issues.</span></span> <span data-ttu-id="1e6b4-298">Pode utilizar informações de data/hora Olá dos seus dados de métricas como uma indicação de informações que o irão ajudar a resolver o problema de Olá detalhadas de toostart procurar nos ficheiros de registo de Olá para Olá de onde.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-298">You can use hello date/time information from your metrics data as an indication of where toostart looking in hello log files for hello detailed information that will help you troubleshoot hello issue.</span></span>

### <span data-ttu-id="1e6b4-299"><a name="correlating-log-data"></a>Correlacionar dados de registo</span><span class="sxs-lookup"><span data-stu-id="1e6b4-299"><a name="correlating-log-data"></a>Correlating log data</span></span>
<span data-ttu-id="1e6b4-300">Ao visualizar registos de aplicações de cliente, rastreios rede e armazenamento do lado do servidor de registo é crítico toobe toocorrelate capaz de pedidos em Olá diferentes ficheiros de registo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-300">When viewing logs from client applications, network traces, and server-side storage logging it is critical toobe able toocorrelate requests across hello different log files.</span></span> <span data-ttu-id="1e6b4-301">ficheiros de registo Olá incluem um número de diferentes campos que são úteis como identificadores de correlação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-301">hello log files include a number of different fields that are useful as correlation identifiers.</span></span> <span data-ttu-id="1e6b4-302">id do pedido de cliente de Olá é Olá mais úteis campo toouse toocorrelate entradas nos registos de diferentes Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-302">hello client request id is hello most useful field toouse toocorrelate entries in hello different logs.</span></span> <span data-ttu-id="1e6b4-303">No entanto, por vezes, pode ser útil toouse id de pedido do servidor de Olá ou carimbos.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-303">However sometimes, it can be useful toouse either hello server request id or timestamps.</span></span> <span data-ttu-id="1e6b4-304">Olá secções seguintes fornecem mais detalhes sobre estas opções.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-304">hello following sections provide more details about these options.</span></span>

### <span data-ttu-id="1e6b4-305"><a name="client-request-id"></a>ID do pedido de cliente</span><span class="sxs-lookup"><span data-stu-id="1e6b4-305"><a name="client-request-id"></a>Client request ID</span></span>
<span data-ttu-id="1e6b4-306">Biblioteca de clientes de armazenamento de Olá gera automaticamente um id de pedido de cliente exclusivos para cada pedido.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-306">hello Storage Client Library automatically generates a unique client request id for every request.</span></span>

* <span data-ttu-id="1e6b4-307">Olá registo do lado do cliente que Olá biblioteca de clientes de armazenamento cria, id de pedido de cliente Olá aparece no Olá **ID do pedido de cliente** campo cada entrada de registo relacionadas com toohello pedido.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-307">In hello client-side log that hello Storage Client Library creates, hello client request id appears in hello **Client Request ID** field of every log entry relating toohello request.</span></span>
* <span data-ttu-id="1e6b4-308">Um rastreio de rede, tais como um capturado por Fiddler, id de pedido de cliente Olá é visível em mensagens de pedido como Olá **x-ms-client-request-id** valor de cabeçalho HTTP.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-308">In a network trace such as one captured by Fiddler, hello client request id is visible in request messages as hello **x-ms-client-request-id** HTTP header value.</span></span>
* <span data-ttu-id="1e6b4-309">No registo de registo do armazenamento de lado do servidor de Olá, id de pedido de cliente Olá é apresentado na coluna de ID de pedido de cliente Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-309">In hello server-side Storage Logging log, hello client request id appears in hello Client request ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-310">É possível vários pedidos tooshare Olá mesmo id de pedido de cliente, porque o cliente de Olá pode atribuir este valor (embora Olá biblioteca de clientes de armazenamento atribui automaticamente um novo valor).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-310">It is possible for multiple requests tooshare hello same client request id because hello client can assign this value (although hello Storage Client Library assigns a new value automatically).</span></span> <span data-ttu-id="1e6b4-311">No caso de Olá de tentativas de cliente de Olá, todas as tentativas partilham Olá mesmo id de pedido de cliente. Olá maiúsculas e minúsculas de um lote enviado pelo cliente de Olá, lote de Olá tem um id de pedido de cliente único.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-311">In hello case of retries from hello client, all attempts share hello same client request id. In hello case of a batch sent from hello client, hello batch has a single client request id.</span></span>
> 
> 

### <span data-ttu-id="1e6b4-312"><a name="server-request-id"></a>ID de pedido do servidor</span><span class="sxs-lookup"><span data-stu-id="1e6b4-312"><a name="server-request-id"></a>Server request ID</span></span>
<span data-ttu-id="1e6b4-313">serviço de armazenamento Olá gera automaticamente os ids de pedido do servidor.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-313">hello storage service automatically generates server request ids.</span></span>

* <span data-ttu-id="1e6b4-314">No registo de registo do armazenamento de lado do servidor de Olá, id de pedido do servidor de Olá aparece Olá **cabeçalho de ID do pedido** coluna.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-314">In hello server-side Storage Logging log, hello server request id appears hello **Request ID header** column.</span></span>
* <span data-ttu-id="1e6b4-315">No rastreio de rede, tais como um capturado por Fiddler, id de pedido do servidor de Olá aparece nas mensagens de resposta como Olá **x-ms-request-id** valor de cabeçalho HTTP.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-315">In a network trace such as one captured by Fiddler, hello server request id appears in response messages as hello **x-ms-request-id** HTTP header value.</span></span>
* <span data-ttu-id="1e6b4-316">Olá registo do lado do cliente que Olá biblioteca de clientes de armazenamento cria, id de pedido do servidor de Olá aparece no Olá **operação texto** coluna para a entrada de registo de Olá que mostra detalhes de resposta do servidor Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-316">In hello client-side log that hello Storage Client Library creates, hello server request id appears in hello **Operation Text** column for hello log entry showing details of hello server response.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-317">serviço de armazenamento Olá sempre atribui um servidor único pedido de tooevery do id do pedido recebe, para que cada tentativa de repetição do cliente de Olá e cada operação incluído num batch tem um id de pedido de servidor único.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-317">hello storage service always assigns a unique server request id tooevery request it receives, so every retry attempt from hello client and every operation included in a batch has a unique server request id.</span></span>
> 
> 

<span data-ttu-id="1e6b4-318">Se hello biblioteca de clientes de armazenamento emite um **StorageException** no cliente Olá, Olá **RequestInformation** propriedade contém um **RequestResult** objeto que inclui um **ServiceRequestID** propriedade.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-318">If hello Storage Client Library throws a **StorageException** in hello client, hello **RequestInformation** property contains a **RequestResult** object that includes a **ServiceRequestID** property.</span></span> <span data-ttu-id="1e6b4-319">Também pode aceder um **RequestResult** objeto a partir de um **OperationContext** instância.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-319">You can also access a **RequestResult** object from an **OperationContext** instance.</span></span>

<span data-ttu-id="1e6b4-320">exemplo de código Olá abaixo demonstra como tooset personalizadas **ClientRequestId** valor ao anexar um **OperationContext** serviço de armazenamento do Olá pedido toohello de objeto.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-320">hello code sample below demonstrates how tooset a custom **ClientRequestId** value by attaching an **OperationContext** object hello request toohello storage service.</span></span> <span data-ttu-id="1e6b4-321">Também mostra como tooretrieve Olá **ServerRequestId** valor a partir da mensagem de resposta de saudação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-321">It also shows how tooretrieve hello **ServerRequestId** value from hello response message.</span></span>

```csharp
//Parse hello connection string for hello storage account.
const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);
CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

// Create an Operation Context that includes custom ClientRequestId string based on constants defined within hello application along with a Guid.
OperationContext oc = new OperationContext();
oc.ClientRequestID = String.Format("{0} {1} {2} {3}", HOSTNAME, APPNAME, USERID, Guid.NewGuid().ToString());

try
{
    CloudBlobContainer container = blobClient.GetContainerReference("democontainer");
    ICloudBlob blob = container.GetBlobReferenceFromServer("testImage.jpg", null, null, oc);  
    var downloadToPath = string.Format("./{0}", blob.Name);
    using (var fs = File.OpenWrite(downloadToPath))
    {
        blob.DownloadToStream(fs, null, null, oc);
        Console.WriteLine("\t Blob downloaded toofile: {0}", downloadToPath);
    }
}
catch (StorageException storageException)
{
    Console.WriteLine("Storage exception {0} occurred", storageException.Message);
    // Multiple results may exist due tooclient side retry logic - each retried operation will have a unique ServiceRequestId
    foreach (var result in oc.RequestResults)
    {
            Console.WriteLine("HttpStatus: {0}, ServiceRequestId {1}", result.HttpStatusCode, result.ServiceRequestID);
    }
}
```

### <span data-ttu-id="1e6b4-322"><a name="timestamps"></a>Carimbos</span><span class="sxs-lookup"><span data-stu-id="1e6b4-322"><a name="timestamps"></a>Timestamps</span></span>
<span data-ttu-id="1e6b4-323">Também pode utilizar carimbos toolocate relacionadas com as entradas de registo, mas tenha o cuidado de qualquer relógio dissimetrias entre Olá cliente e o servidor que pode existir.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-323">You can also use timestamps toolocate related log entries, but be careful of any clock skew between hello client and server that may exist.</span></span> <span data-ttu-id="1e6b4-324">Deve procurar mais ou menos de 15 minutos para que correspondam a entradas do lado do servidor com base no Olá timestamp no cliente Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-324">You should search plus or minus 15 minutes for matching server-side entries based on hello timestamp on hello client.</span></span> <span data-ttu-id="1e6b4-325">Lembre-se esses metadados de blob Olá para blobs Olá métricas que contêm indica o intervalo de tempo de Olá armazenados no blob Olá; com base nas métricas Olá Isto é útil se tiver várias métricas blobs para Olá mesmo minuto ou hora.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-325">Remember that hello blob metadata for hello blobs containing metrics indicates hello time range for hello metrics stored in hello blob; this is useful if you have many metrics blobs for hello same minute or hour.</span></span>

## <span data-ttu-id="1e6b4-326"><a name="troubleshooting-guidance"></a>Documentação de orientação de resolução de problemas</span><span class="sxs-lookup"><span data-stu-id="1e6b4-326"><a name="troubleshooting-guidance"></a>Troubleshooting guidance</span></span>
<span data-ttu-id="1e6b4-327">Nesta secção irão ajudá-lo diagnóstico Olá e resolução de problemas de alguns dos problemas comuns de Olá a aplicação poderá encontrar ao utilizar os serviços de armazenamento do Azure Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-327">This section will help you with hello diagnosis and troubleshooting of some of hello common issues your application may encounter when using hello Azure storage services.</span></span> <span data-ttu-id="1e6b4-328">Utilize a lista de Olá abaixo problema específico do toolocate Olá informações tooyour relevantes.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-328">Use hello list below toolocate hello information relevant tooyour specific issue.</span></span>

<span data-ttu-id="1e6b4-329">**Resolução de problemas da árvore de decisões**</span><span class="sxs-lookup"><span data-stu-id="1e6b4-329">**Troubleshooting Decision Tree**</span></span>

- - -
<span data-ttu-id="1e6b4-330">O problema se relacionam toohello desempenho de um dos serviços de armazenamento Olá?</span><span class="sxs-lookup"><span data-stu-id="1e6b4-330">Does your issue relate toohello performance of one of hello storage services?</span></span>

* <span data-ttu-id="1e6b4-331">[métricas mostram AverageE2ELatency alta e baixa AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-331">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
* <span data-ttu-id="1e6b4-332">[Métricas mostram AverageE2ELatency baixa e baixa AverageServerLatency mas cliente Olá está com latência elevada]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-332">[Metrics show low AverageE2ELatency and low AverageServerLatency but hello client is experiencing high latency]</span></span>
* <span data-ttu-id="1e6b4-333">[As métricas apresentam uma AverageServerLatency alta]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-333">[Metrics show high AverageServerLatency]</span></span>
* <span data-ttu-id="1e6b4-334">[Ocorrem atrasos inesperados na entrega de mensagens numa fila]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-334">[You are experiencing unexpected delays in message delivery on a queue]</span></span>

- - -
<span data-ttu-id="1e6b4-335">O problema relacionadas com a disponibilidade de toohello de um dos serviços de armazenamento Olá?</span><span class="sxs-lookup"><span data-stu-id="1e6b4-335">Does your issue relate toohello availability of one of hello storage services?</span></span>

* <span data-ttu-id="1e6b4-336">[métricas mostram um aumento no PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-336">[Metrics show an increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="1e6b4-337">[métricas mostram um aumento no PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-337">[Metrics show an increase in PercentTimeoutError]</span></span>
* <span data-ttu-id="1e6b4-338">[As métricas apresentam um aumento do PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-338">[Metrics show an increase in PercentNetworkError]</span></span>

- - -
<span data-ttu-id="1e6b4-339">A aplicação cliente recebe uma resposta de 4XX (por exemplo, 404) HTTP um serviço de armazenamento?</span><span class="sxs-lookup"><span data-stu-id="1e6b4-339">Is your client application receiving an HTTP 4XX (such as 404) response from a storage service?</span></span>

* <span data-ttu-id="1e6b4-340">[cliente de Olá está a receber mensagens HTTP 403 (proibido)]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-340">[hello client is receiving HTTP 403 (Forbidden) messages]</span></span>
* <span data-ttu-id="1e6b4-341">[cliente de Olá está a receber mensagens HTTP 404 (não for encontrado)]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-341">[hello client is receiving HTTP 404 (Not found) messages]</span></span>
* <span data-ttu-id="1e6b4-342">[cliente de Olá está a receber mensagens de HTTP 409 (conflito)]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-342">[hello client is receiving HTTP 409 (Conflict) messages]</span></span>

- - -
<span data-ttu-id="1e6b4-343">[métricas mostram PercentSuccess baixa ou entradas de registo de análise de ter operações com Estado de transação de ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-343">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>

- - -
<span data-ttu-id="1e6b4-344">[Métricas de capacidade mostram um aumento inesperado na utilização da capacidade de armazenamento]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-344">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>

- - -
<span data-ttu-id="1e6b4-345">[Estão a experienciar inesperados reinícios das máquinas virtuais que tenham um grande número de VHDs ligados]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-345">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>

- - -
<span data-ttu-id="1e6b4-346">[O problema se for utilizar o emulador do storage Olá para programação ou testes]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-346">[Your issue arises from using hello storage emulator for development or test]</span></span>

- - -
<span data-ttu-id="1e6b4-347">[São encontrar problemas ao instalar Olá Azure SDK para .NET]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-347">[You are encountering problems installing hello Azure SDK for .NET]</span></span>

- - -
<span data-ttu-id="1e6b4-348">[Tem um problema com um serviço de armazenamento diferente]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-348">[You have a different issue with a storage service]</span></span>

- - -
### <span data-ttu-id="1e6b4-349"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Métricas mostram AverageE2ELatency alta e baixa AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="1e6b4-349"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show high AverageE2ELatency and low AverageServerLatency</span></span>
<span data-ttu-id="1e6b4-350">Olá blow ilustração da ferramenta de monitorização de Portal clássico do Azure Olá mostra um exemplo em que hello **AverageE2ELatency** é significativamente maior Olá **AverageServerLatency**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-350">hello illustration blow from hello Azure Classic Portal monitoring tool shows an example where hello **AverageE2ELatency** is significantly higher than hello **AverageServerLatency**.</span></span>

![][4]

<span data-ttu-id="1e6b4-351">Tenha em atenção que o serviço de armazenamento Olá calcula apenas métrica Olá **AverageE2ELatency** para pedidos com êxito e, ao contrário **AverageServerLatency**, inclui o tempo de Olá cliente Olá demora toosend Olá dados e receber a confirmação do serviço de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-351">Note that hello storage service only calculates hello metric **AverageE2ELatency** for successful requests and, unlike **AverageServerLatency**, includes hello time hello client takes toosend hello data and receive acknowledgement from hello storage service.</span></span> <span data-ttu-id="1e6b4-352">Por conseguinte, terá uma diferença entre **AverageE2ELatency** e **AverageServerLatency** pode ser um devido a aplicação de cliente de toohello a ser lenta toorespond ou tooconditions devida na rede de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-352">Therefore, a difference between **AverageE2ELatency** and **AverageServerLatency** could be either due toohello client application being slow toorespond, or due tooconditions on hello network.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-353">Também pode ver **E2ELatency** e **ServerLatency** para operações de armazenamento individuais em Olá registo de armazenamento de dados de registo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-353">You can also view **E2ELatency** and **ServerLatency** for individual storage operations in hello Storage Logging log data.</span></span>
> 
> 

#### <a name="investigating-client-performance-issues"></a><span data-ttu-id="1e6b4-354">Investigar problemas de desempenho do cliente</span><span class="sxs-lookup"><span data-stu-id="1e6b4-354">Investigating client performance issues</span></span>
<span data-ttu-id="1e6b4-355">Razões possíveis para o cliente de Olá responder lentamente incluem ter um número limitado de ligações disponíveis ou threads.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-355">Possible reasons for hello client responding slowly include having a limited number of available connections or threads.</span></span> <span data-ttu-id="1e6b4-356">Poderá estar tooresolve capaz de problema de Olá modificando Olá cliente código toobe mais eficiente (por exemplo através da utilização serviço de armazenamento de toohello chamadas assíncronas) ou através de uma Máquina Virtual maior (com mais memória e mais núcleos).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-356">You may be able tooresolve hello issue by modifying hello client code toobe more efficient (for example by using asynchronous calls toohello storage service), or by using a larger Virtual Machine (with more cores and more memory).</span></span>

<span data-ttu-id="1e6b4-357">Para os serviços de tabela e fila de Olá, algoritmo de Nagle Olá pode também fazer com que alta **AverageE2ELatency** como em comparação com demasiado**AverageServerLatency**: Para mais informações consulte Olá publique <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx" target="_blank">do Nagle Algoritmo não é amigável para pedidos de pequenas</a> no Olá blogue de equipa de armazenamento do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-357">For hello table and queue services, hello Nagle algorithm can also cause high **AverageE2ELatency** as compared too**AverageServerLatency**: for more information see hello post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx" target="_blank">Nagle's Algorithm is Not Friendly towards Small Requests</a> on hello Microsoft Azure Storage Team Blog.</span></span> <span data-ttu-id="1e6b4-358">Pode desativar o algoritmo de Nagle Olá no código utilizando Olá **ServicePointManager** a classe de Olá **System.Net** espaço de nomes.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-358">You can disable hello Nagle algorithm in code by using hello **ServicePointManager** class in hello **System.Net** namespace.</span></span> <span data-ttu-id="1e6b4-359">Deve fazê-lo antes de efetuar qualquer tabela de toohello chamadas ou serviços da fila na sua aplicação, uma vez que isto não afeta as ligações que já estão a abrir.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-359">You should do this before you make any calls toohello table or queue services in your application since this does not affect connections that are already open.</span></span> <span data-ttu-id="1e6b4-360">Olá seguinte exemplo provém de Olá **Application_Start** método numa função de trabalho.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-360">hello following example comes from hello **Application_Start** method in a worker role.</span></span>

```csharp
var storageAccount = CloudStorageAccount.Parse(connStr);
ServicePoint tableServicePoint = ServicePointManager.FindServicePoint(storageAccount.TableEndpoint);
tableServicePoint.UseNagleAlgorithm = false;
ServicePoint queueServicePoint = ServicePointManager.FindServicePoint(storageAccount.QueueEndpoint);
queueServicePoint.UseNagleAlgorithm = false;
```

<span data-ttu-id="1e6b4-361">Deve verificar Olá registos do lado do cliente toosee quantos pedidos da aplicação de cliente é submeter e verifique a existência .NET geral relacionadas com congestionamentos de desempenho no seu cliente, tais como CPU, libertação da memória de .NET, a utilização da rede ou de memória (inicial ponto de resolução de problemas de aplicações de cliente .NET, consulte <a href="http://msdn.microsoft.com/library/7fe0dd2y(v=vs.110).aspx" target="_blank">Debugging, rastreio e criação de perfis</a> no MSDN).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-361">You should check hello client-side logs toosee how many requests your client application is submitting, and check for general .NET related performance bottlenecks in your client such as CPU, .NET garbage collection, network utilization, or memory (as a starting point for troubleshooting .NET client applications, see <a href="http://msdn.microsoft.com/library/7fe0dd2y(v=vs.110).aspx" target="_blank">Debugging, Tracing, and Profiling</a> on MSDN).</span></span>

#### <a name="investigating-network-latency-issues"></a><span data-ttu-id="1e6b4-362">Investigar problemas de latência de rede</span><span class="sxs-lookup"><span data-stu-id="1e6b4-362">Investigating network latency issues</span></span>
<span data-ttu-id="1e6b4-363">Normalmente, latência elevada de ponto a ponto causada por rede Olá é devido a condições de tootransient.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-363">Typically, high end-to-end latency caused by hello network is due tootransient conditions.</span></span> <span data-ttu-id="1e6b4-364">Pode investigar ambos os problemas de rede transitórios e persistente, tais como pacotes ignorados, utilizando ferramentas como Wireshark ou o Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-364">You can investigate both transient and persistent network issues such as dropped packets by using tools such as Wireshark or Microsoft Message Analyzer.</span></span>

<span data-ttu-id="1e6b4-365">Para obter mais informações sobre como utilizar o Wireshark tootroubleshoot problemas da rede, consulte "[apêndice 2: o tráfego de rede utilizando o Wireshark toocapture]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-365">For more information about using Wireshark tootroubleshoot network issues, see "[Appendix 2: Using Wireshark toocapture network traffic]."</span></span>

<span data-ttu-id="1e6b4-366">Para obter mais informações sobre a utilização de problemas de rede do Microsoft Message Analyzer tootroubleshoot, consulte "[apêndice 3: o tráfego de rede utilizando o Microsoft Message Analyzer toocapture]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-366">For more information about using Microsoft Message Analyzer tootroubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]."</span></span>

### <span data-ttu-id="1e6b4-367"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Métricas mostram AverageE2ELatency baixa e baixa AverageServerLatency mas cliente Olá está com latência elevada</span><span class="sxs-lookup"><span data-stu-id="1e6b4-367"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show low AverageE2ELatency and low AverageServerLatency but hello client is experiencing high latency</span></span>
<span data-ttu-id="1e6b4-368">Neste cenário, a causa mais provável Olá é um atraso na Olá pedidos de armazenamento atingir o serviço de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-368">In this scenario, hello most likely cause is a delay in hello storage requests reaching hello storage service.</span></span> <span data-ttu-id="1e6b4-369">Deve investigar por que motivo pedidos de cliente de Olá são não tornando-o através do serviço blob toohello.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-369">You should investigate why requests from hello client are not making it through toohello blob service.</span></span>

<span data-ttu-id="1e6b4-370">Razões possíveis para o cliente de Olá atrasando enviar pedidos incluem ter um número limitado de ligações disponíveis ou threads.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-370">Possible reasons for hello client delaying sending requests include having a limited number of available connections or threads.</span></span> <span data-ttu-id="1e6b4-371">Também deve verificar se o cliente de Olá está a efetuar várias tentativas e investigue o motivo de Olá se for este caso de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-371">You should also check if hello client is performing multiple retries, and investigate hello reason if this is hello case.</span></span> <span data-ttu-id="1e6b4-372">Pode fazê-programaticamente ao procurar na Olá **OperationContext** objeto associado ao pedido de Olá e ao obter Olá **ServerRequestId** valor.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-372">You can do this programmatically by looking in hello **OperationContext** object associated with hello request and retrieving hello **ServerRequestId** value.</span></span> <span data-ttu-id="1e6b4-373">Para obter mais informações, consulte o código de exemplo Olá na secção de Olá "[ID do pedido de servidor]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-373">For more information, see hello code sample in hello section "[Server request ID]."</span></span>

<span data-ttu-id="1e6b4-374">Se existirem não existem problemas no cliente Olá, deve investigar potenciais problemas de rede, tais como a perda de pacotes.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-374">If there are no issues in hello client, you should investigate potential network issues such as packet loss.</span></span> <span data-ttu-id="1e6b4-375">Pode utilizar as ferramentas, como problemas de rede tooinvestigate Wireshark ou Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-375">You can use tools such as Wireshark or Microsoft Message Analyzer tooinvestigate network issues.</span></span>

<span data-ttu-id="1e6b4-376">Para obter mais informações sobre como utilizar o Wireshark tootroubleshoot problemas da rede, consulte "[apêndice 2: o tráfego de rede utilizando o Wireshark toocapture]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-376">For more information about using Wireshark tootroubleshoot network issues, see "[Appendix 2: Using Wireshark toocapture network traffic]."</span></span>

<span data-ttu-id="1e6b4-377">Para obter mais informações sobre a utilização de problemas de rede do Microsoft Message Analyzer tootroubleshoot, consulte "[apêndice 3: o tráfego de rede utilizando o Microsoft Message Analyzer toocapture]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-377">For more information about using Microsoft Message Analyzer tootroubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]."</span></span>

### <span data-ttu-id="1e6b4-378"><a name="metrics-show-high-AverageServerLatency"></a>Métricas mostram AverageServerLatency elevada</span><span class="sxs-lookup"><span data-stu-id="1e6b4-378"><a name="metrics-show-high-AverageServerLatency"></a>Metrics show high AverageServerLatency</span></span>
<span data-ttu-id="1e6b4-379">No caso de Olá de alta **AverageServerLatency** para pedidos de transferência de blob, deve utilizar Olá armazenamento registo registos toosee se existirem pedidos repetidos de Olá mesmo blob (ou conjunto de blobs).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-379">In hello case of high **AverageServerLatency** for blob download requests, you should use hello Storage Logging logs toosee if there are repeated requests for hello same blob (or set of blobs).</span></span> <span data-ttu-id="1e6b4-380">Para o blob de carregar pedidos, deve investigar os blocos que tamanho Olá cliente está a utilizar (por exemplo, blocos inferior a 64 KB de tamanho pode resultar em sobrecargas, a menos que lê Olá estão a também ser inferior a 64K segmentos), e se vários clientes estiver a carregar bloqueia toohello mesmo Blob em paralelo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-380">For blob upload requests, you should investigate what block size hello client is using (for example, blocks less than 64K in size can result in overheads unless hello reads are also in less than 64K chunks), and if multiple clients are uploading blocks toohello same blob in parallel.</span></span> <span data-ttu-id="1e6b4-381">Também deverá verificar as métricas de por minuto de Olá para picos no número de Olá de pedidos que resultam exceder Olá por segundo metas de escalabilidade: também ver "[métricas mostram um aumento no PercentTimeoutError]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-381">You should also check hello per-minute metrics for spikes in hello number of requests that result in exceeding hello per second scalability targets: also see "[Metrics show an increase in PercentTimeoutError]."</span></span>

<span data-ttu-id="1e6b4-382">Se vir alto **AverageServerLatency** para pedidos de transferência do blob quando existe são repetidos pedidos Olá mesmo blob ou um conjunto de blobs, em seguida, deve considerar a colocação em cache estas blobs com a Cache do Azure ou Olá entrega de conteúdos do Azure Rede (CDN).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-382">If you are seeing high **AverageServerLatency** for blob download requests when there are repeated requests hello same blob or set of blobs, then you should consider caching these blobs using Azure Cache or hello Azure Content Delivery Network (CDN).</span></span> <span data-ttu-id="1e6b4-383">Para pedidos de carregamento, pode melhorar o débito de Olá utilizando um tamanho de bloco maior.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-383">For upload requests, you can improve hello throughput by using a larger block size.</span></span> <span data-ttu-id="1e6b4-384">Para consultas tootables, é também possível tooimplement do lado do cliente a colocação em cache em clientes que realizam Olá mesmo operações de consulta e olá onde os dados não mudam frequentemente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-384">For queries tootables, it is also possible tooimplement client-side caching on clients that perform hello same query operations and where hello data doesn't change frequently.</span></span>

<span data-ttu-id="1e6b4-385">Elevada **AverageServerLatency** valores também podem ser um sintoma de tabelas mal concebidas ou acrescentar/preceder anti padrão de consultas que o resultado das operações de análise ou que siga Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-385">High **AverageServerLatency** values can also be a symptom of poorly designed tables or queries that result in scan operations or that follow hello append/prepend anti-pattern.</span></span> <span data-ttu-id="1e6b4-386">Consulte "[métricas mostram um aumento no PercentThrottlingError]" para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-386">See "[Metrics show an increase in PercentThrottlingError]" for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-387">Pode encontrar uma lista de verificação abrangente desempenho lista de verificação aqui: [desempenho de armazenamento do Microsoft Azure e a lista de verificação de escalabilidade](storage-performance-checklist.md).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-387">You can find a comprehensive checklist performance checklist here: [Microsoft Azure Storage Performance and Scalability Checklist](storage-performance-checklist.md).</span></span>
> 
> 

### <span data-ttu-id="1e6b4-388"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>Ocorrerem atrasos inesperados na entrega de mensagens numa fila</span><span class="sxs-lookup"><span data-stu-id="1e6b4-388"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>You are experiencing unexpected delays in message delivery on a queue</span></span>
<span data-ttu-id="1e6b4-389">Se um atraso entre a hora de Olá uma aplicação adiciona uma mensagem tooa fila e Olá tempo torna-se disponíveis tooread da fila de Olá, em seguida, que deve tomar Olá problema de Olá toodiagnose de passos a seguir:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-389">If you are experiencing a delay between hello time an application adds a message tooa queue and hello time it becomes available tooread from hello queue, then you should take hello following steps toodiagnose hello issue:</span></span>

* <span data-ttu-id="1e6b4-390">Certifique-se a aplicação Olá é adicionar com êxito a fila de toohello Olá mensagens.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-390">Verify hello application is successfully adding hello messages toohello queue.</span></span> <span data-ttu-id="1e6b4-391">Verifique a aplicação Olá não está a repetir Olá **AddMessage** método várias vezes antes de ter êxito.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-391">Check that hello application is not retrying hello **AddMessage** method several times before succeeding.</span></span> <span data-ttu-id="1e6b4-392">os registos de biblioteca de clientes de armazenamento Olá mostrará quaisquer tentativas repetidas das operações de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-392">hello Storage Client Library logs will show any repeated retries of storage operations.</span></span>
* <span data-ttu-id="1e6b4-393">Certifique-se de que não há nenhum relógio dissimetrias entre a função de trabalho de Olá que adiciona a fila de toohello Olá mensagens e a função de trabalho de Olá que lê a mensagem de saudação da fila de Olá que faz com que são apresentadas como se houver um atraso no processamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-393">Verify there is no clock skew between hello worker role that adds hello message toohello queue and hello worker role that reads hello message from hello queue that makes it appear as if there is a delay in processing.</span></span>
* <span data-ttu-id="1e6b4-394">Verifique se a função de trabalho de Olá que lê mensagens hello da fila de Olá é falhar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-394">Check if hello worker role that reads hello messages from hello queue is failing.</span></span> <span data-ttu-id="1e6b4-395">Se um cliente de fila chama Olá **GetMessage** método falhar, mas toorespond com uma confirmação, mensagem de saudação continuará invisível em fila Olá até Olá **invisibilityTimeout** do período.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-395">If a queue client calls hello **GetMessage** method but fails toorespond with an acknowledgement, hello message will remain invisible on hello queue until hello **invisibilityTimeout** period expires.</span></span> <span data-ttu-id="1e6b4-396">Neste momento, a mensagem de saudação fica disponível para processar novamente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-396">At this point, hello message becomes available for processing again.</span></span>
* <span data-ttu-id="1e6b4-397">Verifique se o comprimento da fila Olá é crescer ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-397">Check if hello queue length is growing over time.</span></span> <span data-ttu-id="1e6b4-398">Isto pode ocorrer se não tiver tooprocess disponíveis suficientes do workers, todos os Olá mensagens outros funcionários estão a colocar em fila Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-398">This can occur if you do not have sufficient workers available tooprocess all of hello messages that other workers are placing on hello queue.</span></span> <span data-ttu-id="1e6b4-399">Também deve consultar Olá métricas toosee se estão a falhar pedidos de eliminação e Olá anular contagem de mensagens, que pode indicar repetido a mensagem de saudação toodelete tentativas falhadas.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-399">You should also check hello metrics toosee if delete requests are failing and hello dequeue count on messages, which might indicate repeated failed attempts toodelete hello message.</span></span>
* <span data-ttu-id="1e6b4-400">Examine Olá registos de registo de armazenamento para as operações de fila que tenham superior que o esperado **E2ELatency** e **ServerLatency** valores ao longo de um período de tempo que o habitual.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-400">Examine hello Storage Logging logs for any queue operations that have higher than expected **E2ELatency** and **ServerLatency** values over a longer period of time than usual.</span></span>

### <span data-ttu-id="1e6b4-401"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Métricas mostram um aumento no PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="1e6b4-401"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metrics show an increase in PercentThrottlingError</span></span>
<span data-ttu-id="1e6b4-402">Limitação erros ocorrem quando exceder os objetivos de escalabilidade Olá de um serviço de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-402">Throttling errors occur when you exceed hello scalability targets of a storage service.</span></span> <span data-ttu-id="1e6b4-403">serviço de armazenamento Olá não esta tooensure que nenhum cliente único ou inquilino pode utilizar o serviço de Olá em despesa Olá de terceiros.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-403">hello storage service does this tooensure that no single client or tenant can use hello service at hello expense of others.</span></span> <span data-ttu-id="1e6b4-404">Para obter mais informações, consulte <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">metas de desempenho e escalabilidade do Storage do Azure</a> para obter detalhes sobre metas de desempenho para partições dentro de contas de armazenamento e os objetivos de escalabilidade para contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-404">For more information, see <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage Scalability and Performance Targets</a> for details on scalability targets for storage accounts and performance targets for partitions within storage accounts.</span></span>

<span data-ttu-id="1e6b4-405">Se hello **PercentThrottlingError** métrica apresentar um aumento na percentagem de Olá de pedidos que estão a falhar com um erro de limitação, tem de tooinvestigate um dos dois cenários:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-405">If hello **PercentThrottlingError** metric show an increase in hello percentage of requests that are failing with a throttling error, you need tooinvestigate one of two scenarios:</span></span>

* <span data-ttu-id="1e6b4-406">[Aumento transitório PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-406">[Transient increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="1e6b4-407">[Aumento permanente PercentThrottlingError erro]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-407">[Permanent increase in PercentThrottlingError error]</span></span>

<span data-ttu-id="1e6b4-408">Um aumento de **PercentThrottlingError** ocorre frequentemente em Olá mesma hora como um aumento no número de Olá de pedidos de armazenamento ou quando são inicialmente carregar testar a sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-408">An increase in **PercentThrottlingError** often occurs at hello same time as an increase in hello number of storage requests, or when you are initially load testing your application.</span></span> <span data-ttu-id="1e6b4-409">Isto pode também manifesto do próprio no cliente Olá como "503 servidor ocupado" ou mensagens de estado HTTP "500 tempo limite da operação" de operações de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-409">This may also manifest itself in hello client as "503 Server Busy" or "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

#### <span data-ttu-id="1e6b4-410"><a name="transient-increase-in-PercentThrottlingError"></a>Aumento transitório PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="1e6b4-410"><a name="transient-increase-in-PercentThrottlingError"></a>Transient increase in PercentThrottlingError</span></span>
<span data-ttu-id="1e6b4-411">Se vir picos no valor Olá **PercentThrottlingError** que a operação com períodos de grande atividade para a aplicação Olá, deve implementar um back exponencial (não linear) desativar estratégia para tentativas no seu cliente: Isto irá reduzir a carga de imediato Olá na partição de Olá e ajudar a sua toosmooth aplicação os picos de tráfego.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-411">If you are seeing spikes in hello value of **PercentThrottlingError** that coincide with periods of high activity for hello application, you should implement an exponential (not linear) back off strategy for retries in your client: this will reduce hello immediate load on hello partition and help your application toosmooth out spikes in traffic.</span></span> <span data-ttu-id="1e6b4-412">Para obter mais informações sobre como as políticas de repetição de tooimplement utilizando Olá biblioteca de clientes de armazenamento, consulte <a href="http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx" target="_blank">Microsoft.WindowsAzure.Storage.RetryPolicies espaço de nomes</a> no MSDN.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-412">For more information about how tooimplement retry policies using hello Storage Client Library, see <a href="http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx" target="_blank">Microsoft.WindowsAzure.Storage.RetryPolicies Namespace</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-413">Também poderá ver picos no valor Olá **PercentThrottlingError** que não a operação com períodos de grande atividade para a aplicação Olá: Olá aqui na causa mais provável é o serviço de armazenamento de Olá mover partições tooimprove carga balanceamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-413">You may also see spikes in hello value of **PercentThrottlingError** that do not coincide with periods of high activity for hello application: hello most likely cause here is hello storage service moving partitions tooimprove load balancing.</span></span>
> 
> 

#### <span data-ttu-id="1e6b4-414"><a name="permanent-increase-in-PercentThrottlingError"></a>Aumento permanente PercentThrottlingError erro</span><span class="sxs-lookup"><span data-stu-id="1e6b4-414"><a name="permanent-increase-in-PercentThrottlingError"></a>Permanent increase in PercentThrottlingError error</span></span>
<span data-ttu-id="1e6b4-415">Se vir um valor consistentemente elevado para **PercentThrottlingError** seguir um aumento permanente os volumes de transação, ou quando estiver a efetuar o carregamento inicial testes na sua aplicação, em seguida, terá de tooevaluate como a aplicação está a utilizar as partições de armazenamento e se está a aproximar-se os objetivos de escalabilidade Olá para uma conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-415">If you are seeing a consistently high value for **PercentThrottlingError** following a permanent increase in your transaction volumes, or when you are performing your initial load tests on your application, then you need tooevaluate how your application is using storage partitions and whether it is approaching hello scalability targets for a storage account.</span></span> <span data-ttu-id="1e6b4-416">Por exemplo, se vir a limitação de erros de uma fila (que conta como uma única partição), em seguida, deve considerar a utilização transações de Olá filas adicionais toospread entre várias partições.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-416">For example, if you are seeing throttling errors on a queue (which counts as a single partition), then you should consider using additional queues toospread hello transactions across multiple partitions.</span></span> <span data-ttu-id="1e6b4-417">Se vir limitação erros numa tabela, terá de tooconsider um toospread de esquema de criação de partições diferente a utilizar as suas transações entre várias partições através da utilização de uma vasta gama de valores de chave de partição.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-417">If you are seeing throttling errors on a table, you need tooconsider using a different partitioning scheme toospread your transactions across multiple partitions by using a wider range of partition key values.</span></span> <span data-ttu-id="1e6b4-418">Uma causa comum deste problema é Olá preceder/acrescentar o padrão de anti onde selecionou data Olá como chave de partição Olá e, em seguida, todos os dados num dia específico é escrito tooone partição: sob carga, isto pode resultar num estrangulamento de escrita.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-418">One common cause of this issue is hello prepend/append anti-pattern where you select hello date as hello partition key and then all data on a particular day is written tooone partition: under load, this can result in a write bottleneck.</span></span> <span data-ttu-id="1e6b4-419">Deve considerar uma estrutura de criação de partições diferente ou avaliar se utilizando o blob storage pode ser a melhor solução.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-419">You should either consider a different partitioning design or evaluate whether using blob storage might be a better solution.</span></span> <span data-ttu-id="1e6b4-420">Também deve verificar se a limitação de Olá está a ocorrer em resultado picos de tráfego e investigar formas de suavização seu padrão de pedidos.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-420">You should also check if hello throttling is occurring as a result of spikes in your traffic and investigate ways of smoothing your pattern of requests.</span></span>

<span data-ttu-id="1e6b4-421">Deve ser em consideração os limites de escalabilidade Olá definido para a conta de armazenamento Olá se distribuir as suas transações entre várias partições.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-421">If you distribute your transactions across multiple partitions, you must still be aware of hello scalability limits set for hello storage account.</span></span> <span data-ttu-id="1e6b4-422">Por exemplo, se utilizou as dez filas cada máximo de Olá de processamento de 2.000 1KB mensagens em fila por segundo, serão no Olá limite geral de 20.000 mensagens em fila por segundo Olá conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-422">For example, if you used ten queues each processing hello maximum of 2,000 1KB messages per second, you will be at hello overall limit of 20,000 messages per second for hello storage account.</span></span> <span data-ttu-id="1e6b4-423">Se precisar de tooprocess mais de 20.000 entidades por segundo, deve considerar a utilização de várias contas de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-423">If you need tooprocess more than 20,000 entities per second, you should consider using multiple storage accounts.</span></span> <span data-ttu-id="1e6b4-424">Deve também tenha em consideração esse tamanho Olá dos seus pedidos e entidades tem um impacto no quando o serviço de armazenamento Olá acelera os seus clientes: Se tiver o maior pedidos e as entidades, pode ser limitadas mais cedo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-424">You should also bear in mind that hello size of your requests and entities has an impact on when hello storage service throttles your clients: if you have larger requests and entities, you may be throttled sooner.</span></span>

<span data-ttu-id="1e6b4-425">Estrutura da consulta ineficaz pode também fazer com que os limites de escalabilidade de Olá toohit para partições de tabela.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-425">Inefficient query design can also cause you toohit hello scalability limits for table partitions.</span></span> <span data-ttu-id="1e6b4-426">Por exemplo, uma consulta com um filtro que seleciona apenas uma percentagem de entidades de Olá numa partição, mas que analisa todas as entidades de Olá numa partição terá tooaccess cada entidade.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-426">For example, a query with a filter that only selects one percent of hello entities in a partition but that scans all hello entities in a partition will need tooaccess each entity.</span></span> <span data-ttu-id="1e6b4-427">Cada entidade ler contabilizará um número total de Olá de transações em dessa partição; Por conseguinte, pode facilmente alcançar os objetivos de escalabilidade Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-427">Every entity read will count towards hello total number of transactions in that partition; therefore, you can easily reach hello scalability targets.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-428">Os testes de desempenho devem ficar a saber de qualquer estruturas de consulta ineficaz na sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-428">Your performance testing should reveal any inefficient query designs in your application.</span></span>
> 
> 

### <span data-ttu-id="1e6b4-429"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Métricas mostram um aumento no PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="1e6b4-429"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metrics show an increase in PercentTimeoutError</span></span>
<span data-ttu-id="1e6b4-430">Métricas de apresentar um aumento no **PercentTimeoutError** para um dos seus serviços de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-430">Your metrics show an increase in **PercentTimeoutError** for one of your storage services.</span></span> <span data-ttu-id="1e6b4-431">Em Olá mesmo tempo, hello cliente recebe um elevado volume de mensagens de estado HTTP "500 tempo limite da operação" de operações de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-431">At hello same time, hello client receives a high volume of "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-432">Poderá ver erros de tempo limite temporariamente como serviço de armazenamento de Olá a carga de pedidos de saldos movendo um partição tooa novo servidor.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-432">You may see timeout errors temporarily as hello storage service load balances requests by moving a partition tooa new server.</span></span>
> 
> 

<span data-ttu-id="1e6b4-433">Olá **PercentTimeoutError** métrica é uma agregação de Olá seguir métricas: **ClientTimeoutError**, **AnonymousClientTimeoutError**,  **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, e **SASServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-433">hello **PercentTimeoutError** metric is an aggregation of hello following metrics: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, and **SASServerTimeoutError**.</span></span>

<span data-ttu-id="1e6b4-434">tempos limite de servidor Olá são causados por um erro no servidor de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-434">hello server timeouts are caused by an error on hello server.</span></span> <span data-ttu-id="1e6b4-435">tempos limite de cliente Olá acontecer porque uma operação no servidor de Olá excedeu o tempo limite de Olá especificado pelo cliente de Olá; Por exemplo, um cliente utilizando Olá biblioteca de clientes de armazenamento pode definir o limite de tempo para uma operação utilizando Olá **ServerTimeout** propriedade Olá **QueueRequestOptions** classe.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-435">hello client timeouts happen because an operation on hello server has exceeded hello timeout specified by hello client; for example, a client using hello Storage Client Library can set a timeout for an operation by using hello **ServerTimeout** property of hello **QueueRequestOptions** class.</span></span>

<span data-ttu-id="1e6b4-436">Tempos limite de servidor indicarem um problema com o serviço de armazenamento de Olá que requerem a investigação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-436">Server timeouts indicate a problem with hello storage service that requires further investigation.</span></span> <span data-ttu-id="1e6b4-437">Pode utilizar as métricas toosee se são atingir os limites de escalabilidade de Olá para serviço Olá e tooidentify qualquer picos de tráfego que poderá estar a causar o problema.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-437">You can use metrics toosee if you are hitting hello scalability limits for hello service and tooidentify any spikes in traffic that might be causing this problem.</span></span> <span data-ttu-id="1e6b4-438">Se o problema de Olá intermitente, pode ser devido balanceamento tooload atividade no serviço de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-438">If hello problem is intermittent, it may be due tooload-balancing activity in hello service.</span></span> <span data-ttu-id="1e6b4-439">Se o problema de Olá é persistente e não é causado pela sua aplicação atingir os limites de escalabilidade Olá do serviço de Olá, deve aumentar um problema de suporte.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-439">If hello problem is persistent and is not caused by your application hitting hello scalability limits of hello service, you should raise a support issue.</span></span> <span data-ttu-id="1e6b4-440">Para tempos limite de cliente, tem de decidir se Olá limite de tempo definido valor adequado tooan em cliente Olá e Olá ou altera o valor do tempo limite definido no cliente Olá ou investigar a forma como pode melhorar o desempenho de Olá das operações de Olá no serviço de armazenamento Olá, para exemplo por otimizar as consultas de tabela ou reduzir o tamanho de Olá das mensagens.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-440">For client timeouts, you must decide if hello timeout is set tooan appropriate value in hello client and either change hello timeout value set in hello client or investigate how you can improve hello performance of hello operations in hello storage service, for example by optimizing your table queries or reducing hello size of your messages.</span></span>

### <span data-ttu-id="1e6b4-441"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Métricas mostram um aumento no PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="1e6b4-441"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metrics show an increase in PercentNetworkError</span></span>
<span data-ttu-id="1e6b4-442">Métricas de apresentar um aumento no **PercentNetworkError** para um dos seus serviços de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-442">Your metrics show an increase in **PercentNetworkError** for one of your storage services.</span></span> <span data-ttu-id="1e6b4-443">Olá **PercentNetworkError** métrica é uma agregação de Olá seguir métricas: **NetworkError**, **AnonymousNetworkError**, e  **SASNetworkError**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-443">hello **PercentNetworkError** metric is an aggregation of hello following metrics: **NetworkError**, **AnonymousNetworkError**, and **SASNetworkError**.</span></span> <span data-ttu-id="1e6b4-444">Estes ocorrerem quando o serviço de armazenamento Olá Deteta um erro de rede quando Olá cliente faz um pedido de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-444">These occur when hello storage service detects a network error when hello client makes a storage request.</span></span>

<span data-ttu-id="1e6b4-445">Olá causa mais comum deste erro é um cliente desligar antes de um tempo limite expira no serviço de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-445">hello most common cause of this error is a client disconnecting before a timeout expires in hello storage service.</span></span> <span data-ttu-id="1e6b4-446">Deve investigar código Olá no seu toounderstand de cliente por que razão e quando o cliente de Olá desligar do serviço de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-446">You should investigate hello code in your client toounderstand why and when hello client disconnects from hello storage service.</span></span> <span data-ttu-id="1e6b4-447">Também pode utilizar o Wireshark, Microsoft Message Analyzer ou Tcping problemas de conectividade de rede tooinvestigate do cliente de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-447">You can also use Wireshark, Microsoft Message Analyzer, or Tcping tooinvestigate network connectivity issues from hello client.</span></span> <span data-ttu-id="1e6b4-448">Estas ferramentas estão descritas em Olá [Appendices].</span><span class="sxs-lookup"><span data-stu-id="1e6b4-448">These tools are described in hello [Appendices].</span></span>

### <span data-ttu-id="1e6b4-449"><a name="the-client-is-receiving-403-messages"></a>cliente de Olá está a receber mensagens HTTP 403 (proibido)</span><span class="sxs-lookup"><span data-stu-id="1e6b4-449"><a name="the-client-is-receiving-403-messages"></a>hello client is receiving HTTP 403 (Forbidden) messages</span></span>
<span data-ttu-id="1e6b4-450">Se a aplicação cliente que está a gerar erros de HTTP 403 (proibido), uma causa provável é que o cliente Olá estiver a utilizar um expirada acesso assinatura partilhado (SAS) quando envia um pedido de armazenamento (embora outras causas possíveis incluem as chaves inválido, dissimetrias do relógio e vazio cabeçalhos).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-450">If your client application is throwing HTTP 403 (Forbidden) errors, a likely cause is that hello client is using an expired Shared Access Signature (SAS) when it sends a storage request (although other possible causes include clock skew, invalid keys, and empty headers).</span></span> <span data-ttu-id="1e6b4-451">Se uma chave SAS expirada causa Olá, não visualizará quaisquer entradas de dados de registo do registo de armazenamento de lado do servidor da Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-451">If an expired SAS key is hello cause, you will not see any entries in hello server-side Storage Logging log data.</span></span> <span data-ttu-id="1e6b4-452">Olá tabela seguinte mostra um exemplo do registo do lado do cliente Olá gerado pelo Olá biblioteca de clientes do Storage que ilustra a ocorrer este problema:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-452">hello following table shows a sample from hello client-side log generated by hello Storage Client Library that illustrates this issue occurring:</span></span>

| <span data-ttu-id="1e6b4-453">Origem</span><span class="sxs-lookup"><span data-stu-id="1e6b4-453">Source</span></span> | <span data-ttu-id="1e6b4-454">Verbosidade</span><span class="sxs-lookup"><span data-stu-id="1e6b4-454">Verbosity</span></span> | <span data-ttu-id="1e6b4-455">Verbosidade</span><span class="sxs-lookup"><span data-stu-id="1e6b4-455">Verbosity</span></span> | <span data-ttu-id="1e6b4-456">Id do pedido de cliente</span><span class="sxs-lookup"><span data-stu-id="1e6b4-456">Client request id</span></span> | <span data-ttu-id="1e6b4-457">Texto de operação</span><span class="sxs-lookup"><span data-stu-id="1e6b4-457">Operation text</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="1e6b4-458">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1e6b4-458">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1e6b4-459">Informações</span><span class="sxs-lookup"><span data-stu-id="1e6b4-459">Information</span></span> |<span data-ttu-id="1e6b4-460">3</span><span class="sxs-lookup"><span data-stu-id="1e6b4-460">3</span></span> |<span data-ttu-id="1e6b4-461">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-461">85d077ab-…</span></span> |<span data-ttu-id="1e6b4-462">Iniciar a operação com a localização principal por PrimaryOnly do modo de localização.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-462">Starting operation with location Primary per location mode PrimaryOnly.</span></span> |
| <span data-ttu-id="1e6b4-463">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1e6b4-463">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1e6b4-464">Informações</span><span class="sxs-lookup"><span data-stu-id="1e6b4-464">Information</span></span> |<span data-ttu-id="1e6b4-465">3</span><span class="sxs-lookup"><span data-stu-id="1e6b4-465">3</span></span> |<span data-ttu-id="1e6b4-466">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-466">85d077ab -…</span></span> |<span data-ttu-id="1e6b4-467">Iniciar síncrona pedido toohttps://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr = c&amp;Tama = mypolicy&amp;sig = OFnd4Rd7z01fIvh % 2BmcR6zbudIH2F5Ikm % 2FyhNYZEmJNQ % 3D&amp;api-version = 2014-02-14.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-467">Starting synchronous request toohttps://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14.</span></span> |
| <span data-ttu-id="1e6b4-468">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1e6b4-468">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1e6b4-469">Informações</span><span class="sxs-lookup"><span data-stu-id="1e6b4-469">Information</span></span> |<span data-ttu-id="1e6b4-470">3</span><span class="sxs-lookup"><span data-stu-id="1e6b4-470">3</span></span> |<span data-ttu-id="1e6b4-471">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-471">85d077ab -…</span></span> |<span data-ttu-id="1e6b4-472">A aguardar resposta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-472">Waiting for response.</span></span> |
| <span data-ttu-id="1e6b4-473">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1e6b4-473">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1e6b4-474">Aviso</span><span class="sxs-lookup"><span data-stu-id="1e6b4-474">Warning</span></span> |<span data-ttu-id="1e6b4-475">2</span><span class="sxs-lookup"><span data-stu-id="1e6b4-475">2</span></span> |<span data-ttu-id="1e6b4-476">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-476">85d077ab -…</span></span> |<span data-ttu-id="1e6b4-477">Excepção emitida ao aguardar pela resposta: Olá o servidor remoto devolveu um erro: proibido (403)...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-477">Exception thrown while waiting for response: hello remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="1e6b4-478">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1e6b4-478">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1e6b4-479">Informações</span><span class="sxs-lookup"><span data-stu-id="1e6b4-479">Information</span></span> |<span data-ttu-id="1e6b4-480">3</span><span class="sxs-lookup"><span data-stu-id="1e6b4-480">3</span></span> |<span data-ttu-id="1e6b4-481">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-481">85d077ab -…</span></span> |<span data-ttu-id="1e6b4-482">Resposta recebida.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-482">Response received.</span></span> <span data-ttu-id="1e6b4-483">Código de estado = 403, ID do pedido = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-483">Status code = 403, Request ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1e6b4-484">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1e6b4-484">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1e6b4-485">Aviso</span><span class="sxs-lookup"><span data-stu-id="1e6b4-485">Warning</span></span> |<span data-ttu-id="1e6b4-486">2</span><span class="sxs-lookup"><span data-stu-id="1e6b4-486">2</span></span> |<span data-ttu-id="1e6b4-487">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-487">85d077ab -…</span></span> |<span data-ttu-id="1e6b4-488">Ocorreu uma excepção durante a operação de Olá: Olá o servidor remoto devolveu um erro: proibido (403)...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-488">Exception thrown during hello operation: hello remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="1e6b4-489">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1e6b4-489">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1e6b4-490">Informações</span><span class="sxs-lookup"><span data-stu-id="1e6b4-490">Information</span></span> |<span data-ttu-id="1e6b4-491">3</span><span class="sxs-lookup"><span data-stu-id="1e6b4-491">3</span></span> |<span data-ttu-id="1e6b4-492">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-492">85d077ab -…</span></span> |<span data-ttu-id="1e6b4-493">A verificar se a operação de Olá deve ser repetida.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-493">Checking if hello operation should be retried.</span></span> <span data-ttu-id="1e6b4-494">Contagem de tentativas = 0, código de estado HTTP 403, exceção de = = Olá de servidor remoto devolvida um erro: proibido (403)...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-494">Retry count = 0, HTTP status code = 403, Exception = hello remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="1e6b4-495">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1e6b4-495">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1e6b4-496">Informações</span><span class="sxs-lookup"><span data-stu-id="1e6b4-496">Information</span></span> |<span data-ttu-id="1e6b4-497">3</span><span class="sxs-lookup"><span data-stu-id="1e6b4-497">3</span></span> |<span data-ttu-id="1e6b4-498">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-498">85d077ab -…</span></span> |<span data-ttu-id="1e6b4-499">foi definida a localização seguinte do Olá tooPrimary, com base no modo de localização de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-499">hello next location has been set tooPrimary, based on hello location mode.</span></span> |
| <span data-ttu-id="1e6b4-500">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1e6b4-500">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1e6b4-501">Erro</span><span class="sxs-lookup"><span data-stu-id="1e6b4-501">Error</span></span> |<span data-ttu-id="1e6b4-502">1</span><span class="sxs-lookup"><span data-stu-id="1e6b4-502">1</span></span> |<span data-ttu-id="1e6b4-503">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-503">85d077ab -…</span></span> |<span data-ttu-id="1e6b4-504">Política de repetição não permitiu para uma nova tentativa.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-504">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="1e6b4-505">Falha do servidor remoto Olá devolveu um erro: proibido (403).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-505">Failing with hello remote server returned an error: (403) Forbidden.</span></span> |

<span data-ttu-id="1e6b4-506">Neste cenário, deve investigar por que motivo Olá SAS token irá expirar antes do cliente de Olá envia o servidor de token toohello Olá:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-506">In this scenario, you should investigate why hello SAS token is expiring before hello client sends hello token toohello server:</span></span>

* <span data-ttu-id="1e6b4-507">Normalmente, não deverá definir uma hora de início quando cria um SAS para um cliente toouse imediatamente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-507">Typically, you should not set a start time when you create a SAS for a client toouse immediately.</span></span> <span data-ttu-id="1e6b4-508">Se existirem pequeno relógio diferenças entre o anfitrião de Olá gerar através de SAS Olá Olá hora atual e o serviço de armazenamento de Olá, em seguida, é possível Olá armazenamento serviço tooreceive uma SAS que ainda não é válida.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-508">If there are small clock differences between hello host generating hello SAS using hello current time and hello storage service, then it is possible for hello storage service tooreceive a SAS that is not yet valid.</span></span>
* <span data-ttu-id="1e6b4-509">Não deve definir um período de tempo muito curto expiração numa SAS.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-509">You should not set a very short expiry time on a SAS.</span></span> <span data-ttu-id="1e6b4-510">Novamente, relógio pequeno as diferenças entre os anfitriões de Olá gerar Olá SAS e o serviço de armazenamento Olá pode levar tooa SAS parecer expira anteriormente que o antecipado.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-510">Again, small clock differences between hello host generating hello SAS and hello storage service can lead tooa SAS apparently expiring earlier than anticipated.</span></span>
* <span data-ttu-id="1e6b4-511">Olá parâmetro de versão na chave SAS Olá (por exemplo **sv = 2012-02-12**) versão Olá de correspondência de Olá biblioteca de clientes do Storage que está a utilizar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-511">Does hello version parameter in hello SAS key (for example **sv=2012-02-12**) match hello version of hello Storage Client Library you are using.</span></span> <span data-ttu-id="1e6b4-512">Deve sempre utilizar a versão mais recente do Olá do Olá biblioteca de clientes de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-512">You should always use hello latest version of hello Storage Client Library.</span></span> <span data-ttu-id="1e6b4-513">Para obter mais informações sobre o controlo de versões de token SAS, consulte [que há de novo para o armazenamento do Microsoft Azure](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/14/what-s-new-for-microsoft-azure-storage-at-teched-2014.aspx).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-513">For more information about SAS token versioning, see [What's new for Microsoft Azure Storage](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/14/what-s-new-for-microsoft-azure-storage-at-teched-2014.aspx).</span></span>
* * <span data-ttu-id="1e6b4-514">Se voltar a gerar as chaves de acesso de armazenamento (clique **gerir chaves de acesso** em qualquer página na sua conta do storage no Portal clássico do Azure de Olá) Isto pode invalidar quaisquer tokens SAS existentes.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-514">If you regenerate your storage access keys (click **Manage Access Keys** on any page in your storage account in hello Azure Classic Portal) this can invalidate any existing SAS tokens.</span></span> <span data-ttu-id="1e6b4-515">Isto pode ser um problema se gerar tokens SAS com um tempo de expiração longo para toocache de aplicações de cliente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-515">This may be an issue if you generate SAS tokens with a long expiry time for client applications toocache.</span></span>

<span data-ttu-id="1e6b4-516">Se estiver a utilizar tokens de SAS do Olá biblioteca de clientes de armazenamento toogenerate, em seguida, é fácil toobuild um token válido.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-516">If you are using hello Storage Client Library toogenerate SAS tokens, then it is easy toobuild a valid token.</span></span> <span data-ttu-id="1e6b4-517">No entanto, se estiver a utilizar Olá API REST do Storage e construir manualmente os tokens SAS Olá deve lê tópico Olá <a href="http://msdn.microsoft.com/library/azure/ee395415.aspx" target="_blank">delegar o acesso com uma assinatura de acesso partilhado</a> no MSDN.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-517">However, if you are using hello Storage REST API and constructing hello SAS tokens by hand you should carefully read hello topic <a href="http://msdn.microsoft.com/library/azure/ee395415.aspx" target="_blank">Delegating Access with a Shared Access Signature</a> on MSDN.</span></span>

### <span data-ttu-id="1e6b4-518"><a name="the-client-is-receiving-404-messages"></a>cliente de Olá está a receber mensagens HTTP 404 (não for encontrado)</span><span class="sxs-lookup"><span data-stu-id="1e6b4-518"><a name="the-client-is-receiving-404-messages"></a>hello client is receiving HTTP 404 (Not found) messages</span></span>
<span data-ttu-id="1e6b4-519">Se a aplicação de cliente Olá recebe uma mensagem de HTTP 404 (não for encontrado) do servidor de Olá, isto implica que Olá objeto Olá o cliente foi tentar toouse (por exemplo, uma entidade, tabelas, BLOBs, contentor ou filas) não existe no serviço de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-519">If hello client application receives an HTTP 404 (Not found) message from hello server, this implies that hello object hello client was attempting toouse (such as an entity, table, blob, container, or queue) does not exist in hello storage service.</span></span> <span data-ttu-id="1e6b4-520">Há uma série de razões possíveis para tal, tais como:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-520">There are a number of possible reasons for this, such as:</span></span>

* <span data-ttu-id="1e6b4-521">[cliente de Olá ou outro objeto de Olá de processo eliminado anteriormente]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-521">[hello client or another process previously deleted hello object]</span></span>
* <span data-ttu-id="1e6b4-522">[Um problema de autorização de assinatura de acesso partilhado (SAS)]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-522">[A Shared Access Signature (SAS) authorization issue]</span></span>
* <span data-ttu-id="1e6b4-523">[No código JavaScript do lado do cliente não tem o objeto de permissão de tooaccess Olá]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-523">[Client-side JavaScript code does not have permission tooaccess hello object]</span></span>
* <span data-ttu-id="1e6b4-524">[Falha de rede]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-524">[Network failure]</span></span>

#### <span data-ttu-id="1e6b4-525"><a name="client-previously-deleted-the-object"></a>cliente de Olá ou outro objeto de Olá de processo eliminado anteriormente</span><span class="sxs-lookup"><span data-stu-id="1e6b4-525"><a name="client-previously-deleted-the-object"></a>hello client or another process previously deleted hello object</span></span>
<span data-ttu-id="1e6b4-526">Em cenários onde Olá cliente está a tentar tooread, atualização ou eliminação de dados num serviço de armazenamento, normalmente, é fácil tooidentify no lado do servidor Olá regista uma operação anterior que eliminou o objeto de Olá em questão a partir do serviço de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-526">In scenarios where hello client is attempting tooread, update, or delete data in a storage service it is usually easy tooidentify in hello server-side logs a previous operation that deleted hello object in question from hello storage service.</span></span> <span data-ttu-id="1e6b4-527">Muito frequentemente, os dados de registo Olá mostram esse objeto de Olá eliminado outro utilizador ou processo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-527">Very often, hello log data shows that another user or process deleted hello object.</span></span> <span data-ttu-id="1e6b4-528">No registo de registo do armazenamento de lado do servidor de Olá, hello tipo de operação e pedida objeto-colunas chave mostram quando um cliente eliminado um objeto.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-528">In hello server-side Storage Logging log, hello operation-type and requested-object-key columns show when a client deleted an object.</span></span>

<span data-ttu-id="1e6b4-529">Cenário de Olá em que um cliente está a tentar tooinsert um objeto, poderá não ser imediatamente óbvios razão pela qual esta operação resulta numa resposta de HTTP 404 (não for encontrado) uma vez que hello cliente está a criar um novo objeto.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-529">In hello scenario where a client is attempting tooinsert an object, it may not be immediately obvious why this results in an HTTP 404 (Not found) response given that hello client is creating a new object.</span></span> <span data-ttu-id="1e6b4-530">No entanto, se o cliente de Olá está a criar um blob, tem de ser capaz de toofind contentor de BLOBs de Olá, se o cliente de Olá está a criar uma mensagem tem de ser capaz de toofind uma fila, e se o cliente de Olá é adicionar uma linha tem de ser capaz de toofind tabela de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-530">However, if hello client is creating a blob it must be able toofind hello blob container, if hello client is creating a message it must be able toofind a queue, and if hello client is adding a row it must be able toofind hello table.</span></span>

<span data-ttu-id="1e6b4-531">Pode utilizar o registo do lado do cliente Olá de Olá biblioteca de clientes de armazenamento toogain que um mais detalhadas compreensão dos quando o cliente de Olá envia pedidos específicos toohello serviço de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-531">You can use hello client-side log from hello Storage Client Library toogain a more detailed understanding of when hello client sends specific requests toohello storage service.</span></span>

<span data-ttu-id="1e6b4-532">Olá seguinte de lado do cliente de registo gerado pela biblioteca de clientes de armazenamento de Olá ilustra Olá problema quando o cliente de Olá não é possível localizar o contentor de Olá para BLOBs Olá que está a criar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-532">hello following client-side log generated by hello Storage Client library illustrates hello problem when hello client cannot find hello container for hello blob it is creating.</span></span> <span data-ttu-id="1e6b4-533">Este registo inclui detalhes de Olá seguintes operações de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-533">This log includes details of hello following storage operations:</span></span>

| <span data-ttu-id="1e6b4-534">ID do pedido</span><span class="sxs-lookup"><span data-stu-id="1e6b4-534">Request ID</span></span> | <span data-ttu-id="1e6b4-535">Operação</span><span class="sxs-lookup"><span data-stu-id="1e6b4-535">Operation</span></span> |
| --- | --- |
| <span data-ttu-id="1e6b4-536">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-536">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-537">**DeleteIfExists** contentor de blob do método toodelete Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-537">**DeleteIfExists** method toodelete hello blob container.</span></span> <span data-ttu-id="1e6b4-538">Tenha em atenção que esta operação inclui um **HEAD** toocheck quanto à existência de Olá do contentor de Olá do pedido.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-538">Note that this operation includes a **HEAD** request toocheck for hello existence of hello container.</span></span> |
| <span data-ttu-id="1e6b4-539">e2d06d78...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-539">e2d06d78…</span></span> |<span data-ttu-id="1e6b4-540">**CreateIfNotExists** contentor de blob do método toocreate Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-540">**CreateIfNotExists** method toocreate hello blob container.</span></span> <span data-ttu-id="1e6b4-541">Tenha em atenção que esta operação inclui um **HEAD** pedido que verifica a existência de Olá do contentor de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-541">Note that this operation includes a **HEAD** request that checks for hello existence of hello container.</span></span> <span data-ttu-id="1e6b4-542">Olá **HEAD** devolve uma mensagem 404, mas continua operacional.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-542">hello **HEAD** returns a 404 message but continues.</span></span> |
| <span data-ttu-id="1e6b4-543">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-543">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-544">**UploadFromStream** blob do método toocreate Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-544">**UploadFromStream** method toocreate hello blob.</span></span> <span data-ttu-id="1e6b4-545">Olá **colocar** pedido falha apresentando uma mensagem 404</span><span class="sxs-lookup"><span data-stu-id="1e6b4-545">hello **PUT** request fails with a 404 message</span></span> |

<span data-ttu-id="1e6b4-546">Entradas de registo:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-546">Log entries:</span></span>

| <span data-ttu-id="1e6b4-547">ID do pedido</span><span class="sxs-lookup"><span data-stu-id="1e6b4-547">Request ID</span></span> | <span data-ttu-id="1e6b4-548">Texto de operação</span><span class="sxs-lookup"><span data-stu-id="1e6b4-548">Operation Text</span></span> |
| --- | --- |
| <span data-ttu-id="1e6b4-549">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-549">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-550">A iniciar toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer pedido síncrono.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-550">Starting synchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="1e6b4-551">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-551">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-552">StringToSign = HEAD...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 03 de Jun de 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-552">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="1e6b4-553">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-553">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-554">A aguardar resposta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-554">Waiting for response.</span></span> |
| <span data-ttu-id="1e6b4-555">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-555">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-556">Resposta recebida.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-556">Response received.</span></span> <span data-ttu-id="1e6b4-557">Código de estado 200, ID do pedido de = = eeead849... Content-MD5 = ETag = &quot;0x8D14D2DC63D059B&quot;.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-557">Status code = 200, Request ID = eeead849-...Content-MD5 = , ETag =    &quot;0x8D14D2DC63D059B&quot;.</span></span> |
| <span data-ttu-id="1e6b4-558">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-558">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-559">Cabeçalhos de resposta foram processados com êxito, prosseguir com a restante Olá operação Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-559">Response headers were processed successfully, proceeding with hello rest of hello operation.</span></span> |
| <span data-ttu-id="1e6b4-560">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-560">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-561">Transferir o corpo da resposta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-561">Downloading response body.</span></span> |
| <span data-ttu-id="1e6b4-562">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-562">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-563">Operação concluída com êxito.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-563">Operation completed successfully.</span></span> |
| <span data-ttu-id="1e6b4-564">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-564">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-565">A iniciar toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer pedido síncrono.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-565">Starting synchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="1e6b4-566">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-566">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-567">StringToSign = DELETE...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 03 de Jun de 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-567">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="1e6b4-568">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-568">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-569">A aguardar resposta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-569">Waiting for response.</span></span> |
| <span data-ttu-id="1e6b4-570">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-570">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-571">Resposta recebida.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-571">Response received.</span></span> <span data-ttu-id="1e6b4-572">Código de estado = 202, ID do pedido = 6ab2a4cf-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-572">Status code = 202, Request ID = 6ab2a4cf-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1e6b4-573">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-573">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-574">Cabeçalhos de resposta foram processados com êxito, prosseguir com a restante Olá operação Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-574">Response headers were processed successfully, proceeding with hello rest of hello operation.</span></span> |
| <span data-ttu-id="1e6b4-575">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-575">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-576">Transferir o corpo da resposta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-576">Downloading response body.</span></span> |
| <span data-ttu-id="1e6b4-577">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-577">07b26a5d-...</span></span> |<span data-ttu-id="1e6b4-578">Operação concluída com êxito.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-578">Operation completed successfully.</span></span> |
| <span data-ttu-id="1e6b4-579">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-579">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-580">A iniciar toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer pedido assíncrono.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-580">Starting asynchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span></td> |
| <span data-ttu-id="1e6b4-581">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-581">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-582">StringToSign = HEAD...x-ms-client-request-id:e2d06d78-...x-ms-date:Tue, 03 de Jun de 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-582">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="1e6b4-583">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-583">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-584">A aguardar resposta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-584">Waiting for response.</span></span> |
| <span data-ttu-id="1e6b4-585">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-585">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-586">A iniciar toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt pedido síncrono.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-586">Starting synchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="1e6b4-587">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-587">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-588">StringToSign = PUT... 64.qCmF+TQLPhq/YYK50mP9ZQ==...x-MS-blob-type:BlockBlob.x-MS-Client-Request-ID:de8b1c3c-...x-MS-Date:TUE, 03 de Jun de 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-588">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="1e6b4-589">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-589">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-590">A preparar os dados de pedido de toowrite.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-590">Preparing toowrite request data.</span></span> |
| <span data-ttu-id="1e6b4-591">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-591">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-592">Excepção emitida ao aguardar pela resposta: Olá o servidor remoto devolveu um erro: (404) não encontrado...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-592">Exception thrown while waiting for response: hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="1e6b4-593">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-593">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-594">Resposta recebida.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-594">Response received.</span></span> <span data-ttu-id="1e6b4-595">Código de estado 404, ID do pedido de = = 353ae3bc-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-595">Status code = 404, Request ID = 353ae3bc-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1e6b4-596">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-596">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-597">Cabeçalhos de resposta foram processados com êxito, prosseguir com a restante Olá operação Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-597">Response headers were processed successfully, proceeding with hello rest of hello operation.</span></span> |
| <span data-ttu-id="1e6b4-598">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-598">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-599">Transferir o corpo da resposta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-599">Downloading response body.</span></span> |
| <span data-ttu-id="1e6b4-600">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-600">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-601">Operação concluída com êxito.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-601">Operation completed successfully.</span></span> |
| <span data-ttu-id="1e6b4-602">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-602">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-603">A iniciar toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer pedido assíncrono.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-603">Starting asynchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="1e6b4-604">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-604">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-605">StringToSign = PUT... 0...x-MS-Client-Request-ID:e2d06d78-...x-MS-Date:TUE, 03 de Jun de 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-605">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="1e6b4-606">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-606">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-607">A aguardar resposta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-607">Waiting for response.</span></span> |
| <span data-ttu-id="1e6b4-608">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-608">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-609">Escrever os dados no pedido.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-609">Writing request data.</span></span> |
| <span data-ttu-id="1e6b4-610">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-610">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-611">A aguardar resposta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-611">Waiting for response.</span></span> |
| <span data-ttu-id="1e6b4-612">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-612">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-613">Excepção emitida ao aguardar pela resposta: Olá o servidor remoto devolveu um erro: conflito (409)...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-613">Exception thrown while waiting for response: hello remote server returned an error: (409) Conflict..</span></span> |
| <span data-ttu-id="1e6b4-614">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-614">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-615">Resposta recebida.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-615">Response received.</span></span> <span data-ttu-id="1e6b4-616">Código de estado = 409, ID do pedido = c27da20e-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-616">Status code = 409, Request ID = c27da20e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1e6b4-617">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-617">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-618">Transferir o corpo da resposta de erro.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-618">Downloading error response body.</span></span> |
| <span data-ttu-id="1e6b4-619">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-619">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-620">Excepção emitida ao aguardar pela resposta: Olá o servidor remoto devolveu um erro: (404) não encontrado...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-620">Exception thrown while waiting for response: hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="1e6b4-621">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-621">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-622">Resposta recebida.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-622">Response received.</span></span> <span data-ttu-id="1e6b4-623">Código de estado 404, ID do pedido de = = 0eaeab3e-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-623">Status code = 404, Request ID = 0eaeab3e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1e6b4-624">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-624">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-625">Ocorreu uma excepção durante a operação de Olá: Olá o servidor remoto devolveu um erro: (404) não encontrado...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-625">Exception thrown during hello operation: hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="1e6b4-626">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-626">de8b1c3c-...</span></span> |<span data-ttu-id="1e6b4-627">Política de repetição não permitiu para uma nova tentativa.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-627">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="1e6b4-628">Falha do servidor remoto Olá devolveu um erro: (404) não encontrado...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-628">Failing with hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="1e6b4-629">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-629">e2d06d78-...</span></span> |<span data-ttu-id="1e6b4-630">Política de repetição não permitiu para uma nova tentativa.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-630">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="1e6b4-631">Falha do servidor remoto Olá devolveu um erro: conflito (409)...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-631">Failing with hello remote server returned an error: (409) Conflict..</span></span> |

<span data-ttu-id="1e6b4-632">Neste exemplo, o registo Olá mostra que o cliente Olá é interleaving pedidos de Olá **CreateIfNotExists** método (pedido id e2d06d78...), com pedidos de Olá de Olá **UploadFromStream** (método de8b1c3c-...); Isto acontece porque a aplicação de cliente Olá é a invocar estes métodos de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-632">In this example, hello log shows that hello client is interleaving requests from hello **CreateIfNotExists** method (request id e2d06d78…) with hello requests from hello **UploadFromStream** method (de8b1c3c-...); this is happening because hello client application is invoking these methods asynchronously.</span></span> <span data-ttu-id="1e6b4-633">Deve modificar o código assíncrona Olá Olá cliente tooensure que cria o contentor de Olá antes de tentar tooupload blob de tooa quaisquer dados no contentor.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-633">You should modify hello asynchronous code in hello client tooensure that it creates hello container before attempting tooupload any data tooa blob in that container.</span></span> <span data-ttu-id="1e6b4-634">Idealmente, deve criar todos os seus contentores antecipadamente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-634">Ideally, you should create all your containers in advance.</span></span>

#### <span data-ttu-id="1e6b4-635"><a name="SAS-authorization-issue"></a>Um problema de autorização de assinatura de acesso partilhado (SAS)</span><span class="sxs-lookup"><span data-stu-id="1e6b4-635"><a name="SAS-authorization-issue"></a>A Shared Access Signature (SAS) authorization issue</span></span>
<span data-ttu-id="1e6b4-636">Se a aplicação de cliente Olá tenta toouse uma chave SAS que não inclua as permissões necessárias Olá para a operação de Olá, o serviço de armazenamento Olá devolve um cliente de toohello de mensagem de HTTP 404 (não for encontrado).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-636">If hello client application attempts toouse a SAS key that does not include hello necessary permissions for hello operation, hello storage service returns an HTTP 404 (Not found) message toohello client.</span></span> <span data-ttu-id="1e6b4-637">Em Olá mesmo tempo, verá também um valor diferente de zero para **SASAuthorizationError** no métricas Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-637">At hello same time, you will also see a non-zero value for **SASAuthorizationError** in hello metrics.</span></span>

<span data-ttu-id="1e6b4-638">Olá, a tabela seguinte mostra uma mensagem de registo do lado do servidor de exemplo do ficheiro de registo do registo de armazenamento Olá:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-638">hello following table shows a sample server-side log message from hello Storage Logging log file:</span></span>

| <span data-ttu-id="1e6b4-639">Nome</span><span class="sxs-lookup"><span data-stu-id="1e6b4-639">Name</span></span> | <span data-ttu-id="1e6b4-640">Valor</span><span class="sxs-lookup"><span data-stu-id="1e6b4-640">Value</span></span> |
| --- | --- |
| <span data-ttu-id="1e6b4-641">Hora de início de pedido</span><span class="sxs-lookup"><span data-stu-id="1e6b4-641">Request start time</span></span> | <span data-ttu-id="1e6b4-642">2014-05-30T06:17:48.4473697Z</span><span class="sxs-lookup"><span data-stu-id="1e6b4-642">2014-05-30T06:17:48.4473697Z</span></span> |
| <span data-ttu-id="1e6b4-643">Tipo de operação</span><span class="sxs-lookup"><span data-stu-id="1e6b4-643">Operation type</span></span>     | <span data-ttu-id="1e6b4-644">GetBlobProperties</span><span class="sxs-lookup"><span data-stu-id="1e6b4-644">GetBlobProperties</span></span>            |
| <span data-ttu-id="1e6b4-645">Estado do pedido</span><span class="sxs-lookup"><span data-stu-id="1e6b4-645">Request status</span></span>     | <span data-ttu-id="1e6b4-646">SASAuthorizationError</span><span class="sxs-lookup"><span data-stu-id="1e6b4-646">SASAuthorizationError</span></span>        |
| <span data-ttu-id="1e6b4-647">Código de estado HTTP</span><span class="sxs-lookup"><span data-stu-id="1e6b4-647">HTTP status code</span></span>   | <span data-ttu-id="1e6b4-648">404</span><span class="sxs-lookup"><span data-stu-id="1e6b4-648">404</span></span>                          |
| <span data-ttu-id="1e6b4-649">Tipo de autenticação</span><span class="sxs-lookup"><span data-stu-id="1e6b4-649">Authentication type</span></span>| <span data-ttu-id="1e6b4-650">SAs</span><span class="sxs-lookup"><span data-stu-id="1e6b4-650">Sas</span></span>                          |
| <span data-ttu-id="1e6b4-651">Tipo de serviço</span><span class="sxs-lookup"><span data-stu-id="1e6b4-651">Service type</span></span>       | <span data-ttu-id="1e6b4-652">Blobs</span><span class="sxs-lookup"><span data-stu-id="1e6b4-652">Blob</span></span>                         |
| <span data-ttu-id="1e6b4-653">URL do pedido</span><span class="sxs-lookup"><span data-stu-id="1e6b4-653">Request URL</span></span>        | <span data-ttu-id="1e6b4-654">https://domemaildist.blob.Core.Windows.NET/azureimblobcontainer/blobCreatedViaSAS.txt</span><span class="sxs-lookup"><span data-stu-id="1e6b4-654">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span></span> |
| <span data-ttu-id="1e6b4-655">nbsp;</span><span class="sxs-lookup"><span data-stu-id="1e6b4-655">nbsp;</span></span>              |   <span data-ttu-id="1e6b4-656">? sv = 2014-02-14 & sr = Tama & c = mypolicy & sig = XXXXX&;api-version = 2014-02-14</span><span class="sxs-lookup"><span data-stu-id="1e6b4-656">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span></span> |
| <span data-ttu-id="1e6b4-657">Cabeçalho de id do pedido</span><span class="sxs-lookup"><span data-stu-id="1e6b4-657">Request id header</span></span>  | <span data-ttu-id="1e6b4-658">a1f348d5-8032-4912-93ef-b393e5252a3b</span><span class="sxs-lookup"><span data-stu-id="1e6b4-658">a1f348d5-8032-4912-93ef-b393e5252a3b</span></span> |
| <span data-ttu-id="1e6b4-659">ID do pedido de cliente</span><span class="sxs-lookup"><span data-stu-id="1e6b4-659">Client request ID</span></span>  | <span data-ttu-id="1e6b4-660">2d064953-8436-4ee0-aa0c-65cb874f7929</span><span class="sxs-lookup"><span data-stu-id="1e6b4-660">2d064953-8436-4ee0-aa0c-65cb874f7929</span></span> |

<span data-ttu-id="1e6b4-661">Deve investigar por que motivo está a tentar tooperform uma operação que tem não foram concedido permissões para a aplicação cliente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-661">You should investigate why your client application is attempting tooperform an operation it has not been granted permissions for.</span></span>

#### <span data-ttu-id="1e6b4-662"><a name="JavaScript-code-does-not-have-permission"></a>No código JavaScript do lado do cliente não tem o objeto de permissão de tooaccess Olá</span><span class="sxs-lookup"><span data-stu-id="1e6b4-662"><a name="JavaScript-code-does-not-have-permission"></a>Client-side JavaScript code does not have permission tooaccess hello object</span></span>
<span data-ttu-id="1e6b4-663">Se estiver a utilizar um cliente de JavaScript e serviço de armazenamento de Olá está a devolver mensagens HTTP 404, verifique se existem Olá seguintes erros de JavaScript no browser Olá:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-663">If you are using a JavaScript client and hello storage service is returning HTTP 404 messages, you check for hello following JavaScript errors in hello browser:</span></span>

```
SEC7120: Origin http://localhost:56309 not found in Access-Control-Allow-Origin header.
SCRIPT7002: XMLHttpRequest: Network Error 0x80070005, Access is denied.
```

> [!NOTE]
> <span data-ttu-id="1e6b4-664">Pode utilizar ferramentas de programador Olá F12 no Internet Explorer tootrace Olá mensagens trocadas entre o browser Olá e o serviço de armazenamento de Olá quando a resolução de problemas de JavaScript do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-664">You can use hello F12 Developer Tools in Internet Explorer tootrace hello messages exchanged between hello browser and hello storage service when you are troubleshooting client-side JavaScript issues.</span></span>
> 
> 

<span data-ttu-id="1e6b4-665">Estes erros ocorrerem porque o browser da web Olá implementa Olá <a href="http://www.w3.org/Security/wiki/Same_Origin_Policy" target="_blank">política da mesma origem</a> vêm de restrição de segurança que impede que uma página web chamar uma API num domínio diferente da página de Olá Olá domínio.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-665">These errors occur because hello web browser implements hello <a href="http://www.w3.org/Security/wiki/Same_Origin_Policy" target="_blank">same-origin policy</a> security restriction that prevents a web page from calling an API in a different domain from hello domain hello page comes from.</span></span>

<span data-ttu-id="1e6b4-666">toowork em torno Olá JavaScript problema, pode configurar cruzada origem Resource Sharing (CORS) para Olá armazenamento serviço Olá cliente está a aceder.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-666">toowork around hello JavaScript issue, you can configure Cross Origin Resource Sharing (CORS) for hello storage service hello client is accessing.</span></span> <span data-ttu-id="1e6b4-667">Para obter mais informações, consulte <a href="http://msdn.microsoft.com/library/azure/dn535601.aspx" target="_blank">suporte de partilha de recursos de várias origens (CORS) para serviços de armazenamento do Azure</a> no MSDN.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-667">For more information, see <a href="http://msdn.microsoft.com/library/azure/dn535601.aspx" target="_blank">Cross-Origin Resource Sharing (CORS) Support for Azure Storage Services</a> on MSDN.</span></span>

<span data-ttu-id="1e6b4-668">Olá, código de exemplo a seguir mostra como tooconfigure o blob service tooallow JavaScript em execução no Olá Contoso tooaccess de domínio um blob no seu serviço de armazenamento de BLOBs:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-668">hello following code sample shows how tooconfigure your blob service tooallow JavaScript running in hello Contoso domain tooaccess a blob in your blob storage service:</span></span>

```csharp
CloudBlobClient client = new CloudBlobClient(blobEndpoint, new StorageCredentials(accountName, accountKey));
// Set hello service properties.
ServiceProperties sp = client.GetServiceProperties();
sp.DefaultServiceVersion = "2013-08-15";
CorsRule cr = new CorsRule();
cr.AllowedHeaders.Add("*");
cr.AllowedMethods = CorsHttpMethods.Get | CorsHttpMethods.Put;
cr.AllowedOrigins.Add("http://www.contoso.com");
cr.ExposedHeaders.Add("x-ms-*");
cr.MaxAgeInSeconds = 5;
sp.Cors.CorsRules.Clear();
sp.Cors.CorsRules.Add(cr);
client.SetServiceProperties(sp);
```

#### <span data-ttu-id="1e6b4-669"><a name="network-failure"></a>Falha de rede</span><span class="sxs-lookup"><span data-stu-id="1e6b4-669"><a name="network-failure"></a>Network Failure</span></span>
<span data-ttu-id="1e6b4-670">Em algumas circunstâncias, pacotes de rede perdida podem levar toohello serviço de armazenamento que o cliente de toohello de mensagens HTTP 404.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-670">In some circumstances, lost network packets can lead toohello storage service returning HTTP 404 messages toohello client.</span></span> <span data-ttu-id="1e6b4-671">Por exemplo, quando a aplicação de cliente está a eliminar uma entidade do serviço de tabela Olá Consulte cliente Olá gerar um relatório de exceção de armazenamento um "HTTP 404 (não for encontrado)" mensagem de estado do serviço de tabela Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-671">For example, when your client application is deleting an entity from hello table service you see hello client throw a storage exception reporting an "HTTP 404 (Not Found)" status message from hello table service.</span></span> <span data-ttu-id="1e6b4-672">Quando estiver a investigar tabela Olá no serviço de armazenamento de tabela Olá, verá que o serviço de Olá eliminou entidade Olá conforme foi pedido.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-672">When you investigate hello table in hello table storage service, you see that hello service did delete hello entity as requested.</span></span>

<span data-ttu-id="1e6b4-673">Detalhes da exceção Olá no cliente Olá incluem o id de pedido de Olá (7e84f12d …) atribuído pelo serviço de tabela Olá para o pedido de Olá: pode utilizar este detalhes do pedido de informação toolocate Olá nos registos de armazenamento do lado do servidor de Olá procurando no Olá  **cabeçalho de id de pedido** coluna no ficheiro de registo Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-673">hello exception details in hello client include hello request id (7e84f12d…) assigned by hello table service for hello request: you can use this information toolocate hello request details in hello server-side storage logs by searching in hello **request-id-header** column in hello log file.</span></span> <span data-ttu-id="1e6b4-674">Também pode utilizar Olá métricas tooidentify quando falhas como esta situação ocorrer e, em seguida, procure os ficheiros de registo Olá com base em Olá tempo Olá métricas registadas este erro.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-674">You could also use hello metrics tooidentify when failures such as this occur and then search hello log files based on hello time hello metrics recorded this error.</span></span> <span data-ttu-id="1e6b4-675">Este mostra de entrada de registo Olá eliminação falhou com uma mensagem de estado de "Cliente outro erro HTTP (404)".</span><span class="sxs-lookup"><span data-stu-id="1e6b4-675">This log entry shows that hello delete failed with an "HTTP (404) Client Other Error" status message.</span></span> <span data-ttu-id="1e6b4-676">Olá mesmo entrada de registo também inclui o id do pedido Olá gerado pelo cliente Olá Olá **client-request-id** coluna (813ea74f...).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-676">hello same log entry also includes hello request id generated by hello client in hello **client-request-id** column (813ea74f…).</span></span>

<span data-ttu-id="1e6b4-677">registo do lado do servidor de Olá também inclui a entrada de outra com Olá mesmo **client-request-id** operação para eliminar o valor (813ea74f...) para um com êxito Olá mesma entidade e de Olá mesmo cliente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-677">hello server-side log also includes another entry with hello same **client-request-id** value (813ea74f…) for a successful delete operation for hello same entity, and from hello same client.</span></span> <span data-ttu-id="1e6b4-678">Esta operação de eliminação com êxito demorou local muito pouco tempo antes de Olá pedido de eliminação falhou.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-678">This successful delete operation took place very shortly before hello failed delete request.</span></span>

<span data-ttu-id="1e6b4-679">causa mais provável Olá este cenário é que o cliente Olá enviado um pedido de eliminação para o serviço tabela de Olá entidade toohello, que foi concluída com êxito, mas não recebeu uma confirmação do servidor de Olá (talvez devido tooa problema de temporários da rede).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-679">hello most likely cause of this scenario is that hello client sent a delete request for hello entity toohello table service, which succeeded, but did not receive an acknowledgement from hello server (perhaps due tooa temporary network issue).</span></span> <span data-ttu-id="1e6b4-680">cliente de Olá, em seguida, automaticamente repetida operação Olá (utilizando Olá mesmo **client-request-id**), e esta tentativa falhou porque a entidade de Olá já tinha sido eliminada.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-680">hello client then automatically retried hello operation (using hello same **client-request-id**), and this retry failed because hello entity had already been deleted.</span></span>

<span data-ttu-id="1e6b4-681">Se este problema ocorrer com frequência, deve investigar por que motivo está a falhar tooreceive confirmações do serviço de tabela Olá cliente Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-681">If this problem occurs frequently, you should investigate why hello client is failing tooreceive acknowledgements from hello table service.</span></span> <span data-ttu-id="1e6b4-682">Se o problema de Olá intermitente, deve trap erro de "HTTP (404) não encontrada" Olá e cliente Olá de sessão, mas permitir Olá toocontinue de cliente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-682">If hello problem is intermittent, you should trap hello "HTTP (404) Not Found" error and log it in hello client, but allow hello client toocontinue.</span></span>

### <span data-ttu-id="1e6b4-683"><a name="the-client-is-receiving-409-messages"></a>cliente de Olá está a receber mensagens de HTTP 409 (conflito)</span><span class="sxs-lookup"><span data-stu-id="1e6b4-683"><a name="the-client-is-receiving-409-messages"></a>hello client is receiving HTTP 409 (Conflict) messages</span></span>
<span data-ttu-id="1e6b4-684">Olá tabela seguinte mostra um extrair do registo do lado do servidor de Olá para duas operações de cliente: **DeleteIfExists** seguido imediatamente por **CreateIfNotExists** utilizando Olá o mesmo nome de contentor do blob.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-684">hello following table shows an extract from hello server-side log for two client operations: **DeleteIfExists** followed immediately by **CreateIfNotExists** using hello same blob container name.</span></span> <span data-ttu-id="1e6b4-685">Tenha em atenção que a operação de cada cliente resulta em duas pedidos enviados toohello server, primeiro um **GetContainerProperties** pedido toocheck existência do contentor de Olá, seguido de Olá **DeleteContainer** ou  **CreateContainer** pedido.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-685">Note that each client operation results in two requests sent toohello server, first a **GetContainerProperties** request toocheck if hello container exists, followed by hello **DeleteContainer** or **CreateContainer** request.</span></span>

| <span data-ttu-id="1e6b4-686">Timestamp</span><span class="sxs-lookup"><span data-stu-id="1e6b4-686">Timestamp</span></span> | <span data-ttu-id="1e6b4-687">Operação</span><span class="sxs-lookup"><span data-stu-id="1e6b4-687">Operation</span></span> | <span data-ttu-id="1e6b4-688">resultado</span><span class="sxs-lookup"><span data-stu-id="1e6b4-688">Result</span></span> | <span data-ttu-id="1e6b4-689">Nome do contentor</span><span class="sxs-lookup"><span data-stu-id="1e6b4-689">Container name</span></span> | <span data-ttu-id="1e6b4-690">Id do pedido de cliente</span><span class="sxs-lookup"><span data-stu-id="1e6b4-690">Client request id</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="1e6b4-691">05:10:13.7167225</span><span class="sxs-lookup"><span data-stu-id="1e6b4-691">05:10:13.7167225</span></span> |<span data-ttu-id="1e6b4-692">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="1e6b4-692">GetContainerProperties</span></span> |<span data-ttu-id="1e6b4-693">200</span><span class="sxs-lookup"><span data-stu-id="1e6b4-693">200</span></span> |<span data-ttu-id="1e6b4-694">mmcont</span><span class="sxs-lookup"><span data-stu-id="1e6b4-694">mmcont</span></span> |<span data-ttu-id="1e6b4-695">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-695">c9f52c89-…</span></span> |
| <span data-ttu-id="1e6b4-696">05:10:13.8167325</span><span class="sxs-lookup"><span data-stu-id="1e6b4-696">05:10:13.8167325</span></span> |<span data-ttu-id="1e6b4-697">DeleteContainer</span><span class="sxs-lookup"><span data-stu-id="1e6b4-697">DeleteContainer</span></span> |<span data-ttu-id="1e6b4-698">202</span><span class="sxs-lookup"><span data-stu-id="1e6b4-698">202</span></span> |<span data-ttu-id="1e6b4-699">mmcont</span><span class="sxs-lookup"><span data-stu-id="1e6b4-699">mmcont</span></span> |<span data-ttu-id="1e6b4-700">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-700">c9f52c89-…</span></span> |
| <span data-ttu-id="1e6b4-701">05:10:13.8987407</span><span class="sxs-lookup"><span data-stu-id="1e6b4-701">05:10:13.8987407</span></span> |<span data-ttu-id="1e6b4-702">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="1e6b4-702">GetContainerProperties</span></span> |<span data-ttu-id="1e6b4-703">404</span><span class="sxs-lookup"><span data-stu-id="1e6b4-703">404</span></span> |<span data-ttu-id="1e6b4-704">mmcont</span><span class="sxs-lookup"><span data-stu-id="1e6b4-704">mmcont</span></span> |<span data-ttu-id="1e6b4-705">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-705">bc881924-…</span></span> |
| <span data-ttu-id="1e6b4-706">05:10:14.2147723</span><span class="sxs-lookup"><span data-stu-id="1e6b4-706">05:10:14.2147723</span></span> |<span data-ttu-id="1e6b4-707">CreateContainer</span><span class="sxs-lookup"><span data-stu-id="1e6b4-707">CreateContainer</span></span> |<span data-ttu-id="1e6b4-708">409</span><span class="sxs-lookup"><span data-stu-id="1e6b4-708">409</span></span> |<span data-ttu-id="1e6b4-709">mmcont</span><span class="sxs-lookup"><span data-stu-id="1e6b4-709">mmcont</span></span> |<span data-ttu-id="1e6b4-710">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="1e6b4-710">bc881924-…</span></span> |

<span data-ttu-id="1e6b4-711">Olá código na aplicação de cliente Olá elimina e, em seguida, recria imediatamente um contentor do blob utilizando Olá mesmo nome: Olá **CreateIfNotExists** método (pedidos de cliente ID bc881924-...), eventualmente, falha com Olá HTTP 409 (conflito) erro.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-711">hello code in hello client application deletes and then immediately recreates a blob container using hello same name: hello **CreateIfNotExists** method (Client request ID bc881924-…) eventually fails with hello HTTP 409 (Conflict) error.</span></span> <span data-ttu-id="1e6b4-712">Quando um cliente Elimina contentores de BLOBs, tabelas ou filas que há um breve período antes de nome de Olá fica disponível novamente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-712">When a client deletes blob containers, tables, or queues there is a brief period before hello name becomes available again.</span></span>

<span data-ttu-id="1e6b4-713">aplicação de cliente Olá deve utilizar os nomes de contentor exclusivo sempre que cria novos contentores se o padrão de eliminação/recrie Olá é comum.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-713">hello client application should use unique container names whenever it creates new containers if hello delete/recreate pattern is common.</span></span>

### <span data-ttu-id="1e6b4-714"><a name="metrics-show-low-percent-success"></a>Métricas mostram PercentSuccess baixa ou entradas de registo de análise tem operações com o estado de transação de ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="1e6b4-714"><a name="metrics-show-low-percent-success"></a>Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors</span></span>
<span data-ttu-id="1e6b4-715">Olá **PercentSuccess** métrica captura a percentagem de Olá de operações que foram bem-sucedidas, com base no respetivo código de estado de HTTP.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-715">hello **PercentSuccess** metric captures hello percent of operations that were successful based on their HTTP Status Code.</span></span> <span data-ttu-id="1e6b4-716">Contagem de operações com códigos de estado de 2XX conclusão com êxito, enquanto as operações com códigos de estado no 3XX, 4XX 5XX intervalos são contadas como Olá sem e inferior **PercentSucess** valor métrico.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-716">Operations with status codes of 2XX count as successful, whereas operations with status codes in 3XX, 4XX and 5XX ranges are counted as unsuccessful and lower hello **PercentSucess** metric value.</span></span> <span data-ttu-id="1e6b4-717">Nos ficheiros de registo de armazenamento do lado do servidor de Olá, estas operações são registadas com um Estado de transação de **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-717">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span>

<span data-ttu-id="1e6b4-718">É importante toonote que estas operações concluíram com êxito e, por conseguinte, não afetam outras métricas, como a disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-718">It is important toonote that these operations have completed successfully and therefore do not affect other metrics such as availability.</span></span> <span data-ttu-id="1e6b4-719">Alguns exemplos de operações que ser executado com êxito, mas que pode resultar em códigos de estado HTTP sem incluem:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-719">Some examples of operations that execute successfully but that can result in unsuccessful HTTP status codes include:</span></span>

* <span data-ttu-id="1e6b4-720">**ResourceNotFound** (não foi encontrado 404), por exemplo de uma ação obter pedido tooa blob que não existe.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-720">**ResourceNotFound** (Not Found 404), for example from a GET request tooa blob that does not exist.</span></span>
* <span data-ttu-id="1e6b4-721">**ResouceAlreadyExists** (conflito 409), por exemplo a partir de um **CreateIfNotExist** operação onde o recurso de Olá já existe.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-721">**ResouceAlreadyExists** (Conflict 409), for example from a **CreateIfNotExist** operation where hello resource already exists.</span></span>
* <span data-ttu-id="1e6b4-722">**ConditionNotMet** (não modificados 304), por exemplo a partir de uma operação condicional, tais como quando um cliente envia um **ETag** valor e um HTTP **If-None-Match** cabeçalho toorequest uma imagem apenas se for foi atualizado desde a última operação de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-722">**ConditionNotMet** (Not Modified 304), for example from a conditional operation such as when a client sends an **ETag** value and an HTTP **If-None-Match** header toorequest an image only if it has been updated since hello last operation.</span></span>

<span data-ttu-id="1e6b4-723">Pode encontrar uma lista de códigos de erro de REST API comuns que os serviços de armazenamento de Olá devolvem página Olá <a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">códigos de erro da API de REST comuns</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-723">You can find a list of common REST API error codes that hello storage services return on hello page <a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Common REST API Error Codes</a>.</span></span>

### <span data-ttu-id="1e6b4-724"><a name="capacity-metrics-show-an-unexpected-increase"></a>Métricas de capacidade mostram um aumento inesperado na utilização da capacidade de armazenamento</span><span class="sxs-lookup"><span data-stu-id="1e6b4-724"><a name="capacity-metrics-show-an-unexpected-increase"></a>Capacity metrics show an unexpected increase in storage capacity usage</span></span>
<span data-ttu-id="1e6b4-725">Se vir repentino, alterações inesperadas na utilização da capacidade na sua conta de armazenamento, pode investigar motivos Olá observando primeiro as métricas de disponibilidade; Por exemplo, um aumento no número de Olá de pedidos de eliminação falhou pode originar tooan aumento na quantidade de Olá do armazenamento de BLOBs que estiver a utilizar como operações de limpeza específico de aplicação que poderá ter esperado toobe libertar espaço poderá não funcionar conforme esperado (na exemplo, porque os tokens SAS Olá utilizados para libertar espaço expiraram).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-725">If you see sudden, unexpected changes in capacity usage in your storage account, you can investigate hello reasons by first looking at your availability metrics; for example, an increase in hello number of failed delete requests might lead tooan increase in hello amount of blob storage you are using as application specific cleanup operations you might have expected toobe freeing up space may not be working as expected (for example, because hello SAS tokens used for freeing up space have expired).</span></span>

### <span data-ttu-id="1e6b4-726"><a name="you-are-experiencing-unexpected-reboots"></a>Estão a experienciar reinícios inesperados de Virtual Machines do Azure que tenham um grande número de VHDs ligados</span><span class="sxs-lookup"><span data-stu-id="1e6b4-726"><a name="you-are-experiencing-unexpected-reboots"></a>You are experiencing unexpected reboots of Azure Virtual Machines that have a large number of attached VHDs</span></span>
<span data-ttu-id="1e6b4-727">Se uma Máquina Virtual do Azure (VM) tem um grande número de VHDs anexados que se encontrem no Olá mesma conta de armazenamento, poderá exceder os objetivos de escalabilidade Olá para uma conta de armazenamento individuais causar Olá toofail VM.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-727">If an Azure Virtual Machine (VM) has a large number of attached VHDs that are in hello same storage account, you could exceed hello scalability targets for an individual storage account causing hello VM toofail.</span></span> <span data-ttu-id="1e6b4-728">Deve verificar as métricas de minuto Olá Olá conta de armazenamento (**TotalRequests**/**TotalIngress**/**TotalEgress**) para picos que exceder os objetivos de escalabilidade Olá para uma conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-728">You should check hello minute metrics for hello storage account (**TotalRequests**/**TotalIngress**/**TotalEgress**) for spikes that exceed hello scalability targets for a storage account.</span></span> <span data-ttu-id="1e6b4-729">Consulte a secção de Olá "[métricas mostram um aumento no PercentThrottlingError]" para a assistência para determinar se a limitação ocorreu na sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-729">See hello section "[Metrics show an increase in PercentThrottlingError]" for assistance in determining if throttling has occurred on your storage account.</span></span>

<span data-ttu-id="1e6b4-730">Em geral, cada entrada individuais ou a operação de saída num VHD de uma Máquina Virtual traduz demasiado**obter página** ou **colocar página** operações em Olá subjacente blob de página.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-730">In general, each individual input or output operation on a VHD from a Virtual Machine translates too**Get Page** or **Put Page** operations on hello underlying page blob.</span></span> <span data-ttu-id="1e6b4-731">Por conseguinte, pode utilizar Olá estimados IOPS para o ambiente tootune VHDs quantos pode numa única conta de armazenamento com base no comportamento específico de Olá da sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-731">Therefore, you can use hello estimated IOPS for your environment tootune how many VHDs you can have in a single storage account based on hello specific behavior of your application.</span></span> <span data-ttu-id="1e6b4-732">Não é recomendada a ter mais de 40 discos uma única conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-732">We do not recommend having more than 40 disks in a single storage account.</span></span> <span data-ttu-id="1e6b4-733">Consulte <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">metas de desempenho e escalabilidade do Storage do Azure</a> para obter detalhes sobre Olá atual os objetivos de escalabilidade para contas de armazenamento, em particular Olá pedido total velocidade total largura de banda e para o tipo de Olá da conta de armazenamento que está a utilizar .</span><span class="sxs-lookup"><span data-stu-id="1e6b4-733">See <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage Scalability and Performance Targets</a> for details of hello current scalability targets for storage accounts, in particular hello total request rate and total bandwidth for hello type of storage account you are using.</span></span>
<span data-ttu-id="1e6b4-734">Se está a exceder os objetivos de escalabilidade Olá para a sua conta de armazenamento, deve colocar os seus VHDs vários diferentes contas tooreduce Olá atividade de armazenamento em cada conta individual.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-734">If you are exceeding hello scalability targets for your storage account, you should place your VHDs in multiple different storage accounts tooreduce hello activity in each individual account.</span></span>

### <span data-ttu-id="1e6b4-735"><a name="your-issue-arises-from-using-the-storage-emulator"></a>O problema se for utilizar o emulador do storage Olá para programação ou testes</span><span class="sxs-lookup"><span data-stu-id="1e6b4-735"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Your issue arises from using hello storage emulator for development or test</span></span>
<span data-ttu-id="1e6b4-736">Normalmente, utilizar o emulador de armazenamento de Olá durante o desenvolvimento e teste o requisito de Olá tooavoid para uma conta de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-736">You typically use hello storage emulator during development and test tooavoid hello requirement for an Azure storage account.</span></span> <span data-ttu-id="1e6b4-737">problemas comuns de Olá que podem ocorrer quando estiver a utilizar o emulador do storage Olá são:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-737">hello common issues that can occur when you are using hello storage emulator are:</span></span>

* <span data-ttu-id="1e6b4-738">[Funcionalidade "X" não está a funcionar no emulador do storage Olá]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-738">[Feature "X" is not working in hello storage emulator]</span></span>
* <span data-ttu-id="1e6b4-739">[Erro "valor Olá para um dos cabeçalhos de Olá HTTP não está no formato correto Olá" quando utilizar Olá emulador de armazenamento]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-739">[Error "hello value for one of hello HTTP headers is not in hello correct format" when using hello storage emulator]</span></span>
* <span data-ttu-id="1e6b4-740">[Emulador de armazenamento Olá em execução é necessários privilégios administrativos]</span><span class="sxs-lookup"><span data-stu-id="1e6b4-740">[Running hello storage emulator requires administrative privileges]</span></span>

#### <span data-ttu-id="1e6b4-741"><a name="feature-X-is-not-working"></a>Funcionalidade "X" não está a funcionar no emulador do storage Olá</span><span class="sxs-lookup"><span data-stu-id="1e6b4-741"><a name="feature-X-is-not-working"></a>Feature "X" is not working in hello storage emulator</span></span>
<span data-ttu-id="1e6b4-742">emulador do storage Olá não suporta todas Olá funcionalidades dos serviços de armazenamento do Azure Olá, tais como o serviço de Olá de ficheiros.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-742">hello storage emulator does not support all of hello features of hello Azure storage services such as hello file service.</span></span> <span data-ttu-id="1e6b4-743">Para obter mais informações, consulte <a href="http://msdn.microsoft.com/library/azure/gg433135.aspx" target="_blank">diferenças entre Olá emulador de armazenamento e serviços de armazenamento do Azure</a> no MSDN.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-743">For more information, see <a href="http://msdn.microsoft.com/library/azure/gg433135.aspx" target="_blank">Differences Between hello Storage Emulator and Azure Storage Services</a> on MSDN.</span></span>

<span data-ttu-id="1e6b4-744">Para essas funcionalidades que Olá armazenamento emulador não suporta, utilize o serviço de armazenamento do Azure Olá na nuvem de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-744">For those features that hello storage emulator does not support, use hello Azure storage service in hello cloud.</span></span>

#### <span data-ttu-id="1e6b4-745"><a name="error-HTTP-header-not-correct-format"></a>Erro "valor Olá para um dos cabeçalhos de Olá HTTP não está no formato correto Olá" quando utilizar Olá emulador de armazenamento</span><span class="sxs-lookup"><span data-stu-id="1e6b4-745"><a name="error-HTTP-header-not-correct-format"></a>Error "hello value for one of hello HTTP headers is not in hello correct format" when using hello storage emulator</span></span>
<span data-ttu-id="1e6b4-746">Está a testar a aplicação que utilize Olá biblioteca de clientes de armazenamento contra Olá de chamadas de método e emulador de armazenamento local, como **CreateIfNotExists** falha com o erro de Olá uma mensagem "Olá valor para um dos cabeçalhos de Olá HTTP não é em formato correto Olá."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-746">You are testing your application that use hello Storage Client Library against hello local storage emulator and method calls such as **CreateIfNotExists** fail with hello error message "hello value for one of hello HTTP headers is not in hello correct format."</span></span> <span data-ttu-id="1e6b4-747">Isto indica que Olá versão do emulador do storage Olá estiver a utilizar não suporta a versão de Olá da biblioteca de clientes de armazenamento de Olá estiver a utilizar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-747">This indicates that hello version of hello storage emulator you are using does not support hello version of hello storage client library you are using.</span></span> <span data-ttu-id="1e6b4-748">Biblioteca de clientes de armazenamento de Olá adiciona cabeçalho Olá **x-ms-version** tooall Olá pedidos faz.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-748">hello Storage Client Library adds hello header **x-ms-version** tooall hello requests it makes.</span></span> <span data-ttu-id="1e6b4-749">Se o emulador do storage Olá não reconhece o valor Olá Olá **x-ms-version** cabeçalho, rejeita o pedido de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-749">If hello storage emulator does not recognize hello value in hello **x-ms-version** header, it rejects hello request.</span></span>

<span data-ttu-id="1e6b4-750">Pode utilizar valor Olá toosee de registos de cliente da biblioteca de armazenamento de Olá de Olá **cabeçalho x-ms-version** está a enviar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-750">You can use hello Storage Library Client logs toosee hello value of hello **x-ms-version header** it is sending.</span></span> <span data-ttu-id="1e6b4-751">Também pode ver o valor Olá Olá **cabeçalho x-ms-version** se utilizar a pedidos de Olá Fiddler tootrace da sua aplicação de cliente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-751">You can also see hello value of hello **x-ms-version header** if you use Fiddler tootrace hello requests from your client application.</span></span>

<span data-ttu-id="1e6b4-752">Este cenário ocorre normalmente se instalar e utilizar a versão mais recente do Olá do Olá biblioteca de clientes de armazenamento sem atualizar o emulador do storage Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-752">This scenario typically occurs if you install and use hello latest version of hello Storage Client Library without updating hello storage emulator.</span></span> <span data-ttu-id="1e6b4-753">Deve instalar a versão mais recente do Olá do emulador do storage Olá ou utilizar o armazenamento na nuvem em vez de emulador de Olá para desenvolvimento e teste.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-753">You should either install hello latest version of hello storage emulator, or use cloud storage instead of hello emulator for development and test.</span></span>

#### <span data-ttu-id="1e6b4-754"><a name="storage-emulator-requires-administrative-privileges"></a>Emulador de armazenamento Olá em execução é necessários privilégios administrativos</span><span class="sxs-lookup"><span data-stu-id="1e6b4-754"><a name="storage-emulator-requires-administrative-privileges"></a>Running hello storage emulator requires administrative privileges</span></span>
<span data-ttu-id="1e6b4-755">Lhe for pedido para as credenciais de administrador ao executar o emulador do storage Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-755">You are prompted for administrator credentials when you run hello storage emulator.</span></span> <span data-ttu-id="1e6b4-756">Isto só ocorre quando são inicializar emulador do storage Olá para Olá pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-756">This only occurs when you are initializing hello storage emulator for hello first time.</span></span> <span data-ttu-id="1e6b4-757">Depois de ter a inicializar o emulador do storage Olá, não precisa de privilégios administrativos toorun-a novamente.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-757">After you have initialized hello storage emulator, you do not need administrative privileges toorun it again.</span></span>

<span data-ttu-id="1e6b4-758">Para obter mais informações, consulte <a href="http://msdn.microsoft.com/library/azure/gg433132.aspx" target="_blank">inicializar Olá emulador do Storage por Olá utilizando a ferramenta de linha de comandos</a> no MSDN (também pode inicializar emulador do storage Olá no Visual Studio, o que também requer privilégios administrativos que).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-758">For more information, see <a href="http://msdn.microsoft.com/library/azure/gg433132.aspx" target="_blank">Initialize hello Storage Emulator by Using hello Command-Line Tool</a> on MSDN (you can also initialize hello storage emulator in Visual Studio, which will also require administrative privileges).</span></span>

### <span data-ttu-id="1e6b4-759"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>São encontrar problemas ao instalar Olá Azure SDK para .NET</span><span class="sxs-lookup"><span data-stu-id="1e6b4-759"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>You are encountering problems installing hello Azure SDK for .NET</span></span>
<span data-ttu-id="1e6b4-760">Quando tenta tooinstall Olá SDK, falha tentar tooinstall Olá emulador do storage no seu computador local.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-760">When you try tooinstall hello SDK, it fails trying tooinstall hello storage emulator on your local machine.</span></span> <span data-ttu-id="1e6b4-761">registo de instalação de Olá contém uma das seguintes mensagens de Olá:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-761">hello installation log contains one of hello following messages:</span></span>

* <span data-ttu-id="1e6b4-762">CAQuietExec: Erro: não é possível tooaccess a instância do SQL</span><span class="sxs-lookup"><span data-stu-id="1e6b4-762">CAQuietExec:  Error: Unable tooaccess SQL instance</span></span>
* <span data-ttu-id="1e6b4-763">CAQuietExec: Erro: não é possível toocreate base de dados</span><span class="sxs-lookup"><span data-stu-id="1e6b4-763">CAQuietExec:  Error: Unable toocreate database</span></span>

<span data-ttu-id="1e6b4-764">causa de Olá é um problema com a instalação existente de LocalDB.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-764">hello cause is an issue with existing LocalDB installation.</span></span> <span data-ttu-id="1e6b4-765">Por predefinição, o emulador do storage Olá utiliza LocalDB toopersist dados quando que simula serviços do storage do Azure Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-765">By default, hello storage emulator uses LocalDB toopersist data when it simulates hello Azure storage services.</span></span> <span data-ttu-id="1e6b4-766">Pode repor a sua instância da LocalDB executando Olá os seguintes comandos numa janela de linha de comandos antes de tentar tooinstall Olá SDK.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-766">You can reset your LocalDB instance by running hello following commands in a command-prompt window before trying tooinstall hello SDK.</span></span>

```
sqllocaldb stop v11.0
sqllocaldb delete v11.0
delete %USERPROFILE%\WAStorageEmulatorDb3*.*
sqllocaldb create v11.0
```

<span data-ttu-id="1e6b4-767">Olá **eliminar** comando remove quaisquer ficheiros de base de dados antigos de instalações anteriores do emulador de armazenamento Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-767">hello **delete** command removes any old database files from previous installations of hello storage emulator.</span></span>

### <span data-ttu-id="1e6b4-768"><a name="you-have-a-different-issue-with-a-storage-service"></a>Tem um problema com um serviço de armazenamento diferente</span><span class="sxs-lookup"><span data-stu-id="1e6b4-768"><a name="you-have-a-different-issue-with-a-storage-service"></a>You have a different issue with a storage service</span></span>
<span data-ttu-id="1e6b4-769">Se a secções de resolução de problemas anteriores Olá incluir o problema de Olá que estão a ter com um serviço de armazenamento, deve adotar Olá segue abordagem toodiagnosing e resolver o seu problema.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-769">If hello previous troubleshooting sections do not include hello issue you are having with a storage service, you should adopt hello following approach toodiagnosing and troubleshooting your issue.</span></span>

* <span data-ttu-id="1e6b4-770">Verifique o toosee métricas se existir qualquer alteração do seu comportamento esperado de linha de base.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-770">Check your metrics toosee if there is any change from your expected base-line behavior.</span></span> <span data-ttu-id="1e6b4-771">De métricas de Olá, poderá ser capaz de toodetermine se o problema de Olá é transitório ou permanente e as operações de armazenamento Olá problema está a afetar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-771">From hello metrics, you may be able toodetermine whether hello issue is transient or permanent, and which storage operations hello issue is affecting.</span></span>
* <span data-ttu-id="1e6b4-772">Pode utilizar informações de métricas de Olá toohelp procurar os dados de registo do lado do servidor para obter informações mais detalhadas sobre quaisquer erros que estão a ocorrer.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-772">You can use hello metrics information toohelp you search your server-side log data for more detailed information about any errors that are occurring.</span></span> <span data-ttu-id="1e6b4-773">Esta informação pode ajudar a resolver o problema de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-773">This information may help you troubleshoot and resolve hello issue.</span></span>
* <span data-ttu-id="1e6b4-774">Se as informações de Olá nos registos do lado do servidor de Olá não suficientes tootroubleshoot Olá problema com êxito, pode utilizar o comportamento Olá tooinvestigate de registos do lado do cliente de biblioteca de clientes de armazenamento de Olá da sua aplicação de cliente e ferramentas como o Fiddler, Wireshark, e o Microsoft Message Analyzer tooinvestigate sua rede.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-774">If hello information in hello server-side logs is not sufficient tootroubleshoot hello issue successfully, you can use hello Storage Client Library client-side logs tooinvestigate hello behavior of your client application, and tools such as Fiddler, Wireshark, and Microsoft Message Analyzer tooinvestigate your network.</span></span>

<span data-ttu-id="1e6b4-775">Para obter mais informações sobre como utilizar o Fiddler, consulte "[apêndice 1: o tráfego utilizando o Fiddler toocapture HTTP e HTTPS]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-775">For more information about using Fiddler, see "[Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic]."</span></span>

<span data-ttu-id="1e6b4-776">Para obter mais informações sobre como utilizar o Wireshark, consulte "[apêndice 2: o tráfego de rede utilizando o Wireshark toocapture]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-776">For more information about using Wireshark, see "[Appendix 2: Using Wireshark toocapture network traffic]."</span></span>

<span data-ttu-id="1e6b4-777">Para obter mais informações sobre como utilizar o Microsoft Message Analyzer, consulte "[apêndice 3: o tráfego de rede utilizando o Microsoft Message Analyzer toocapture]."</span><span class="sxs-lookup"><span data-stu-id="1e6b4-777">For more information about using Microsoft Message Analyzer, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]."</span></span>

## <span data-ttu-id="1e6b4-778"><a name="appendices"></a>Appendices</span><span class="sxs-lookup"><span data-stu-id="1e6b4-778"><a name="appendices"></a>Appendices</span></span>
<span data-ttu-id="1e6b4-779">appendices Olá descrevem várias ferramentas que poderão considerar úteis quando estiver a diagnosticar e resolver problemas com o Storage do Azure (e outros serviços).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-779">hello appendices describe several tools that you may find useful when you are diagnosing and troubleshooting issues with Azure Storage (and other services).</span></span> <span data-ttu-id="1e6b4-780">Estas ferramentas não fazem parte do armazenamento do Azure e alguns são produtos de terceiros.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-780">These tools are not part of Azure Storage and some are third-party products.</span></span> <span data-ttu-id="1e6b4-781">Como tal, as ferramentas de Olá abordadas estes appendices não são abrangidas por qualquer contrato de suporte que poderá ter com o Microsoft Azure ou o armazenamento do Azure e, por conseguinte, como parte do processo de avaliação, deve examinar Olá suporte e licenciamento opções disponíveis a partir do fornecedores de Olá destas ferramentas.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-781">As such, hello tools discussed in these appendices are not covered by any support agreement you may have with Microsoft Azure or Azure Storage, and therefore as part of your evaluation process you should examine hello licensing and support options available from hello providers of these tools.</span></span>

### <span data-ttu-id="1e6b4-782"><a name="appendix-1"></a>Apêndice 1: Utilizar o Fiddler toocapture HTTP e o tráfego HTTPS</span><span class="sxs-lookup"><span data-stu-id="1e6b4-782"><a name="appendix-1"></a>Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic</span></span>
<span data-ttu-id="1e6b4-783">Fiddler é uma ferramenta útil para analisar o tráfego HTTP e HTTPS Olá entre a sua aplicação cliente e Olá serviço de armazenamento do Azure que está a utilizar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-783">Fiddler is a useful tool for analyzing hello HTTP and HTTPS traffic between your client application and hello Azure storage service you are using.</span></span> <span data-ttu-id="1e6b4-784">Pode transferir o Fiddler de <a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-784">You can download Fiddler from <a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>.</span></span>

> [!NOTE]
> <span data-ttu-id="1e6b4-785">Fiddler capaz de descodificar tráfego HTTPS; deve ler documentação de Fiddler Olá cuidadosamente toounderstand como fazê-lo e as implicações de segurança de Olá toounderstand.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-785">Fiddler can decode HTTPS traffic; you should read hello Fiddler documentation carefully toounderstand how it does this, and toounderstand hello security implications.</span></span>
> 
> 

<span data-ttu-id="1e6b4-786">Este anexo fornece breve obter instruções sobre como tooconfigure Fiddler toocapture tráfego entre o computador local do olá onde instalou o Fiddler e Olá dos serviços de armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-786">This appendix provides a brief walkthrough of how tooconfigure Fiddler toocapture traffic between hello local machine where you have installed Fiddler and hello Azure storage services.</span></span>

<span data-ttu-id="1e6b4-787">Depois de ter sido iniciada Fiddler, irá começar a capturar o tráfego HTTP e HTTPS no seu computador local.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-787">After you have launched Fiddler, it will begin capturing HTTP and HTTPS traffic on your local machine.</span></span> <span data-ttu-id="1e6b4-788">Olá, são alguns comandos útil para controlar o Fiddler:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-788">hello following are some useful commands for controlling Fiddler:</span></span>

* <span data-ttu-id="1e6b4-789">Parar e iniciar a capturar o tráfego.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-789">Stop and start capturing traffic.</span></span> <span data-ttu-id="1e6b4-790">No menu principal Olá, aceda demasiado**ficheiro** e, em seguida, clique em **capturar tráfego** tootoggle capturar e desativar.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-790">On hello main menu, go too**File** and then click **Capture Traffic** tootoggle capturing on and off.</span></span>
* <span data-ttu-id="1e6b4-791">Guarde os dados de tráfego capturada.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-791">Save captured traffic data.</span></span> <span data-ttu-id="1e6b4-792">No menu principal Olá, aceda demasiado**ficheiro**, clique em **guardar**e, em seguida, clique em **todas as sessões**: Isto permite que o tráfego de Olá toosave num ficheiro de arquivo de sessão.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-792">On hello main menu, go too**File**, click **Save**, and then click **All Sessions**: this enables you toosave hello traffic in a Session Archive file.</span></span> <span data-ttu-id="1e6b4-793">Pode recarregar um arquivo de sessão mais tarde para uma análise ou enviá-lo se for pedida tooMicrosoft suporte.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-793">You can reload a Session Archive later for analysis, or send it if requested tooMicrosoft support.</span></span>

<span data-ttu-id="1e6b4-794">quantidade de Olá toolimit de tráfego que capture o Fiddler, pode utilizar filtros que configurar na Olá **filtros** Olá separador captura de ecrã a seguir mostra um filtro que capture apenas o tráfego enviado toohello  **contosoemaildist.TABLE.Core.Windows.NET** ponto final de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-794">toolimit hello amount of traffic that Fiddler captures, you can use filters that you configure in hello **Filters** tab. hello following screenshot shows a filter that captures only traffic sent toohello **contosoemaildist.table.core.windows.net** storage endpoint:</span></span>

![][5]

### <span data-ttu-id="1e6b4-795"><a name="appendix-2"></a>Apêndice 2: Tráfego de rede de toocapture Wireshark utilizando o</span><span class="sxs-lookup"><span data-stu-id="1e6b4-795"><a name="appendix-2"></a>Appendix 2: Using Wireshark toocapture network traffic</span></span>
<span data-ttu-id="1e6b4-796">Wireshark é um analisador de protocolos de rede que permite-lhe tooview informações detalhadas do pacote de uma vasta gama de protocolos de rede.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-796">Wireshark is a network protocol analyzer that enables you tooview detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="1e6b4-797">Pode transferir o Wireshark de <a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-797">You can download Wireshark from <a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>.</span></span>

<span data-ttu-id="1e6b4-798">Olá seguinte procedimento mostra como toocapture informações detalhadas do pacote de tráfego a partir do computador local olá onde instalou o serviço de tabela Wireshark toohello na sua conta do storage do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-798">hello following procedure shows you how toocapture detailed packet information for traffic from hello local machine where you installed Wireshark toohello table service in your Azure storage account.</span></span>

1. <span data-ttu-id="1e6b4-799">Inicie o Wireshark no seu computador local.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-799">Launch Wireshark on your local machine.</span></span>
2. <span data-ttu-id="1e6b4-800">No Olá **iniciar** secção, interface de rede local selecione Olá ou interfaces que são toohello ligado à internet.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-800">In hello **Start** section, select hello local network interface or interfaces that are connected toohello internet.</span></span>
3. <span data-ttu-id="1e6b4-801">Clique em **capturar opções**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-801">Click **Capture Options**.</span></span>
4. <span data-ttu-id="1e6b4-802">Adicionar um filtro toohello **capturar filtro** caixa de texto.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-802">Add a filter toohello **Capture Filter** textbox.</span></span> <span data-ttu-id="1e6b4-803">Por exemplo, **alojar contosoemaildist.table.core.windows.net** irá configurar o Wireshark toocapture apenas pacotes enviados tooor do ponto final do serviço de tabela Olá no Olá **contosoemaildist** armazenamento conta.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-803">For example, **host contosoemaildist.table.core.windows.net** will configure Wireshark toocapture only packets sent tooor from hello table service endpoint in hello **contosoemaildist** storage account.</span></span> <span data-ttu-id="1e6b4-804">Para uma lista completa dos filtros de capturar consulte <a href="http://wiki.wireshark.org/CaptureFilters" target="_blank">http://wiki.wireshark.org/CaptureFilters</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-804">For a complete list of Capture Filters see <a href="http://wiki.wireshark.org/CaptureFilters" target="_blank">http://wiki.wireshark.org/CaptureFilters</a>.</span></span>
   
   ![][6]
5. <span data-ttu-id="1e6b4-805">Clique em **iniciar**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-805">Click **Start**.</span></span> <span data-ttu-id="1e6b4-806">Wireshark agora irá capturar todos os tooor de envio de pacotes hello do ponto final do serviço de tabela Olá como utilizar a aplicação de cliente no seu computador local.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-806">Wireshark will now capture all hello packets send tooor from hello table service endpoint as you use your client application on your local machine.</span></span>
6. <span data-ttu-id="1e6b4-807">Quando tiver terminado, no Olá menu principal clique **capturar** e, em seguida, **parar**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-807">When you have finished, on hello main menu click **Capture** and then **Stop**.</span></span>
7. <span data-ttu-id="1e6b4-808">Olá toosave capturados dados num Wireshark capturar ficheiro, clique no menu principal de Olá **ficheiro** e, em seguida, **guardar**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-808">toosave hello captured data in a Wireshark Capture File, on hello main menu click **File** and then **Save**.</span></span>

<span data-ttu-id="1e6b4-809">WireShark dar destaque quaisquer erros que existem na Olá **packetlist** janela.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-809">WireShark will highlight any errors that exist in hello **packetlist** window.</span></span> <span data-ttu-id="1e6b4-810">Também pode utilizar Olá **especialista informações** janela (clique **analisar**, em seguida, **especialista informações**) tooview um resumo de erros e avisos.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-810">You can also use hello **Expert Info** window (click **Analyze**, then **Expert Info**) tooview a summary of errors and warnings.</span></span>

![][7]

<span data-ttu-id="1e6b4-811">Também pode selecionar dados TCP de Olá tooview como camada da aplicação Olá vê-lo ao clicar no Olá dados TCP e selecionando **siga fluxo TCP**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-811">You can also chose tooview hello TCP data as hello application layer sees it by right-clicking on hello TCP data and selecting **Follow TCP Stream**.</span></span> <span data-ttu-id="1e6b4-812">Isto é particularmente útil se capturou sua informação sem um filtro de captura.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-812">This is particularly useful if you captured your dump without a capture filter.</span></span> <span data-ttu-id="1e6b4-813">Consulte <a href="http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html" target="_blank">aqui</a> para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-813">See <a href="http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html" target="_blank">here</a> for more information.</span></span>

![][8]

> [!NOTE]
> <span data-ttu-id="1e6b4-814">Para obter mais informações sobre como utilizar o Wireshark, consulte Olá <a href="http://www.wireshark.org/docs/wsug_html_chunked/" target="_blank">Wireshark utilizadores guia</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-814">For more information about using Wireshark, see hello <a href="http://www.wireshark.org/docs/wsug_html_chunked/" target="_blank">Wireshark Users Guide</a>.</span></span>
> 
> 

### <span data-ttu-id="1e6b4-815"><a name="appendix-3"></a>Apêndice 3: Utilizar o tráfego de rede do Microsoft Message Analyzer toocapture</span><span class="sxs-lookup"><span data-stu-id="1e6b4-815"><a name="appendix-3"></a>Appendix 3: Using Microsoft Message Analyzer toocapture network traffic</span></span>
<span data-ttu-id="1e6b4-816">Pode utilizar o Microsoft Message Analyzer toocapture HTTP e o tráfego HTTPS num tooFiddler de forma semelhante e capturar o tráfego de rede num tooWireshark de forma semelhante.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-816">You can use Microsoft Message Analyzer toocapture HTTP and HTTPS traffic in a similar way tooFiddler, and capture network traffic in a similar way tooWireshark.</span></span>

#### <a name="configure-a-web-tracing-session-using-microsoft-message-analyzer"></a><span data-ttu-id="1e6b4-817">Configurar uma sessão de rastreio web utilizando o Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="1e6b4-817">Configure a web tracing session using Microsoft Message Analyzer</span></span>
<span data-ttu-id="1e6b4-818">tooconfigure uma sessão de rastreio web para o tráfego HTTP e HTTPS, utilizando o Microsoft Message Analyzer, executar Olá Microsoft Message Analyzer aplicação e, em seguida, no Olá **ficheiro** menu, clique em **captura/rastreio**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-818">tooconfigure a web tracing session for HTTP and HTTPS traffic using Microsoft Message Analyzer, run hello Microsoft Message Analyzer application and then on hello **File** menu, click **Capture/Trace**.</span></span> <span data-ttu-id="1e6b4-819">Na lista de Olá dos cenários de rastreio disponíveis, selecione **Web Proxy**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-819">In hello list of available trace scenarios, select **Web Proxy**.</span></span> <span data-ttu-id="1e6b4-820">Em seguida, no Olá **configuração de cenário de rastreio** painel, no Olá **HostnameFilter** caixa de texto, adicionar nomes de Olá dos seus pontos finais de armazenamento (que pode procurar estes nomes Olá Portal clássico do Azure).</span><span class="sxs-lookup"><span data-stu-id="1e6b4-820">Then in hello **Trace Scenario Configuration** panel, in hello **HostnameFilter** textbox, add hello names of your storage endpoints (you can look up these names in hello Azure Classic Portal).</span></span> <span data-ttu-id="1e6b4-821">Por exemplo, se hello o nome da sua conta de armazenamento do Azure é **contosodata**, deve adicionar Olá seguir toohello **HostnameFilter** caixa de texto:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-821">For example, if hello name of your Azure storage account is **contosodata**, you should add hello following toohello **HostnameFilter** textbox:</span></span>

```
contosodata.blob.core.windows.net contosodata.table.core.windows.net contosodata.queue.core.windows.net
```

> [!NOTE]
> <span data-ttu-id="1e6b4-822">Um caráter de espaço separa Olá nomes de anfitrião.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-822">A space character separates hello hostnames.</span></span>
> 
> 

<span data-ttu-id="1e6b4-823">Quando estiver pronto toostart recolha de dados de rastreio, clique em Olá **Start With** botão.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-823">When you are ready toostart collecting trace data, click hello **Start With** button.</span></span>

<span data-ttu-id="1e6b4-824">Para obter mais informações sobre Olá Microsoft Message Analyzer **Web Proxy** de rastreio, consulte <a href="http://technet.microsoft.com/library/jj674814.aspx" target="_blank">PEF WebProxy fornecedor</a> no TechNet.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-824">For more information about hello Microsoft Message Analyzer **Web Proxy** trace, see <a href="http://technet.microsoft.com/library/jj674814.aspx" target="_blank">PEF-WebProxy Provider</a> on TechNet.</span></span>

<span data-ttu-id="1e6b4-825">Olá incorporada **Web Proxy** trace no Microsoft Message Analyzer baseia-se no Fiddler; pode capturar o tráfego HTTPS do lado do cliente e apresentar mensagens HTTPS não encriptadas.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-825">hello built-in **Web Proxy** trace in Microsoft Message Analyzer is based on Fiddler; it can capture client-side HTTPS traffic and display unencrypted HTTPS messages.</span></span> <span data-ttu-id="1e6b4-826">Olá **Web Proxy** funciona ao configurar um proxy local para todos os tráfego HTTP e HTTPS, que concede-lhe acesso toounencrypted mensagens de rastreio.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-826">hello **Web Proxy** trace works by configuring a local proxy for all HTTP and HTTPS traffic that gives it access toounencrypted messages.</span></span>

#### <a name="diagnosing-network-issues-using-microsoft-message-analyzer"></a><span data-ttu-id="1e6b4-827">Diagnosticar problemas de rede com o Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="1e6b4-827">Diagnosing network issues using Microsoft Message Analyzer</span></span>
<span data-ttu-id="1e6b4-828">Além disso toousing Olá Microsoft Message Analyzer **Web Proxy** rastreio toocapture detalhes sobre Olá tráfego HTTP/HTTPs entre o serviço de armazenamento Olá e uma aplicação de cliente Olá, também pode utilizar incorporado Olá  **Camada de ligação local** toocapture informações de pacotes de rede de rastreio.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-828">In addition toousing hello Microsoft Message Analyzer **Web Proxy** trace toocapture details of hello HTTP/HTTPs traffic between hello client application and hello storage service, you can also use hello built-in **Local Link Layer** trace toocapture network packet information.</span></span> <span data-ttu-id="1e6b4-829">Este permite toocapture dados semelhantes toothat que pode capturar com o Wireshark e diagnosticar problemas de rede, tais como remover pacotes.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-829">This enables you toocapture data similar toothat which you can capture with Wireshark, and diagnose network issues such as dropped packets.</span></span>

<span data-ttu-id="1e6b4-830">Olá seguinte captura de ecrã mostra um exemplo **camada de ligação Local** rastreio com algumas **informativa** mensagens hello **DiagnosisTypes** coluna.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-830">hello following screenshot shows an example **Local Link Layer** trace with some **informational** messages in hello **DiagnosisTypes** column.</span></span> <span data-ttu-id="1e6b4-831">Clicar no ícone Olá **DiagnosisTypes** coluna mostra detalhes de Olá de mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-831">Clicking on an icon in hello **DiagnosisTypes** column shows hello details of hello message.</span></span> <span data-ttu-id="1e6b4-832">Neste exemplo, o servidor de Olá retransmissão mensagem #305 porque não recebeu uma confirmação de cliente de Olá:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-832">In this example, hello server retransmitted message #305 because it did not receive an acknowledgement from hello client:</span></span>

![][9]

<span data-ttu-id="1e6b4-833">Quando criar a sessão de rastreio Olá no Microsoft Message Analyzer, pode especificar os filtros tooreduce Olá do ruído no rastreio Olá.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-833">When you create hello trace session in Microsoft Message Analyzer, you can specify filters tooreduce hello amount of noise in hello trace.</span></span> <span data-ttu-id="1e6b4-834">No Olá **capturar / rastreio** página onde definir o rastreio de Olá, clique em Olá **configurar** ligação seguinte demasiado**Microsoft-Windows-NDIS-PacketCapture**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-834">On hello **Capture / Trace** page where you define hello trace, click on hello **Configure** link next too**Microsoft-Windows-NDIS-PacketCapture**.</span></span> <span data-ttu-id="1e6b4-835">Olá seguinte captura de ecrã mostra uma configuração de filtros de tráfego TCP para endereços IP Olá dos três serviços de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-835">hello following screenshot shows a configuration that filters TCP traffic for hello IP addresses of three storage services:</span></span>

![][10]

<span data-ttu-id="1e6b4-836">Para mais informações sobre Olá rastreio de camada de ligação Microsoft mensagem analisador Local, consulte <a href="http://technet.microsoft.com/library/jj659264.aspx" target="_blank">PEF-NDIS-PacketCapture fornecedor</a> no TechNet.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-836">For more information about hello Microsoft Message Analyzer Local Link Layer trace, see <a href="http://technet.microsoft.com/library/jj659264.aspx" target="_blank">PEF-NDIS-PacketCapture Provider</a> on TechNet.</span></span>

### <span data-ttu-id="1e6b4-837"><a name="appendix-4"></a>Apêndice 4: Utilizar tooview métricas e registo de dados do Excel</span><span class="sxs-lookup"><span data-stu-id="1e6b4-837"><a name="appendix-4"></a>Appendix 4: Using Excel tooview metrics and log data</span></span>
<span data-ttu-id="1e6b4-838">Diversas ferramentas permitem-lhe dados de métricas de armazenamento de Olá toodownload do table storage do Azure no formato delimitado que faz com que dados de Olá tooload fácil para o Excel para visualização e análise.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-838">Many tools enable you toodownload hello Storage Metrics data from Azure table storage in a delimited format that makes it easy tooload hello data into Excel for viewing and analysis.</span></span> <span data-ttu-id="1e6b4-839">Dados de registo de armazenamento do armazenamento de Blobs do Azure já estão no formato delimitado que pode carregar para o Excel.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-839">Storage Logging data from Azure blob storage is already in a delimited format that you can load into Excel.</span></span> <span data-ttu-id="1e6b4-840">No entanto, terá de cabeçalhos de coluna apropriado tooadd com base nas informações de Olá em <a href="http://msdn.microsoft.com/library/azure/hh343259.aspx" target="_blank">formato de registo de análise do armazenamento</a> e <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">armazenamento esquema da tabela de métricas de análise</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-840">However, you will need tooadd appropriate column headings based in hello information at <a href="http://msdn.microsoft.com/library/azure/hh343259.aspx" target="_blank">Storage Analytics Log Format</a> and <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a>.</span></span>

<span data-ttu-id="1e6b4-841">tooimport seu armazenamento dados do registo para o Excel depois transfiram-a partir do armazenamento de BLOBs:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-841">tooimport your Storage Logging data into Excel after you download it from blob storage:</span></span>

* <span data-ttu-id="1e6b4-842">No Olá **dados** menu, clique em **do texto**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-842">On hello **Data** menu, click **From Text**.</span></span>
* <span data-ttu-id="1e6b4-843">Procurar ficheiro de registo de toohello pretende tooview e clique em **importação**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-843">Browse toohello log file you want tooview and click **Import**.</span></span>
* <span data-ttu-id="1e6b4-844">No passo 1 Olá **Assistente de importação de texto**, selecione **delimitado**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-844">On step 1 of hello **Text Import Wizard**, select **Delimited**.</span></span>

<span data-ttu-id="1e6b4-845">No passo 1 Olá **Assistente de importação de texto**, selecione **ponto e vírgula** como Olá delimitador apenas e escolha double-aspa como Olá **qualificador de texto**.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-845">On step 1 of hello **Text Import Wizard**, select **Semicolon** as hello only delimiter and choose double-quote as hello **Text qualifier**.</span></span> <span data-ttu-id="1e6b4-846">Em seguida, clique em **concluir** e escolha onde tooplace Olá dados do seu livro.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-846">Then click **Finish** and choose where tooplace hello data in your workbook.</span></span>

### <span data-ttu-id="1e6b4-847"><a name="appendix-5"></a>Apêndice 5: Monitorizar com o Application Insights para Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="1e6b4-847"><a name="appendix-5"></a>Appendix 5: Monitoring with Application Insights for Visual Studio Team Services</span></span>
<span data-ttu-id="1e6b4-848">Também pode utilizar a funcionalidade do Olá Application Insights para Visual Studio Team Services como parte da sua monitorização de desempenho e disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-848">You can also use hello Application Insights feature for Visual Studio Team Services as part of your performance and availability monitoring.</span></span> <span data-ttu-id="1e6b4-849">Esta ferramenta pode:</span><span class="sxs-lookup"><span data-stu-id="1e6b4-849">This tool can:</span></span>

* <span data-ttu-id="1e6b4-850">Certifique-se de que o serviço web está disponível e reativa.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-850">Make sure your web service is available and responsive.</span></span> <span data-ttu-id="1e6b4-851">Se a aplicação é um web site ou uma aplicação de dispositivo que utiliza um serviço web, este pode testar o URL de cada alguns minutos a partir de localizações em torno Olá mundo e informá-lo se houver um problema.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-851">Whether your app is a web site or a device app that uses a web service, it can test your URL every few minutes from locations around hello world, and let you know if there's a problem.</span></span>
* <span data-ttu-id="1e6b4-852">Diagnostique rapidamente quaisquer problemas de desempenho ou exceções no seu serviço web.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-852">Quickly diagnose any performance issues or exceptions in your web service.</span></span> <span data-ttu-id="1e6b4-853">Determinar se estão a ser transferidos da CPU ou de outros recursos, obter rastreios de pilha de exceções e facilmente procurar rastreios de registo.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-853">Find out if CPU or other resources are being stretched, get stack traces from exceptions, and easily search through log traces.</span></span> <span data-ttu-id="1e6b4-854">Se hello remoções de desempenho da aplicação abaixo limites aceitáveis, podemos enviar um e-mail.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-854">If hello app's performance drops below acceptable limits, we can send you an email.</span></span> <span data-ttu-id="1e6b4-855">Pode monitorizar os serviços web .NET e Java.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-855">You can monitor both .NET and Java web services.</span></span>

<span data-ttu-id="1e6b4-856">Em Olá momento da escrita Application Insights está em pré-visualização.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-856">At hello time of writing Application Insights is in preview.</span></span> <span data-ttu-id="1e6b4-857">Pode encontrar mais informações em <a href="http://msdn.microsoft.com/library/azure/dn481095.aspx" target="_blank">Application Insights para Visual Studio Team Services no MSDN</a>.</span><span class="sxs-lookup"><span data-stu-id="1e6b4-857">You can find more information at <a href="http://msdn.microsoft.com/library/azure/dn481095.aspx" target="_blank">Application Insights for Visual Studio Team Services on MSDN</a>.</span></span>

<!--Anchors-->
[Introdução]: #introduction
[Como este guia está organizado]: #how-this-guide-is-organized

[monitorização do seu serviço de armazenamento]: #monitoring-your-storage-service
[Monitorização de estado de funcionamento do serviço]: #monitoring-service-health
[Capacidade de monitorização]: #monitoring-capacity
[Monitorização de disponibilidade]: #monitoring-availability
[Monitorização do desempenho]: #monitoring-performance

[diagnosticar problemas de armazenamento]: #diagnosing-storage-issues
[Problemas de estado de funcionamento de serviço]: #service-health-issues
[Problemas de desempenho]: #performance-issues
[Erros de diagnóstico]: #diagnosing-errors
[Problemas de emulador de armazenamento]: #storage-emulator-issues
[Ferramentas de registo de armazenamento]: #storage-logging-tools
[Utilizar ferramentas de registo de rede]: #using-network-logging-tools

[rastreio ponto-a-ponto]: #end-to-end-tracing
[Correlacionar dados de registo]: #correlating-log-data
[ID do pedido de cliente]: #client-request-id
[ID do pedido de servidor]: #server-request-id
[Carimbos]: #timestamps

[orientações de resolução de problemas]: #troubleshooting-guidance
[métricas mostram AverageE2ELatency alta e baixa AverageServerLatency]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency
[Métricas mostram AverageE2ELatency baixa e baixa AverageServerLatency mas cliente Olá está com latência elevada]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency
[As métricas apresentam uma AverageServerLatency alta]: #metrics-show-high-AverageServerLatency
[Ocorrem atrasos inesperados na entrega de mensagens numa fila]: #you-are-experiencing-unexpected-delays-in-message-delivery

[métricas mostram um aumento no PercentThrottlingError]: #metrics-show-an-increase-in-PercentThrottlingError
[Aumento transitório PercentThrottlingError]: #transient-increase-in-PercentThrottlingError
[Aumento permanente PercentThrottlingError erro]: #permanent-increase-in-PercentThrottlingError
[métricas mostram um aumento no PercentTimeoutError]: #metrics-show-an-increase-in-PercentTimeoutError
[As métricas apresentam um aumento do PercentNetworkError]: #metrics-show-an-increase-in-PercentNetworkError

[cliente de Olá está a receber mensagens HTTP 403 (proibido)]: #the-client-is-receiving-403-messages
[cliente de Olá está a receber mensagens HTTP 404 (não for encontrado)]: #the-client-is-receiving-404-messages
[cliente de Olá ou outro objeto de Olá de processo eliminado anteriormente]: #client-previously-deleted-the-object
[Um problema de autorização de assinatura de acesso partilhado (SAS)]: #SAS-authorization-issue
[No código JavaScript do lado do cliente não tem o objeto de permissão de tooaccess Olá]: #JavaScript-code-does-not-have-permission
[Falha de rede]: #network-failure
[cliente de Olá está a receber mensagens de HTTP 409 (conflito)]: #the-client-is-receiving-409-messages

[métricas mostram PercentSuccess baixa ou entradas de registo de análise de ter operações com Estado de transação de ClientOtherErrors]: #metrics-show-low-percent-success
[Métricas de capacidade mostram um aumento inesperado na utilização da capacidade de armazenamento]: #capacity-metrics-show-an-unexpected-increase
[Estão a experienciar inesperados reinícios das máquinas virtuais que tenham um grande número de VHDs ligados]: #you-are-experiencing-unexpected-reboots
[O problema se for utilizar o emulador do storage Olá para programação ou testes]: #your-issue-arises-from-using-the-storage-emulator
[Funcionalidade "X" não está a funcionar no emulador do storage Olá]: #feature-X-is-not-working
[Erro "valor Olá para um dos cabeçalhos de Olá HTTP não está no formato correto Olá" quando utilizar Olá emulador de armazenamento]: #error-HTTP-header-not-correct-format
[Emulador de armazenamento Olá em execução é necessários privilégios administrativos]: #storage-emulator-requires-administrative-privileges
[São encontrar problemas ao instalar Olá Azure SDK para .NET]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK
[Tem um problema com um serviço de armazenamento diferente]: #you-have-a-different-issue-with-a-storage-service

[Appendices]: #appendices
[apêndice 1: o tráfego utilizando o Fiddler toocapture HTTP e HTTPS]: #appendix-1
[apêndice 2: o tráfego de rede utilizando o Wireshark toocapture]: #appendix-2
[apêndice 3: o tráfego de rede utilizando o Microsoft Message Analyzer toocapture]: #appendix-3
[Apêndice 4: Utilizar tooview métricas e registo de dados do Excel]: #appendix-4
[apêndice 5: monitorizar com o Application Insights para Visual Studio Team Services]: #appendix-5

<!--Image references-->
[1]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/overview.png
[2]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/portal-screenshot.png
[3]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/hour-minute-metrics.png
[4]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/high-e2e-latency.png
[5]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/fiddler-screenshot.png
[6]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-1.png
[7]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-2.png
[8]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-3.png
[9]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/mma-screenshot-1.png
[10]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/mma-screenshot-2.png
