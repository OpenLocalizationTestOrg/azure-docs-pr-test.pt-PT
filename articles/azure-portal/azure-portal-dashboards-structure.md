---
title: A estrutura dos Dashboards do Azure | Microsoft Docs
description: Este artigo explica a estrutura JSON de um Dashboard do Azure
services: azure-portal
documentationcenter: 
author: adamab
manager: timlt
editor: tysonn
ms.service: azure-portal
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: na
ms.date: 09/01/2017
ms.author: adamab
ms.openlocfilehash: f71ff9383f20a1a75fd2c1cf4dc3aaf049d970cf
ms.sourcegitcommit: a5f16c1e2e0573204581c072cf7d237745ff98dc
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 12/11/2017
---
# <a name="the-structure-of-azure-dashboards"></a>A estrutura dos Dashboards do Azure
Este documento explica a estrutura de um dashboard do Azure, utilizando o dashboard seguinte como exemplo:

![dashboard de exemplo](./media/azure-portal-dashboards-structure/sample-dashboard.png)

Uma vez que partilhado [dashboards do Azure s√£o recursos](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview), este dashboard pode ser representado como JSON.  O JSON seguinte representa o dashboard visualizado acima.

```json

{
    "properties": {
        "lenses": {
            "0": {
                "order": 0,
                "parts": {
                    "0": {
                        "position": {
                            "x": 0,
                            "y": 0,
                            "rowSpan": 2,
                            "colSpan": 3
                        },
                        "metadata": {
                            "inputs": [],
                            "type": "Extension[azure]/HubsExtension/PartType/MarkdownPart",
                            "settings": {
                                "content": {
                                    "settings": {
                                        "content": "## Azure Virtual Machines Overview\r\nNew team members should watch this video to get familiar with Azure Virtual Machines.",
                                        "title": "",
                                        "subtitle": ""
                                    }
                                }
                            }
                        }
                    },
                    "1": {
                        "position": {
                            "x": 3,
                            "y": 0,
                            "rowSpan": 4,
                            "colSpan": 8
                        },
                        "metadata": {
                            "inputs": [],
                            "type": "Extension[azure]/HubsExtension/PartType/MarkdownPart",
                            "settings": {
                                "content": {
                                    "settings": {
                                        "content": "This is the team dashboard for the test VM we use on our team. Here are some useful links:\r\n\r\n1. [Getting started](https://www.contoso.com/tsgs)\r\n1. [Troubleshooting guide](https://www.contoso.com/tsgs)\r\n1. [Architecture docs](https://www.contoso.com/tsgs)",
                                        "title": "Test VM Dashboard",
                                        "subtitle": "Contoso"
                                    }
                                }
                            }
                        }
                    },
                    "2": {
                        "position": {
                            "x": 0,
                            "y": 2,
                            "rowSpan": 2,
                            "colSpan": 3
                        },
                        "metadata": {
                            "inputs": [],
                            "type": "Extension[azure]/HubsExtension/PartType/VideoPart",
                            "settings": {
                                "content": {
                                    "settings": {
                                        "title": "",
                                        "subtitle": "",
                                        "src": "https://www.youtube.com/watch?v=YcylDIiKaSU&list=PLLasX02E8BPCsnETz0XAMfpLR1LIBqpgs&index=4",
                                        "autoplay": false
                                    }
                                }
                            }
                        }
                    },
                    "3": {
                        "position": {
                            "x": 0,
                            "y": 4,
                            "rowSpan": 3,
                            "colSpan": 11
                        },
                        "metadata": {
                            "inputs": [
                                {
                                    "name": "queryInputs",
                                    "value": {
                                        "timespan": {
                                            "duration": "PT1H",
                                            "start": null,
                                            "end": null
                                        },
                                        "id": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1",
                                        "chartType": 0,
                                        "metrics": [
                                            {
                                                "name": "Percentage CPU",
                                                "resourceId": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                                            }
                                        ]
                                    }
                                }
                            ],
                            "type": "Extension/Microsoft_Azure_Monitoring/PartType/MetricsChartPart",
                            "settings": {}
                        }
                    },
                    "4": {
                        "position": {
                            "x": 0,
                            "y": 7,
                            "rowSpan": 2,
                            "colSpan": 3
                        },
                        "metadata": {
                            "inputs": [
                                {
                                    "name": "queryInputs",
                                    "value": {
                                        "timespan": {
                                            "duration": "PT1H",
                                            "start": null,
                                            "end": null
                                        },
                                        "id": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1",
                                        "chartType": 0,
                                        "metrics": [
                                            {
                                                "name": "Disk Read Operations/Sec",
                                                "resourceId": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                                            },
                                            {
                                                "name": "Disk Write Operations/Sec",
                                                "resourceId": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                                            }
                                        ]
                                    }
                                }
                            ],
                            "type": "Extension/Microsoft_Azure_Monitoring/PartType/MetricsChartPart",
                            "settings": {}
                        }
                    },
                    "5": {
                        "position": {
                            "x": 3,
                            "y": 7,
                            "rowSpan": 2,
                            "colSpan": 3
                        },
                        "metadata": {
                            "inputs": [
                                {
                                    "name": "queryInputs",
                                    "value": {
                                        "timespan": {
                                            "duration": "PT1H",
                                            "start": null,
                                            "end": null
                                        },
                                        "id": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1",
                                        "chartType": 0,
                                        "metrics": [
                                            {
                                                "name": "Disk Read Bytes",
                                                "resourceId": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                                            },
                                            {
                                                "name": "Disk Write Bytes",
                                                "resourceId": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                                            }
                                        ]
                                    }
                                }
                            ],
                            "type": "Extension/Microsoft_Azure_Monitoring/PartType/MetricsChartPart",
                            "settings": {}
                        }
                    },
                    "6": {
                        "position": {
                            "x": 6,
                            "y": 7,
                            "rowSpan": 2,
                            "colSpan": 3
                        },
                        "metadata": {
                            "inputs": [
                                {
                                    "name": "queryInputs",
                                    "value": {
                                        "timespan": {
                                            "duration": "PT1H",
                                            "start": null,
                                            "end": null
                                        },
                                        "id": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1",
                                        "chartType": 0,
                                        "metrics": [
                                            {
                                                "name": "Network In",
                                                "resourceId": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                                            },
                                            {
                                                "name": "Network Out",
                                                "resourceId": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                                            }
                                        ]
                                    }
                                }
                            ],
                            "type": "Extension/Microsoft_Azure_Monitoring/PartType/MetricsChartPart",
                            "settings": {}
                        }
                    },
                    "7": {
                        "position": {
                            "x": 9,
                            "y": 7,
                            "rowSpan": 2,
                            "colSpan": 2
                        },
                        "metadata": {
                            "inputs": [
                                {
                                    "name": "id",
                                    "value": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                                }
                            ],
                            "type": "Extension/Microsoft_Azure_Compute/PartType/VirtualMachinePart",
                            "asset": {
                                "idInputName": "id",
                                "type": "VirtualMachine"
                            },
                            "defaultMenuItemId": "overview"
                        }
                    }
                }
            }
        },
        "metadata": {
            "model": {
                "timeRange": {
                    "value": {
                        "relative": {
                            "duration": 24,
                            "timeUnit": 1
                        }
                    },
                    "type": "MsPortalFx.Composition.Configuration.ValueTypes.TimeRange"
                }
            }
        }
    },
    "id": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/dashboards/providers/Microsoft.Portal/dashboards/aa9786ae-e159-483f-b05f-1f7f767741a9",
    "name": "aa9786ae-e159-483f-b05f-1f7f767741a9",
    "type": "Microsoft.Portal/dashboards",
    "location": "eastasia",
    "tags": {
        "hidden-title": "Created via API"
    }
}

```

## <a name="common-resource-properties"></a>Propriedades comuns de recursos

Vamos dividir as sec√ß√µes relevantes de JSON.  As propriedades de n√≠vel superior, __id__, __nome__, __tipo__, __localiza√ß√£o__, e __etiquetas__ s√£o propriedades partilhado entre todos os tipos de recursos do Azure. Ou seja, n√£o t√™m muito com conte√∫do do dashboard.

### <a name="the-id-property"></a>A propriedade de id

O id de recurso do Azure, requerente para o [conven√ß√µes de recursos do Azure de nomenclatura](https://docs.microsoft.com/azure/architecture/best-practices/naming-conventions). Quando o portal cria um dashboard escolhe geralmente um id sob a forma de um guid, mas √© livres de utilizar um nome v√°lido ao cri√°-los atrav√©s de programa√ß√£o. 

### <a name="the-name-property"></a>A propriedade de nome
O nome √© o segmento de recurso Id que n√£o inclua a subscri√ß√£o, tipo de recurso ou informa√ß√µes do grupo de recursos. Essencialmente, √© o √∫ltimo segmento do id do recurso.

### <a name="the-type-property"></a>A propriedade de tipo
Todos os dashboards s√£o do tipo __Microsoft.Portal/dashboards__.

### <a name="the-location-property"></a>A propriedade de localiza√ß√£o
Ao contr√°rio de outros recursos, dashboards n√£o tem um componente de tempo de execu√ß√£o.  Para dashboards, a localiza√ß√£o indica a localiza√ß√£o geogr√°fica prim√°ria que armazena a representa√ß√£o JSON do dashboard. O valor deve ser um dos c√≥digos de localiza√ß√£o que podem ser obtidos utilizando o [localiza√ß√µes API no recurso de subscri√ß√µes](https://docs.microsoft.com/rest/api/resources/subscriptions).

### <a name="the-tags-property"></a>A propriedade de etiquetas
As etiquetas s√£o uma funcionalidade comum de recursos do Azure que lhe permitem organizar os seus recursos por pares de valor de nome arbitr√°rios. Para dashboards, h√° um tag especial chamado __t√≠tulo oculto__. Se o dashboard tem esta propriedade preenchida, em seguida, √© utilizado como o nome a apresentar para o seu dashboard no portal. N√£o n√£o poss√≠vel mudar o nome de Ids de recurso do Azure, mas podem etiquetas. Esta etiqueta d√°-lhe uma forma de ter um nome a apresentar renamable para o seu dashboard.

`"tags": { "hidden-title": "Created via API" }`

### <a name="the-properties-object"></a>O objeto de propriedades
O objeto de propriedades cont√©m duas propriedades, __as lentes__ e __metadados__. O __as lentes__ propriedade cont√©m informa√ß√µes sobre os mosaicos (a.k.a. partes) no dashboard.  O __metadados__ propriedade existe para potenciais funcionalidades futuras.

### <a name="the-lenses-property"></a>A propriedade as lentes
O __as lentes__ propriedade cont√©m o dashboard. Tenha em aten√ß√£o que o lentes objeto neste exemplo cont√©m uma propriedade de √∫nico denominada "0". As lentes s√£o um conceito de agrupamento que n√£o est√° atualmente implementado nos dashboards. Por agora, todos os seus dashboards ter esta propriedade de √∫nico do objeto de lente, novamente, chamada "0".

### <a name="the-lens-object"></a>O objeto de lente
O objeto por baixo de "0" cont√©m duas propriedades, __ordem__ e __partes__.  Na vers√£o atual do dashboards, __ordem__ √© sempre 0. O __partes__ propriedade cont√©m um objeto que define os componentes individuais (a.k.a. os mosaicos) no dashboard.

O __partes__ objeto cont√©m uma propriedade para cada parte, onde o nome da propriedade √© um n√∫mero. Este n√∫mero n√£o √© significativo. 

### <a name="the-part-object"></a>O objeto de parte
Cada objeto de parte individuais tem um __posi√ß√£o__, e __metadados__.

### <a name="the-position-object"></a>O objeto de posi√ß√£o
O __posi√ß√£o__ propriedade cont√©m as informa√ß√µes de tamanho e localiza√ß√£o para a parte expresso como __x__, __y__, __rowSpan__e __colSpan__. Os valores est√£o em termos de unidades de grelha. Estas unidades de grelha est√£o vis√≠veis ao dashboard est√° no modo de personalizar, conforme mostrado aqui. Se pretender que um mosaico para ter uma largura de duas unidades de grelha, uma altura da unidade de uma grelha e uma localiza√ß√£o na parte superior esquerda canto do dashboard, em seguida, o obejct posi√ß√£o tem o seguinte aspeto:

`location: { x: 0, y: 0, rowSpan: 2, colSpan: 1 }`

![unidades de grelha](./media/azure-portal-dashboards-structure/grid-units.png)

### <a name="the-metadata-object"></a>O objeto de metadados
Cada parte tem uma propriedade de metadados, um objeto tem apenas uma propriedade necess√°ria chamada __tipo__. Esta cadeia informa o portal que mosaico para mostrar. A nossa dashboard de exemplo utiliza estes tipos de mosaicos:


1. `Extension/Microsoft_Azure_Monitoring/PartType/MetricsChartPart`‚Äì Utilizada para mostrar as m√©tricas de monitoriza√ß√£o
1. `Extension[azure]/HubsExtension/PartType/MarkdownPart`‚Äì Utilizada para mostrar com texto ou as imagens com formata√ß√£o b√°sico de listas, liga√ß√µes, etc.
1. `Extension[azure]/HubsExtension/PartType/VideoPart`‚Äì Utilizada para mostrar os v√≠deos do YouTube, Channel9 e qualquer outro tipo de v√≠deo que funciona de uma tag de v√≠deo de html.
1. `Extension/Microsoft_Azure_Compute/PartType/VirtualMachinePart`‚Äì Utilizada para mostrar o nome e o estado de uma m√°quina virtual do Azure.

Cada tipo de parte tem a respetiva configura√ß√£o. As propriedades de configura√ß√£o poss√≠veis s√£o denominadas __entradas__, __defini√ß√µes__, e __asset__. 

### <a name="the-inputs-object"></a>O objeto de entradas
O objeto de entradas geralmente cont√©m informa√ß√µes que est√° vinculado a um mosaico para uma inst√¢ncia de recurso.  A parte da m√°quina virtual no nosso dashboard de exemplo cont√©m uma entrada √∫nico que utiliza o id de recurso do Azure para expressar o enlace.  Este formato de id de recurso √© consistente em todos os recursos do Azure.

```json
"inputs":
[
    {
        "name": "id",
        "value": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
    }
]

```
A parte do gr√°fico de m√©tricas tem uma entrada √∫nico que expresse precisa o recurso para criar o enlace, bem como informa√ß√µes sobre o metric(s) que est√° a ser apresentado. Segue-se a entrada para o mosaico que √© que mostra as m√©tricas de rede e rede sa√≠da.

```json
‚Äúinputs‚Äù:
[
    {
        "name": "queryInputs",
        "value": 
        {
            "timespan": 
            {
                "duration": "PT1H",
                "start": null,
                "end": null
           },
            "id": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1",
            "chartType": 0,
            "metrics": 
            [
                {
                    "name": "Network In",
                    "resourceId": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                },
                {
                    "name": "Network Out",
                    "resourceId": "/subscriptions/6531c8c8-df32-4254-d717-b6e983273e5d/resourceGroups/contoso/providers/Microsoft.Compute/virtualMachines/myVM1"
                }
            ]
        }
    }
]

```

### <a name="the-settings-object"></a>O objeto de defini√ß√µes
O objeto de defini√ß√µes cont√©m os elementos de uma parte configur√°veis.  No nosso dashboard de exemplo, a parte de Markdown utiliza as defini√ß√µes para armazenar o conte√∫do, bem como um t√≠tulo configur√°vel e subt√≠tulo de markdown personalizado.

```json
"settings": 
{
    "content": 
    {
        "settings": 
        {
            "content": "This is the team dashboard for the test VM we use on our team. Here are some useful links:\r\n\r\n1. [Getting started](https://www.contoso.com/tsgs)\r\n1. [Troubleshooting guide](https://www.contoso.com/tsgs)\r\n1. [Architecture docs](https://www.contoso.com/tsgs)",
            "title": "Test VM Dashboard",
            "subtitle": "Contoso"
        }
    }
}

```

Da mesma forma, o mosaico gr√°fica tem as suas pr√≥prias defini√ß√µes que cont√™m um ponteiro para o v√≠deo para reprodu√ß√£o, uma defini√ß√£o da reprodu√ß√£o autom√°tica ROM e informa√ß√µes de t√≠tulo opcional.

```json
"settings": 
{
   "content": 
    {
        "settings": 
        {
            "title": "",
            "subtitle": "",
            "src": "https://www.youtube.com/watch?v=YcylDIiKaSU&list=PLLasX02E8BPCsnETz0XAMfpLR1LIBqpgs&index=4",
            "autoplay": false
        }
    }
}

```

### <a name="the-asset-object"></a>O objeto elemento
Os mosaicos que est√£o vinculados aos objetos de portais primeiro class ger√≠veis (denominados ativos) tem esta rela√ß√£o expressa atrav√©s do objeto de elemento.  No nosso dashboard de exemplo, o mosaico de m√°quina virtual cont√©m esta descri√ß√£o de recurso.  O __idInputName__ propriedade indica ao portal do que o id de entrada cont√©m o identificador exclusivo para o elemento, neste caso, o id de recurso. Tipos de recursos mais Azure tem ativos definidos no portal.

`"asset": {    "idInputName": "id",    "type": "VirtualMachine"    }`