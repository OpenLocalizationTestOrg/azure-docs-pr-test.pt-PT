---
title: "aaaGeo escala distribuídas com ambientes do App Service"
description: "Saiba como toohorizontally dimensionar aplicações ao utilizar a georreplicação distribuição com ambientes do App Service e o Traffic Manager."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 9b441f637d8b7f679b3d83240baf99b8ee57e8f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="91cdc-103">Escala Distribuída Geograficamente com Ambientes de Serviço de Aplicações</span><span class="sxs-lookup"><span data-stu-id="91cdc-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="91cdc-104">Descrição geral</span><span class="sxs-lookup"><span data-stu-id="91cdc-104">Overview</span></span>
<span data-ttu-id="91cdc-105">Cenários de aplicações que requerem muito grande escala podem exceder Olá computação capacidade disponível tooa única implementação de recursos de uma aplicação.</span><span class="sxs-lookup"><span data-stu-id="91cdc-105">Application scenarios which require very high scale can exceed hello compute resource capacity available tooa single deployment of an app.</span></span>  <span data-ttu-id="91cdc-106">Aplicações de voto, sporting eventos e os eventos de entretenimento televised são todos os exemplos de cenários que necessitam de escala extremamente elevada.</span><span class="sxs-lookup"><span data-stu-id="91cdc-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="91cdc-107">Requisitos de grande escala podem ser cumpridos ao aumentar horizontalmente horizontalmente aplicações, com várias implementações de aplicação que está a ser efetuadas numa única região, bem como em regiões, requisitos de carga Alpine toohandle.</span><span class="sxs-lookup"><span data-stu-id="91cdc-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, toohandle extreme load requirements.</span></span>

<span data-ttu-id="91cdc-108">Os ambientes de serviço de aplicações são uma plataforma ideal para Escalamento horizontal.  Assim que tiver sido selecionada uma configuração de ambiente de serviço de aplicações que pode suportar uma taxa de pedidos conhecido, os programadores podem implementar ambientes de serviço de aplicações adicionais no "cookie cutter" forma tooattain uma capacidade de carregamento das horas de ponta pretendido.</span><span class="sxs-lookup"><span data-stu-id="91cdc-108">App Service Environments are an ideal platform for horizontal scale out.  Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion tooattain a desired peak load capacity.</span></span>

<span data-ttu-id="91cdc-109">Por exemplo, suponha uma aplicação em execução numa configuração de ambiente de serviço de aplicações foi testada toohandle K de 20 pedidos por segundo (RPS).</span><span class="sxs-lookup"><span data-stu-id="91cdc-109">For example suppose an app running on an App Service Environment configuration has been tested toohandle 20K requests per second (RPS).</span></span>  <span data-ttu-id="91cdc-110">Se carregar das horas de ponta pretendido Olá capacidade é 100 mil RPS, cinco (5) ambientes do App Service pode ser criados e configurado tooensure Olá aplicação pode processar carga prevista máximo de Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-110">If hello desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured tooensure hello application can handle hello maximum projected load.</span></span>

<span data-ttu-id="91cdc-111">Uma vez que os clientes, normalmente, aceder a aplicações ao utilizar um domínio personalizado (ou intuitivos), a necessidade dos programadores uma aplicação de toodistribute forma pedidos em todas as instâncias de ambiente de serviço de aplicações de Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-111">Since customers typically access apps using a custom (or vanity) domain, developers need a way toodistribute app requests across all of hello App Service Environment instances.</span></span>  <span data-ttu-id="91cdc-112">Tooaccomplish uma excelente forma trata tooresolve Olá domínio personalizado utilizando um [perfil do Traffic Manager do Azure][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="91cdc-112">A great way tooaccomplish this is tooresolve hello custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="91cdc-113">Olá Gestor de tráfego perfil pode ser configurado toopoint em todas as Olá individuais ambientes do App Service.</span><span class="sxs-lookup"><span data-stu-id="91cdc-113">hello Traffic Manager profile can be configured toopoint at all of hello individual App Service Environments.</span></span>  <span data-ttu-id="91cdc-114">Gestor de tráfego processará automaticamente distribui os clientes em todos os ambientes do App Service, com base nas definições do perfil do Gestor de tráfego de Olá de balanceamento de carga Olá de Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-114">Traffic Manager will automatically handle distributing customers across all of hello App Service Environments based on hello load balancing settings in hello Traffic Manager profile.</span></span>  <span data-ttu-id="91cdc-115">Esta abordagem funciona independentemente se todos os ambientes de serviço de aplicação Olá são implementados numa única região do Azure ou em todo o mundo implementados em várias regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="91cdc-115">This approach works regardless of whether all of hello App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="91cdc-116">Além disso, uma vez que os clientes aceder a aplicações através do domínio de intuitivos Olá, os clientes são tem conhecimento do número de Olá de ambientes de serviço de aplicações em execução uma aplicação.</span><span class="sxs-lookup"><span data-stu-id="91cdc-116">Furthermore, since customers access apps through hello vanity domain, customers are unaware of hello number of App Service Environments running an app.</span></span>  <span data-ttu-id="91cdc-117">Como resultado os programadores podem rápida e facilmente adicionar e remover, ambientes do App Service, com base na carga de tráfego observado.</span><span class="sxs-lookup"><span data-stu-id="91cdc-117">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="91cdc-118">diagrama conceptual Olá abaixo ilustra uma aplicação horizontalmente ampliada em três ambientes do App Service numa única região.</span><span class="sxs-lookup"><span data-stu-id="91cdc-118">hello conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Arquitetura conceptual][ConceptualArchitecture] 

<span data-ttu-id="91cdc-120">resto Olá deste tópico explica os passos de Olá envolvidos configurar uma topologia distribuída para a aplicação de exemplo de Olá com vários ambientes do App Service.</span><span class="sxs-lookup"><span data-stu-id="91cdc-120">hello remainder of this topic walks through hello steps involved with setting up a distributed topology for hello sample app using multiple App Service Environments.</span></span>

## <a name="planning-hello-topology"></a><span data-ttu-id="91cdc-121">Planear a topologia de Olá</span><span class="sxs-lookup"><span data-stu-id="91cdc-121">Planning hello Topology</span></span>
<span data-ttu-id="91cdc-122">Antes de conceção de requisitos de espaço de aplicação distribuída, ajuda a toohave algumas informações de peças antecedência.</span><span class="sxs-lookup"><span data-stu-id="91cdc-122">Before building out a distributed app footprint, it helps toohave a few pieces information ahead of time.</span></span>

* <span data-ttu-id="91cdc-123">**Domínio personalizado para a aplicação Olá:** que é o nome de domínio personalizado de Olá que os clientes utilizarão tooaccess Olá aplicação?</span><span class="sxs-lookup"><span data-stu-id="91cdc-123">**Custom domain for hello app:**  What is hello custom domain name that customers will use tooaccess hello app?</span></span>  <span data-ttu-id="91cdc-124">Para o domínio personalizado de Olá aplicação de exemplo Olá nome é *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="91cdc-124">For hello sample app hello custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="91cdc-125">**Domínio do Traffic Manager:** necessita de um nome de domínio toobe escolhido durante a criação de um [perfil do Traffic Manager do Azure][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="91cdc-125">**Traffic Manager domain:**  A domain name needs toobe chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="91cdc-126">Este nome será ser combinado com Olá *trafficmanager.net* sufixo tooregister uma entrada de domínio que é gerida pelo Gestor de tráfego.</span><span class="sxs-lookup"><span data-stu-id="91cdc-126">This name will be combined with hello *trafficmanager.net* suffix tooregister a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="91cdc-127">Para a aplicação de exemplo de Olá, é escolhido de nome de Olá *demonstração dimensionável ase*.</span><span class="sxs-lookup"><span data-stu-id="91cdc-127">For hello sample app, hello name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="91cdc-128">Como resultado o nome de domínio completo de Olá geridas pelo Gestor de tráfego é *demo.trafficmanager.net dimensionável ase*.</span><span class="sxs-lookup"><span data-stu-id="91cdc-128">As a result hello full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="91cdc-129">**Estratégia de dimensionamento Olá aplicação os requisitos de espaço:** Olá aplicação os requisitos de espaço serem distribuídos pelos vários ambientes do App Service numa única região?</span><span class="sxs-lookup"><span data-stu-id="91cdc-129">**Strategy for scaling hello app footprint:**  Will hello application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="91cdc-130">Várias regiões?</span><span class="sxs-lookup"><span data-stu-id="91cdc-130">Multiple regions?</span></span>  <span data-ttu-id="91cdc-131">Uma combinação-e-correspondência de ambas as abordagens?</span><span class="sxs-lookup"><span data-stu-id="91cdc-131">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="91cdc-132">Decisão de Olá deve ser baseada no onde o tráfego de cliente será têm origem, bem como rest Olá bem de uma aplicação que suporta a infraestrutura de back-end pode dimensionar as expectativas.</span><span class="sxs-lookup"><span data-stu-id="91cdc-132">hello decision should be based on expectations of where customer traffic will originate, as well as how well hello rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="91cdc-133">Por exemplo, com uma aplicação sem monitorização de estado de 100%, uma aplicação pode ser extremamente escalada utilizando uma combinação de vários ambientes do App Service por região do Azure, multiplicado pelo ambientes do App Service implementado em várias regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="91cdc-133">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="91cdc-134">Com 15 + pública regiões do Azure toochoose disponíveis do, os clientes verdadeiramente podem criar requisitos de espaço de aplicação de hiper escala em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="91cdc-134">With 15+ public Azure regions available toochoose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="91cdc-135">Para a aplicação de exemplo de Olá utilizada para este artigo, três ambientes do App Service foram criados numa única região do Azure (Sul Central US).</span><span class="sxs-lookup"><span data-stu-id="91cdc-135">For hello sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="91cdc-136">**Convenção de nomenclatura para Olá ambientes do App Service:** cada ambiente de serviço de aplicações requer um nome exclusivo.</span><span class="sxs-lookup"><span data-stu-id="91cdc-136">**Naming convention for hello App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="91cdc-137">Para além de um ou dois ambientes do App Service é útil toohave uma convenção de nomenclatura toohelp identificar cada ambiente de serviço de aplicações.</span><span class="sxs-lookup"><span data-stu-id="91cdc-137">Beyond one or two App Service Environments it is helpful toohave a naming convention toohelp identify each App Service Environment.</span></span>  <span data-ttu-id="91cdc-138">Para a aplicação de exemplo de Olá foi utilizada uma convenção de nomenclatura simple.</span><span class="sxs-lookup"><span data-stu-id="91cdc-138">For hello sample app a simple naming convention was used.</span></span>  <span data-ttu-id="91cdc-139">Olá os nomes dos ambientes de serviço de aplicação Olá três são *fe1ase*, *fe2ase*, e *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="91cdc-139">hello names of hello three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="91cdc-140">**Convenção de nomenclatura para aplicações de Olá:** uma vez que serão implementadas várias instâncias da aplicação Olá, um nome é necessária para cada instância da aplicação Olá implementado.</span><span class="sxs-lookup"><span data-stu-id="91cdc-140">**Naming convention for hello apps:**  Since multiple instances of hello app will be deployed, a name is needed for each instance of hello deployed app.</span></span>  <span data-ttu-id="91cdc-141">Uma funcionalidade reduzida conhecido mas muito conveniente de ambientes do App Service é essa Olá mesmo nome de aplicação pode ser utilizado em vários ambientes do App Service.</span><span class="sxs-lookup"><span data-stu-id="91cdc-141">One little-known but very convenient feature of App Service Environments is that hello same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="91cdc-142">Uma vez que cada ambiente de serviço de aplicações têm um sufixo de domínio único, os programadores podem escolher toore utilize Olá exato mesmo nome de aplicação em cada ambiente.</span><span class="sxs-lookup"><span data-stu-id="91cdc-142">Since each App Service Environment has a unique domain suffix, developers can choose toore-use hello exact same app name in each environment.</span></span>  <span data-ttu-id="91cdc-143">Por exemplo um programador pode ter aplicações com o nome da seguinte forma: *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  Apesar da aplicação de exemplo de Olá cada instância da aplicação também tem um nome exclusivo.</span><span class="sxs-lookup"><span data-stu-id="91cdc-143">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For hello sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="91cdc-144">Olá os nomes de instâncias da aplicação utilizados são *webfrontend1*, *webfrontend2*, e *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="91cdc-144">hello app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-hello-traffic-manager-profile"></a><span data-ttu-id="91cdc-145">Configurar Olá perfil do Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="91cdc-145">Setting up hello Traffic Manager Profile</span></span>
<span data-ttu-id="91cdc-146">Assim que forem implementadas várias instâncias de uma aplicação em vários ambientes do App Service, instâncias de aplicações individuais Olá podem ser registadas com o Gestor de tráfego.</span><span class="sxs-lookup"><span data-stu-id="91cdc-146">Once multiple instances of an app are deployed on multiple App Service Environments, hello  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="91cdc-147">Para a aplicação de exemplo de Olá um Gestor de tráfego de perfil é necessária para *demo.trafficmanager.net dimensionável ase* que pode encaminhar clientes tooany de Olá seguir implementado aplicação instâncias:</span><span class="sxs-lookup"><span data-stu-id="91cdc-147">For hello sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers tooany of hello following deployed app instances:</span></span>

* <span data-ttu-id="91cdc-148">**webfrontend1.fe1ase.p.azurewebsites.NET:** Olá, uma instância da aplicação de exemplo de Olá implementada num ambiente de serviço de aplicações primeiro.</span><span class="sxs-lookup"><span data-stu-id="91cdc-148">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello first App Service Environment.</span></span>
* <span data-ttu-id="91cdc-149">**webfrontend2.fe2ase.p.azurewebsites.NET:** Olá, uma instância da aplicação de exemplo de Olá implementada num ambiente de serviço de aplicações segundo.</span><span class="sxs-lookup"><span data-stu-id="91cdc-149">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello second App Service Environment.</span></span>
* <span data-ttu-id="91cdc-150">**webfrontend3.fe3ase.p.azurewebsites.NET:** Olá, uma instância da aplicação de exemplo de Olá implementada num ambiente de serviço de aplicações terceiro.</span><span class="sxs-lookup"><span data-stu-id="91cdc-150">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello third App Service Environment.</span></span>

<span data-ttu-id="91cdc-151">Olá tooregister de forma mais fácil múltiplos App Service do Azure pontos finais, todos os em execução no Olá **mesmo** região do Azure, é com Olá Powershell [suporte do Gestor de tráfego do Azure Resource Manager] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="91cdc-151">hello easiest way tooregister multiple Azure App Service endpoints, all running in hello **same** Azure region, is with hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="91cdc-152">Step-by-Olá primeiro passo é toocreate um perfil do Traffic Manager do Azure.</span><span class="sxs-lookup"><span data-stu-id="91cdc-152">hello first step is toocreate an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="91cdc-153">código de Olá abaixo mostra como o perfil de Olá foi criado para a aplicação de exemplo de Olá:</span><span class="sxs-lookup"><span data-stu-id="91cdc-153">hello code below shows how hello profile was created for hello sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="91cdc-154">Repare como Olá *RelativeDnsName* parâmetro foi definido demasiado*demonstração dimensionável ase*.</span><span class="sxs-lookup"><span data-stu-id="91cdc-154">Notice how hello *RelativeDnsName* parameter was set too*scalable-ase-demo*.</span></span>  <span data-ttu-id="91cdc-155">Isto é Olá como nome de domínio *demo.trafficmanager.net dimensionável ase* são criados e associados a um perfil do Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="91cdc-155">This is how hello domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="91cdc-156">Olá *TrafficRoutingMethod* parâmetro define a política do Traffic Manager irá utilizar toodetermine como cliente toospread carregar em todos os pontos finais de disponíveis Olá de balanceamento de carga Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-156">hello *TrafficRoutingMethod* parameter defines hello load balancing policy Traffic Manager will use toodetermine how toospread customer load across all of hello available endpoints.</span></span>  <span data-ttu-id="91cdc-157">No Olá exemplo *Weighted* método escolhido.</span><span class="sxs-lookup"><span data-stu-id="91cdc-157">In this example hello *Weighted* method was chosen.</span></span>  <span data-ttu-id="91cdc-158">Isto irá resultar em pedidos de cliente que está a ser distribuídos por todos os pontos finais de aplicação Olá registado com base em ponderações relativo Olá associadas a cada ponto final.</span><span class="sxs-lookup"><span data-stu-id="91cdc-158">This will result in customer requests being spread across all of hello registered application endpoints based on hello relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="91cdc-159">Com o perfil de Olá criado, cada instância da aplicação é adicionada toohello perfil como um ponto final do Azure nativo.</span><span class="sxs-lookup"><span data-stu-id="91cdc-159">With hello profile created, each app instance is added toohello profile as a native Azure endpoint.</span></span>  <span data-ttu-id="91cdc-160">código de Olá abaixo obtém uma aplicação de web de front-end de tooeach de referência e, em seguida, adiciona cada aplicação como um ponto final do Gestor de tráfego através de Olá *TargetResourceId* parâmetro.</span><span class="sxs-lookup"><span data-stu-id="91cdc-160">hello code below fetches a reference tooeach front end web app, and then adds each app as a Traffic Manager endpoint by way of hello *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="91cdc-161">Repare como há uma chamada de demasiado*adicionar AzureTrafficManagerEndpointConfig* para cada instância de aplicações individuais.</span><span class="sxs-lookup"><span data-stu-id="91cdc-161">Notice how there is one call too*Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="91cdc-162">Olá *TargetResourceId* parâmetro em cada comando do Powershell faz referência a um dos três instâncias de aplicação implementada Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-162">hello *TargetResourceId* parameter in each Powershell command references one of hello three deployed app instances.</span></span>  <span data-ttu-id="91cdc-163">Olá perfil do Traffic Manager serão distribuídos carga por todos os pontos três finais registados no perfil de Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-163">hello Traffic Manager profile will spread load across all three endpoints registered in hello profile.</span></span>

<span data-ttu-id="91cdc-164">Olá todas Olá três pontos finais utilizam o mesmo valor (10) para Olá *ponderação* parâmetro.</span><span class="sxs-lookup"><span data-stu-id="91cdc-164">All of hello three endpoints use hello same value (10) for hello *Weight* parameter.</span></span>  <span data-ttu-id="91cdc-165">Isto resulta no Gestor de tráfego pedidos de cliente propagando-se em todas as instâncias da aplicação de três relativamente uniformemente.</span><span class="sxs-lookup"><span data-stu-id="91cdc-165">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-hello-apps-custom-domain-at-hello-traffic-manager-domain"></a><span data-ttu-id="91cdc-166">Domínio personalizado da aplicação Olá indo em Olá domínio do Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="91cdc-166">Pointing hello App's Custom Domain at hello Traffic Manager Domain</span></span>
<span data-ttu-id="91cdc-167">Olá último passo necessário é o domínio personalizado de Olá toopoint da aplicação Olá no domínio do Gestor de tráfego Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-167">hello final step necessary is toopoint hello custom domain of hello app at hello Traffic Manager domain.</span></span>  <span data-ttu-id="91cdc-168">Na aplicação de exemplo de Olá significa apontar *www.scalableasedemo.com* em *demo.trafficmanager.net dimensionável ase*.</span><span class="sxs-lookup"><span data-stu-id="91cdc-168">For hello sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="91cdc-169">Este passo necessita de toobe foi concluída com Olá de domínios que gere o domínio personalizado Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-169">This step needs toobe completed with hello domain registrar that manages hello custom domain.</span></span>  

<span data-ttu-id="91cdc-170">Utilizar as ferramentas de gestão do domínio sua entidade de registo, um toobe de necessidades de registos CNAME que pontos Olá domínio personalizado criado no domínio do Gestor de tráfego Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-170">Using your registrar's domain management tools, a CNAME records needs toobe created which points hello custom domain at hello Traffic Manager domain.</span></span>  <span data-ttu-id="91cdc-171">imagem de Olá abaixo mostra um exemplo do aspeto esta configuração de CNAME:</span><span class="sxs-lookup"><span data-stu-id="91cdc-171">hello picture below shows an example of what this CNAME configuration looks like:</span></span>

![CNAME para o domínio personalizado][CNAMEforCustomDomain] 

<span data-ttu-id="91cdc-173">Apesar de não abrangidas neste tópico, lembre-se de que cada instância de aplicações individuais precisa de domínio do Olá de toohave personalizado registado com o mesmo assim.</span><span class="sxs-lookup"><span data-stu-id="91cdc-173">Although not covered in this topic, remember that each individual app instance needs toohave hello custom domain registered with it as well.</span></span>  <span data-ttu-id="91cdc-174">Caso contrário, se um pedido faz com que instância de aplicação tooan e aplicação Olá não tem o domínio personalizado Olá registado com a aplicação Olá, pedido Olá irá falhar.</span><span class="sxs-lookup"><span data-stu-id="91cdc-174">Otherwise if a request makes it tooan app instance, and hello application does not have hello custom domain registered with hello app, hello request will fail.</span></span>  

<span data-ttu-id="91cdc-175">Olá este exemplo domínio personalizado é *www.scalableasedemo.com*, e cada instância da aplicação tem o domínio personalizado Olá associado à mesma.</span><span class="sxs-lookup"><span data-stu-id="91cdc-175">In this example hello custom domain is *www.scalableasedemo.com*, and each application instance has hello custom domain associated with it.</span></span>

![Domínio Personalizado][CustomDomain] 

<span data-ttu-id="91cdc-177">Para um resumo de registar um domínio personalizado com aplicações do App Service do Azure, consulte Olá seguinte artigo [registar domínios personalizados][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="91cdc-177">For a recap of of registering a custom domain with Azure App Service apps, see hello following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-hello-distributed-topology"></a><span data-ttu-id="91cdc-178">Experimentar Olá topologia distribuída</span><span class="sxs-lookup"><span data-stu-id="91cdc-178">Trying out hello Distributed Topology</span></span>
<span data-ttu-id="91cdc-179">Olá resultado final da configuração de DNS e o Traffic Manager Olá é que os pedidos para *www.scalableasedemo.com* irá fluir pelo Olá seguinte sequência:</span><span class="sxs-lookup"><span data-stu-id="91cdc-179">hello end result of hello Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through hello following sequence:</span></span>

1. <span data-ttu-id="91cdc-180">Um browser ou o dispositivo irá efetuar uma pesquisa de DNS *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="91cdc-180">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="91cdc-181">Olá entrada CNAME no registo de domínios Olá faz com que Olá DNS pesquisa toobe redirecionado tooAzure Gestor de tráfego.</span><span class="sxs-lookup"><span data-stu-id="91cdc-181">hello CNAME entry at hello domain registrar causes hello DNS lookup toobe redirected tooAzure Traffic Manager.</span></span>
3. <span data-ttu-id="91cdc-182">É efetuada uma pesquisa de DNS *demo.trafficmanager.net dimensionável ase* contra um dos servidores de DNS do Gestor de tráfego do Azure Olá.</span><span class="sxs-lookup"><span data-stu-id="91cdc-182">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of hello Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="91cdc-183">Com base na política de balanceamento de carga Olá (Olá *TrafficRoutingMethod* parâmetro utilizado anteriormente durante a criação de perfil do Traffic Manager Olá), Gestor de tráfego irá selecionar uma das Olá configurados pontos finais e devolve Olá FQDN do que browser de toohello de ponto final ou dispositivo.</span><span class="sxs-lookup"><span data-stu-id="91cdc-183">Based on hello load balancing policy (hello *TrafficRoutingMethod* parameter used earlier when creating hello Traffic Manager profile), Traffic Manager will select one of hello configured endpoints and return hello FQDN of that endpoint toohello browser or device.</span></span>
5. <span data-ttu-id="91cdc-184">Uma vez que Olá FQDN do ponto final de Olá Olá Url de uma instância de aplicação em execução no ambiente de serviço de aplicações, hello browser ou o dispositivo irá perguntar-um servidor DNS do Microsoft Azure tooresolve Olá endereço IP tooan FQDN.</span><span class="sxs-lookup"><span data-stu-id="91cdc-184">Since hello FQDN of hello endpoint is hello Url of an app instance running on an App Service Environment, hello browser or device will ask a Microsoft Azure DNS server tooresolve hello FQDN tooan IP address.</span></span> 
6. <span data-ttu-id="91cdc-185">browser de Olá ou dispositivo irá enviar o endereço IP do Olá HTTP/S pedido toohello.</span><span class="sxs-lookup"><span data-stu-id="91cdc-185">hello browser or device will send hello HTTP/S request toohello IP address.</span></span>  
7. <span data-ttu-id="91cdc-186">pedido de Olá conseguirá obter uma das instâncias de aplicação Olá em execução dos Olá ambientes do App Service.</span><span class="sxs-lookup"><span data-stu-id="91cdc-186">hello request will arrive at one of hello app instances running on one of hello App Service Environments.</span></span>

<span data-ttu-id="91cdc-187">Olá consola imagem abaixo mostra uma pesquisa de DNS domínio personalizado com êxito ao resolver tooan instância da aplicação da aplicação de exemplo Olá em execução dos exemplo Olá três ambientes do App Service (neste caso Olá segundo de Olá três ambientes do App Service):</span><span class="sxs-lookup"><span data-stu-id="91cdc-187">hello console picture below shows a DNS lookup for hello sample app's custom domain successfully resolving tooan app instance running on one of hello three sample App Service Environments (in this case hello second of hello three App Service Environments):</span></span>

![Pesquisa de DNS][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="91cdc-189">Informações e hiperligações adicionais</span><span class="sxs-lookup"><span data-stu-id="91cdc-189">Additional Links and Information</span></span>
<span data-ttu-id="91cdc-190">Todos os artigos e como-a para ambientes de serviço de aplicações estão disponíveis no Olá [Leia-me para ambientes de serviço de aplicações](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="91cdc-190">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="91cdc-191">A documentação sobre Olá Powershell [suporte do Gestor de tráfego do Azure Resource Manager][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="91cdc-191">Documentation on hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
