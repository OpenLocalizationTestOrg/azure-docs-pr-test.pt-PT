---
title: aaaCreate um ambiente de App Service do Azure utilizando um modelo do Resource Manager
description: Explica como toocreate um ambiente externo ou o App Service do Azure ILB utilizando um modelo do Resource Manager
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 6eb7d43d-e820-4a47-818c-80ff7d3b6f8e
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: ccompy
ms.openlocfilehash: c8aeedee675a6e931169b725ee916cc7fa8f762f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-ase-by-using-an-azure-resource-manager-template"></a><span data-ttu-id="4cf87-103">Criar ASE utilizando um modelo Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4cf87-103">Create an ASE by using an Azure Resource Manager template</span></span>

## <a name="overview"></a><span data-ttu-id="4cf87-104">Descrição geral</span><span class="sxs-lookup"><span data-stu-id="4cf87-104">Overview</span></span>
<span data-ttu-id="4cf87-105">Ambientes do App Service do Azure (ASEs) podem ser criados com um ponto final acessível através da internet ou de um ponto final de um endereço interno numa rede virtual do Azure (VNet).</span><span class="sxs-lookup"><span data-stu-id="4cf87-105">Azure App Service environments (ASEs) can be created with an internet-accessible endpoint or an endpoint on an internal address in an Azure virtual network (VNet).</span></span> <span data-ttu-id="4cf87-106">Quando é criado com um ponto final interno, esse ponto final é fornecida por um Azure componente chamado um balanceador de carga interno (ILB).</span><span class="sxs-lookup"><span data-stu-id="4cf87-106">When created with an internal endpoint, that endpoint is provided by an Azure component called an internal load balancer (ILB).</span></span> <span data-ttu-id="4cf87-107">Olá ASE num endereço IP é denominado ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="4cf87-107">hello ASE on an internal IP address is called an ILB ASE.</span></span> <span data-ttu-id="4cf87-108">Olá ASE com um ponto final público é denominado ASE externo.</span><span class="sxs-lookup"><span data-stu-id="4cf87-108">hello ASE with a public endpoint is called an External ASE.</span></span> 

<span data-ttu-id="4cf87-109">ASE pode ser criado utilizando Olá portal do Azure ou um modelo Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4cf87-109">An ASE can be created by using hello Azure portal or an Azure Resource Manager template.</span></span> <span data-ttu-id="4cf87-110">Este artigo explica os passos de Olá e sintaxe terá toocreate um ASE externo ou o ILB ASE com modelos do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4cf87-110">This article walks through hello steps and syntax you need toocreate an External ASE or ILB ASE with Resource Manager templates.</span></span> <span data-ttu-id="4cf87-111">toolearn como toocreate ASE no Olá portal do Azure, consulte [tornar ASE externo] [ MakeExternalASE] ou [tornar ILB ASE][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="4cf87-111">toolearn how toocreate an ASE in hello Azure portal, see [Make an External ASE][MakeExternalASE] or [Make an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="4cf87-112">Quando cria ASE no Olá portal do Azure, pode criar a VNet em Olá mesmo tempo ou escolha um toodeploy VNet preexistentes em.</span><span class="sxs-lookup"><span data-stu-id="4cf87-112">When you create an ASE in hello Azure portal, you can create your VNet at hello same time or choose a preexisting VNet toodeploy into.</span></span> <span data-ttu-id="4cf87-113">Quando cria o ASE a partir de um modelo, tem de começar com:</span><span class="sxs-lookup"><span data-stu-id="4cf87-113">When you create an ASE from a template, you must start with:</span></span> 

* <span data-ttu-id="4cf87-114">Uma VNet do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4cf87-114">A Resource Manager VNet.</span></span>
* <span data-ttu-id="4cf87-115">Uma sub-rede essa VNet.</span><span class="sxs-lookup"><span data-stu-id="4cf87-115">A subnet in that VNet.</span></span> <span data-ttu-id="4cf87-116">Recomendamos um tamanho de sub-rede ASE de `/25` com o crescimento futuro do tooaccomodate 128 endereços.</span><span class="sxs-lookup"><span data-stu-id="4cf87-116">We recommend an ASE subnet size of `/25` with 128 addresses tooaccomodate future growth.</span></span> <span data-ttu-id="4cf87-117">Depois de criado ASE Olá, não é possível alterar o tamanho de Olá.</span><span class="sxs-lookup"><span data-stu-id="4cf87-117">After hello ASE is created, you can't change hello size.</span></span>
* <span data-ttu-id="4cf87-118">ID de recurso de Olá da sua VNet.</span><span class="sxs-lookup"><span data-stu-id="4cf87-118">hello resource ID from your VNet.</span></span> <span data-ttu-id="4cf87-119">Pode obter estas informações de Olá portal do Azure com as propriedades de rede virtual.</span><span class="sxs-lookup"><span data-stu-id="4cf87-119">You can get this information from hello Azure portal under your virtual network properties.</span></span>
* <span data-ttu-id="4cf87-120">subscrição Olá que pretende toodeploy em.</span><span class="sxs-lookup"><span data-stu-id="4cf87-120">hello subscription you want toodeploy into.</span></span>
* <span data-ttu-id="4cf87-121">Olá localização toodeploy em.</span><span class="sxs-lookup"><span data-stu-id="4cf87-121">hello location you want toodeploy into.</span></span>

<span data-ttu-id="4cf87-122">tooautomate criação da ASE:</span><span class="sxs-lookup"><span data-stu-id="4cf87-122">tooautomate your ASE creation:</span></span>

1. <span data-ttu-id="4cf87-123">Crie Olá ASE a partir de um modelo.</span><span class="sxs-lookup"><span data-stu-id="4cf87-123">Create hello ASE from a template.</span></span> <span data-ttu-id="4cf87-124">Se criar ASE externo, tiver terminado, após este passo.</span><span class="sxs-lookup"><span data-stu-id="4cf87-124">If you create an External ASE, you're finished after this step.</span></span> <span data-ttu-id="4cf87-125">Se criar ILB ASE, existem alguns toodo coisas mais.</span><span class="sxs-lookup"><span data-stu-id="4cf87-125">If you create an ILB ASE, there are a few more things toodo.</span></span>

2. <span data-ttu-id="4cf87-126">Depois de criar o ILB ASE, um certificado SSL que corresponda ao seu domínio ILB ASE é carregado.</span><span class="sxs-lookup"><span data-stu-id="4cf87-126">After your ILB ASE is created, an SSL certificate that matches your ILB ASE domain is uploaded.</span></span>

3. <span data-ttu-id="4cf87-127">Olá carregado certificado SSL é atribuído toohello ILB ASE como o certificado SSL "predefinida".</span><span class="sxs-lookup"><span data-stu-id="4cf87-127">hello uploaded SSL certificate is assigned toohello ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="4cf87-128">Este certificado é utilizado para tráfego SSL tooapps no Olá ILB ASE quando utilizarem Olá comuns domínio de raiz que está atribuído toohello ASE (por exemplo, https://someapp.mycustomrootcomain.com).</span><span class="sxs-lookup"><span data-stu-id="4cf87-128">This certificate is used for SSL traffic tooapps on hello ILB ASE when they use hello common root domain that's assigned toohello ASE (for example, https://someapp.mycustomrootcomain.com).</span></span>


## <a name="create-hello-ase"></a><span data-ttu-id="4cf87-129">Criar Olá ASE</span><span class="sxs-lookup"><span data-stu-id="4cf87-129">Create hello ASE</span></span>
<span data-ttu-id="4cf87-130">Um modelo do Resource Manager, que cria o ficheiro de parâmetros associados e ASE está disponível [um exemplo] [ quickstartasev2create] no GitHub.</span><span class="sxs-lookup"><span data-stu-id="4cf87-130">A Resource Manager template that creates an ASE and its associated parameters file is available [in an example][quickstartasev2create] on GitHub.</span></span>

<span data-ttu-id="4cf87-131">Se quiser toomake ILB ASE, utilize estes modelo do Resource Manager [exemplos][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="4cf87-131">If you want toomake an ILB ASE, use these Resource Manager template [examples][quickstartilbasecreate].</span></span> <span data-ttu-id="4cf87-132">Estes aparência toothat caso de utilização.</span><span class="sxs-lookup"><span data-stu-id="4cf87-132">They cater toothat use case.</span></span> <span data-ttu-id="4cf87-133">Maioria dos parâmetros Olá Olá *azuredeploy.parameters.json* ficheiro são comuns toohello criação do ILB ASEs e ASEs externo.</span><span class="sxs-lookup"><span data-stu-id="4cf87-133">Most of hello parameters in hello *azuredeploy.parameters.json* file are common toohello creation of ILB ASEs and External ASEs.</span></span> <span data-ttu-id="4cf87-134">Olá lista seguinte chama os parâmetros de nota especial ou que são exclusivos, quando criar ILB ASE:</span><span class="sxs-lookup"><span data-stu-id="4cf87-134">hello following list calls out parameters of special note, or that are unique, when you create an ILB ASE:</span></span>

* <span data-ttu-id="4cf87-135">*interalLoadBalancingMode*: na maioria dos casos, defina este too3, o que significa que o tráfego HTTP/HTTPS em portas 80/443, e portas de canal de dados do controlo de Olá listened tooby serviço Olá FTP Olá ASE, será vinculado tooan atribuído o ILB rede virtual endereço interno.</span><span class="sxs-lookup"><span data-stu-id="4cf87-135">*interalLoadBalancingMode*: In most cases, set this too3, which means both HTTP/HTTPS traffic on ports 80/443, and hello control/data channel ports listened tooby hello FTP service on hello ASE, will be bound tooan ILB-allocated virtual network internal address.</span></span> <span data-ttu-id="4cf87-136">Se esta propriedade é definida too2, apenas Olá FTP relacionados com o serviço portas (canais de controlo e dados) são endereços ILB tooan vinculado.</span><span class="sxs-lookup"><span data-stu-id="4cf87-136">If this property is set too2, only hello FTP service-related ports (both control and data channels) are bound tooan ILB address.</span></span> <span data-ttu-id="4cf87-137">Olá tráfego HTTP/HTTPS permanece no Olá público VIP.</span><span class="sxs-lookup"><span data-stu-id="4cf87-137">hello HTTP/HTTPS traffic remains on hello public VIP.</span></span>
* <span data-ttu-id="4cf87-138">*dnsSuffix*: este parâmetro define o domínio de raiz do Olá predefinido que é atribuído toohello ASE.</span><span class="sxs-lookup"><span data-stu-id="4cf87-138">*dnsSuffix*: This parameter defines hello default root domain that's assigned toohello ASE.</span></span> <span data-ttu-id="4cf87-139">A variação pública Olá do App Service do Azure, domínio de raiz do Olá predefinido para todas as aplicações web é *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="4cf87-139">In hello public variation of Azure App Service, hello default root domain for all web apps is *azurewebsites.net*.</span></span> <span data-ttu-id="4cf87-140">Uma vez ILB ASE é a rede virtual do cliente tooa interno, não certifique-domínio de raiz do sentido toouse Olá público do serviço predefinido.</span><span class="sxs-lookup"><span data-stu-id="4cf87-140">Because an ILB ASE is internal tooa customer's virtual network, it doesn't make sense toouse hello public service's default root domain.</span></span> <span data-ttu-id="4cf87-141">Em vez disso, ILB ASE deve ter um domínio de raiz predefinido que faz sentido para utilização na rede virtual interna de uma empresa.</span><span class="sxs-lookup"><span data-stu-id="4cf87-141">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span> <span data-ttu-id="4cf87-142">Por exemplo, Contoso Corporation poderá utilizar um domínio de raiz da predefinição de *interna contoso.com* para aplicações que estão toobe pretendido resolvível e é acessível apenas dentro da rede virtual da Contoso.</span><span class="sxs-lookup"><span data-stu-id="4cf87-142">For example, Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended toobe resolvable and accessible only within Contoso's virtual network.</span></span> 
* <span data-ttu-id="4cf87-143">*ipSslAddressCount*: este parâmetro assume a predefinição automaticamente tooa o valor 0 no Olá *azuredeploy. JSON* ficheiro porque o ILB ASEs ter apenas um único endereço ILB.</span><span class="sxs-lookup"><span data-stu-id="4cf87-143">*ipSslAddressCount*: This parameter automatically defaults tooa value of 0 in hello *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span> <span data-ttu-id="4cf87-144">Não existem nenhum endereços de IP-SSL explícitos para ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="4cf87-144">There are no explicit IP-SSL addresses for an ILB ASE.</span></span> <span data-ttu-id="4cf87-145">Por conseguinte, Olá conjunto de endereços IP SSL para ILB ASE tem de ser definida toozero.</span><span class="sxs-lookup"><span data-stu-id="4cf87-145">Hence, hello IP-SSL address pool for an ILB ASE must be set toozero.</span></span> <span data-ttu-id="4cf87-146">Caso contrário, ocorre um erro de aprovisionamento.</span><span class="sxs-lookup"><span data-stu-id="4cf87-146">Otherwise, a provisioning error occurs.</span></span> 

<span data-ttu-id="4cf87-147">Depois de Olá *azuredeploy.parameters.json* ficheiro é preenchido, crie Olá ASE utilizando o fragmento de código do PowerShell Olá.</span><span class="sxs-lookup"><span data-stu-id="4cf87-147">After hello *azuredeploy.parameters.json* file is filled in, create hello ASE by using hello PowerShell code snippet.</span></span> <span data-ttu-id="4cf87-148">Alterar Olá caminhos toomatch Olá Resource Manager ficheiro de modelo localizações de ficheiros no seu computador.</span><span class="sxs-lookup"><span data-stu-id="4cf87-148">Change hello file paths toomatch hello Resource Manager template-file locations on your machine.</span></span> <span data-ttu-id="4cf87-149">Não se esqueça toosupply os seus próprios valores para o nome da implementação do Resource Manager Olá e nome do grupo de recursos de Olá:</span><span class="sxs-lookup"><span data-stu-id="4cf87-149">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="4cf87-150">Demora cerca de uma hora para Olá ASE toobe criado.</span><span class="sxs-lookup"><span data-stu-id="4cf87-150">It takes about an hour for hello ASE toobe created.</span></span> <span data-ttu-id="4cf87-151">Em seguida, Olá ASE aparece no portal de Olá na lista de Olá de ASEs para a subscrição de Olá que acionou a implementação de Olá.</span><span class="sxs-lookup"><span data-stu-id="4cf87-151">Then hello ASE shows up in hello portal in hello list of ASEs for hello subscription that triggered hello deployment.</span></span>

## <a name="upload-and-configure-hello-default-ssl-certificate"></a><span data-ttu-id="4cf87-152">Carregar e configurar um certificado SSL Olá "predefinido"</span><span class="sxs-lookup"><span data-stu-id="4cf87-152">Upload and configure hello "default" SSL certificate</span></span>
<span data-ttu-id="4cf87-153">Um certificado SSL tem de estar associado a Olá ASE como Olá "predefinido" certificado SSL utilizado tooestablish SSL ligações tooapps.</span><span class="sxs-lookup"><span data-stu-id="4cf87-153">An SSL certificate must be associated with hello ASE as hello "default" SSL certificate that's used tooestablish SSL connections tooapps.</span></span> <span data-ttu-id="4cf87-154">Se o sufixo DNS do Olá do ASE predefinido é *interna contoso.com*, uma ligação toohttps://some-random-app.internal-contoso.com requer um certificado SSL que é válido para **.internal contoso.com* .</span><span class="sxs-lookup"><span data-stu-id="4cf87-154">If hello ASE's default DNS suffix is *internal-contoso.com*, a connection toohttps://some-random-app.internal-contoso.com requires an SSL certificate that's valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="4cf87-155">Obter um certificado SSL válido ao utilizar autoridades de certificação interna, comprar um certificado de um emissor externo ou utilizar um certificado autoassinado.</span><span class="sxs-lookup"><span data-stu-id="4cf87-155">Obtain a valid SSL certificate by using internal certificate authorities, purchasing a certificate from an external issuer, or using a self-signed certificate.</span></span> <span data-ttu-id="4cf87-156">Independentemente da origem de Olá do certificado SSL Olá, Olá seguintes atributos do certificado deve ser feita corretamente:</span><span class="sxs-lookup"><span data-stu-id="4cf87-156">Regardless of hello source of hello SSL certificate, hello following certificate attributes must be configured properly:</span></span>

* <span data-ttu-id="4cf87-157">**Requerente**: este atributo deve ser definido demasiado **.your-raiz-domínio-here.com*.</span><span class="sxs-lookup"><span data-stu-id="4cf87-157">**Subject**: This attribute must be set too**.your-root-domain-here.com*.</span></span>
* <span data-ttu-id="4cf87-158">**Nome alternativo do requerente**: este atributo tem de incluir os **.your-raiz-domínio-here.com* e **.scm.your-raiz-domínio-here.com*. Toohello de ligações de SSL site SCM/Kudu associado a cada aplicação utilizar um endereço de formulário Olá *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="4cf87-158">**Subject Alternative Name**: This attribute must include both **.your-root-domain-here.com* and **.scm.your-root-domain-here.com*. SSL connections toohello SCM/Kudu site associated with each app use an address of hello form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="4cf87-159">Com um certificado SSL válido mão, são necessários dois passos preparatórios adicionais.</span><span class="sxs-lookup"><span data-stu-id="4cf87-159">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span> <span data-ttu-id="4cf87-160">Converter/guardar o certificado de SSL Olá como um ficheiro. pfx.</span><span class="sxs-lookup"><span data-stu-id="4cf87-160">Convert/save hello SSL certificate as a .pfx file.</span></span> <span data-ttu-id="4cf87-161">Lembre-se de que o ficheiro. pfx Olá tem de incluir todos os intermédio e certificados de raiz.</span><span class="sxs-lookup"><span data-stu-id="4cf87-161">Remember that hello .pfx file must include all intermediate and root certificates.</span></span> <span data-ttu-id="4cf87-162">Proteja-a com uma palavra-passe.</span><span class="sxs-lookup"><span data-stu-id="4cf87-162">Secure it with a password.</span></span>

<span data-ttu-id="4cf87-163">ficheiro. pfx Olá tem toobe convertido numa cadeia base64 porque o certificado SSL Olá é carregado utilizando um modelo do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4cf87-163">hello .pfx file needs toobe converted into a base64 string because hello SSL certificate is uploaded by using a Resource Manager template.</span></span> <span data-ttu-id="4cf87-164">Porque os modelos do Resource Manager são ficheiros de texto, o ficheiro. pfx Olá tem de ser convertido numa cadeia base64.</span><span class="sxs-lookup"><span data-stu-id="4cf87-164">Because Resource Manager templates are text files, hello .pfx file must be converted into a base64 string.</span></span> <span data-ttu-id="4cf87-165">Desta forma pode ser incluído como um parâmetro de modelo de Olá.</span><span class="sxs-lookup"><span data-stu-id="4cf87-165">This way it can be included as a parameter of hello template.</span></span>

<span data-ttu-id="4cf87-166">Utilize Olá fragmento de código do PowerShell para os seguintes:</span><span class="sxs-lookup"><span data-stu-id="4cf87-166">Use hello following PowerShell code snippet to:</span></span>

* <span data-ttu-id="4cf87-167">Gere um certificado autoassinado.</span><span class="sxs-lookup"><span data-stu-id="4cf87-167">Generate a self-signed certificate.</span></span>
* <span data-ttu-id="4cf87-168">Exporte o certificado de Olá como um ficheiro. pfx.</span><span class="sxs-lookup"><span data-stu-id="4cf87-168">Export hello certificate as a .pfx file.</span></span>
* <span data-ttu-id="4cf87-169">Converta o ficheiro. pfx Olá numa cadeia com codificação base64.</span><span class="sxs-lookup"><span data-stu-id="4cf87-169">Convert hello .pfx file into a base64-encoded string.</span></span>
* <span data-ttu-id="4cf87-170">Guarde o ficheiro separado do Olá cadeia com codificação base64 tooa.</span><span class="sxs-lookup"><span data-stu-id="4cf87-170">Save hello base64-encoded string tooa separate file.</span></span> 

<span data-ttu-id="4cf87-171">Este código do PowerShell para codificação base64 foi adaptado de Olá [blogue de scripts do PowerShell][examplebase64encoding]:</span><span class="sxs-lookup"><span data-stu-id="4cf87-171">This PowerShell code for base64 encoding was adapted from hello [PowerShell scripts blog][examplebase64encoding]:</span></span>

        $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

        $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
        $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

        $fileName = "exportedcert.pfx"
        Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

        $fileContentBytes = get-content -encoding byte $fileName
        $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
        $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="4cf87-172">Depois certificado SSL Olá é gerado com êxito e converter a cadeia de com codificação base64 tooa, utilize o modelo de Gestor de recursos de exemplo de Olá [certificado SSL do configurar Olá predefinido] [ quickstartconfiguressl] no GitHub.</span><span class="sxs-lookup"><span data-stu-id="4cf87-172">After hello SSL certificate is successfully generated and converted tooa base64-encoded string, use hello example Resource Manager template [Configure hello default SSL certificate][quickstartconfiguressl] on GitHub.</span></span> 

<span data-ttu-id="4cf87-173">Olá parâmetros Olá *azuredeploy.parameters.json* ficheiro estão listados aqui:</span><span class="sxs-lookup"><span data-stu-id="4cf87-173">hello parameters in hello *azuredeploy.parameters.json* file are listed here:</span></span>

* <span data-ttu-id="4cf87-174">*appServiceEnvironmentName*: nome Olá Olá ASE ILB a ser configurado.</span><span class="sxs-lookup"><span data-stu-id="4cf87-174">*appServiceEnvironmentName*: hello name of hello ILB ASE being configured.</span></span>
* <span data-ttu-id="4cf87-175">*existingAseLocation*: cadeia de texto que contém Olá região do Azure onde hello ILB ASE foi implementada.</span><span class="sxs-lookup"><span data-stu-id="4cf87-175">*existingAseLocation*: Text string containing hello Azure region where hello ILB ASE was deployed.</span></span>  <span data-ttu-id="4cf87-176">Por exemplo: "Sul Central EUA".</span><span class="sxs-lookup"><span data-stu-id="4cf87-176">For example: "South Central US".</span></span>
* <span data-ttu-id="4cf87-177">*pfxBlobString*: Olá representação de cadeia com codificação based64 do ficheiro. pfx Olá.</span><span class="sxs-lookup"><span data-stu-id="4cf87-177">*pfxBlobString*: hello based64-encoded string representation of hello .pfx file.</span></span> <span data-ttu-id="4cf87-178">Utilize o fragmento de código Olá apresentado anteriormente e copie a cadeia de Olá contida em "exportedcert.pfx.b64".</span><span class="sxs-lookup"><span data-stu-id="4cf87-178">Use hello code snippet shown earlier and copy hello string contained in "exportedcert.pfx.b64".</span></span> <span data-ttu-id="4cf87-179">Cole-a no como valor Olá Olá *pfxBlobString* atributo.</span><span class="sxs-lookup"><span data-stu-id="4cf87-179">Paste it in as hello value of hello *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="4cf87-180">*palavra-passe*: Olá palavra-passe utilizada toosecure Olá arquivo. pfx.</span><span class="sxs-lookup"><span data-stu-id="4cf87-180">*password*: hello password used toosecure hello .pfx file.</span></span>
* <span data-ttu-id="4cf87-181">*certificateThumbprint*: Olá thumbprint do certificado.</span><span class="sxs-lookup"><span data-stu-id="4cf87-181">*certificateThumbprint*: hello certificate's thumbprint.</span></span> <span data-ttu-id="4cf87-182">Se é possível obter este valor a partir do PowerShell (por exemplo, *$certificate. Thumbprint* de Olá fragmento de código anterior), pode utilizar valor Olá como está.</span><span class="sxs-lookup"><span data-stu-id="4cf87-182">If you retrieve this value from PowerShell (for example, *$certificate.Thumbprint* from hello earlier code snippet), you can use hello value as is.</span></span> <span data-ttu-id="4cf87-183">Se copiar o valor de Olá de caixa de diálogo de certificado de Windows hello, lembre-se toostrip saída espaços supérfluas Olá.</span><span class="sxs-lookup"><span data-stu-id="4cf87-183">If you copy hello value from hello Windows certificate dialog box, remember toostrip out hello extraneous spaces.</span></span> <span data-ttu-id="4cf87-184">Olá *certificateThumbprint* deve ter um aspeto semelhante AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span><span class="sxs-lookup"><span data-stu-id="4cf87-184">hello *certificateThumbprint* should look something like  AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span></span>
* <span data-ttu-id="4cf87-185">*certificateName*: um identificador de cadeia amigável da sua própria escolha utilizado o certificado de Olá tooidentity.</span><span class="sxs-lookup"><span data-stu-id="4cf87-185">*certificateName*: A friendly string identifier of your own choosing used tooidentity hello certificate.</span></span> <span data-ttu-id="4cf87-186">nome de Olá é utilizado como parte do identificador do Gestor de recursos exclusiva Olá para Olá *Microsoft.Web/certificates* entidade que representa o certificado SSL Olá.</span><span class="sxs-lookup"><span data-stu-id="4cf87-186">hello name is used as part of hello unique Resource Manager identifier for hello *Microsoft.Web/certificates* entity that represents hello SSL certificate.</span></span> <span data-ttu-id="4cf87-187">nome de Olá *tem* terminar com Olá seguintes sufixos: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="4cf87-187">hello name *must* end with hello following suffix: \_yourASENameHere_InternalLoadBalancingASE.</span></span> <span data-ttu-id="4cf87-188">Olá portal do Azure utiliza este sufixo como um indicador que Olá certificado é utilizado toosecure ASE ativado o ILB.</span><span class="sxs-lookup"><span data-stu-id="4cf87-188">hello Azure portal uses this suffix as an indicator that hello certificate is used toosecure an ILB-enabled ASE.</span></span>

<span data-ttu-id="4cf87-189">Um exemplo de abreviado *azuredeploy.parameters.json* é mostrada aqui:</span><span class="sxs-lookup"><span data-stu-id="4cf87-189">An abbreviated example of *azuredeploy.parameters.json* is shown here:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="4cf87-190">Depois de Olá *azuredeploy.parameters.json* ficheiro é preenchido, configure o certificado SSL Olá predefinido utilizando o fragmento de código do PowerShell Olá.</span><span class="sxs-lookup"><span data-stu-id="4cf87-190">After hello *azuredeploy.parameters.json* file is filled in, configure hello default SSL certificate by using hello PowerShell code snippet.</span></span> <span data-ttu-id="4cf87-191">Alterar toomatch de caminhos de ficheiro de olá onde os ficheiros de modelo do Resource Manager Olá estão localizados no seu computador.</span><span class="sxs-lookup"><span data-stu-id="4cf87-191">Change hello file paths toomatch where hello Resource Manager template files are located on your machine.</span></span> <span data-ttu-id="4cf87-192">Não se esqueça toosupply os seus próprios valores para o nome da implementação do Resource Manager Olá e nome do grupo de recursos de Olá:</span><span class="sxs-lookup"><span data-stu-id="4cf87-192">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

     $templatePath="PATH\azuredeploy.json"
     $parameterPath="PATH\azuredeploy.parameters.json"

     New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="4cf87-193">Demora cerca de 40 minutos por ASE front-end tooapply Olá de alterações.</span><span class="sxs-lookup"><span data-stu-id="4cf87-193">It takes roughly 40 minutes per ASE front end tooapply hello change.</span></span> <span data-ttu-id="4cf87-194">Por exemplo, para ASE tamanho predefinido que utiliza dois front-ends, o modelo de Olá demorará em torno de uma hora e 20 minutos toocomplete.</span><span class="sxs-lookup"><span data-stu-id="4cf87-194">For example, for a default-sized ASE that uses two front ends, hello template takes around one hour and 20 minutes toocomplete.</span></span> <span data-ttu-id="4cf87-195">Enquanto o modelo de Olá está em execução, não é possível aumentar Olá ASE.</span><span class="sxs-lookup"><span data-stu-id="4cf87-195">While hello template is running, hello ASE can't scale.</span></span>  

<span data-ttu-id="4cf87-196">Após a conclusão do modelo de Olá, as aplicações em Olá ILB ASE podem ser acedidas através de HTTPS.</span><span class="sxs-lookup"><span data-stu-id="4cf87-196">After hello template finishes, apps on hello ILB ASE can be accessed over HTTPS.</span></span> <span data-ttu-id="4cf87-197">ligações de Olá são protegidas através da utilização de certificado SSL Olá predefinido.</span><span class="sxs-lookup"><span data-stu-id="4cf87-197">hello connections are secured by using hello default SSL certificate.</span></span> <span data-ttu-id="4cf87-198">certificado SSL Olá predefinido é utilizado quando as aplicações em Olá ILB ASE são resolvidas utilizando uma combinação do nome da aplicação Olá, nome de anfitrião do Olá predefinido.</span><span class="sxs-lookup"><span data-stu-id="4cf87-198">hello default SSL certificate is used when apps on hello ILB ASE are addressed by using a combination of hello application name plus hello default host name.</span></span> <span data-ttu-id="4cf87-199">Por exemplo, https://mycustomapp.internal-contoso.com utiliza o certificado SSL Olá predefinido para **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="4cf87-199">For example, https://mycustomapp.internal-contoso.com uses hello default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="4cf87-200">No entanto, tal como as aplicações que são executados no serviço de multi-inquilino público Olá, os programadores podem configurar os nomes de anfitrião personalizado para aplicações individuais.</span><span class="sxs-lookup"><span data-stu-id="4cf87-200">However, just like apps that run on hello public multitenant service, developers can configure custom host names for individual apps.</span></span> <span data-ttu-id="4cf87-201">Também pode configurar enlaces de certificado de SNI SSL exclusivos para aplicações individuais.</span><span class="sxs-lookup"><span data-stu-id="4cf87-201">They also can configure unique SNI SSL certificate bindings for individual apps.</span></span>

## <a name="app-service-environment-v1"></a><span data-ttu-id="4cf87-202">Ambiente do Serviço de Aplicações v1</span><span class="sxs-lookup"><span data-stu-id="4cf87-202">App Service Environment v1</span></span> ##
<span data-ttu-id="4cf87-203">Ambiente de serviço de aplicações tem duas versões: ASEv1 e ASEv2.</span><span class="sxs-lookup"><span data-stu-id="4cf87-203">App Service Environment has two versions: ASEv1 and ASEv2.</span></span> <span data-ttu-id="4cf87-204">Olá anterior a informação foi com base no ASEv2.</span><span class="sxs-lookup"><span data-stu-id="4cf87-204">hello preceding information was based on ASEv2.</span></span> <span data-ttu-id="4cf87-205">Esta secção apresenta o Olá diferenças entre ASEv1 e ASEv2.</span><span class="sxs-lookup"><span data-stu-id="4cf87-205">This section shows you hello differences between ASEv1 and ASEv2.</span></span>

<span data-ttu-id="4cf87-206">No ASEv1, pode gere todos os recursos de Olá manualmente.</span><span class="sxs-lookup"><span data-stu-id="4cf87-206">In ASEv1, you manage all of hello resources manually.</span></span> <span data-ttu-id="4cf87-207">Que inclui extremidades front-Olá, funcionários e endereços IP utilizados para SSL baseado em IP.</span><span class="sxs-lookup"><span data-stu-id="4cf87-207">That includes hello front ends, workers, and IP addresses used for IP-based SSL.</span></span> <span data-ttu-id="4cf87-208">Antes de pode ampliar o plano de serviço de aplicações, tem aumentar horizontalmente o conjunto de trabalho de Olá que pretende que o toohost-lo.</span><span class="sxs-lookup"><span data-stu-id="4cf87-208">Before you can scale out your App Service plan, you must scale out hello worker pool that you want toohost it.</span></span>

<span data-ttu-id="4cf87-209">ASEv1 utiliza um modelo de preços diferentes de ASEv2.</span><span class="sxs-lookup"><span data-stu-id="4cf87-209">ASEv1 uses a different pricing model from ASEv2.</span></span> <span data-ttu-id="4cf87-210">ASEv1, paga para cada núcleos alocados.</span><span class="sxs-lookup"><span data-stu-id="4cf87-210">In ASEv1, you pay for each core allocated.</span></span> <span data-ttu-id="4cf87-211">Isto inclui núcleos que são utilizados para front-ends ou trabalhadores que não alojam quaisquer cargas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="4cf87-211">That includes cores that are used for front ends or workers that aren't hosting any workloads.</span></span> <span data-ttu-id="4cf87-212">ASEv1, tamanho de dimensionamento máximo predefinido Olá de ASE é 55 total de anfitriões.</span><span class="sxs-lookup"><span data-stu-id="4cf87-212">In ASEv1, hello default maximum-scale size of an ASE is 55 total hosts.</span></span> <span data-ttu-id="4cf87-213">Que inclui os trabalhadores e front-ends.</span><span class="sxs-lookup"><span data-stu-id="4cf87-213">That includes workers and front ends.</span></span> <span data-ttu-id="4cf87-214">Uma vantagem tooASEv1 é que pode ser implementada numa rede virtual clássica e uma rede virtual do Gestor de recursos.</span><span class="sxs-lookup"><span data-stu-id="4cf87-214">One advantage tooASEv1 is that it can be deployed in a classic virtual network and a Resource Manager virtual network.</span></span> <span data-ttu-id="4cf87-215">toolearn mais informações sobre ASEv1, consulte [introdução do ambiente de serviço de aplicações v1][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="4cf87-215">toolearn more about ASEv1, see [App Service Environment v1 introduction][ASEv1Intro].</span></span>

<span data-ttu-id="4cf87-216">toocreate um ASEv1 utilizando um modelo do Resource Manager, consulte [criar v1 um ILB ASE com um modelo do Resource Manager][ILBASEv1Template].</span><span class="sxs-lookup"><span data-stu-id="4cf87-216">toocreate an ASEv1 by using a Resource Manager template, see [Create an ILB ASE v1 with a Resource Manager template][ILBASEv1Template].</span></span>


<!--Links-->
[quickstartilbasecreate]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-ilb-create
[quickstartasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-create
[quickstartconfiguressl]: http://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl
[quickstartwebapponasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asp-app-on-asev2-create
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ILBASEv1Template]: ../../app-service-web/app-service-app-service-environment-create-ilb-ase-resourcemanager.md
