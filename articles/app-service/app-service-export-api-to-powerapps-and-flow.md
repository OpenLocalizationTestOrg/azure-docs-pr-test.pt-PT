---
title: aaaExporting um tooPowerApps alojado no Azure API e a Microsoft Flow | Microsoft Docs
description: "Descrição geral de como tooexpose uma API alojada no App Service tooPowerApps e Microsoft Flow"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 285b6efa3af5b0feac1ee2f617c0dc56dc3fd198
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="exporting-an-azure-hosted-api-toopowerapps-and-microsoft-flow"></a><span data-ttu-id="51db8-103">Exportar um tooPowerApps alojado no Azure API e a Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="51db8-103">Exporting an Azure-hosted API tooPowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="51db8-104">Criar conectores personalizados para PowerApps e Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="51db8-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="51db8-105">[PowerApps](https://powerapps.com) é um serviço para criar e utilizar aplicações empresariais personalizadas que ligar tooyour dados e a trabalham entre plataformas.</span><span class="sxs-lookup"><span data-stu-id="51db8-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect tooyour data and work across platforms.</span></span> <span data-ttu-id="51db8-106">[Microsoft Flow](https://flow.microsoft.com) torna tooautomate fácil fluxos de trabalho e os processos de negócios entre os seus serviços e aplicações favoritas.</span><span class="sxs-lookup"><span data-stu-id="51db8-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy tooautomate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="51db8-107">PowerApps e Microsoft Flow vêm com uma variedade de origens de toodata conectores incorporados, tais como o Office 365, Dynamics 365, Salesforce e muito mais.</span><span class="sxs-lookup"><span data-stu-id="51db8-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors toodata sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="51db8-108">No entanto, os utilizadores também precisam de origens de dados de capacidade tooleverage toobe e APIs que está a ser criadas pela respetiva organização.</span><span class="sxs-lookup"><span data-stu-id="51db8-108">However, users also need toobe able tooleverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="51db8-109">Da mesma forma, os programadores que pretendem tooexpose das respetivas APIs de mais amplamente dentro Olá organização poderá querer toomake respetivo tooPowerApps disponíveis APIs e Microsoft Flow utilizadores.</span><span class="sxs-lookup"><span data-stu-id="51db8-109">Similarly, developers that want tooexpose their APIs more broadly within hello organization may want toomake their APIs available tooPowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="51db8-110">Este tópico mostra como tooexpose uma API criada com o App Service do Azure ou as funções do Azure tooPowerApps e Flow Microsoft.</span><span class="sxs-lookup"><span data-stu-id="51db8-110">This topic will show you how tooexpose an API built with Azure App Service or Azure Functions tooPowerApps and Microsoft Flow.</span></span> <span data-ttu-id="51db8-111">[App Service do Azure](https://azure.microsoft.com/services/app-service/) é uma oferta de plataforma-como-um-serviço que permite aos programadores tooquickly e facilmente web de nível empresarial de compilação, móveis e aplicações API.</span><span class="sxs-lookup"><span data-stu-id="51db8-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers tooquickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="51db8-112">[As funções do Azure](https://azure.microsoft.com/services/functions/) é uma solução baseada em eventos computação sem servidor que permite-lhe o código de autor tooquickly que possam reagir tooother partes do sistema e escala com base no pedido.</span><span class="sxs-lookup"><span data-stu-id="51db8-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you tooquickly author code that can react tooother parts of your system and scale based on demand.</span></span>

<span data-ttu-id="51db8-113">toolearn mais informações sobre estes serviços, consulte:</span><span class="sxs-lookup"><span data-stu-id="51db8-113">toolearn more about these services, see:</span></span>
- [<span data-ttu-id="51db8-114">PowerApps orientado Learning</span><span class="sxs-lookup"><span data-stu-id="51db8-114">PowerApps Guided Learning</span></span>](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) 
- [<span data-ttu-id="51db8-115">Fluxo de Microsoft orientado Learning</span><span class="sxs-lookup"><span data-stu-id="51db8-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="51db8-116">O que é o Serviço de Aplicações?</span><span class="sxs-lookup"><span data-stu-id="51db8-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="51db8-117">O que é das funções do Azure</span><span class="sxs-lookup"><span data-stu-id="51db8-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="51db8-118">Partilha uma definição de API</span><span class="sxs-lookup"><span data-stu-id="51db8-118">Sharing an API definition</span></span>

<span data-ttu-id="51db8-119">APIs, muitas vezes, são descritas utilizando um [OpenAPI documento](https://www.openapis.org/) (algumas vezes referido tooas um documento de "Swagger").</span><span class="sxs-lookup"><span data-stu-id="51db8-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred tooas a "Swagger" document).</span></span> <span data-ttu-id="51db8-120">Contém todas Olá informações sobre as operações que estão disponíveis e como os dados de Olá devem ser estruturados.</span><span class="sxs-lookup"><span data-stu-id="51db8-120">This contains all of hello information about what operations are available and how hello data should be structured.</span></span> <span data-ttu-id="51db8-121">PowerApps e Microsoft Flow podem criar conectores personalizados para qualquer documento OpenAPI 2.0.</span><span class="sxs-lookup"><span data-stu-id="51db8-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="51db8-122">Depois de um conetor personalizado é criado, pode ser utilizado no exatamente Olá mesma forma que um dos Olá conectores incorporados e rapidamente pode ser integrada numa aplicação.</span><span class="sxs-lookup"><span data-stu-id="51db8-122">Once a custom connector is created, it can be used in exactly hello same way as one of hello built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="51db8-123">Azure App Service e as funções do Azure têm [suporte incorporado](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) para criar, alojar e gerir um documento de OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="51db8-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="51db8-124">Ordem toocreate um conetor personalizado para um web, móveis, a API ou a aplicação de função, PowerApps e fluxo necessário toobe dada uma cópia da definição de Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-124">In order toocreate a custom connector for a web, mobile, API, or function app, PowerApps and Flow need toobe given a copy of hello definition.</span></span>

> [!NOTE]
> <span data-ttu-id="51db8-125">Porque está a ser utilizada uma cópia da definição da API de Olá, PowerApps e Microsoft Flow não imediatamente saberá sobre atualizações ou última alterações toohello aplicação.</span><span class="sxs-lookup"><span data-stu-id="51db8-125">Because a copy of hello API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes toohello application.</span></span> <span data-ttu-id="51db8-126">Se é disponibilizada uma nova versão da API de Olá, estes passos devem ser repetidos para versão Olá de novo.</span><span class="sxs-lookup"><span data-stu-id="51db8-126">If a new version of hello API is made available, these steps should be repeated for hello new version.</span></span> 

<span data-ttu-id="51db8-127">tooprovide PowerApps e Flow Microsoft com a definição da API de Olá alojado para a sua aplicação, siga estes passos:</span><span class="sxs-lookup"><span data-stu-id="51db8-127">tooprovide PowerApps and Microsoft Flow with hello hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="51db8-128">Abra Olá [Portal do Azure](https://portal.azure.com) e navegue tooyour aplicação do serviço de aplicações ou funções do Azure.</span><span class="sxs-lookup"><span data-stu-id="51db8-128">Open hello [Azure Portal](https://portal.azure.com) and navigate tooyour App Service or Azure Functions application.</span></span>

    <span data-ttu-id="51db8-129">Se utilizar o App Service do Azure, selecione **definição da API** da lista de definições de Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-129">If using Azure App Service, select **API definition** from hello settings list.</span></span> 
    
    <span data-ttu-id="51db8-130">Se utilizar as funções do Azure, selecione a sua aplicação de função e, em seguida, escolha **funcionalidades da plataforma**e, em seguida, **definição da API**.</span><span class="sxs-lookup"><span data-stu-id="51db8-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="51db8-131">Também pode optar por tooopen Olá **definição da API (pré-visualização)** separador em vez disso.</span><span class="sxs-lookup"><span data-stu-id="51db8-131">You could also choose tooopen hello **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="51db8-132">Se tiver sido fornecida uma definição de API, verá um **exportar tooPowerApps + Microsoft Flow** botão.</span><span class="sxs-lookup"><span data-stu-id="51db8-132">If an API definition has been provided, you will see an **Export tooPowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="51db8-133">Clique neste processo de exportação do botão toobegin Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-133">Click this button toobegin hello export process.</span></span>

3. <span data-ttu-id="51db8-134">Selecione Olá **exportação modo**.</span><span class="sxs-lookup"><span data-stu-id="51db8-134">Select hello **Export mode**.</span></span> <span data-ttu-id="51db8-135">Isto determina passos Olá, terá de toofollow toocreate um conector.</span><span class="sxs-lookup"><span data-stu-id="51db8-135">This determines hello steps you will need toofollow toocreate a connector.</span></span> <span data-ttu-id="51db8-136">App Service oferece duas opções para fornecer PowerApps e Flow Microsoft com a definição da API:</span><span class="sxs-lookup"><span data-stu-id="51db8-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="51db8-137">**Express** Olá, permite criar Olá personalizado conector a partir no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="51db8-137">**Express** lets you create hello custom connector from within hello Azure portal.</span></span> <span data-ttu-id="51db8-138">Requer que Olá atual utilizador com sessão iniciada tem conectores de toocreate permissão no ambiente de destino Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-138">It requires that hello curent logged-in user has permission toocreate connectors in hello target environment.</span></span> <span data-ttu-id="51db8-139">Este é Olá abordagem recomendada se este requisito pode ser cumprido.</span><span class="sxs-lookup"><span data-stu-id="51db8-139">This is hello recommended approach if that requirement can be met.</span></span> <span data-ttu-id="51db8-140">Se utilizar este modo, siga Olá [Express exportação](#express) instruções abaixo.</span><span class="sxs-lookup"><span data-stu-id="51db8-140">If using this mode, follow hello [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="51db8-141">**Manual** permite exportar uma cópia do Olá API definiton que possam ser importado Olá PowerApps ou Microsoft Flow portais.</span><span class="sxs-lookup"><span data-stu-id="51db8-141">**Manual** lets you export a copy of hello API definiton which can be imported using hello PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="51db8-142">Este é Olá abordagem recomendada se hello utilizador Olá com conectores de toocreate de permissão e de utilizador do Azure são diferentes pessoas ou se precisar de conector Olá toobe criado no outro inquilino.</span><span class="sxs-lookup"><span data-stu-id="51db8-142">This is hello recommended approach if hello Azure user and hello user with permission toocreate connectors are different people or if hello connector needs toobe created in another tenant.</span></span> <span data-ttu-id="51db8-143">Se utilizar este modo, siga Olá [Manual exportação e importação](#manual) instruções abaixo.</span><span class="sxs-lookup"><span data-stu-id="51db8-143">If using this mode, follow hello [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="51db8-144">Exportação rápida</span><span class="sxs-lookup"><span data-stu-id="51db8-144">Express export</span></span>

<span data-ttu-id="51db8-145">Nesta secção, irá criar um novo conector personalizado do dentro Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="51db8-145">In this section, you will create a new custom connector from within hello Azure portal.</span></span> <span data-ttu-id="51db8-146">Tem de ter sessão iniciada em Olá inquilino toowhich desejar tooexport e tem de ter permissão toocreate um conetor personalizado no ambiente de destino Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-146">You must be logged into hello tenant toowhich you wish tooexport, and you must have permission toocreate a custom connector in hello target environment.</span></span>

1. <span data-ttu-id="51db8-147">Selecione o ambiente de Olá na qual gostaria de conector de Olá toocreate.</span><span class="sxs-lookup"><span data-stu-id="51db8-147">Select hello environment in which you would like toocreate hello connector.</span></span> <span data-ttu-id="51db8-148">Em seguida, forneça um nome para o conetor personalizado.</span><span class="sxs-lookup"><span data-stu-id="51db8-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="51db8-149">Se a definição da API inclui quaisquer definições de segurança, estes serão ser realçadas no passo #2.</span><span class="sxs-lookup"><span data-stu-id="51db8-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="51db8-150">Se necessário, forneça segurança Olá detalhes de configuração necessitam acesso de utilizadores toogrant tooyour API.</span><span class="sxs-lookup"><span data-stu-id="51db8-150">If required, provide hello security configuration details needed toogrant users access tooyour API.</span></span> <span data-ttu-id="51db8-151">Para obter mais informações, consulte [autenticação](#auth) abaixo.</span><span class="sxs-lookup"><span data-stu-id="51db8-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="51db8-152">Clique em **OK** toocreate seu conector personalizado.</span><span class="sxs-lookup"><span data-stu-id="51db8-152">Click **OK** toocreate your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="51db8-153">Manual exportação e importação</span><span class="sxs-lookup"><span data-stu-id="51db8-153">Manual export and import</span></span>

<span data-ttu-id="51db8-154">Na ordem toocreate um conetor personalizado para um web, móveis, a API ou a aplicação de função, serão necessários dois passos:</span><span class="sxs-lookup"><span data-stu-id="51db8-154">In order toocreate a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="51db8-155">Ao obter a definição da API Olá do serviço de aplicações ou funções do Azure</span><span class="sxs-lookup"><span data-stu-id="51db8-155">Retrieving hello API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="51db8-156">Importar definição de API de Olá para PowerApps e Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="51db8-156">Importing hello API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="51db8-157">É possível que estes dois passos necessário toobe levada a cabo por separado indivíduos numa organização, como um utilizador especificado pode não ter permissão tooperform ambas as ações.</span><span class="sxs-lookup"><span data-stu-id="51db8-157">It is possible that these two steps will need toobe carried out by separate individuals within an organization, as a given user may not have permission tooperform both actions.</span></span> <span data-ttu-id="51db8-158">Neste caso, um programador, que tem acesso de contribuinte toohello aplicação do serviço de aplicações ou funções do Azure terá de definição de Olá API tooobtain (um único ficheiro JSON) ou um tooit de ligação.</span><span class="sxs-lookup"><span data-stu-id="51db8-158">In this case, a developer who has contributor access toohello App Service or Azure Functions application will need tooobtain hello API definition (a single JSON file) or a link tooit.</span></span> <span data-ttu-id="51db8-159">Será, em seguida, precisam de tooprovide esse PowerApps ou Microsoft Flow proprietário tooa de definição.</span><span class="sxs-lookup"><span data-stu-id="51db8-159">They will then need tooprovide that definition tooa PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="51db8-160">Esse proprietário pode utilizar o conector personalizado do Olá metadados toocreate Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-160">That owner can use hello metadata toocreate hello custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-hello-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="51db8-161">Ao obter a definição da API Olá do serviço de aplicações ou funções do Azure</span><span class="sxs-lookup"><span data-stu-id="51db8-161">Retrieving hello API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="51db8-162">Nesta secção, irá exportar a definição da API para a API de serviço de aplicações, toobe utilizado mais tarde no portal de PowerApps ou Microsoft Flow Olá Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-162">In this section, you will export hello API definition for your App Service API, toobe used later in hello PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="51db8-163">Pode escolher tooeither **transferir definição Olá API** ou **obtenha uma ligação**.</span><span class="sxs-lookup"><span data-stu-id="51db8-163">You can choose tooeither **Download hello API definition** or **Get a link**.</span></span> <span data-ttu-id="51db8-164">Que escolher, o resultado de Olá será fornecido na secção seguinte, Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-164">Whichever you choose, hello result will be provided in hello next section.</span></span> <span data-ttu-id="51db8-165">Selecione uma destas opções e siga as instruções de Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-165">Select one of these options and follow hello instructions.</span></span>
 
2. <span data-ttu-id="51db8-166">Se a definição da API inclui quaisquer definições de segurança, estes serão ser realçadas no passo #2.</span><span class="sxs-lookup"><span data-stu-id="51db8-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="51db8-167">Durante a importação, PowerApps e Microsoft Flow irão detetar estes e solicita a informações de segurança.</span><span class="sxs-lookup"><span data-stu-id="51db8-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="51db8-168">Recolha Olá credenciais tooeach relacionados definição para utilização na secção seguinte, Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-168">Gather hello credentials related tooeach definition for use in hello next section.</span></span> <span data-ttu-id="51db8-169">Para obter mais informações, consulte [autenticação](#auth) abaixo.</span><span class="sxs-lookup"><span data-stu-id="51db8-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-hello-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="51db8-170">Importar definição de API de Olá para PowerApps e Microsoft Flow</span><span class="sxs-lookup"><span data-stu-id="51db8-170">Importing hello API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="51db8-171">Nesta secção, irá criar um conetor personalizado no PowerApps e Flow Microsoft utilizando a definição de Olá API que obteve anteriormente.</span><span class="sxs-lookup"><span data-stu-id="51db8-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using hello API definition obtained earlier.</span></span> <span data-ttu-id="51db8-172">Conectores personalizados são partilhados entre Olá dois serviços, pelo que necessita apenas de definição de Olá tooimport uma vez.</span><span class="sxs-lookup"><span data-stu-id="51db8-172">Custom connectors are shared between hello two services, so you only need tooimport hello definition once.</span></span> <span data-ttu-id="51db8-173">Para obter mais informações sobre conectores personalizadas, consulte [registar e utilizar conectores personalizados no PowerApps] e [registar e utilizar conectores personalizados no Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="51db8-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="51db8-174">Abra Olá [portal web do Powerapps](https://web.powerapps.com) ou Olá [portal web do Microsoft Flow](https://flow.microsoft.com/)e iniciar sessão.</span><span class="sxs-lookup"><span data-stu-id="51db8-174">Open hello [Powerapps web portal](https://web.powerapps.com) or hello [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="51db8-175">Clique em Olá **definições** botão (ícone de engrenagem Olá) no canto superior direito de Olá da página Olá e selecione **conectores personalizada**.</span><span class="sxs-lookup"><span data-stu-id="51db8-175">Click hello **Settings** button (hello gear icon) at hello upper right of hello page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="51db8-176">Clique em **criar conector personalizado**.</span><span class="sxs-lookup"><span data-stu-id="51db8-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="51db8-177">No Olá **geral** separador, forneça um nome para a API e, em seguida, carregue a definição de OpenAPI Olá ou cole o URL de metadados de Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-177">On hello **General** tab, provide a name for your API, and then upload hello OpenAPI definition or paste in hello metadata URL.</span></span> <span data-ttu-id="51db8-178">Clique em **continuar**.</span><span class="sxs-lookup"><span data-stu-id="51db8-178">Click **Continue**.</span></span>

4. <span data-ttu-id="51db8-179">No Olá **segurança** separador, se for pedido tooprovide detalhes de autenticação, introduza valores Olá obtidos na secção anterior Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-179">On hello **Security** tab, if you are prompted tooprovide authentication details, enter hello values obtained in hello previous section.</span></span> <span data-ttu-id="51db8-180">Caso contrário, avance toohello próximo passo.</span><span class="sxs-lookup"><span data-stu-id="51db8-180">If not, proceed toohello next step.</span></span>

5. <span data-ttu-id="51db8-181">No Olá **definições** separador, todas as operações de Olá definidas no seu ficheiro OpenAPI são povoadas de automática.</span><span class="sxs-lookup"><span data-stu-id="51db8-181">On hello **Definitions** tab, all hello operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="51db8-182">Se a todas as operações necessárias são definidas, pode aceder toohello próximo passo.</span><span class="sxs-lookup"><span data-stu-id="51db8-182">If all your required operations are defined, you can go toohello next step.</span></span> <span data-ttu-id="51db8-183">Caso contrário, pode adicionar e modificar operações aqui.</span><span class="sxs-lookup"><span data-stu-id="51db8-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="51db8-184">Clique em **criar conector**.</span><span class="sxs-lookup"><span data-stu-id="51db8-184">Click **Create connector**.</span></span> <span data-ttu-id="51db8-185">Se quiser tootest chamadas de API, aceda toohello próximo passo.</span><span class="sxs-lookup"><span data-stu-id="51db8-185">If you want tootest API calls, go toohello next step.</span></span>

7. <span data-ttu-id="51db8-186">No Olá **teste** separador, criar uma ligação, selecione uma operação tootest e introduza todos os dados necessários para a operação de Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-186">On hello **Test** tab, create a connection, select an operation tootest, and enter any data required by hello operation.</span></span>

8. <span data-ttu-id="51db8-187">Clique em **testar operação**.</span><span class="sxs-lookup"><span data-stu-id="51db8-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="51db8-188">Autenticação</span><span class="sxs-lookup"><span data-stu-id="51db8-188">Authentication</span></span>

<span data-ttu-id="51db8-189">PowerApps e Microsoft Flow suportam nativamente o uma coleção de fornecedores de identidade que podem ser utilizado toolog os utilizadores do seu conector personalizado.</span><span class="sxs-lookup"><span data-stu-id="51db8-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used toolog in users of your custom connector.</span></span> <span data-ttu-id="51db8-190">Se a sua API requer autenticação, certifique-se de que é capturado como uma _definição de segurança_ no seu documento OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="51db8-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="51db8-191">Durante a exportação, terá de valores de configuração de tooprovide permitem PowerApps uma ação de início de sessão do Microsoft Flow tooperform.</span><span class="sxs-lookup"><span data-stu-id="51db8-191">During export, you will need tooprovide configuration values that allow PowerApps an Microsoft Flow tooperform login actions.</span></span>

<span data-ttu-id="51db8-192">Esta secção inclui os tipos de autenticação de Olá que são suportados pelo fluxo rápida Olá: chave de API, Azure Active Directory e genérico OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="51db8-192">This section covers hello authentication types which are supported by hello express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="51db8-193">Para obter uma lista completa de fornecedores e as credenciais de Olá requer que cada um, consulte [registar e utilizar conectores personalizados no PowerApps] e [registar e utilizar conectores personalizados no Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="51db8-193">For a complete list of providers and hello credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="51db8-194">Chave de API</span><span class="sxs-lookup"><span data-stu-id="51db8-194">API key</span></span>
<span data-ttu-id="51db8-195">Quando é utilizada este esquema de segurança, os utilizadores de Olá do seu conector serão chave do pedido tooprovide Olá quando criam uma ligação.</span><span class="sxs-lookup"><span data-stu-id="51db8-195">When this security scheme is used, hello users of your connector will be prompted tooprovide hello key when they create a connection.</span></span> <span data-ttu-id="51db8-196">Pode fornecer um toohelp do nome da chave de API-lhes saber qual a chave é necessária.</span><span class="sxs-lookup"><span data-stu-id="51db8-196">You can provide an API key name toohelp them know which key is needed.</span></span> <span data-ttu-id="51db8-197">Para as funções do Azure, normalmente, será uma das chaves de anfitrião Olá, que abrangem várias funções dentro da aplicação de função Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-197">For Azure Functions, this will typically be one of hello host keys, covering several functions within hello function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="51db8-198">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="51db8-198">Azure Active Directory</span></span>
<span data-ttu-id="51db8-199">Quando configurar um conector personalizado que requer o início de sessão do AAD, são necessários dois registos de aplicações do AAD: uma API de back-end de Olá toomodel e um conector de Olá toomodel PowerApps e fluxo.</span><span class="sxs-lookup"><span data-stu-id="51db8-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one toomodel hello backend API, and one toomodel hello connector in PowerApps and Flow.</span></span>

<span data-ttu-id="51db8-200">A API deve ser configurado toowork com registo primeiro Olá e este será já ser Tratado se utilizou Olá [aplicação serviço de autenticação/autorização](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="51db8-200">Your API should be configured toowork with hello first registration, and this will already be taken care of if you used hello [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="51db8-201">Terá de toomanually criar registo de segundo Olá conector Olá, utilizando os passos de Olá abrangidos [adicionar uma aplicação AAD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="51db8-201">You will have toomanually create hello second registration for hello connector, using hello steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="51db8-202">Olá registo tem toohave delegado acesso tooyour API e um URL de resposta de `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="51db8-202">hello registration needs toohave delegated access tooyour API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="51db8-203">Consulte [neste exemplo](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) para obter mais detalhes, substituindo a sua API para Olá do Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="51db8-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for hello Azure Resource Manager.</span></span>

<span data-ttu-id="51db8-204">Olá, os seguintes valores de configuração é necessário:</span><span class="sxs-lookup"><span data-stu-id="51db8-204">hello following configuration values are required:</span></span>
- <span data-ttu-id="51db8-205">**ID de cliente** -Olá ID de cliente do seu conector registo do AAD</span><span class="sxs-lookup"><span data-stu-id="51db8-205">**Client ID** - hello client ID of your connector AAD registration</span></span>
- <span data-ttu-id="51db8-206">**Segredo do cliente** -segredo do cliente Olá do seu conector registo do AAD</span><span class="sxs-lookup"><span data-stu-id="51db8-206">**Client secret** - hello client secret of your connector AAD registration</span></span>
- <span data-ttu-id="51db8-207">**URL de início de sessão** - hello base URL para o AAD.</span><span class="sxs-lookup"><span data-stu-id="51db8-207">**Login URL** - hello base URL for AAD.</span></span> <span data-ttu-id="51db8-208">No Azure público, normalmente, será `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="51db8-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="51db8-209">**ID de inquilino** -Olá ID Olá inquilino toobe utilizado para início de sessão Olá.</span><span class="sxs-lookup"><span data-stu-id="51db8-209">**Tenant ID** - hello ID of hello tenant toobe used for hello login.</span></span> <span data-ttu-id="51db8-210">Isto deve ser "comum" ou Olá ID do inquilino Olá no qual Olá conector está a ser criado.</span><span class="sxs-lookup"><span data-stu-id="51db8-210">This should be "common" or hello ID of hello tenant in which hello connector is being created.</span></span>
- <span data-ttu-id="51db8-211">**URL de recurso** -Olá URL de recursos de registo do AAD de back-end da API</span><span class="sxs-lookup"><span data-stu-id="51db8-211">**Resource URL** - hello resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="51db8-212">Se outra pessoa importar definição de Olá API PowerApps e Flow Microsoft como parte do fluxo de Olá manual, terá de tooprovide-los com o segredo de cliente e o ID de cliente de Olá **de registo do conetor Olá**, bem como o URL de recurso de Olá da sua API.</span><span class="sxs-lookup"><span data-stu-id="51db8-212">If another individual will be importing hello API definition into PowerApps and Microsoft Flow as part of hello manual flow, you will need tooprovide them with hello client ID and client secret **of hello connector registration**, as well as hello resource URL of your API.</span></span> <span data-ttu-id="51db8-213">Certifique-se de que estes segredos são geridos de forma segura.</span><span class="sxs-lookup"><span data-stu-id="51db8-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="51db8-214">**Não partilhe credenciais de segurança de Olá de Olá API próprio.**</span><span class="sxs-lookup"><span data-stu-id="51db8-214">**Do not share hello security credentials of hello API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="51db8-215">Genérico OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="51db8-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="51db8-216">suporte de OAuth 2.0 genérico Olá permite-lhe toointegrate com qualquer fornecedor de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="51db8-216">hello generic OAuth 2.0 support allows you toointegrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="51db8-217">Isto permite-lhe toobring em qualquer fornecedor personalizado que não é suportado nativamente.</span><span class="sxs-lookup"><span data-stu-id="51db8-217">This allows you toobring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="51db8-218">Olá, os seguintes valores de configuração é necessário:</span><span class="sxs-lookup"><span data-stu-id="51db8-218">hello following configuration values are required:</span></span>
- <span data-ttu-id="51db8-219">**ID de cliente** -Olá ID de cliente OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="51db8-219">**Client ID** - hello OAuth 2.0 client ID</span></span>
- <span data-ttu-id="51db8-220">**Segredo do cliente** -segredo do cliente Olá OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="51db8-220">**Client secret** - hello OAuth 2.0 client secret</span></span>
- <span data-ttu-id="51db8-221">**URL de autorização** -Olá URL de autorização do OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="51db8-221">**Authorization URL** - hello OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="51db8-222">**URL do token** -Olá URL do token OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="51db8-222">**Token URL** - hello OAuth 2.0 token URL</span></span>
- <span data-ttu-id="51db8-223">**Atualizar o URL** -Olá URL de atualização de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="51db8-223">**Refresh URL** - hello OAuth 2.0 refresh URL</span></span>



[registar e utilizar conectores personalizados no PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/
[registar e utilizar conectores personalizados no Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/
