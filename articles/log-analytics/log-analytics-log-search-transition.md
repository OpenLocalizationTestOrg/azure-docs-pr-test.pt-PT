---
title: "folha de referência de linguagem de consulta de análise de registos de aaaAzure | Microsoft Docs"
description: "Este artigo fornece assistência sobre a transição toohello novo idioma de consulta de análise de registos, se já estiver familiarizado com o idioma de legado Olá."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/23/2017
ms.author: bwren
ms.openlocfilehash: 8b4ee3d0b5e1ec8a9f95a09e0ad9835615ad1342
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="transitioning-tooazure-log-analytics-new-query-language"></a><span data-ttu-id="63a3f-103">Mudar o idioma de consulta nova análise de registos tooAzure</span><span class="sxs-lookup"><span data-stu-id="63a3f-103">Transitioning tooAzure Log Analytics new query language</span></span>

> [!NOTE]
> <span data-ttu-id="63a3f-104">Pode ler mais sobre Olá idioma de consulta de nova análise de registos e obter Olá procedimento tooupgrade sua área de trabalho na atualização do seu [pesquisa de registo do Log Analytics do Azure área de trabalho toonew](log-analytics-log-search-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="63a3f-104">You can read more about hello new Log Analytics query language and get hello procedure tooupgrade your workspace at Upgrade your [Azure Log Analytics workspace toonew log search](log-analytics-log-search-upgrade.md).</span></span>

<span data-ttu-id="63a3f-105">Este artigo fornece assistência sobre a transição toohello novo idioma de consulta de análise de registos, se já estiver familiarizado com o idioma de legado Olá.</span><span class="sxs-lookup"><span data-stu-id="63a3f-105">This article provides assistance on transitioning toohello new query language for Log Analytics if you're already familiar with hello legacy language.</span></span>

## <a name="language-converter"></a><span data-ttu-id="63a3f-106">Conversor de idioma</span><span class="sxs-lookup"><span data-stu-id="63a3f-106">Language converter</span></span>

<span data-ttu-id="63a3f-107">Se estiver familiarizado com o idioma de consulta de análise de registos legado Olá, Olá toocreate Olá mesma consulta no idioma novo Olá de forma mais fácil é toouse Olá conversor de idioma que está instalado no portal de registo de pesquisa de Olá quando a sua área de trabalho é convertida.</span><span class="sxs-lookup"><span data-stu-id="63a3f-107">If you're familiar with hello legacy Log Analytics query language, hello easiest way toocreate hello same query in hello new language is toouse hello Language Converter that's installed in hello Log Search portal when your workspace is converted.</span></span>  <span data-ttu-id="63a3f-108">A utilização de conversor Olá é tão simple como escrever uma consulta na caixa de texto superior Olá legada e, em seguida, clicando em **converter**.</span><span class="sxs-lookup"><span data-stu-id="63a3f-108">Using hello converter is as simple as typing in a legacy query in hello top text box and then clicking **Convert**.</span></span>  <span data-ttu-id="63a3f-109">Pode clique Olá botão toorun Olá consulta ou copiar e colar toouse-lo algures pessoa.</span><span class="sxs-lookup"><span data-stu-id="63a3f-109">You can either click hello search button toorun hello query or copy and paste it toouse it somewhere else.</span></span>

![Conversor de idioma](media/log-analytics-log-search-upgrade/language-converter.png)


## <a name="cheat-sheet"></a><span data-ttu-id="63a3f-111">Nota</span><span class="sxs-lookup"><span data-stu-id="63a3f-111">Cheat sheet</span></span>

<span data-ttu-id="63a3f-112">Olá tabela seguinte fornece uma comparação entre uma variedade de consultas comuns tooequivalent comandos entre o idioma de consulta novo e legado Olá no Log Analytics do Azure.</span><span class="sxs-lookup"><span data-stu-id="63a3f-112">hello following table provides a comparison between a variety of common queries tooequivalent commands between hello new and legacy query language in Azure Log Analytics.</span></span>

| <span data-ttu-id="63a3f-113">Descrição</span><span class="sxs-lookup"><span data-stu-id="63a3f-113">Description</span></span> | <span data-ttu-id="63a3f-114">Legado</span><span class="sxs-lookup"><span data-stu-id="63a3f-114">Legacy</span></span> | <span data-ttu-id="63a3f-115">novo</span><span class="sxs-lookup"><span data-stu-id="63a3f-115">new</span></span> |
|:--|:--|:--|
| <span data-ttu-id="63a3f-116">Todas as tabelas de pesquisa</span><span class="sxs-lookup"><span data-stu-id="63a3f-116">Search all tables</span></span>      | <span data-ttu-id="63a3f-117">erro</span><span class="sxs-lookup"><span data-stu-id="63a3f-117">error</span></span> | <span data-ttu-id="63a3f-118">procurar "error" (não sensível confidencial)</span><span class="sxs-lookup"><span data-stu-id="63a3f-118">search "error"  (not case sensitive)</span></span> |
| <span data-ttu-id="63a3f-119">Selecione os dados da tabela</span><span class="sxs-lookup"><span data-stu-id="63a3f-119">Select data from table</span></span> | <span data-ttu-id="63a3f-120">Tipo de evento de =</span><span class="sxs-lookup"><span data-stu-id="63a3f-120">Type=Event</span></span> |  <span data-ttu-id="63a3f-121">Evento</span><span class="sxs-lookup"><span data-stu-id="63a3f-121">Event</span></span> |
|                        | <span data-ttu-id="63a3f-122">Tipo = eventos &#124; Selecione a origem, o registo de eventos, EventID</span><span class="sxs-lookup"><span data-stu-id="63a3f-122">Type=Event &#124; select Source, EventLog, EventID</span></span> | <span data-ttu-id="63a3f-123">Evento &#124; EventID de origem, o registo de eventos, do projeto</span><span class="sxs-lookup"><span data-stu-id="63a3f-123">Event &#124; project Source, EventLog, EventID</span></span> |
|                        | <span data-ttu-id="63a3f-124">Tipo = eventos &#124; primeiros 100</span><span class="sxs-lookup"><span data-stu-id="63a3f-124">Type=Event &#124; top 100</span></span> | <span data-ttu-id="63a3f-125">Evento &#124; tirar 100</span><span class="sxs-lookup"><span data-stu-id="63a3f-125">Event &#124; take 100</span></span> |
| <span data-ttu-id="63a3f-126">Comparação de cadeias</span><span class="sxs-lookup"><span data-stu-id="63a3f-126">String comparison</span></span>      | <span data-ttu-id="63a3f-127">Tipo = Computer=srv01.contoso.com de eventos</span><span class="sxs-lookup"><span data-stu-id="63a3f-127">Type=Event Computer=srv01.contoso.com</span></span>   | <span data-ttu-id="63a3f-128">Evento &#124; onde computador = = "srv01.contoso.com"</span><span class="sxs-lookup"><span data-stu-id="63a3f-128">Event &#124; where Computer == "srv01.contoso.com"</span></span> |
|                        | <span data-ttu-id="63a3f-129">Tipo = Computer=contains("contoso") de eventos</span><span class="sxs-lookup"><span data-stu-id="63a3f-129">Type=Event Computer=contains("contoso")</span></span> | <span data-ttu-id="63a3f-130">Evento &#124; em que o computador contém "contoso" (não sensível confidencial)</span><span class="sxs-lookup"><span data-stu-id="63a3f-130">Event &#124; where Computer contains "contoso" (not case sensitive)</span></span><br><span data-ttu-id="63a3f-131">Evento &#124; onde computador contains_cs "Contoso" (sensível às maiúsculas e)</span><span class="sxs-lookup"><span data-stu-id="63a3f-131">Event &#124; where Computer contains_cs "Contoso" (case sensitive)</span></span> |
|                        | <span data-ttu-id="63a3f-132">Tipo = evento computador = RegEx ("@contoso@")</span><span class="sxs-lookup"><span data-stu-id="63a3f-132">Type=Event Computer=RegEx("@contoso@")</span></span>  | <span data-ttu-id="63a3f-133">Evento &#124; em que o computador com regex ". *contoso*"</span><span class="sxs-lookup"><span data-stu-id="63a3f-133">Event &#124; where Computer matches regex ".*contoso*"</span></span> |
| <span data-ttu-id="63a3f-134">Comparação de data</span><span class="sxs-lookup"><span data-stu-id="63a3f-134">Date comparison</span></span>        | <span data-ttu-id="63a3f-135">Tipo = eventos TimeGenerated > 1DAYS agora</span><span class="sxs-lookup"><span data-stu-id="63a3f-135">Type=Event TimeGenerated > NOW-1DAYS</span></span> | <span data-ttu-id="63a3f-136">Evento &#124; onde TimeGenerated > ago(1d)</span><span class="sxs-lookup"><span data-stu-id="63a3f-136">Event &#124; where TimeGenerated > ago(1d)</span></span> |
|                        | <span data-ttu-id="63a3f-137">Tipo = eventos TimeGenerated > 2017-05-01 TimeGenerated < 2017-05-31</span><span class="sxs-lookup"><span data-stu-id="63a3f-137">Type=Event TimeGenerated>2017-05-01 TimeGenerated<2017-05-31</span></span> | <span data-ttu-id="63a3f-138">Evento &#124; onde TimeGenerated entre (datetime(2017-05-01)..</span><span class="sxs-lookup"><span data-stu-id="63a3f-138">Event &#124; where TimeGenerated between (datetime(2017-05-01) ..</span></span> <span data-ttu-id="63a3f-139">datetime(2017-05-31))</span><span class="sxs-lookup"><span data-stu-id="63a3f-139">datetime(2017-05-31))</span></span> |
| <span data-ttu-id="63a3f-140">Comparação booleana</span><span class="sxs-lookup"><span data-stu-id="63a3f-140">Boolean comparison</span></span>     | <span data-ttu-id="63a3f-141">Tipo = Heartbeat IsGatewayInstalled = false</span><span class="sxs-lookup"><span data-stu-id="63a3f-141">Type=Heartbeat IsGatewayInstalled=false</span></span>  | <span data-ttu-id="63a3f-142">Heartbeat</span><span class="sxs-lookup"><span data-stu-id="63a3f-142">Heartbeat</span></span> | <span data-ttu-id="63a3f-143">onde IsGatewayInstalled = = false</span><span class="sxs-lookup"><span data-stu-id="63a3f-143">where IsGatewayInstalled == false</span></span> |
| <span data-ttu-id="63a3f-144">Ordenar</span><span class="sxs-lookup"><span data-stu-id="63a3f-144">Sort</span></span>                   | <span data-ttu-id="63a3f-145">Tipo = eventos &#124; Ordenar asc do computador, desc de registo de eventos, EventLevelName asc</span><span class="sxs-lookup"><span data-stu-id="63a3f-145">Type=Event &#124; sort Computer asc, EventLog desc, EventLevelName asc</span></span> | <span data-ttu-id="63a3f-146">Evento \\</span><span class="sxs-lookup"><span data-stu-id="63a3f-146">Event \\</span></span>| <span data-ttu-id="63a3f-147">Ordenar por computador asc, desc de registo de eventos, EventLevelName asc</span><span class="sxs-lookup"><span data-stu-id="63a3f-147">sort by Computer asc, EventLog desc, EventLevelName asc</span></span> |
| <span data-ttu-id="63a3f-148">Distintos</span><span class="sxs-lookup"><span data-stu-id="63a3f-148">Distinct</span></span>               | <span data-ttu-id="63a3f-149">Tipo = eventos &#124; a eliminação de duplicados computador \\</span><span class="sxs-lookup"><span data-stu-id="63a3f-149">Type=Event &#124; dedup Computer \\</span></span>| <span data-ttu-id="63a3f-150">Selecione o computador</span><span class="sxs-lookup"><span data-stu-id="63a3f-150">select Computer</span></span> | <span data-ttu-id="63a3f-151">Evento &#124; Resumir por computador, o registo de eventos</span><span class="sxs-lookup"><span data-stu-id="63a3f-151">Event &#124; summarize by Computer, EventLog</span></span> |
| <span data-ttu-id="63a3f-152">Expandir colunas</span><span class="sxs-lookup"><span data-stu-id="63a3f-152">Extend columns</span></span>         | <span data-ttu-id="63a3f-153">Tipo = desempenho CounterName = "% tempo do processador" &#124; EXPANDA if(map(CounterValue,0,50,0,1),"HIGH","LOW") como utilização</span><span class="sxs-lookup"><span data-stu-id="63a3f-153">Type=Perf CounterName="% Processor Time" &#124; EXTEND if(map(CounterValue,0,50,0,1),"HIGH","LOW") as UTILIZATION</span></span> | <span data-ttu-id="63a3f-154">Desempenho &#124; onde CounterName = = "% tempo do processador" \\</span><span class="sxs-lookup"><span data-stu-id="63a3f-154">Perf &#124; where CounterName == "% Processor Time" \\</span></span>| <span data-ttu-id="63a3f-155">expandir a utilização = iff (CounterValue > 50, "Alta", "Baixa")</span><span class="sxs-lookup"><span data-stu-id="63a3f-155">extend Utilization = iff(CounterValue > 50, "HIGH", "LOW")</span></span> |
| <span data-ttu-id="63a3f-156">Agregação</span><span class="sxs-lookup"><span data-stu-id="63a3f-156">Aggregation</span></span>            | <span data-ttu-id="63a3f-157">Tipo = eventos &#124; medida existente como contagem por computador</span><span class="sxs-lookup"><span data-stu-id="63a3f-157">Type=Event &#124; measure count() as Count by Computer</span></span> | <span data-ttu-id="63a3f-158">Evento &#124; resumir contagem = existente pelo computador</span><span class="sxs-lookup"><span data-stu-id="63a3f-158">Event &#124; summarize Count = count() by Computer</span></span> |
|                                | <span data-ttu-id="63a3f-159">Tipo = desempenho ObjectName = processador CounterName = "% tempo do processador" &#124; medidas avg(CounterValue) por intervalo de computador 5 minutos</span><span class="sxs-lookup"><span data-stu-id="63a3f-159">Type=Perf ObjectName=Processor CounterName="% Processor Time" &#124; measure avg(CounterValue) by Computer interval 5minute</span></span> | <span data-ttu-id="63a3f-160">Desempenho &#124; onde ObjectName = = "Processador" e CounterName = = "% tempo do processador" &#124; resumir avg(CounterValue) por computador, bin (TimeGenerated, 5min)</span><span class="sxs-lookup"><span data-stu-id="63a3f-160">Perf &#124; where ObjectName=="Processor" and CounterName=="% Processor Time" &#124; summarize avg(CounterValue) by Computer, bin(TimeGenerated, 5min)</span></span> |
| <span data-ttu-id="63a3f-161">Agregação de limite</span><span class="sxs-lookup"><span data-stu-id="63a3f-161">Aggregation with limit</span></span> | <span data-ttu-id="63a3f-162">Tipo = eventos &#124; medida existente pelo computador &#124; 10 principais</span><span class="sxs-lookup"><span data-stu-id="63a3f-162">Type=Event &#124; measure count() by Computer &#124; top 10</span></span> | <span data-ttu-id="63a3f-163">Evento &#124; resumir AggregatedValue = existente pelo computador &#124; limite de 10</span><span class="sxs-lookup"><span data-stu-id="63a3f-163">Event &#124; summarize AggregatedValue = count() by Computer &#124; limit 10</span></span> |
| <span data-ttu-id="63a3f-164">União</span><span class="sxs-lookup"><span data-stu-id="63a3f-164">Union</span></span>                  | <span data-ttu-id="63a3f-165">Tipo = eventos ou tipo = Syslog</span><span class="sxs-lookup"><span data-stu-id="63a3f-165">Type=Event or Type=Syslog</span></span> | <span data-ttu-id="63a3f-166">União evento Syslog</span><span class="sxs-lookup"><span data-stu-id="63a3f-166">union Event, Syslog</span></span> |
| <span data-ttu-id="63a3f-167">Associar</span><span class="sxs-lookup"><span data-stu-id="63a3f-167">Join</span></span>                   | <span data-ttu-id="63a3f-168">Tipo = NetworkMonitoring &#124; associação interna AgentIP (tipo = Heartbeat) ComputerIP</span><span class="sxs-lookup"><span data-stu-id="63a3f-168">Type=NetworkMonitoring &#124; join inner AgentIP (Type=Heartbeat) ComputerIP</span></span> | <span data-ttu-id="63a3f-169">NetworkMonitoring &#124; tipo de associação = interna (tipo de pesquisa = = "Heartbeat") no $left. AgentIP = = $right.ComputerIP</span><span class="sxs-lookup"><span data-stu-id="63a3f-169">NetworkMonitoring &#124; join kind=inner (search Type == "Heartbeat") on $left.AgentIP == $right.ComputerIP</span></span> |



## <a name="next-steps"></a><span data-ttu-id="63a3f-170">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="63a3f-170">Next steps</span></span>
- <span data-ttu-id="63a3f-171">Veja uma [tutorial sobre como escrever consultas](https://go.microsoft.com/fwlink/?linkid=856078) utilizando a linguagem de consulta Olá novo.</span><span class="sxs-lookup"><span data-stu-id="63a3f-171">Check out a [tutorial on writing queries](https://go.microsoft.com/fwlink/?linkid=856078) using hello new query language.</span></span>
- <span data-ttu-id="63a3f-172">Consulte toohello [referência de linguagem de consulta](https://go.microsoft.com/fwlink/?linkid=856079) para obter detalhes sobre todos os comandos, operadores e funções para o idioma de consulta nova Olá.</span><span class="sxs-lookup"><span data-stu-id="63a3f-172">Refer toohello [Query Language Reference](https://go.microsoft.com/fwlink/?linkid=856079) for details on all command, operators, and functions for hello new query language.</span></span>  
