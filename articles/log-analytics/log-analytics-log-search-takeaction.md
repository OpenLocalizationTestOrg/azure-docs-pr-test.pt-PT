---
title: "aaaUser ação iniciada pelo Azure Automation Runbook no Log Analytics | Microsoft Docs"
description: "Este artigo descreve como toorun um runbook de automatização a partir de uma análise de registos procurar resultado a pedido."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: 53c25431572babd5fd54bf964e4683077e2a4c2d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="take-action-with-an-automation-runbook-from-a-log-analytics-log-search-result"></a><span data-ttu-id="c6143-103">Ação com um Runbook de automatização a partir de um resultado de pesquisa de registos de análise de registos</span><span class="sxs-lookup"><span data-stu-id="c6143-103">Take Action with an Automation Runbook from a Log Analytics log search result</span></span>

<span data-ttu-id="c6143-104">A partir de um resultado de pesquisa de registo no Log Analytics do Azure, agora, pode selecionar **ação** toorun um runbook de automatização.</span><span class="sxs-lookup"><span data-stu-id="c6143-104">From a log search result in Azure Log Analytics, you can now select **Take action** toorun an Automation runbook.</span></span>  <span data-ttu-id="c6143-105">Olá runbook pode ser utilizado tooremediate Olá problema ação algumas outras, tais como recolher informações de resolução de problemas, envie um e-mail ou criar um pedido de serviço.</span><span class="sxs-lookup"><span data-stu-id="c6143-105">hello runbook can be used tooremediate hello issue or take some other action such as collect troubleshooting information, send an email, or create a service request.</span></span> 

## <a name="components-and-features-used"></a><span data-ttu-id="c6143-106">Componentes e funcionalidades utilizados</span><span class="sxs-lookup"><span data-stu-id="c6143-106">Components and features used</span></span>
* [<span data-ttu-id="c6143-107">Conta de automatização do Azure</span><span class="sxs-lookup"><span data-stu-id="c6143-107">Azure Automation account</span></span>](../automation/automation-offering-get-started.md)
* [<span data-ttu-id="c6143-108">Área de trabalho de análise de registo</span><span class="sxs-lookup"><span data-stu-id="c6143-108">Log Analytics workspace</span></span>](../log-analytics/log-analytics-overview.md)

## <a name="tooinitiate-runbook-from-log-search"></a><span data-ttu-id="c6143-109">tooinitiate runbook a partir de pesquisa de registo</span><span class="sxs-lookup"><span data-stu-id="c6143-109">tooinitiate runbook from log search</span></span>

<span data-ttu-id="c6143-110">ação de tootake de um evento e iniciar um runbook a partir dos resultados da pesquisa de registo, comece por criar uma pesquisa de registo e a partir dos resultados de Olá pode invocar uma runbook a pedido.</span><span class="sxs-lookup"><span data-stu-id="c6143-110">tootake action on an event and initiate a runbook from your log search results, you start by creating a log search and from hello results you can invoke a runbook on-demand.</span></span>  <span data-ttu-id="c6143-111">Isto pode ser conseguido de funcionalidade de pesquisa de registo Olá no Olá, Azure ou [portal do OMS](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="c6143-111">This can be achieved from hello log search feature in hello Azure or [OMS portal](../log-analytics/log-analytics-log-searches.md).</span></span>  <span data-ttu-id="c6143-112">Neste exemplo, vamos efetuar uma pesquisa de registo de Olá portal do Azure com uma demonstração básico desta funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="c6143-112">In this example, we perform a log search from hello Azure portal with a basic demonstration of this feature.</span></span>

1. <span data-ttu-id="c6143-113">No portal do Azure Olá, no menu do Hub de Olá clique **mais serviços** e selecione **Log Analytics**.</span><span class="sxs-lookup"><span data-stu-id="c6143-113">In hello Azure portal, on hello Hub menu click **More services** and select **Log Analytics**.</span></span>  
2. <span data-ttu-id="c6143-114">No painel de análise de registos de Olá, selecione a sua área de trabalho de análise de registos e no painel da área de trabalho de Olá selecione **pesquisa registo**.</span><span class="sxs-lookup"><span data-stu-id="c6143-114">On hello Log Analytics blade, select your Log Analytics workspace and on hello workspace blade select **Log Search**.</span></span>  
3. <span data-ttu-id="c6143-115">No painel de pesquisa de registo de Olá, efetue uma pesquisa de registo.</span><span class="sxs-lookup"><span data-stu-id="c6143-115">On hello Log Search blade, perform a log search.</span></span>  
4. <span data-ttu-id="c6143-116">Dos resultados de pesquisa de registo de Olá, clique em esquerda de toohello elipse Olá de um dos campos de Olá e Olá pop-up, selecione **executar ações em**.</span><span class="sxs-lookup"><span data-stu-id="c6143-116">From hello log search results, click hello ellipse toohello left of one of hello fields and from hello popup, select **Take action on**.</span></span><br><br> <span data-ttu-id="c6143-117">![Selecione a ação demorar do resultado de pesquisa](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span><span class="sxs-lookup"><span data-stu-id="c6143-117">![Select Take Action from search result](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span></span> 
5. <span data-ttu-id="c6143-118">No painel de ação de tomar Olá, selecione **executar um runbook**e em Olá **executar um runbook** painel, pode selecionar um toorun de runbook.</span><span class="sxs-lookup"><span data-stu-id="c6143-118">From hello Take action blade, select **Run a runbook**, and on hello **Run a runbook** blade you can select a runbook toorun.</span></span>  <span data-ttu-id="c6143-119">Pode selecionar qualquer runbook na Olá conta de automatização que é a área de trabalho de análise de registos de toohello ligado.</span><span class="sxs-lookup"><span data-stu-id="c6143-119">You can select any runbook in hello Automation account that is linked toohello Log Analytics workspace.</span></span>  <span data-ttu-id="c6143-120">Tenha em atenção o seguinte Olá:</span><span class="sxs-lookup"><span data-stu-id="c6143-120">Note hello following:</span></span>

    * <span data-ttu-id="c6143-121">Os Runbooks estão organizados por etiquetas</span><span class="sxs-lookup"><span data-stu-id="c6143-121">Runbooks are organized by tags</span></span>
    * <span data-ttu-id="c6143-122">Os valores de parâmetro de entrada do Runbook podem ser selecionados diretamente a partir de campos de Olá do resultado da pesquisa Olá.</span><span class="sxs-lookup"><span data-stu-id="c6143-122">Runbook input parameter values can be selected directly from hello fields of hello search result.</span></span>  <span data-ttu-id="c6143-123">Na lista pendente aparecerá a apresentar todos os campos disponíveis Olá de Olá resultado tooselect do.</span><span class="sxs-lookup"><span data-stu-id="c6143-123">A drop-down list will appear displaying all hello available fields from hello result tooselect from.</span></span>  
    * <span data-ttu-id="c6143-124">Pode escolher toorun Olá runbook num [runbook worker híbrido](../automation/automation-hybrid-runbook-worker.md) que tem instalado na máquina de Olá que possui um problema de Olá, se tiver um grupo de trabalho de Runbook híbrida correspondente que contém apenas esta máquina como membro.</span><span class="sxs-lookup"><span data-stu-id="c6143-124">You can choose toorun hello runbook on a [hybrid runbook worker](../automation/automation-hybrid-runbook-worker.md) that you have installed on hello machine that has hello issue if you have a corresponding Hybrid Runbook Worker group that only contains this machine as a member.</span></span>  <span data-ttu-id="c6143-125">Se o nome de Olá do grupo de trabalho híbrida Olá corresponde ao nome de Olá do computador Olá que está a ser resultado de pesquisa de registo Olá, grupo de Olá é selecionado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="c6143-125">If hello name of hello Hybrid Worker group matches hello name of hello computer that is in hello log search result, then hello group is selected automatically.</span></span>    

6. <span data-ttu-id="c6143-126">Depois de clicar em **executar**, painel de tarefas de runbook Olá abrirá tooallow tooreview Olá estado da tarefa de Olá.</span><span class="sxs-lookup"><span data-stu-id="c6143-126">After you click **Run**, hello runbook job blade will open tooallow you tooreview hello status of hello job.</span></span>   

<span data-ttu-id="c6143-127">Se selecionar um runbook que foi configurado toobe [chamado a partir de um alerta de análise de registos](../automation/automation-invoke-runbook-from-omsla-alert.md), tem um parâmetro de entrada chamado **WebhookData** que **objeto** tipo.</span><span class="sxs-lookup"><span data-stu-id="c6143-127">If you select a runbook that was configured toobe [called from a Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md), it has an input parameter called **WebhookData** that is **Object** type.</span></span>  <span data-ttu-id="c6143-128">Se o parâmetro de entrada Olá é obrigatório, terá de toopass Olá pesquisa resultados toohello runbook pelo que pode converter a cadeia de formatada em JSON Olá para um tipo de objeto, permitindo-lhe toofilter nos itens específicos que irá referenciar em atividades do runbook.</span><span class="sxs-lookup"><span data-stu-id="c6143-128">If hello input parameter is mandatory, you need toopass hello search results toohello runbook so it can convert hello JSON-formatted string into an object type allowing you toofilter on specific items that you will reference in runbook activities.</span></span>  <span data-ttu-id="c6143-129">Fazê-lo ao selecionar **procurar resultado (objeto)** de Olá na lista pendente.</span><span class="sxs-lookup"><span data-stu-id="c6143-129">You do this by selecting **Search result (Object)** from hello drop-down list.</span></span><br><br> <span data-ttu-id="c6143-130">![Selecione o objeto de dados de Webhook para o parâmetro de runbook](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span><span class="sxs-lookup"><span data-stu-id="c6143-130">![Select Webhook data object for runbook parameter](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span></span>   
    
## <a name="next-steps"></a><span data-ttu-id="c6143-131">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="c6143-131">Next steps</span></span>

* <span data-ttu-id="c6143-132">Olá revisão [referência de pesquisa de registo de análise de registos](log-analytics-search-reference.md) tooview todas Olá procurar campos e facetas disponíveis na análise de registos.</span><span class="sxs-lookup"><span data-stu-id="c6143-132">Review hello [Log Analytics log search reference](log-analytics-search-reference.md) tooview all of hello search fields and facets available in Log Analytics.</span></span>
* <span data-ttu-id="c6143-133">toolearn como tooinvoke um runbook da automatização automaticamente, reveja [chamar um runbook de automatização do Azure a partir de um alerta de análise de registos do OMS](../automation/automation-invoke-runbook-from-omsla-alert.md).</span><span class="sxs-lookup"><span data-stu-id="c6143-133">toolearn how tooinvoke an Automation runbook automatically, review [calling an Azure Automation runbook from an OMS Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md).</span></span>  
