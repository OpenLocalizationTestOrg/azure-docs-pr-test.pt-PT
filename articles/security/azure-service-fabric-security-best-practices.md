---
title: "melhores práticas de segurança do aaaAzure Service Fabric | Microsoft Docs"
description: "Este artigo fornece um conjunto de melhores práticas de segurança do Azure Service Fabric."
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/04/2017
ms.author: tomsh
ms.openlocfilehash: 483a21240da17d56bb4641653093ddcbad379d6a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-service-fabric-security-best-practices"></a><span data-ttu-id="d4801-103">Azure Service Fabric melhores práticas de segurança</span><span class="sxs-lookup"><span data-stu-id="d4801-103">Azure Service Fabric security best practices</span></span>
<span data-ttu-id="d4801-104">Implementar uma aplicação no Azure é rápido, fácil e económica.</span><span class="sxs-lookup"><span data-stu-id="d4801-104">Deploying an application on Azure is fast, easy, and cost-effective.</span></span> <span data-ttu-id="d4801-105">Antes de implementar a aplicação na nuvem no toohave útil produção constitui uma melhor prática tooassist ao avaliar a aplicação relativamente a uma lista de melhores práticas recomendadas e essenciais.</span><span class="sxs-lookup"><span data-stu-id="d4801-105">Before deploying cloud application in production useful toohave a best practice tooassist in evaluating your application against a list of essential and recommended best practices.</span></span>

<span data-ttu-id="d4801-106">Azure Service Fabric é uma plataforma de sistemas distribuídos que torna mais fácil toopackage, implementar e gerir micro-serviços escaláveis e fiáveis.</span><span class="sxs-lookup"><span data-stu-id="d4801-106">Azure Service Fabric is a distributed systems platform that makes it easy toopackage, deploy, and manage scalable and reliable microservices.</span></span> <span data-ttu-id="d4801-107">Service Fabric também aborda os desafios significativos de Olá no desenvolvimento e gestão de aplicações em nuvem.</span><span class="sxs-lookup"><span data-stu-id="d4801-107">Service Fabric also addresses hello significant challenges in developing and managing cloud applications.</span></span> <span data-ttu-id="d4801-108">Permite, assim, que os programadores e administradores evitem problemas complexos de infraestrutura e se concentrem na implementação de cargas de trabalho exigentes e fundamentais que sejam dimensionáveis, fiáveis e geríveis.</span><span class="sxs-lookup"><span data-stu-id="d4801-108">Developers and administrators can avoid complex infrastructure problems and focus on implementing mission-critical, demanding workloads that are scalable, reliable, and manageable.</span></span> 

<span data-ttu-id="d4801-109">Para cada melhor prática, vamos explicar:</span><span class="sxs-lookup"><span data-stu-id="d4801-109">For each best practice, we explain:</span></span>

-   <span data-ttu-id="d4801-110">Que Olá melhor prática é</span><span class="sxs-lookup"><span data-stu-id="d4801-110">What hello best practice is</span></span>
-   <span data-ttu-id="d4801-111">Motivo pelo qual pretende tooenable que melhor prática</span><span class="sxs-lookup"><span data-stu-id="d4801-111">Why you want tooenable that best practice</span></span>
-   <span data-ttu-id="d4801-112">Se falhar tooenable Olá prática recomendada, que poderá ser resultado de Olá</span><span class="sxs-lookup"><span data-stu-id="d4801-112">What might be hello result if you fail tooenable hello best practice</span></span>
-   <span data-ttu-id="d4801-113">Como pode saber tooenable Olá prática recomendada</span><span class="sxs-lookup"><span data-stu-id="d4801-113">How you can learn tooenable hello best practice</span></span>

<span data-ttu-id="d4801-114">Atualmente temos Olá seguindo os procedimentos de segurança do Azure Service Fabric:</span><span class="sxs-lookup"><span data-stu-id="d4801-114">We currently have hello following Azure Service Fabric security best practices:</span></span>

-   <span data-ttu-id="d4801-115">Utilizar o modelo do Azure Manager (Arm) de recursos e cluster segura do Service Fabric do Azure PowerShell Module toocreate</span><span class="sxs-lookup"><span data-stu-id="d4801-115">Use Azure Resource Manager(ARM) template and Service Fabric Azure PowerShell Module toocreate secure cluster</span></span>
-   <span data-ttu-id="d4801-116">Utilize certificados x. 509</span><span class="sxs-lookup"><span data-stu-id="d4801-116">Use X.509 certificates</span></span>
-   <span data-ttu-id="d4801-117">Configurar políticas de segurança</span><span class="sxs-lookup"><span data-stu-id="d4801-117">Configure security policies</span></span>
-   <span data-ttu-id="d4801-118">Configuração de segurança do Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="d4801-118">Reliable Actors security configuration</span></span>
-   <span data-ttu-id="d4801-119">Configurar o SSL para recursos de infraestrutura de serviço do Azure</span><span class="sxs-lookup"><span data-stu-id="d4801-119">Configure SSL for Azure Service Fabric</span></span>
-   <span data-ttu-id="d4801-120">Isolamento de rede/segurança com recursos de infraestrutura do serviço do Azure</span><span class="sxs-lookup"><span data-stu-id="d4801-120">Network Isolation/Security with Azure Service Fabric</span></span>
-   <span data-ttu-id="d4801-121">Configurar um cofre de chaves de segurança</span><span class="sxs-lookup"><span data-stu-id="d4801-121">Set up a key vault for security</span></span>
-   <span data-ttu-id="d4801-122">Atribuir utilizadores tooroles</span><span class="sxs-lookup"><span data-stu-id="d4801-122">Assign users tooroles</span></span>


## <a name="best-practices-for-securing-your-cluster"></a><span data-ttu-id="d4801-123">Melhores práticas para proteger o cluster</span><span class="sxs-lookup"><span data-stu-id="d4801-123">Best practices for securing your cluster</span></span>

<span data-ttu-id="d4801-124">**Visão geral**</span><span class="sxs-lookup"><span data-stu-id="d4801-124">**Big Picture**</span></span>

<span data-ttu-id="d4801-125">Utilize sempre um cluster seguro</span><span class="sxs-lookup"><span data-stu-id="d4801-125">Always use a secure cluster</span></span>
-   <span data-ttu-id="d4801-126">Segurança de cluster – utilizar certificados</span><span class="sxs-lookup"><span data-stu-id="d4801-126">Cluster security – use Certificates</span></span>
-   <span data-ttu-id="d4801-127">Utilizar o acesso de cliente (Admin e só de leitura) – AAD</span><span class="sxs-lookup"><span data-stu-id="d4801-127">Client access (Admin and Read only) – use AAD</span></span>

<span data-ttu-id="d4801-128">Utilizar implementações automáticas</span><span class="sxs-lookup"><span data-stu-id="d4801-128">Use automated deployments</span></span>
-   <span data-ttu-id="d4801-129">Utilizar scripts toogenerate, implementar e, rollover de segredos</span><span class="sxs-lookup"><span data-stu-id="d4801-129">Use scripts toogenerate, deploy and, roll over secrets</span></span>
-   <span data-ttu-id="d4801-130">Manter segredos Olá no KV, utilizar o AD para todos os outro acesso de cliente</span><span class="sxs-lookup"><span data-stu-id="d4801-130">Keep hello secrets in KV, use AD for all other client access</span></span>
-   <span data-ttu-id="d4801-131">Não existem humanos devem ter acesso toothem sem autenticação.</span><span class="sxs-lookup"><span data-stu-id="d4801-131">No human should have access toothem without authentication.</span></span>

<span data-ttu-id="d4801-132">Além disso, considere o seguinte Olá:</span><span class="sxs-lookup"><span data-stu-id="d4801-132">Additionally, consider hello following:</span></span>
-   <span data-ttu-id="d4801-133">Criar DMZ utilizar grupos de segurança de rede (NSGs)</span><span class="sxs-lookup"><span data-stu-id="d4801-133">Create DMZs using Network Security Groups (NSGs)</span></span>
-   <span data-ttu-id="d4801-134">Utilizar tooRDP de servidores de ir para as VMs do cluster ou toomanage o cluster</span><span class="sxs-lookup"><span data-stu-id="d4801-134">Use Jump servers tooRDP into cluster VMs or toomanage your cluster</span></span>

<span data-ttu-id="d4801-135">Clusters tem de ser utilizadores protegidos tooprevent não autorizado a ligação de tooyour cluster, sobretudo quando tem cargas de trabalho de produção em execução no mesmo.</span><span class="sxs-lookup"><span data-stu-id="d4801-135">Clusters must be secured tooprevent unauthorized users from connecting tooyour cluster, especially when it has production workloads running on it.</span></span> <span data-ttu-id="d4801-136">Embora seja possível toocreate um cluster não segura, se o fizer, permite que os utilizadores anónimos tooconnect tooit, se expõe toohello de pontos finais de gestão Internet pública.</span><span class="sxs-lookup"><span data-stu-id="d4801-136">Although it is possible toocreate an unsecured cluster, doing so allows anonymous users tooconnect tooit, if it exposes management endpoints toohello public Internet.</span></span>

<span data-ttu-id="d4801-137">As tecnologias utilizadas tooimplement esses cenários.</span><span class="sxs-lookup"><span data-stu-id="d4801-137">Technologies used tooimplement those scenarios.</span></span> <span data-ttu-id="d4801-138">Olá [cenários de segurança do cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) são:</span><span class="sxs-lookup"><span data-stu-id="d4801-138">hello [cluster security scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) are:</span></span>

-   <span data-ttu-id="d4801-139">Nó de nó segurança este protege comunicação entre computadores num cluster de Olá e Olá VMs.</span><span class="sxs-lookup"><span data-stu-id="d4801-139">Node-to-node security- This secures communication between hello VMs and computers in hello cluster.</span></span> <span data-ttu-id="d4801-140">Isto garante que apenas os computadores que estejam autorizados toojoin cluster de Olá podem participar em aplicações e serviços em cluster Olá de alojamento.</span><span class="sxs-lookup"><span data-stu-id="d4801-140">This ensures that only computers that are authorized toojoin hello cluster can participate in hosting applications and services in hello cluster.</span></span>
<span data-ttu-id="d4801-141">Podem utilizar clusters em execução no Azure ou autónomo clusters em execução no Windows [certificado de segurança](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) ou [segurança do Windows](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) para máquinas de Windows Server.</span><span class="sxs-lookup"><span data-stu-id="d4801-141">Clusters running on Azure or standalone clusters running on Windows can use either [Certificate Security](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) or [Windows Security](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) for Windows Server machines.</span></span>
-   <span data-ttu-id="d4801-142">Nó de cliente segurança este além de proteger a comunicação entre um cliente de Service Fabric e os nós no cluster de Olá individuais.</span><span class="sxs-lookup"><span data-stu-id="d4801-142">Client-to-node security- This secures communication between a Service Fabric client and individual nodes in hello cluster.</span></span>
-   <span data-ttu-id="d4801-143">O controlo de acesso baseado em funções (RBAC) - Especifique o Olá administrador e utilizador cliente funções momento Olá da criação do cluster, fornecendo identidades separadas (certificados, etc. do AAD) para cada.</span><span class="sxs-lookup"><span data-stu-id="d4801-143">Role-based access control (RBAC) - You specify hello administrator and user client roles at hello time of cluster creation by providing separate identities (certificates, AAD etc.) for each.</span></span>
-   <span data-ttu-id="d4801-144">Recomendações de segurança-clusters do Azure, é recomendado que utilize certificados e os clientes de tooauthenticate de segurança do AAD para o nó de nó de segurança.</span><span class="sxs-lookup"><span data-stu-id="d4801-144">Security Recommendations-For Azure clusters, it is recommended that you use AAD security tooauthenticate clients and certificates for node-to-node security.</span></span>

<span data-ttu-id="d4801-145">tooconfigure Olá autónomo cluster do Windows, consulte [configurar definições para o cluster do windows autónomo](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="d4801-145">tooconfigure hello standalone Windows cluster, see [configure settings for standalone windows cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span></span>

<span data-ttu-id="d4801-146">Utilize modelos Azure Resource Manager e o cluster segura do Service Fabric do Azure PowerShell Module toocreate.</span><span class="sxs-lookup"><span data-stu-id="d4801-146">Use Azure Resource Manager templates and Service Fabric Azure PowerShell Module toocreate secure cluster.</span></span>
<span data-ttu-id="d4801-147">Um guia passo a passo guia-o, através da configuração de um Azure Service Fabric segura de cluster no Azure utilizando o Gestor de recursos do Azure está disponível [aqui](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span><span class="sxs-lookup"><span data-stu-id="d4801-147">A step-by-step guide walks you through setting up a secure Azure Service Fabric cluster in Azure by using Azure Resource Manager is available [here](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span></span>

<span data-ttu-id="d4801-148">Utilizar toocustomize de modelo do Azure Resource Manager Olá o cluster</span><span class="sxs-lookup"><span data-stu-id="d4801-148">Use hello Azure Resource Manager template toocustomize your cluster</span></span>
-   <span data-ttu-id="d4801-149">Armazenamento gerido pelo programa de configuração para os VHDs de VM</span><span class="sxs-lookup"><span data-stu-id="d4801-149">Setup-managed storage for VM VHDs</span></span>

<span data-ttu-id="d4801-150">Utilizar Olá do Azure Resource Manager modelo toodrive alterações tooyour grupo de recursos</span><span class="sxs-lookup"><span data-stu-id="d4801-150">Use hello Azure Resource Manager template toodrive changes tooyour Resource Group</span></span>
-   <span data-ttu-id="d4801-151">Gestão de configuração fácil</span><span class="sxs-lookup"><span data-stu-id="d4801-151">Easy configuration management</span></span>
-   <span data-ttu-id="d4801-152">Auditoria</span><span class="sxs-lookup"><span data-stu-id="d4801-152">Auditing</span></span>

<span data-ttu-id="d4801-153">Tratar a configuração do cluster como código</span><span class="sxs-lookup"><span data-stu-id="d4801-153">Treat your cluster configuration as Code</span></span>
-   <span data-ttu-id="d4801-154">Ser detalhado na verificação de configurações de Olá escolha toodeploy</span><span class="sxs-lookup"><span data-stu-id="d4801-154">Be thorough in checking hello configurations you choose toodeploy</span></span>
-   <span data-ttu-id="d4801-155">Evite utilizar comandos implícita tootweak os recursos diretamente</span><span class="sxs-lookup"><span data-stu-id="d4801-155">Avoid using implicit commands tootweak your resources directly</span></span>

<span data-ttu-id="d4801-156">Muitos aspetos do Olá [ciclo de vida de aplicação de Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) podem ser automatizadas.</span><span class="sxs-lookup"><span data-stu-id="d4801-156">Many aspects of hello [Service Fabric application lifecycle](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) can be automated.</span></span> <span data-ttu-id="d4801-157">[Módulo do serviço de recursos de infraestrutura do Azure PowerShell](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automatiza tarefas comuns para implementar, atualizar, remover e testar aplicações do Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="d4801-157">[Service Fabric Azure PowerShell Module](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automates common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span> <span data-ttu-id="d4801-158">Gerido e APIs de HTTP para gestão de aplicações também estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="d4801-158">Managed and HTTP APIs for app management are also available.</span></span>

## <a name="use-x509-certificates"></a><span data-ttu-id="d4801-159">Utilize certificados x. 509</span><span class="sxs-lookup"><span data-stu-id="d4801-159">Use X.509 certificates</span></span>
<span data-ttu-id="d4801-160">Clusters sempre devem ser protegidos com certificados x. 509 ou de segurança do Windows.</span><span class="sxs-lookup"><span data-stu-id="d4801-160">Clusters should always be secured using X.509 certificates or Windows security.</span></span> <span data-ttu-id="d4801-161">Segurança está configurada apenas no momento de criação do cluster e não é possível tooenable segurança após Olá cluster é criado.</span><span class="sxs-lookup"><span data-stu-id="d4801-161">Security is only configured at cluster creation time and it is not possible tooenable security after hello cluster is created.</span></span>

<span data-ttu-id="d4801-162">Se especificar um [certificado de cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), defina o valor de Olá de ClusterCredentialType tooX509.</span><span class="sxs-lookup"><span data-stu-id="d4801-162">If you are specifying a [cluster certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), set hello value of ClusterCredentialType tooX509.</span></span> <span data-ttu-id="d4801-163">Se estiver a especificar o certificado de servidor para ligações externos, defina Olá ServerCredentialType tooX509.</span><span class="sxs-lookup"><span data-stu-id="d4801-163">If you are specifying server certificate for outside connections, set hello ServerCredentialType tooX509.</span></span>

-   <span data-ttu-id="d4801-164">Certificados utilizados em clusters que executam cargas de trabalho de produção devem ser criados utilizando um serviço de certificado de servidor Windows corretamente configurado ou obtidos a partir de um aprovados autoridade de certificação (CA).</span><span class="sxs-lookup"><span data-stu-id="d4801-164">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span>
-   <span data-ttu-id="d4801-165">Nunca utilize qualquer temporário ou certificados de teste em produção que são criados com ferramentas como o MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="d4801-165">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe.</span></span>
-   <span data-ttu-id="d4801-166">Pode utilizar um certificado autoassinado, mas deve apenas fazer para clusters de teste e não na produção.</span><span class="sxs-lookup"><span data-stu-id="d4801-166">You can use a self-signed certificate, but should only do so for test clusters and not in production.</span></span>

<span data-ttu-id="d4801-167">Se o cluster de Olá é não segura.</span><span class="sxs-lookup"><span data-stu-id="d4801-167">If hello cluster is unsecure.</span></span> <span data-ttu-id="d4801-168">Qualquer pessoa pode ligar de forma anónima e efetuar operações de gestão, para que os clusters de produção sejam sempre protegidos ao utilizar certificados X.509 ou segurança do Windows.</span><span class="sxs-lookup"><span data-stu-id="d4801-168">Anyone can connect anonymously and perform management operations, so production clusters should always be secured using X.509 certificates or Windows security.</span></span>

<span data-ttu-id="d4801-169">toolearn mais como ver certificados tooenable no cluster do service fabric, [adicionar ou remover certificados para um cluster do service fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span><span class="sxs-lookup"><span data-stu-id="d4801-169">toolearn more how tooenable certificates in service fabric cluster see, [add or remove certificates for a service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span></span>

## <a name="configure-security-policies"></a><span data-ttu-id="d4801-170">Configurar políticas de segurança</span><span class="sxs-lookup"><span data-stu-id="d4801-170">Configure security policies</span></span>
<span data-ttu-id="d4801-171">Serviço de recursos de infraestrutura também ajuda a Olá segura recursos utilizados por aplicações momento Olá da implementação em contas de utilizador de Olá – por exemplo, ficheiros, diretórios e certificados.</span><span class="sxs-lookup"><span data-stu-id="d4801-171">Service Fabric also helps secure hello resources that are used by applications at hello time of deployment under hello user accounts--for example, files, directories, and certificates.</span></span> <span data-ttu-id="d4801-172">Isto faz com que aplicações em execução, mesmo num ambiente alojado partilhado, mais segura entre si.</span><span class="sxs-lookup"><span data-stu-id="d4801-172">This makes running applications, even in a shared hosted environment, more secure from one another.</span></span>

-   <span data-ttu-id="d4801-173">Utilize um utilizador ou grupo de domínio do Active Directory: pode executar o serviço Olá sob credenciais de Olá para uma conta de utilizador ou grupo do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d4801-173">Use an Active Directory domain group or user: You can run hello service under hello credentials for an Active Directory user or group account.</span></span> <span data-ttu-id="d4801-174">Este é o Active Directory no local dentro do seu domínio e não está no Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="d4801-174">This is Active Directory on-premises within your domain and is not with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="d4801-175">Através da utilização de um utilizador de domínio ou grupo, em seguida, pode aceder a outros recursos no domínio Olá (por exemplo, as partilhas de ficheiros) tem sido concedidos permissões.</span><span class="sxs-lookup"><span data-stu-id="d4801-175">By using a domain user or group, you can then access other resources in hello domain (for example, file shares) that have been granted permissions.</span></span>

-   <span data-ttu-id="d4801-176">Atribuir uma política de acesso de segurança para pontos finais HTTP e HTTPS: se aplicam-se de um serviço de tooa RunAs política e o manifesto de serviço Olá declara recursos de ponto final com o protocolo de Olá HTTP, tem de especificar um tooensure SecurityAccessPolicy que portas atribuídos toothese pontos finais estão corretamente acesso controlada listados para Olá conta RunAs de utilizador que executa o serviço de Olá em.</span><span class="sxs-lookup"><span data-stu-id="d4801-176">Assign a security access policy for HTTP and HTTPS endpoints: If you apply a RunAs policy tooa service and hello service manifest declares endpoint resources with hello HTTP protocol, you must specify a SecurityAccessPolicy tooensure that ports allocated toothese endpoints are correctly access-controlled listed for hello RunAs user account that hello service runs under.</span></span> <span data-ttu-id="d4801-177">Caso contrário, o http.sys não tem acesso toohello serviço e obter falhas com chamadas de cliente de Olá.</span><span class="sxs-lookup"><span data-stu-id="d4801-177">Otherwise, http.sys does not have access toohello service, and you get failures with calls from hello client.</span></span>
<span data-ttu-id="d4801-178">toolearn mais ativar políticas de segurança no service fabric, consulte [configurar políticas de segurança para a sua aplicação](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span><span class="sxs-lookup"><span data-stu-id="d4801-178">toolearn more enable security policies in service fabric see, [configure security policies for your application](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span></span>

## <a name="reliable-actors-security-configuration"></a><span data-ttu-id="d4801-179">Configuração de segurança do Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="d4801-179">Reliable Actors security configuration</span></span>
<span data-ttu-id="d4801-180">Serviço de recursos de infraestrutura Reliable Actors é uma implementação padrão de conceção de ator Olá.</span><span class="sxs-lookup"><span data-stu-id="d4801-180">Service Fabric Reliable Actors is an implementation of hello actor design pattern.</span></span> <span data-ttu-id="d4801-181">Tal como acontece com quaisquer padrão de conceção de software, a decisão de Olá se toouse um padrão específico efetuado com base em se pretende ou não um software design problema encaixa padrão Olá.</span><span class="sxs-lookup"><span data-stu-id="d4801-181">As with any software design pattern, hello decision whether toouse a specific pattern is made based on whether or not a software design problem fits hello pattern.</span></span>

<span data-ttu-id="d4801-182">Como orientações gerais, tenha em atenção Olá ator padrão toomodel seu cenário ou um problema se:</span><span class="sxs-lookup"><span data-stu-id="d4801-182">As general guidance, consider hello actor pattern toomodel your problem or scenario if:</span></span>
-   <span data-ttu-id="d4801-183">O espaço de problema envolve um grande número (milhares ou mais) de pequenas, independentes e isoladas unidades de estado e a lógica.</span><span class="sxs-lookup"><span data-stu-id="d4801-183">Your problem space involves a large number (thousands or more) of small, independent, and isolated units of state and logic.</span></span>
-   <span data-ttu-id="d4801-184">Pretende toowork com single-threaded objetos que não necessitam de significativa interação de componentes externos, incluindo a consultar o estado através de um conjunto de atores.</span><span class="sxs-lookup"><span data-stu-id="d4801-184">You want toowork with single-threaded objects that do not require significant interaction from external components, including querying state across a set of actors.</span></span>
-   <span data-ttu-id="d4801-185">As instâncias de ator não irão bloquear os chamadores com atrasos imprevisíveis ao emitir operações de e/s.</span><span class="sxs-lookup"><span data-stu-id="d4801-185">Your actor instances won't block callers with unpredictable delays by issuing I/O operations.</span></span>

<span data-ttu-id="d4801-186">No Service Fabric, atores são implementados na estrutura de Reliable Actors Olá: uma arquitetura de aplicações baseados no padrão de ator incorporada de [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span><span class="sxs-lookup"><span data-stu-id="d4801-186">In Service Fabric, actors are implemented in hello Reliable Actors framework: An actor-pattern-based application framework built on top of [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span></span> <span data-ttu-id="d4801-187">Cada serviço de Atores fiável que escreve é realmente uma particionadas, com monitorização de estado fiável serviço.</span><span class="sxs-lookup"><span data-stu-id="d4801-187">Each Reliable Actor service you write is actually a partitioned, stateful Reliable Service.</span></span>
<span data-ttu-id="d4801-188">Cada ator está definida como uma instância de um tipo de ator, forma toohello idênticos objeto .NET é uma instância de um tipo .NET.</span><span class="sxs-lookup"><span data-stu-id="d4801-188">Every actor is defined as an instance of an actor type, identical toohello way a .NET object is an instance of a .NET type.</span></span> <span data-ttu-id="d4801-189">Por exemplo, poderá existir um tipo de ator que implementa a funcionalidade de Olá de um cálculo e podem existir muitas atores desse tipo que estão distribuídos em vários nós de um cluster.</span><span class="sxs-lookup"><span data-stu-id="d4801-189">For example, there may be an actor type that implements hello functionality of a calculator and there could be many actors of that type that are distributed on various nodes across a cluster.</span></span> <span data-ttu-id="d4801-190">Cada essa ator é identificado de forma exclusiva por um ID de actor.</span><span class="sxs-lookup"><span data-stu-id="d4801-190">Each such actor is uniquely identified by an actor ID.</span></span>

<span data-ttu-id="d4801-191">[Configurações de segurança do replicador](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) são canal de comunicação de Olá toosecure utilizado que é utilizado durante a replicação.</span><span class="sxs-lookup"><span data-stu-id="d4801-191">[Replicator security configurations](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="d4801-192">Isto significa que os serviços não é possível ver uns dos outros tráfego de replicação, garantir que os dados de Olá efetuada elevados também estão segurados.</span><span class="sxs-lookup"><span data-stu-id="d4801-192">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span> <span data-ttu-id="d4801-193">Por predefinição, uma secção de configuração de segurança vazio impede a segurança da replicação.</span><span class="sxs-lookup"><span data-stu-id="d4801-193">By default, an empty security configuration section prevents replication security.</span></span>
<span data-ttu-id="d4801-194">Configurações do replicador configurar replicador Olá que é responsável por verificar o estado de fornecedor de estado de Ator Olá altamente fiável.</span><span class="sxs-lookup"><span data-stu-id="d4801-194">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>

## <a name="configure-ssl-for-azure-service-fabric"></a><span data-ttu-id="d4801-195">Configurar o SSL para recursos de infraestrutura de serviço do Azure</span><span class="sxs-lookup"><span data-stu-id="d4801-195">Configure SSL for Azure Service Fabric</span></span>

<span data-ttu-id="d4801-196">Autenticação de servidor: [Authenticates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) Olá cliente de gestão do cluster gestão pontos finais tooa, para que hello cliente de gestão sabe que está a falar com toohello real cluster.</span><span class="sxs-lookup"><span data-stu-id="d4801-196">Server authentication: [Authenticates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) hello cluster management endpoints tooa management client, so that hello management client knows it is talking toohello real cluster.</span></span> <span data-ttu-id="d4801-197">Este certificado também fornece um [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) para Olá API de gestão HTTPS e para o Service Fabric Explorer através de HTTPS.</span><span class="sxs-lookup"><span data-stu-id="d4801-197">This certificate also provides an [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) for hello HTTPS management API and for Service Fabric Explorer over HTTPS.</span></span>
<span data-ttu-id="d4801-198">Tem de obter um nome de domínio personalizado para o cluster.</span><span class="sxs-lookup"><span data-stu-id="d4801-198">You must obtain a custom domain name for your cluster.</span></span> <span data-ttu-id="d4801-199">Quando solicitar um certificado a partir de uma AC, hello nome do requerente do certificado tem de corresponder ao nome de domínio personalizado de Olá que utilizar para o cluster.</span><span class="sxs-lookup"><span data-stu-id="d4801-199">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name that you use for your cluster.</span></span>

<span data-ttu-id="d4801-200">tooconfigure SSL para uma aplicação, terá primeiro tooget um certificado SSL assinado por uma autoridade de certificação (CA), uma terceiros fidedigna, que emite certificados para esta finalidade.</span><span class="sxs-lookup"><span data-stu-id="d4801-200">tooconfigure SSL for an application, you first need tooget an SSL certificate that has been signed by a Certificate Authority (CA), a trusted third party who issues certificates for this purpose.</span></span> <span data-ttu-id="d4801-201">Se já tiver uma, terá de tooobtain um de uma empresa que sells certificados SSL.</span><span class="sxs-lookup"><span data-stu-id="d4801-201">If you do not already have one, you need tooobtain one from a company that sells SSL certificates.</span></span>

<span data-ttu-id="d4801-202">certificado Olá tem de cumprir os requisitos para certificados SSL no Azure de Olá:</span><span class="sxs-lookup"><span data-stu-id="d4801-202">hello certificate must meet hello following requirements for SSL certificates in Azure:</span></span>
-   <span data-ttu-id="d4801-203">certificado de Olá tem de conter uma chave privada.</span><span class="sxs-lookup"><span data-stu-id="d4801-203">hello certificate must contain a private key.</span></span>
-   <span data-ttu-id="d4801-204">certificado de Olá tem de ser criado para a troca de chaves, tooa exportável ficheiro Personal Information Exchange (. pfx).</span><span class="sxs-lookup"><span data-stu-id="d4801-204">hello certificate must be created for key exchange, exportable tooa Personal Information Exchange (.pfx) file.</span></span>
-   <span data-ttu-id="d4801-205">Olá nome do requerente do certificado deve corresponder ao serviço de nuvem do Olá domínio utilizado tooaccess Olá.</span><span class="sxs-lookup"><span data-stu-id="d4801-205">hello certificate's subject name must match hello domain used tooaccess hello cloud service.</span></span> <span data-ttu-id="d4801-206">Não é possível obter um certificado SSL a partir de uma autoridade de certificação (AC) para o domínio de cloudapp.net Olá.</span><span class="sxs-lookup"><span data-stu-id="d4801-206">You cannot obtain an SSL certificate from a certificate authority (CA) for hello cloudapp.net domain.</span></span> <span data-ttu-id="d4801-207">Tem de adquirir uma toouse de nome de domínio personalizado ao seu serviço de acesso.</span><span class="sxs-lookup"><span data-stu-id="d4801-207">You must acquire a custom domain name toouse when access your service.</span></span> <span data-ttu-id="d4801-208">Quando solicitar um certificado a partir de uma AC, nome do requerente do certificado Olá tem de corresponder ao hello domínio personalizado nome utilizado tooaccess a aplicação.</span><span class="sxs-lookup"><span data-stu-id="d4801-208">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name used tooaccess your application.</span></span> <span data-ttu-id="d4801-209">Por exemplo, se o nome de domínio personalizado for contoso.com seria pedir um certificado da AC para **. contoso.com** ou **www.contoso.com.**</span><span class="sxs-lookup"><span data-stu-id="d4801-209">For example, if your custom domain name is contoso.com you would request a certificate from your CA for **.contoso.com** or **www.contoso.com.**</span></span>
-   <span data-ttu-id="d4801-210">certificado de Olá tem de utilizar um mínimo de encriptação de 2048 bits.</span><span class="sxs-lookup"><span data-stu-id="d4801-210">hello certificate must use a minimum of 2048-bit encryption.</span></span>

<span data-ttu-id="d4801-211">HTTP está inseguras e é requerente tooeavesdropping ataques porque hello dados a serem transferidos a partir do servidor de web Olá web browser toohello ou entre outros pontos finais, são transmitidas em texto não encriptado.</span><span class="sxs-lookup"><span data-stu-id="d4801-211">HTTP is insecure and is subject tooeavesdropping attacks because hello data being transferred from hello web browser toohello web server or between other endpoints, is transmitted in plaintext.</span></span> <span data-ttu-id="d4801-212">Isto significa que os atacantes podem intercetar e ver dados confidenciais, tais como os detalhes do cartão de crédito e inícios de sessão de conta.</span><span class="sxs-lookup"><span data-stu-id="d4801-212">This means attackers can intercept and view sensitive data, such as credit card details and account logins.</span></span> <span data-ttu-id="d4801-213">Quando os dados são enviados ou publicados através de um browser através de HTTPS, o SSL garante que essas informações são encriptado e seguros a partir de interception.</span><span class="sxs-lookup"><span data-stu-id="d4801-213">When data is sent or posted through a browser using HTTPS, SSL ensures that such information is encrypted and secure from interception.</span></span>

<span data-ttu-id="d4801-214">toolearn mais, consulte o artigo, [configurar o SSL para a aplicação do azure](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span><span class="sxs-lookup"><span data-stu-id="d4801-214">toolearn more, see, [Configure SSL for azure application](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span></span>

## <a name="network-isolationsecurity-with-azure-service-fabric"></a><span data-ttu-id="d4801-215">Isolamento de rede/segurança com recursos de infraestrutura do serviço do Azure</span><span class="sxs-lookup"><span data-stu-id="d4801-215">Network Isolation/Security with Azure Service Fabric</span></span>
<span data-ttu-id="d4801-216">Utilize [modelo Azure Resource Manager (ARM)](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) como um exemplo de como configurar um nodetype três cluster segura e toocontrol Olá tráfego de rede de entrada e saída utilizar grupos de segurança de rede.</span><span class="sxs-lookup"><span data-stu-id="d4801-216">Use [Azure Resource Manager (ARM) template](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) as a sample for setting up a three nodetype secure cluster and toocontrol hello inbound and outbound network traffic using Network Security Groups.</span></span>

<span data-ttu-id="d4801-217">modelo de Olá tem um grupo de segurança de rede para cada um dos Olá escala set(VMSS) toocontrol Olá tráfego da máquina virtual que entra e sai Olá VMSS.</span><span class="sxs-lookup"><span data-stu-id="d4801-217">hello template has a Network Security Group for each of hello virtual machine scale set(VMSS) toocontrol hello traffic in and out of hello VMSS.</span></span> <span data-ttu-id="d4801-218">Por predefinição, as regras de Olá são configuradas tooallow que todas Olá tráfego necessário por Olá sistema serviços e Olá aplicação portas especificadas no modelo de Olá.</span><span class="sxs-lookup"><span data-stu-id="d4801-218">As a default, hello rules are set up tooallow all hello traffic needed by hello system services and hello application ports specified in hello template.</span></span> <span data-ttu-id="d4801-219">Reveja as regras e efetuar alterações toofit às suas necessidades, incluindo adicionar quaisquer novos para as suas aplicações.</span><span class="sxs-lookup"><span data-stu-id="d4801-219">Review those rules and make changes toofit your needs, including add any new ones for your applications.</span></span>

<span data-ttu-id="d4801-220">Para obter mais informações, consulte [Azure Service Fabric – cenários comuns de redes](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span><span class="sxs-lookup"><span data-stu-id="d4801-220">For more information, see [Azure Service Fabric – Common Networking Scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span></span>

## <a name="set-up-a-key-vault-for-security"></a><span data-ttu-id="d4801-221">Configurar um cofre de chaves de segurança</span><span class="sxs-lookup"><span data-stu-id="d4801-221">Set up a key vault for security</span></span>
<span data-ttu-id="d4801-222">Os certificados são utilizados no Service Fabric tooprovide autenticação e encriptação toosecure diferentes aspetos de um cluster e respetivas aplicações.</span><span class="sxs-lookup"><span data-stu-id="d4801-222">Certificates are used in Service Fabric tooprovide authentication and encryption toosecure various aspects of a cluster and its applications.</span></span>

<span data-ttu-id="d4801-223">Service Fabric utiliza toosecure de certificados x. 509 um cluster e fornece funcionalidades de segurança da aplicação.</span><span class="sxs-lookup"><span data-stu-id="d4801-223">Service Fabric uses X.509 certificates toosecure a cluster and provide application security features.</span></span> <span data-ttu-id="d4801-224">Utilizar o Cofre de chaves demasiado[gerir certificados](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) para clusters de Service Fabric no Azure.</span><span class="sxs-lookup"><span data-stu-id="d4801-224">You use Key Vault too[manage certificates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) for Service Fabric clusters in Azure.</span></span> <span data-ttu-id="d4801-225">Quando um cluster é implementado no Azure, o fornecedor de recursos do Azure de Olá que é responsável pela criação de clusters de Service Fabric obtém certificados a partir do Cofre de chaves e instala-los num cluster de Olá VMs.</span><span class="sxs-lookup"><span data-stu-id="d4801-225">When a cluster is deployed in Azure, hello Azure resource provider that's responsible for creating Service Fabric clusters pulls certificates from Key Vault and installs them on hello cluster VMs.</span></span>

<span data-ttu-id="d4801-226">Olá relação entre [Cofre de chaves do Azure](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), um cluster do service fabric e fornecedor de recursos do Azure de Olá que utiliza certificados armazenados no Cofre de chaves quando cria um cluster.</span><span class="sxs-lookup"><span data-stu-id="d4801-226">hello relationship between [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), a service fabric cluster, and hello Azure resource provider that uses certificates stored in a key vault when it creates a cluster.</span></span>

<span data-ttu-id="d4801-227">**Criar um grupo de recursos** Step-by-Olá primeiro passo é toocreate um grupo de recursos especificamente para o seu Cofre de chaves.</span><span class="sxs-lookup"><span data-stu-id="d4801-227">**Create a resource group** hello first step is toocreate a resource group specifically for your key vault.</span></span> <span data-ttu-id="d4801-228">Recomendamos que colocar o Cofre de chaves Olá no seu próprio grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="d4801-228">We recommend that you put hello key vault into its own resource group.</span></span> <span data-ttu-id="d4801-229">Esta ação permite-lhe remover Olá computação e armazenamento grupos de recursos, incluindo o grupo de recursos de Olá que contém o cluster do Service Fabric, sem perder as chaves e segredos.</span><span class="sxs-lookup"><span data-stu-id="d4801-229">This action lets you remove hello compute and storage resource groups, including hello resource group that contains your Service Fabric cluster, without losing your keys and secrets.</span></span> <span data-ttu-id="d4801-230">grupo de recursos de Olá que contém o seu Cofre de chaves tem de constar Olá mesma região que o cluster de Olá que está a ser utilizado.</span><span class="sxs-lookup"><span data-stu-id="d4801-230">hello resource group that contains your key vault must be in hello same region as hello cluster that is using it.</span></span>

<span data-ttu-id="d4801-231">**Criar um cofre de chaves no novo grupo de recursos Olá** Cofre de chaves Olá tem de estar ativado para implementação tooallow Olá certificados da tooget de fornecedor de recursos de computação do mesmo e instalá-lo em instâncias de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="d4801-231">**Create a key vault in hello new resource group** hello key vault must be enabled for deployment tooallow hello compute resource provider tooget certificates from it and install it on virtual machine instances.</span></span>
<span data-ttu-id="d4801-232">toolearn mais como ver tooset segurança Cofre de chaves do Azure, [introdução ao Cofre de chaves do Azure](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span><span class="sxs-lookup"><span data-stu-id="d4801-232">toolearn more how tooset up Azure key vault see, [Get started with Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span></span>

## <a name="assign-users-roles"></a><span data-ttu-id="d4801-233">Atribuir funções de utilizadores</span><span class="sxs-lookup"><span data-stu-id="d4801-233">Assign users roles</span></span>
<span data-ttu-id="d4801-234">Depois de criar Olá aplicações toorepresent o cluster, atribuir os seus utilizadores funções toohello suportadas pelo Service Fabric: só de leitura e administrador. Pode atribuir funções de Olá utilizando Olá portal clássico do Azure.</span><span class="sxs-lookup"><span data-stu-id="d4801-234">After you have created hello applications toorepresent your cluster, assign your users toohello roles supported by Service Fabric: read-only and admin. You can assign hello roles by using hello Azure classic portal.</span></span>

>[!Note]
> <span data-ttu-id="d4801-235">Para obter mais informações sobre as funções no Service Fabric, consulte [controlo de acesso baseado em funções para clientes de Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span><span class="sxs-lookup"><span data-stu-id="d4801-235">For more information about roles in Service Fabric, see [Role-based access control for Service Fabric clients](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span></span>

<span data-ttu-id="d4801-236">Azure Service Fabric suportam dois tipos de controlo de acesso diferentes para clientes que estejam ligado tooa [cluster do Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrador e utilizador.</span><span class="sxs-lookup"><span data-stu-id="d4801-236">Azure Service Fabric supports two different access control types for clients that are connected tooa [Service Fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrator and user.</span></span> <span data-ttu-id="d4801-237">Controlo de acesso permite Olá administrador toolimit acesso toocertain cluster operações de cluster para diferentes grupos de utilizadores, tornando o cluster de Olá mais segura.</span><span class="sxs-lookup"><span data-stu-id="d4801-237">Access control allows hello cluster administrator toolimit access toocertain cluster operations for different groups of users, making hello cluster more secure.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d4801-238">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="d4801-238">Next steps</span></span>
- <span data-ttu-id="d4801-239">Configurar o Service Fabric [ambiente de desenvolvimento](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span><span class="sxs-lookup"><span data-stu-id="d4801-239">Setting up your Service Fabric [development environment](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span></span>
- <span data-ttu-id="d4801-240">Saiba mais sobre [as opções de suporte do Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="d4801-240">Learn about [Service Fabric support options](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span></span>

