---
title: "aaaConfiguring diagnósticos para máquinas virtuais e serviços Cloud do Azure | Microsoft Docs"
description: "Descreve como informações de diagnóstico de tooconfigure de depuração do Azure cloude serviços e máquinas virtuais (VMs) no Visual Studio."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: e70cd7b4-6298-43aa-adea-6fd618414c26
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 74cdf49413d6d89a84195070dd9d817da2463373
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-diagnostics-for-azure-cloud-services-and-virtual-machines"></a><span data-ttu-id="debf3-103">Configuração de diagnósticos de máquinas virtuais e serviços em nuvem do Azure</span><span class="sxs-lookup"><span data-stu-id="debf3-103">Configuring Diagnostics for Azure Cloud Services and Virtual Machines</span></span>
<span data-ttu-id="debf3-104">Quando precisar de tootroubleshoot um serviço em nuvem do Azure ou a máquina virtual do Azure, pode configurar mais facilmente diagnóstico do Azure utilizando o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="debf3-104">When you need tootroubleshoot an Azure cloud service or Azure virtual machine, you can configure Azure diagnostics more easily by using Visual Studio.</span></span> <span data-ttu-id="debf3-105">Diagnóstico do Azure captura de dados de sistema e dados de registo em máquinas de virtuais Olá e instâncias de máquina virtual com o seu serviço em nuvem e transferências de dados para uma conta de armazenamento à sua escolha.</span><span class="sxs-lookup"><span data-stu-id="debf3-105">Azure diagnostics captures system data and logging data on hello virtual machines and virtual machine instances that run your cloud service and transfers that data into a storage account of your choice.</span></span> <span data-ttu-id="debf3-106">Consulte [ativar o registo de diagnóstico para web apps no App Service do Azure](app-service-web/web-sites-enable-diagnostic-log.md) para obter mais informações sobre o diagnóstico de registo no Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-106">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about diagnostics logging in Azure.</span></span>

<span data-ttu-id="debf3-107">Este tópico mostra como tooenable e configurar o diagnóstico do Azure no Visual Studio, ambos antes e após a implementação, bem como em máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-107">This topic shows you how tooenable and configure Azure diagnostics in Visual Studio, both before and after deployment, as well as in Azure virtual machines.</span></span> <span data-ttu-id="debf3-108">Mostra também como tipos de Olá tooselect de toocollect de informações de diagnóstico e como as informações de Olá tooview depois são recolhidas.</span><span class="sxs-lookup"><span data-stu-id="debf3-108">It also shows you how tooselect hello types of diagnostics information toocollect and how tooview hello information after it's collected.</span></span>

<span data-ttu-id="debf3-109">Pode configurar o diagnóstico do Azure no Olá seguintes formas:</span><span class="sxs-lookup"><span data-stu-id="debf3-109">You can configure Azure Diagnostics in hello following ways:</span></span>

* <span data-ttu-id="debf3-110">Pode alterar as definições de configuração de diagnóstico através de Olá **configuração de diagnósticos** caixa de diálogo no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="debf3-110">You can change diagnostics configuration settings through hello **Diagnostics Configuration** dialog box in Visual Studio.</span></span> <span data-ttu-id="debf3-111">definições de Olá são guardadas num ficheiro denominado diagnostics.wadcfgx (diagnostics.wadcfg no Azure SDK 2.4 ou anterior).</span><span class="sxs-lookup"><span data-stu-id="debf3-111">hello settings are saved in a file called diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 or earlier).</span></span> <span data-ttu-id="debf3-112">Em alternativa, pode modificar diretamente o ficheiro de configuração de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-112">Alternatively, you can directly modify hello configuration file.</span></span> <span data-ttu-id="debf3-113">Se atualizar manualmente os ficheiros de Olá, as alterações de configuração de Olá irão demorar Olá efeito próxima vez que implementar tooAzure de serviço de nuvem Olá ou o serviço de execução Olá no emulador Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-113">If you manually update hello file, hello configuration changes will take effect hello next time you deploy hello cloud service tooAzure or run hello service in hello emulator.</span></span>
* <span data-ttu-id="debf3-114">Utilize **Cloud Explorer** ou **Explorador de servidores** no Visual Studio toochange Olá as definições de diagnóstico para um serviço em nuvem em execução ou a máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="debf3-114">Use **Cloud Explorer** or **Server Explorer** in Visual Studio toochange hello diagnostics settings for a running cloud service or virtual machine.</span></span>

## <a name="azure-26-diagnostics-changes"></a><span data-ttu-id="debf3-115">Alterações de diagnóstico do Azure 2.6</span><span class="sxs-lookup"><span data-stu-id="debf3-115">Azure 2.6 diagnostics changes</span></span>
<span data-ttu-id="debf3-116">Para projetos de 2.6 de SDK do Azure no Visual Studio, Olá seguintes alterações foram efetuada.</span><span class="sxs-lookup"><span data-stu-id="debf3-116">For Azure SDK 2.6 projects in Visual Studio, hello following changes were made.</span></span> <span data-ttu-id="debf3-117">(Estas alterações também se aplicam toolater versões do SDK do Azure.)</span><span class="sxs-lookup"><span data-stu-id="debf3-117">(These changes also apply toolater versions of Azure SDK.)</span></span>

* <span data-ttu-id="debf3-118">emulador local Olá suporta agora o diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-118">hello local emulator now supports diagnostics.</span></span> <span data-ttu-id="debf3-119">Isto significa que pode recolher dados de diagnóstico e certifique-se de que a aplicação está a criar Olá rastreios direita enquanto estiver a desenvolver e testar no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="debf3-119">This means you can collect diagnostics data and ensure your application is creating hello right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="debf3-120">cadeia de ligação de Olá `UseDevelopmentStorage=true` permite a recolha de dados de diagnóstico enquanto estiver a executar o projeto de serviço em nuvem no Visual Studio, utilizando o emulador de armazenamento do Azure Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-120">hello connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using hello Azure storage emulator.</span></span> <span data-ttu-id="debf3-121">Todos os dados de diagnóstico são recolhidos na conta do storage Olá (armazenamento de desenvolvimento).</span><span class="sxs-lookup"><span data-stu-id="debf3-121">All diagnostics data is collected in hello (Development Storage) storage account.</span></span>
* <span data-ttu-id="debf3-122">cadeia de ligação de conta de armazenamento de diagnóstico do Olá (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) é novamente armazenada no ficheiro de configuração (. cscfg) do serviço de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-122">hello diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in hello service configuration (.cscfg) file.</span></span> <span data-ttu-id="debf3-123">No Azure SDK 2.5 conta de armazenamento do diagnostics Olá foi especificada no ficheiro de diagnostics.wadcfgx Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-123">In Azure SDK 2.5 hello diagnostics storage account was specified in hello diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="debf3-124">Existem algumas diferenças importantes entre como cadeia de ligação de Olá trabalhado no Azure SDK 2.4 e anterior e como funciona no Azure SDK 2.6 e posterior.</span><span class="sxs-lookup"><span data-stu-id="debf3-124">There are some notable differences between how hello connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="debf3-125">No Azure SDK 2.4 e versões anteriores, cadeia de ligação de Olá era utilizada como um tempo de execução por Olá diagnóstico Plug-in tooget Olá armazenamento informações da conta para transferir os registos de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-125">In Azure SDK 2.4 and earlier, hello connection string was used as a runtime by hello diagnostics plugin tooget hello storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="debf3-126">No Azure SDK 2.6 ou posterior, a cadeia de ligação de diagnóstico de Olá é utilizada pela extensão de diagnóstico do Visual Studio tooconfigure Olá com as informações de conta de armazenamento adequado Olá durante a publicação.</span><span class="sxs-lookup"><span data-stu-id="debf3-126">In Azure SDK 2.6 and later, hello diagnostics connection string is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate storage account information during publishing.</span></span> <span data-ttu-id="debf3-127">cadeia de ligação de Olá permite-lhe definir as contas de armazenamento diferentes para configurações de serviço diferente que o Visual Studio irá utilizar quando publicar.</span><span class="sxs-lookup"><span data-stu-id="debf3-127">hello connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="debf3-128">No entanto, porque o plug-in de diagnóstico de Olá já não está disponível (após o Azure SDK 2.5), o ficheiro. cscfg Olá por si só não é possível ativar Olá extensão de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-128">However, because hello diagnostics plugin is no longer available (after Azure SDK 2.5), hello .cscfg file by itself can't enable hello Diagnostics Extension.</span></span> <span data-ttu-id="debf3-129">Tem a extensão de Olá tooenable em separado através de ferramentas, como o Visual Studio ou o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="debf3-129">You have tooenable hello extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="debf3-130">processo de Olá toosimplify de configuração da extensão de diagnóstico de Olá com o PowerShell, saída de pacotes hello a partir do Visual Studio também contém Olá pública XML de configuração para a extensão de diagnóstico de Olá para cada função.</span><span class="sxs-lookup"><span data-stu-id="debf3-130">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML for hello diagnostics extension for each role.</span></span> <span data-ttu-id="debf3-131">Visual Studio utiliza Olá diagnóstico ligação cadeia toopopulate Olá armazenamento conta informações presentes na configuração pública de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-131">Visual Studio uses hello diagnostics connection string toopopulate hello storage account information present in hello public configuration.</span></span> <span data-ttu-id="debf3-132">ficheiros de configuração pública de Olá são criados na pasta de extensões de Olá e seguem o padrão de Olá PaaSDiagnostics. &lt;RoleName >. PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="debf3-132">hello public config files are created in hello Extensions folder and follow hello pattern PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="debf3-133">Todas as implementações do PowerShell com base podem utilizar este padrão toomap tooa cada configuração função.</span><span class="sxs-lookup"><span data-stu-id="debf3-133">Any PowerShell based deployments can use this pattern toomap each configuration tooa Role.</span></span>
* <span data-ttu-id="debf3-134">cadeia de ligação de Olá no ficheiro. cscfg Olá também é utilizada por Olá [portal do Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess Olá dados de diagnóstico, pelo que pode aparecer no Olá **monitorização** é necessária a cadeia de ligação de Olá separador. tooconfigure Olá serviço tooshow verboso dados no portal de Olá de monitorização.</span><span class="sxs-lookup"><span data-stu-id="debf3-134">hello connection string in hello .cscfg file is also used by hello [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess hello diagnostics data so it can appear in hello **Monitoring** tab. hello connection string is needed tooconfigure hello service tooshow verbose monitoring data in hello portal.</span></span>

## <a name="migrating-projects-tooazure-sdk-26-and-later"></a><span data-ttu-id="debf3-135">Migrar projetos tooAzure SDK 2.6 e posterior</span><span class="sxs-lookup"><span data-stu-id="debf3-135">Migrating projects tooAzure SDK 2.6 and later</span></span>
<span data-ttu-id="debf3-136">Quando migrar do Azure SDK 2.5 tooAzure SDK 2.6 ou posterior, se tiver uma conta de armazenamento do diagnostics especificada no ficheiro de .wadcfgx Olá, em seguida,-permanecerão não existe.</span><span class="sxs-lookup"><span data-stu-id="debf3-136">When migrating from Azure SDK 2.5 tooAzure SDK 2.6 or later, if you had a diagnostics storage account specified in hello .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="debf3-137">tootake partido flexibilidade Olá da utilização de armazenamento diferente das contas para configurações de armazenamento diferente, terá de toomanually adicionar Olá ligação cadeia tooyour projeto.</span><span class="sxs-lookup"><span data-stu-id="debf3-137">tootake advantage of hello flexibility of using different storage accounts for different storage configurations, you'll have toomanually add hello connection string tooyour project.</span></span> <span data-ttu-id="debf3-138">Se estiver a migrar um projeto do Azure SDK 2.4 ou anterior tooAzure SDK 2.6, em seguida, Olá diagnóstico cadeias de ligação são preservadas.</span><span class="sxs-lookup"><span data-stu-id="debf3-138">If you're migrating a project from Azure SDK 2.4 or earlier tooAzure SDK 2.6, then hello diagnostics connection strings are preserved.</span></span> <span data-ttu-id="debf3-139">No entanto,. tenha em atenção Olá as alterações no como cadeias de ligação são tratadas num Azure SDK 2.6 conforme especificado na secção anterior Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-139">However, please note hello changes in how connection strings are treated in Azure SDK 2.6 as specified in hello previous section.</span></span>

### <a name="how-visual-studio-determines-hello-diagnostics-storage-account"></a><span data-ttu-id="debf3-140">Como o Visual Studio determina a conta de armazenamento do diagnostics Olá</span><span class="sxs-lookup"><span data-stu-id="debf3-140">How Visual Studio determines hello diagnostics storage account</span></span>
* <span data-ttu-id="debf3-141">Se uma cadeia de ligação de diagnóstico é especificada no ficheiro. cscfg Olá, Visual Studio utiliza-a extensão de diagnóstico de Olá tooconfigure durante a publicação e ao gerar ficheiros de xml de configuração pública de Olá durante empacotamento.</span><span class="sxs-lookup"><span data-stu-id="debf3-141">If a diagnostics connection string is specified in hello .cscfg file, Visual Studio uses it tooconfigure hello diagnostics extension when publishing, and when generating hello public configuration xml files during packaging.</span></span>
* <span data-ttu-id="debf3-142">Não se for especificada nenhuma cadeia de ligação de diagnósticos no ficheiro. cscfg Olá, em seguida, Visual Studio retrocede conta do storage toousing Olá especificada no Olá .wadcfgx tooconfigure Olá diagnóstico extensão de ficheiro ao publicar e gerar Olá público ficheiros do xml de configuração quando empacotamento.</span><span class="sxs-lookup"><span data-stu-id="debf3-142">If no diagnostics connection string is specified in hello .cscfg file, then Visual Studio falls back toousing hello storage account specified in hello .wadcfgx file tooconfigure hello diagnostics extension when publishing, and generating hello public configuration xml files when packaging.</span></span>
* <span data-ttu-id="debf3-143">cadeia de ligação de diagnóstico Olá no ficheiro. cscfg Olá tem precedência sobre a conta de armazenamento Olá no ficheiro de .wadcfgx Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-143">hello diagnostics connection string in hello .cscfg file takes precedence over hello storage account in hello .wadcfgx file.</span></span> <span data-ttu-id="debf3-144">Se for uma cadeia de ligação de diagnóstico especificado no ficheiro. cscfg Olá, em seguida, Visual Studio utiliza esse e ignora a conta de armazenamento Olá no .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="debf3-144">If a diagnostics connection string is specified in hello .cscfg file, then Visual Studio uses that and ignores hello storage account in .wadcfgx.</span></span>

### <a name="what-does-hello-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="debf3-145">O que does Olá "Atualizar as cadeias de ligação de armazenamento de desenvolvimento..."</span><span class="sxs-lookup"><span data-stu-id="debf3-145">What does hello "Update development storage connection strings…"</span></span> <span data-ttu-id="debf3-146">fazer a caixa de verificação?</span><span class="sxs-lookup"><span data-stu-id="debf3-146">checkbox do?</span></span>
<span data-ttu-id="debf3-147">Olá caixa de verificação **atualizar as cadeias de ligação de armazenamento de desenvolvimento de diagnóstico e de colocação em cache com credenciais de conta de armazenamento do Microsoft Azure ao publicar tooMicrosoft Azure** dá-lhe uma forma conveniente tooupdate qualquer cadeias de ligação de conta de armazenamento de desenvolvimento com a conta de armazenamento do Azure Olá especificada durante a publicação.</span><span class="sxs-lookup"><span data-stu-id="debf3-147">hello checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing tooMicrosoft Azure** gives you a convenient way tooupdate any development storage account connection strings with hello Azure storage account specified during publishing.</span></span>

<span data-ttu-id="debf3-148">Por exemplo, suponha que selecionar esta caixa de verificação e especifica a cadeia de ligação de diagnóstico de Olá `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="debf3-148">For example, suppose you select this checkbox and hello diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="debf3-149">Quando publica Olá projeto tooAzure, Visual Studio será automaticamente atualizado cadeia de ligação de diagnóstico de Olá com a conta de armazenamento de Olá que especificou no Assistente de publicação Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-149">When you publish hello project tooAzure, Visual Studio will automatically update hello diagnostics connection string with hello storage account you specified in hello Publish wizard.</span></span> <span data-ttu-id="debf3-150">No entanto, se uma conta de armazenamento real foi especificada como cadeia de ligação de diagnóstico de Olá, em seguida, essa conta é utilizada em vez disso.</span><span class="sxs-lookup"><span data-stu-id="debf3-150">However, if a real storage account was specified as hello diagnostics connection string, then that account is used instead.</span></span>

## <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="debf3-151">Diferenças de funcionalidade de diagnóstico entre o Azure SDK 2.4 e anterior e do Azure SDK 2,5 e posterior</span><span class="sxs-lookup"><span data-stu-id="debf3-151">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="debf3-152">Se estiver a atualizar o projeto do Azure SDK 2.4 tooAzure SDK 2,5 ou posterior, deve tenha no Olá atenção os seguintes diferenças de funcionalidade de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-152">If you're upgrading your project from Azure SDK 2.4 tooAzure SDK 2.5 or later, you should bear in mind hello following diagnostics functionality differences.</span></span>

* <span data-ttu-id="debf3-153">**APIs de configuração foram preteridas** – configuração programática do diagnostics está disponível no Azure SDK 2.4 ou versões anteriores, mas foi preterida no Azure SDK 2.5 e posterior.</span><span class="sxs-lookup"><span data-stu-id="debf3-153">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="debf3-154">Se a configuração de diagnósticos atualmente está definida no código, terá de tooreconfigure essas definições a partir do zero no projeto de migrados Olá por ordem para trabalhar de tookeep de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-154">If your diagnostics configuration is currently defined in code, you'll need tooreconfigure those settings from scratch in hello migrated project in order for diagnostics tookeep working.</span></span> <span data-ttu-id="debf3-155">ficheiro de configuração de diagnósticos de Olá para o Azure SDK 2.4 é diagnostics.wadcfg e diagnostics.wadcfgx para o Azure SDK 2.5 e posterior.</span><span class="sxs-lookup"><span data-stu-id="debf3-155">hello diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="debf3-156">**Diagnósticos para aplicações de serviço em nuvem só podem ser configurados ao nível de função Olá, não ao nível de instância de Olá.**</span><span class="sxs-lookup"><span data-stu-id="debf3-156">**Diagnostics for cloud service applications can only be configured at hello role level, not at hello instance level.**</span></span>
* <span data-ttu-id="debf3-157">**Sempre que implementar a sua aplicação, a configuração de diagnósticos de Olá é atualizada** – Isto pode causar problemas de paridade, se alterar a configuração de diagnósticos no Explorador de servidores e, em seguida, volte a implementar a sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="debf3-157">**Every time you deploy your app, hello diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="debf3-158">**No Azure SDK 2.5 e posterior, informações de estado de falha são configuradas no ficheiro de configuração de diagnósticos de Olá, não no código** – se tiver configuradas no código de capturas de falhas, terá de configuração de Olá toomanually transferência do ficheiro de configuração do código toohello, porque as informações de falhas de Olá não são transferidas durante a migração de Olá tooAzure SDK 2.6.</span><span class="sxs-lookup"><span data-stu-id="debf3-158">**In Azure SDK 2.5 and later, crash dumps are configured in hello diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have toomanually transfer hello configuration from code toohello configuration file, because hello crash dumps aren't transferred during hello migration tooAzure SDK 2.6.</span></span>

## <a name="enable-diagnostics-in-cloud-service-projects-before-deploying-them"></a><span data-ttu-id="debf3-159">Ativar o diagnóstico na projetos do serviço em nuvem antes de implementá-las</span><span class="sxs-lookup"><span data-stu-id="debf3-159">Enable diagnostics in cloud service projects before deploying them</span></span>
<span data-ttu-id="debf3-160">No Visual Studio, pode escolher os dados de diagnóstico toocollect para funções que são executados no Azure, quando executa o serviço de Olá no emulador Olá antes de o implementar.</span><span class="sxs-lookup"><span data-stu-id="debf3-160">In Visual Studio, you can choose toocollect diagnostics data for roles that run in Azure, when you run hello service in hello emulator before deploying it.</span></span> <span data-ttu-id="debf3-161">Todas as definições de toodiagnostics de alterações no Visual Studio são guardadas no ficheiro de configuração de diagnostics.wadcfgx Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-161">All changes toodiagnostics settings in Visual Studio are saved in hello diagnostics.wadcfgx configuration file.</span></span> <span data-ttu-id="debf3-162">Estas definições de configuração especificam conta de armazenamento de olá onde os dados de diagnóstico são guardados quando implementar o serviço de nuvem.</span><span class="sxs-lookup"><span data-stu-id="debf3-162">These configuration settings specify hello storage account where diagnostics data is saved when you deploy your cloud service.</span></span>

[!INCLUDE [cloud-services-wad-warning](../includes/cloud-services-wad-warning.md)]

### <a name="tooenable-diagnostics-in-visual-studio-before-deployment"></a><span data-ttu-id="debf3-163">diagnóstico de tooenable no Visual Studio antes da implementação</span><span class="sxs-lookup"><span data-stu-id="debf3-163">tooenable diagnostics in Visual Studio before deployment</span></span>
1. <span data-ttu-id="debf3-164">No menu de atalho Olá para a função de Olá que lhe interessa, escolha **propriedades**e, em seguida, escolha Olá **configuração** separador da função de Olá **propriedades** janela.</span><span class="sxs-lookup"><span data-stu-id="debf3-164">On hello shortcut menu for hello role that interests you, choose **Properties**, and then choose hello **Configuration** tab in hello role’s **Properties** window.</span></span>
2. <span data-ttu-id="debf3-165">No Olá **diagnóstico** secção, certifique-se de que Olá **ativar diagnósticos** caixa de verificação está selecionada.</span><span class="sxs-lookup"><span data-stu-id="debf3-165">In hello **Diagnostics** section, make sure that hello **Enable Diagnostics** check box is selected.</span></span>
   
    ![Aceder a opção de ativar o diagnóstico Olá](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796660.png)
3. <span data-ttu-id="debf3-167">Escolha Olá reticências (…) botão toospecify Olá conta do storage onde pretende toobe de dados de diagnóstico de Olá armazenado.</span><span class="sxs-lookup"><span data-stu-id="debf3-167">Choose hello ellipsis (…) button toospecify hello storage account where you want hello diagnostics data toobe stored.</span></span> <span data-ttu-id="debf3-168">conta de armazenamento de Olá que escolher serão localização Olá armazenar dados de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-168">hello storage account you choose will be hello location where diagnostics data is stored.</span></span>
   
    ![Especifique toouse de conta de armazenamento Olá](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796661.png)
4. <span data-ttu-id="debf3-170">No Olá **criar cadeia de ligação de armazenamento** diálogo caixa, especifique se pretende tooconnect utilizando Olá emulador do Storage do Azure, uma subscrição do Azure, ou introduzir manualmente as credenciais.</span><span class="sxs-lookup"><span data-stu-id="debf3-170">In hello **Create Storage Connection String** dialog box, specify whether you want tooconnect using hello Azure Storage Emulator, an Azure subscription, or manually entered credentials.</span></span>
   
    ![Caixa de diálogo de conta de armazenamento](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796662.png)
   
   * <span data-ttu-id="debf3-172">Se escolher a opção de emulador do Storage do Microsoft Azure Olá, cadeia de ligação de Olá está definida tooUseDevelopmentStorage = true.</span><span class="sxs-lookup"><span data-stu-id="debf3-172">If you choose hello Microsoft Azure Storage Emulator option, hello connection string is set tooUseDevelopmentStorage=true.</span></span>
   * <span data-ttu-id="debf3-173">Se optar por Olá a opção de subscrição, pode escolher Olá pretende toouse e Olá nome da conta de subscrição do Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-173">If you choose hello Your subscription option, you can choose hello Azure subscription you want toouse and hello account name.</span></span> <span data-ttu-id="debf3-174">Pode escolher que gerir contas de Olá botão toomanage suas subscrições do Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-174">You can choose hello Manage Accounts button toomanage your Azure subscriptions.</span></span>
   * <span data-ttu-id="debf3-175">Se escolher Olá introduzida manualmente as credenciais opção, está nome de Olá tooenter pedido e a chave do Olá pretende toouse de conta do Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-175">If you choose hello Manually entered credentials option, you're prompted tooenter hello name and key of hello Azure account you want toouse.</span></span>
5. <span data-ttu-id="debf3-176">Escolha Olá **configurar** Olá do botão tooview **configuração de diagnósticos** caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="debf3-176">Choose hello **Configure** button tooview hello **Diagnostics configuration** dialog box.</span></span> <span data-ttu-id="debf3-177">Cada separador (exceto para **geral** e **registo diretórios**) representa uma origem de dados de diagnóstico que pode recolher.</span><span class="sxs-lookup"><span data-stu-id="debf3-177">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span> <span data-ttu-id="debf3-178">separador da predefinição de Olá, **geral**, oferece Olá seguintes opções de recolha de dados de diagnóstico: **apenas erros**, **todas as informações**, e **plano personalizada** .</span><span class="sxs-lookup"><span data-stu-id="debf3-178">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="debf3-179">Olá opção predefinida, **apenas erros**, demora Olá mínimo de armazenamento porque não transferir avisos ou mensagens de rastreio.</span><span class="sxs-lookup"><span data-stu-id="debf3-179">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="debf3-180">Olá Olá a maioria das informações de todas as transferências de opção de informações e é, por conseguinte, Olá opção mais dispendiosa em termos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="debf3-180">hello All information option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
   
    ![Ativar o diagnóstico do Azure e a configuração](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
6. <span data-ttu-id="debf3-182">Para este exemplo, selecione Olá **plano personalizada** opção, pelo que pode personalizar os dados de Olá recolhidos.</span><span class="sxs-lookup"><span data-stu-id="debf3-182">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
7. <span data-ttu-id="debf3-183">Olá **Quota de disco em MB** caixa especifica quanto espaço pretende tooallocate no seu armazenamento em conta os dados de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-183">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="debf3-184">Pode alterar o valor predefinido de Olá se pretender.</span><span class="sxs-lookup"><span data-stu-id="debf3-184">You can change hello default value if you want.</span></span>
8. <span data-ttu-id="debf3-185">Em cada separador de dados de diagnóstico que pretende toocollect, selecione o **ativar transferência do <log type>**  caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-185">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span> <span data-ttu-id="debf3-186">Por exemplo, se pretender que os registos de aplicações toocollect, selecione Olá **ativar a transferência dos registos de aplicação** caixa de verificação Olá **registos da aplicação** separador. Além disso, especifique como outras informações de que cada tipo de dados de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-186">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="debf3-187">Consulte a secção de Olá **configurar origens de dados de diagnóstico** mais adiante neste tópico para obter informações de configuração em cada separador.</span><span class="sxs-lookup"><span data-stu-id="debf3-187">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
9. <span data-ttu-id="debf3-188">Depois de ativar a coleção de todos os dados de diagnóstico de Olá pretende, escolha Olá **OK** botão.</span><span class="sxs-lookup"><span data-stu-id="debf3-188">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
10. <span data-ttu-id="debf3-189">Execute o projeto de serviço em nuvem do Azure no Visual Studio como habitualmente.</span><span class="sxs-lookup"><span data-stu-id="debf3-189">Run your Azure cloud service project in Visual Studio as usual.</span></span> <span data-ttu-id="debf3-190">Como utilizar a aplicação, as informações de registo de Olá ativou são guardadas toohello conta de armazenamento do Azure que especificou.</span><span class="sxs-lookup"><span data-stu-id="debf3-190">As you use your application, hello log information that you enabled is saved toohello Azure storage account you specified.</span></span>

## <a name="enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="debf3-191">Ativar o diagnóstico em máquinas virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="debf3-191">Enable diagnostics in Azure virtual machines</span></span>
<span data-ttu-id="debf3-192">No Visual Studio, pode escolher os dados de diagnóstico toocollect máquinas virtuais do Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-192">In Visual Studio, you can choose toocollect diagnostics data for Azure virtual machines.</span></span>

### <a name="tooenable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="debf3-193">diagnóstico de tooenable em máquinas virtuais do Azure</span><span class="sxs-lookup"><span data-stu-id="debf3-193">tooenable diagnostics in Azure virtual machines</span></span>
1. <span data-ttu-id="debf3-194">No **Explorador de servidores**, escolha Olá nó do Azure e, em seguida, ligar tooyour subscrição do Azure, se ainda não está ligado.</span><span class="sxs-lookup"><span data-stu-id="debf3-194">In **Server Explorer**, choose hello Azure node and then connect tooyour Azure subscription, if you're not already connected.</span></span>
2. <span data-ttu-id="debf3-195">Expanda Olá **máquinas virtuais** nós.</span><span class="sxs-lookup"><span data-stu-id="debf3-195">Expand hello **Virtual Machines** node.</span></span> <span data-ttu-id="debf3-196">Pode criar uma nova máquina virtual ou selecione uma que já não existe.</span><span class="sxs-lookup"><span data-stu-id="debf3-196">You can create a new virtual machine, or select one that's already there.</span></span>
3. <span data-ttu-id="debf3-197">No menu de atalho Olá para a máquina virtual Olá que lhe interessa, escolha **configurar**.</span><span class="sxs-lookup"><span data-stu-id="debf3-197">On hello shortcut menu for hello virtual machine that interests you, choose **Configure**.</span></span> <span data-ttu-id="debf3-198">Isto mostra a caixa de diálogo de configuração de máquina virtual de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-198">This shows hello virtual machine configuration dialog box.</span></span>
   
    ![Configurar uma máquina virtual do Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796663.png)
4. <span data-ttu-id="debf3-200">Se ainda não estiver instalado, adicione a extensão de diagnóstico de agente de monitorização Microsoft Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-200">If it's not already installed, add hello Microsoft Monitoring Agent Diagnostics extension.</span></span> <span data-ttu-id="debf3-201">Esta extensão permite-lhe recolher dados de diagnóstico para Olá máquina virtual do Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-201">This extension lets you gather diagnostics data for hello Azure virtual machine.</span></span> <span data-ttu-id="debf3-202">Na lista de extensões instaladas Olá, escolha o menu de selecionar uma extensão disponíveis pendentes Olá e, em seguida, escolha diagnósticos de agente de monitorização Microsoft.</span><span class="sxs-lookup"><span data-stu-id="debf3-202">In hello Installed Extensions list, choose hello Select an available extension drop-down menu and then choose Microsoft Monitoring Agent Diagnostics.</span></span>
   
    ![Instalar uma extensão de máquina virtual do Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766024.png)
   
   > [!NOTE]
   > <span data-ttu-id="debf3-204">Outras extensões de diagnóstico estão disponíveis para as máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="debf3-204">Other diagnostics extensions are available for your virtual machines.</span></span> <span data-ttu-id="debf3-205">Para obter mais informações, consulte as extensões de VM do Azure e funcionalidades.</span><span class="sxs-lookup"><span data-stu-id="debf3-205">For more information, see Azure VM Extensions and Features.</span></span>
   > 
   > 
5. <span data-ttu-id="debf3-206">Escolha Olá **adicionar** botão extensão de Olá tooadd e ver o **configuração de diagnósticos** caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="debf3-206">Choose hello **Add** button tooadd hello extension and view its **Diagnostics configuration** dialog box.</span></span>
6. <span data-ttu-id="debf3-207">Escolha Olá **configurar** botão toospecify uma conta de armazenamento e, em seguida, escolha Olá **OK** botão.</span><span class="sxs-lookup"><span data-stu-id="debf3-207">Choose hello **Configure** button toospecify a storage account and then choose hello **OK** button.</span></span>
   
    <span data-ttu-id="debf3-208">Cada separador (exceto para **geral** e **registo diretórios**) representa uma origem de dados de diagnóstico que pode recolher.</span><span class="sxs-lookup"><span data-stu-id="debf3-208">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span>
   
    ![Ativar o diagnóstico do Azure e a configuração](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
   
    <span data-ttu-id="debf3-210">separador da predefinição de Olá, **geral**, oferece Olá seguintes opções de recolha de dados de diagnóstico: **apenas erros**, **todas as informações**, e **plano personalizada** .</span><span class="sxs-lookup"><span data-stu-id="debf3-210">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="debf3-211">Olá opção predefinida, **apenas erros**, demora Olá mínimo de armazenamento porque não transferir avisos ou mensagens de rastreio.</span><span class="sxs-lookup"><span data-stu-id="debf3-211">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="debf3-212">Olá **todas as informações** opção transferências Olá a maioria das informações e é, por conseguinte, a opção mais dispendiosa do Olá em termos de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="debf3-212">hello **All information** option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
7. <span data-ttu-id="debf3-213">Para este exemplo, selecione Olá **plano personalizada** opção, pelo que pode personalizar os dados de Olá recolhidos.</span><span class="sxs-lookup"><span data-stu-id="debf3-213">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
8. <span data-ttu-id="debf3-214">Olá **Quota de disco em MB** caixa especifica quanto espaço pretende tooallocate no seu armazenamento em conta os dados de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-214">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="debf3-215">Pode alterar o valor predefinido de Olá se pretender.</span><span class="sxs-lookup"><span data-stu-id="debf3-215">You can change hello default value if you want.</span></span>
9. <span data-ttu-id="debf3-216">Em cada separador de dados de diagnóstico que pretende toocollect, selecione o **ativar transferência do <log type>**  caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-216">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span>
   
    <span data-ttu-id="debf3-217">Por exemplo, se pretender que os registos de aplicações toocollect, selecione Olá **ativar a transferência dos registos de aplicação** caixa de verificação Olá **registos da aplicação** separador. Além disso, especifique como outras informações de que cada tipo de dados de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-217">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="debf3-218">Consulte a secção de Olá **configurar origens de dados de diagnóstico** mais adiante neste tópico para obter informações de configuração em cada separador.</span><span class="sxs-lookup"><span data-stu-id="debf3-218">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
10. <span data-ttu-id="debf3-219">Depois de ativar a coleção de todos os dados de diagnóstico de Olá pretende, escolha Olá **OK** botão.</span><span class="sxs-lookup"><span data-stu-id="debf3-219">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
11. <span data-ttu-id="debf3-220">Guarde o projeto de Olá atualizado.</span><span class="sxs-lookup"><span data-stu-id="debf3-220">Save hello updated project.</span></span>
    
     <span data-ttu-id="debf3-221">Verá uma mensagem na Olá **registo de atividade do Microsoft Azure** janela Olá máquina virtual foi atualizada.</span><span class="sxs-lookup"><span data-stu-id="debf3-221">You'll see a message in hello **Microsoft Azure Activity Log** window that hello virtual machine has been updated.</span></span>

## <a name="configure-diagnostics-data-sources"></a><span data-ttu-id="debf3-222">Configurar origens de dados de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="debf3-222">Configure diagnostics data sources</span></span>
<span data-ttu-id="debf3-223">Depois de ativar a recolha de dados de diagnóstico, pode escolher exatamente que origens de dados que pretende toocollect e as informações recolhidas.</span><span class="sxs-lookup"><span data-stu-id="debf3-223">After you enable diagnostics data collection, you can choose exactly what data sources you want toocollect and what information is collected.</span></span> <span data-ttu-id="debf3-224">Olá segue-se uma lista dos separadores no Olá **configuração de diagnósticos** caixa de diálogo e significa que cada opção de configuração.</span><span class="sxs-lookup"><span data-stu-id="debf3-224">hello following is a list of tabs in hello **Diagnostics configuration** dialog box and what each configuration option means.</span></span>

### <a name="application-logs"></a><span data-ttu-id="debf3-225">Registos de aplicações</span><span class="sxs-lookup"><span data-stu-id="debf3-225">Application logs</span></span>
<span data-ttu-id="debf3-226">**Os registos de aplicações** contêm informações de diagnóstico produzidas por uma aplicação web.</span><span class="sxs-lookup"><span data-stu-id="debf3-226">**Application logs** contain diagnostics information produced by a web application.</span></span> <span data-ttu-id="debf3-227">Se pretender que os registos de aplicações toocapture, selecione Olá **ativar a transferência dos registos de aplicação** caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-227">If you want toocapture application logs, select hello **Enable transfer of Application Logs** check box.</span></span> <span data-ttu-id="debf3-228">Pode aumentar ou reduzir Olá número de minutos quando são transferidos os registos da aplicação Olá conta de armazenamento tooyour alterando Olá **período transferência (mín)** valor.</span><span class="sxs-lookup"><span data-stu-id="debf3-228">You can increase or decrease hello number of minutes when hello application logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="debf3-229">Também pode alterar a quantidade de Olá de informações capturadas no registo de Olá definindo o valor de nível de registo de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-229">You can also change hello amount of information captured in hello log by setting hello Log level value.</span></span> <span data-ttu-id="debf3-230">Por exemplo, pode escolher **verboso** tooget obter mais informações ou escolha **crítico** erros críticos apenas toocapture.</span><span class="sxs-lookup"><span data-stu-id="debf3-230">For example, you can choose **Verbose** tooget more information or choose **Critical** toocapture only critical errors.</span></span> <span data-ttu-id="debf3-231">Se tiver um fornecedor de diagnóstico específico que emite os registos de aplicações, pode capturá-los adicionando toohello GUID do fornecedor de Olá **GUID de fornecedor** caixa.</span><span class="sxs-lookup"><span data-stu-id="debf3-231">If you have a specific diagnostics provider that emits application logs, you can capture them by adding hello provider’s GUID toohello **Provider GUID** box.</span></span>

  ![Registos de aplicações](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758145.png)

  <span data-ttu-id="debf3-233">Consulte [ativar o registo de diagnóstico para web apps no App Service do Azure](app-service-web/web-sites-enable-diagnostic-log.md) para obter mais informações sobre os registos de aplicações.</span><span class="sxs-lookup"><span data-stu-id="debf3-233">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about application logs.</span></span>

### <a name="windows-event-logs"></a><span data-ttu-id="debf3-234">Registos de eventos do Windows</span><span class="sxs-lookup"><span data-stu-id="debf3-234">Windows event logs</span></span>
<span data-ttu-id="debf3-235">Se pretender que os registos de eventos do Windows toocapture, selecione Olá **ativar a transferência de registos de eventos do Windows** caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-235">If you want toocapture Windows event logs, select hello **Enable transfer of Windows Event Logs** check box.</span></span> <span data-ttu-id="debf3-236">Pode aumentar ou reduzir Olá número de minutos quando são transferidos os registos de eventos de Olá conta de armazenamento tooyour alterando Olá **período transferência (mín)** valor.</span><span class="sxs-lookup"><span data-stu-id="debf3-236">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="debf3-237">Selecione as caixas de verificação de Olá para tipos de Olá de eventos que pretende que o tootrack.</span><span class="sxs-lookup"><span data-stu-id="debf3-237">Select hello check boxes for hello types of events that you want tootrack.</span></span>

  ![Registos de Eventos](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796664.png)

<span data-ttu-id="debf3-239">Se estiver a utilizar o Azure SDK 2.6 ou posterior e quiser toospecify uma origem de dados personalizada, introduza-o no Olá  **<Data source name>**  texto caixa e, em seguida, escolha Olá **adicionar** tooit seguinte do botão.</span><span class="sxs-lookup"><span data-stu-id="debf3-239">If you're using Azure SDK 2.6 or later and want toospecify a custom data source, enter it in hello **<Data source name>** text box and then choose hello **Add** button next tooit.</span></span> <span data-ttu-id="debf3-240">origem de dados de Olá é adicionada toohello diagnostics.cfcfg ficheiro.</span><span class="sxs-lookup"><span data-stu-id="debf3-240">hello data source is added toohello diagnostics.cfcfg file.</span></span>

<span data-ttu-id="debf3-241">Se estiver a utilizar o Azure SDK 2.5 e quiser toospecify uma origem de dados personalizados, pode adicioná-lo toohello `WindowsEventLog` secção Olá diagnostics.wadcfgx de ficheiros, tal como no seguinte exemplo de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-241">If you're using Azure SDK 2.5 and want toospecify a custom data source, you can add it toohello `WindowsEventLog` section of hello diagnostics.wadcfgx file, such as in hello following example.</span></span>

```
<WindowsEventLog scheduledTransferPeriod="PT1M">
   <DataSource name="Application!*" />
   <DataSource name="CustomDataSource!*" />
</WindowsEventLog>
```
### <a name="performance-counters"></a><span data-ttu-id="debf3-242">Contadores de desempenho</span><span class="sxs-lookup"><span data-stu-id="debf3-242">Performance counters</span></span>
<span data-ttu-id="debf3-243">Informações do contador de desempenho podem ajudar a localizar congestionamentos de sistema e otimizar o desempenho do sistema e aplicação.</span><span class="sxs-lookup"><span data-stu-id="debf3-243">Performance counter information can help you locate system bottlenecks and fine-tune system and application performance.</span></span> <span data-ttu-id="debf3-244">Consulte [criar e utilizar os contadores de desempenho de uma aplicação do Azure](https://msdn.microsoft.com/library/azure/hh411542.aspx) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="debf3-244">See [Create and Use Performance Counters in an Azure Application](https://msdn.microsoft.com/library/azure/hh411542.aspx) for more information.</span></span> <span data-ttu-id="debf3-245">Se pretender que os contadores de desempenho toocapture, selecione Olá **ativar a transferência dos contadores de desempenho** caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-245">If you want toocapture performance counters, select hello **Enable transfer of Performance Counters** check box.</span></span> <span data-ttu-id="debf3-246">Pode aumentar ou reduzir Olá número de minutos quando são transferidos os registos de eventos de Olá conta de armazenamento tooyour alterando Olá **período transferência (mín)** valor.</span><span class="sxs-lookup"><span data-stu-id="debf3-246">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="debf3-247">Selecione as caixas de verificação Olá para hello contadores de desempenho que pretende que o tootrack.</span><span class="sxs-lookup"><span data-stu-id="debf3-247">Select hello check boxes for hello performance counters that you want tootrack.</span></span>

  ![Contadores de Desempenho](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758147.png)

<span data-ttu-id="debf3-249">tootrack um contador de desempenho que não está listado, introduza-o utilizando Olá sintaxe sugerida e, em seguida, escolha Olá **adicionar** botão.</span><span class="sxs-lookup"><span data-stu-id="debf3-249">tootrack a performance counter that isn’t listed, enter it by using hello suggested syntax and then choose hello **Add** button.</span></span> <span data-ttu-id="debf3-250">sistema de operativo Olá na máquina virtual de Olá determina que contadores de desempenho pode controlar. Para obter mais informações sobre sintaxe, consulte [especificando um caminho de contador](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span><span class="sxs-lookup"><span data-stu-id="debf3-250">hello operating system on hello virtual machine determines which performance counters you can track. For more information about syntax, see [Specifying a Counter Path](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span></span>

### <a name="infrastructure-logs"></a><span data-ttu-id="debf3-251">Registos de infraestrutura</span><span class="sxs-lookup"><span data-stu-id="debf3-251">Infrastructure logs</span></span>
<span data-ttu-id="debf3-252">Se pretender que os registos de infraestrutura de toocapture, que contêm informações sobre Olá infraestrutura de diagnóstico do Azure, o módulo de RemoteAccess Olá e o módulo de RemoteForwarder Olá, selecione Olá **ativar a transferência dos registos de infraestrutura**caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-252">If you want toocapture infrastructure logs, which contain information about hello Azure diagnostic infrastructure, hello RemoteAccess module, and hello RemoteForwarder module, select hello **Enable transfer of Infrastructure Logs** check box.</span></span> <span data-ttu-id="debf3-253">Pode aumentar ou reduzir Olá número de minutos quando são transferidos Olá registos conta de armazenamento tooyour alterando o valor de período de transferência (mín) Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-253">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello Transfer Period (min) value.</span></span>

  ![Registos de infraestrutura de diagnóstico](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758148.png)

  <span data-ttu-id="debf3-255">Consulte [recolher dados de registo por utilizando o Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="debf3-255">See [Collect Logging Data by Using Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) for more information.</span></span>

### <a name="log-directories"></a><span data-ttu-id="debf3-256">Diretórios de registo</span><span class="sxs-lookup"><span data-stu-id="debf3-256">Log directories</span></span>
<span data-ttu-id="debf3-257">Se pretender que os diretórios de registo toocapture, que contêm dados recolhidos a partir de diretórios de registo para pedidos de serviços de informação Internet (IIS), os pedidos falhados ou pastas que escolher, selecione Olá **ativar transferência do registo diretórios**caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-257">If you want toocapture log directories, which contain data collected from log directories for Internet Information Services (IIS) requests, failed requests, or folders that you choose, select hello **Enable transfer of Log Directories** check box.</span></span> <span data-ttu-id="debf3-258">Pode aumentar ou reduzir Olá número de minutos quando são transferidos Olá registos conta de armazenamento tooyour alterando Olá **período transferência (mín)** valor.</span><span class="sxs-lookup"><span data-stu-id="debf3-258">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="debf3-259">Pode selecionar caixas Olá de registos de Olá pretende toocollect, tal como **registos de IIS** e **falhou pedido** registos.</span><span class="sxs-lookup"><span data-stu-id="debf3-259">You can select hello boxes of hello logs you want toocollect, such as **IIS Logs** and **Failed Request** Logs.</span></span> <span data-ttu-id="debf3-260">São fornecidos os nomes de contentor de armazenamento predefinido, mas pode alterar os nomes de Olá se pretender.</span><span class="sxs-lookup"><span data-stu-id="debf3-260">Default storage container names are provided, but you can change hello names if you want.</span></span>

<span data-ttu-id="debf3-261">Além disso, pode capturar os registos de qualquer pasta.</span><span class="sxs-lookup"><span data-stu-id="debf3-261">Also, you can capture logs from any folder.</span></span> <span data-ttu-id="debf3-262">Especifique apenas o caminho de Olá no Olá **registo do diretório absoluto** secção e, em seguida, escolha Olá **Adicionar diretório** botão.</span><span class="sxs-lookup"><span data-stu-id="debf3-262">Just specify hello path in hello **Log from Absolute Directory** section and then choose hello **Add Directory** button.</span></span> <span data-ttu-id="debf3-263">Olá registos irão ser capturados toohello especificado contentores.</span><span class="sxs-lookup"><span data-stu-id="debf3-263">hello logs will be captured toohello specified containers.</span></span>

  ![Diretórios de registo](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796665.png)

### <a name="etw-logs"></a><span data-ttu-id="debf3-265">Registos ETW</span><span class="sxs-lookup"><span data-stu-id="debf3-265">ETW logs</span></span>
<span data-ttu-id="debf3-266">Se utilizar [rastreio de eventos para o Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) e pretende toocapture ETW registos, selecione de Olá **ativar a transferência dos registos de ETW** caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-266">If you use [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) and want toocapture ETW logs, select hello **Enable transfer of ETW Logs** check box.</span></span> <span data-ttu-id="debf3-267">Pode aumentar ou reduzir Olá número de minutos quando são transferidos Olá registos conta de armazenamento tooyour alterando Olá **período transferência (mín)** valor.</span><span class="sxs-lookup"><span data-stu-id="debf3-267">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="debf3-268">eventos de Olá são capturados a partir de origens de eventos e manifestos de eventos que especificar.</span><span class="sxs-lookup"><span data-stu-id="debf3-268">hello events are captured from event sources and event manifests that you specify.</span></span> <span data-ttu-id="debf3-269">toospecify uma origem de evento, introduza um nome na Olá **origens de eventos** secção e, em seguida, escolha Olá **Adicionar origem de evento** botão.</span><span class="sxs-lookup"><span data-stu-id="debf3-269">toospecify an event source, enter a name in hello **Event Sources** section and then choose hello **Add Event Source** button.</span></span> <span data-ttu-id="debf3-270">Da mesma forma, pode especificar um manifesto de eventos no Olá **manifestos de eventos** secção e, em seguida, escolha Olá **adicionar evento manifesto** botão.</span><span class="sxs-lookup"><span data-stu-id="debf3-270">Similarly, you can specify an event manifest in hello **Event Manifests** section and then choose hello **Add Event Manifest** button.</span></span>

  ![Registos ETW](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766025.png)

  <span data-ttu-id="debf3-272">arquitetura ETW hello é suportada no ASP.NET através de classes no Olá [System.Diagnostics.aspx] (espaço de nomes https://msdn.microsoft.com/library/system.diagnostics (v=vs.110).</span><span class="sxs-lookup"><span data-stu-id="debf3-272">hello ETW framework is supported in ASP.NET through classes in hello [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span></span> <span data-ttu-id="debf3-273">Olá Microsoft.WindowsAzure.Diagnostics espaço de nomes que herda e expande padrão [System.Diagnostics.aspx] (classes https://msdn.microsoft.com/library/system.diagnostics (v=vs.110), permite Olá utilização ([System.Diagnostics.aspx] https://msdn.microsoft.com/library/System.Diagnostics (v=vs.110) como uma arquitetura de registo Olá ambiente do Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-273">hello Microsoft.WindowsAzure.Diagnostics namespace, which inherits from and extends standard [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) classes, enables hello use of [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) as a logging framework in hello Azure environment.</span></span> <span data-ttu-id="debf3-274">Para obter mais informações, consulte [assumir o controlo de registo e rastreio no Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) e [ativar diagnósticos no Cloud Services do Azure e máquinas virtuais](cloud-services/cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="debf3-274">For more information, see [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span></span>

### <a name="crash-dumps"></a><span data-ttu-id="debf3-275">Informações de falhas</span><span class="sxs-lookup"><span data-stu-id="debf3-275">Crash dumps</span></span>
<span data-ttu-id="debf3-276">Se pretender obter informações de toocapture sobre quando falhas de uma instância de função, selecione Olá **ativar transferência de informações de falhas** caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-276">If you want toocapture information about when a role instance crashes, select hello **Enable transfer of Crash Dumps** check box.</span></span> <span data-ttu-id="debf3-277">(Porque o ASP.NET processa a maioria das exceções, isto é geralmente úteis apenas para as funções de trabalho.) Pode aumentar ou diminuir a percentagem de Olá de armazenamento espaço dedicados capturas de falhas de toohello alterando Olá **Quota de diretório (%)** valor.</span><span class="sxs-lookup"><span data-stu-id="debf3-277">(Because ASP.NET handles most exceptions, this is generally useful only for worker roles.) You can increase or decrease hello percentage of storage space devoted toohello crash dumps by changing hello **Directory Quota (%)** value.</span></span> <span data-ttu-id="debf3-278">Pode alterar o contentor de armazenamento olá onde capturas de falhas de Olá são armazenadas e pode selecionar se pretende que toocapture um **completa** ou **Mini** informação.</span><span class="sxs-lookup"><span data-stu-id="debf3-278">You can change hello storage container where hello crash dumps are stored, and you can select whether you want toocapture a **Full** or **Mini** dump.</span></span>

<span data-ttu-id="debf3-279">os processos de Olá atualmente a ser controlados estão listados.</span><span class="sxs-lookup"><span data-stu-id="debf3-279">hello processes currently being tracked are listed.</span></span> <span data-ttu-id="debf3-280">Selecione as caixas de verificação de Olá para processos de Olá que pretende que o toocapture.</span><span class="sxs-lookup"><span data-stu-id="debf3-280">Select hello check boxes for hello processes that you want toocapture.</span></span> <span data-ttu-id="debf3-281">tooadd outro processo toohello lista introduzir o nome do processo de Olá e, em seguida, escolha Olá **processo adicionar** botão.</span><span class="sxs-lookup"><span data-stu-id="debf3-281">tooadd another process toohello list, enter hello process name and then choose hello **Add Process** button.</span></span>

  ![Informações de falhas](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766026.png)

  <span data-ttu-id="debf3-283">Consulte [assumir o controlo de registo e rastreio no Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) e [4 do Microsoft Azure Diagnostics parte: componentes de registo personalizado e o Azure Diagnostics 1.3 alterações](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="debf3-283">See [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Microsoft Azure Diagnostics Part 4: Custom Logging Components and Azure Diagnostics 1.3 Changes](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) for more information.</span></span>

## <a name="view-hello-diagnostics-data"></a><span data-ttu-id="debf3-284">Ver dados de diagnóstico de Olá</span><span class="sxs-lookup"><span data-stu-id="debf3-284">View hello diagnostics data</span></span>
<span data-ttu-id="debf3-285">Depois de já recolhidos dados de diagnóstico de Olá para um serviço em nuvem ou de uma máquina virtual, pode vê-la.</span><span class="sxs-lookup"><span data-stu-id="debf3-285">After you’ve collected hello diagnostics data for a cloud service or a virtual machine, you can view it.</span></span>

### <a name="tooview-cloud-service-diagnostics-data"></a><span data-ttu-id="debf3-286">dados de diagnóstico de serviço de nuvem tooview</span><span class="sxs-lookup"><span data-stu-id="debf3-286">tooview cloud service diagnostics data</span></span>
1. <span data-ttu-id="debf3-287">Implementar o serviço em nuvem como habitual e, em seguida, executá-la.</span><span class="sxs-lookup"><span data-stu-id="debf3-287">Deploy your cloud service as usual and then run it.</span></span>
2. <span data-ttu-id="debf3-288">Pode ver os dados de diagnóstico de Olá num relatório que gera o Visual Studio ou tabelas na sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="debf3-288">You can view hello diagnostics data in either a report that Visual Studio generates or tables in your storage account.</span></span> <span data-ttu-id="debf3-289">dados de Olá tooview num relatório, abra **Cloud Explorer** ou **Explorador de servidores**, abra o menu de atalho Olá do nó de Olá para a função de Olá que lhe interessa e, em seguida, escolha **ver dados de diagnóstico** .</span><span class="sxs-lookup"><span data-stu-id="debf3-289">tooview hello data in a report, open **Cloud Explorer** or **Server Explorer**, open hello shortcut menu of hello node for hello role that interests you, and then choose **View Diagnostic Data**.</span></span>
   
    ![Ver dados de diagnóstico](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748912.png)
   
    <span data-ttu-id="debf3-291">Um relatório que mostre os dados disponíveis Olá aparece.</span><span class="sxs-lookup"><span data-stu-id="debf3-291">A report that shows hello available data appears.</span></span>
   
    ![Relatório de diagnóstico do Microsoft Azure no Visual Studio](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796666.png)
   
    <span data-ttu-id="debf3-293">Se os dados mais recentes Olá não aparecem, poderá ter toowait para Olá transferência período tooelapse.</span><span class="sxs-lookup"><span data-stu-id="debf3-293">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="debf3-294">Escolha Olá **atualizar** associar dados de Olá tooimmediately atualização, ou escolha um intervalo no Olá **atualização automática** pendente caixa toohave Olá dados da lista atualizados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="debf3-294">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="debf3-295">dados de erro do tooexport Olá, escolha Olá **exportar tooCSV** botão toocreate um ficheiro de valores separados por vírgulas pode abrir numa folha de cálculo.</span><span class="sxs-lookup"><span data-stu-id="debf3-295">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>
   
    <span data-ttu-id="debf3-296">No **Cloud Explorer** ou **Explorador de servidores**, abra a conta de armazenamento de Olá que está associada à implementação de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-296">In **Cloud Explorer** or **Server Explorer**, open hello storage account that's associated with hello deployment.</span></span>
3. <span data-ttu-id="debf3-297">Abra tabelas de diagnóstico de Olá no Visualizador de tabela Olá e, em seguida, reveja os dados de Olá que recolheu.</span><span class="sxs-lookup"><span data-stu-id="debf3-297">Open hello diagnostics tables in hello table viewer, and then review hello data that you collected.</span></span> <span data-ttu-id="debf3-298">Para registos de IIS e registos personalizados, pode abrir um contentor do blob.</span><span class="sxs-lookup"><span data-stu-id="debf3-298">For IIS logs and custom logs, you can open a blob container.</span></span> <span data-ttu-id="debf3-299">Analisando Olá a tabela seguinte, pode localizar o contentor de tabela ou blob Olá que contém dados Olá que lhe interessa.</span><span class="sxs-lookup"><span data-stu-id="debf3-299">By reviewing hello following table, you can find hello table or blob container that contains hello data that interests you.</span></span> <span data-ttu-id="debf3-300">Além do ficheiro de registo de dados de toohello para que, entradas da tabela de Olá contenham EventTickCount, DeploymentId, função e toohelp RoleInstance identificar que máquina virtual e a função gerado dados Olá e quando.</span><span class="sxs-lookup"><span data-stu-id="debf3-300">In addition toohello data for that log file, hello table entries contain EventTickCount, DeploymentId, Role, and RoleInstance toohelp you identify what virtual machine and role generated hello data and when.</span></span> 
   
   | <span data-ttu-id="debf3-301">Dados de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="debf3-301">Diagnostic data</span></span> | <span data-ttu-id="debf3-302">Descrição</span><span class="sxs-lookup"><span data-stu-id="debf3-302">Description</span></span> | <span data-ttu-id="debf3-303">Localização</span><span class="sxs-lookup"><span data-stu-id="debf3-303">Location</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="debf3-304">Registos de aplicações</span><span class="sxs-lookup"><span data-stu-id="debf3-304">Application Logs</span></span> |<span data-ttu-id="debf3-305">Registos que gera o código ao chamar os métodos de Olá Trace classe.</span><span class="sxs-lookup"><span data-stu-id="debf3-305">Logs that your code generates by calling methods of hello System.Diagnostics.Trace class.</span></span> |<span data-ttu-id="debf3-306">WADLogsTable</span><span class="sxs-lookup"><span data-stu-id="debf3-306">WADLogsTable</span></span> |
   | <span data-ttu-id="debf3-307">Registos de Eventos</span><span class="sxs-lookup"><span data-stu-id="debf3-307">Event Logs</span></span> |<span data-ttu-id="debf3-308">Estes dados são de registos de eventos do Windows hello em máquinas de virtuais Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-308">This data is from hello Windows event logs on hello virtual machines.</span></span> <span data-ttu-id="debf3-309">Windows armazena informações nestes registos, mas as aplicações e serviços também utilizá-los tooreport erros ou informações de registo.</span><span class="sxs-lookup"><span data-stu-id="debf3-309">Windows stores information in these logs, but applications and services also use them tooreport errors or log information.</span></span> |<span data-ttu-id="debf3-310">WADWindowsEventLogsTable</span><span class="sxs-lookup"><span data-stu-id="debf3-310">WADWindowsEventLogsTable</span></span> |
   | <span data-ttu-id="debf3-311">Contadores de Desempenho</span><span class="sxs-lookup"><span data-stu-id="debf3-311">Performance Counters</span></span> |<span data-ttu-id="debf3-312">É possível recolher dados em qualquer contador de desempenho que está disponível na máquina virtual de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-312">You can collect data on any performance counter that’s available on hello virtual machine.</span></span> <span data-ttu-id="debf3-313">sistema de operativo Olá fornece os contadores de desempenho, que incluem estatísticas muitos tal como o tempo de processador e utilização de memória.</span><span class="sxs-lookup"><span data-stu-id="debf3-313">hello operating system provides performance counters, which include many statistics such as memory usage and processor time.</span></span> |<span data-ttu-id="debf3-314">WADPerformanceCountersTable</span><span class="sxs-lookup"><span data-stu-id="debf3-314">WADPerformanceCountersTable</span></span> |
   | <span data-ttu-id="debf3-315">Registos de infraestrutura</span><span class="sxs-lookup"><span data-stu-id="debf3-315">Infrastructure Logs</span></span> |<span data-ttu-id="debf3-316">Estes registos são gerados da infraestrutura de diagnóstico de Olá próprio.</span><span class="sxs-lookup"><span data-stu-id="debf3-316">These logs are generated from hello diagnostics infrastructure itself.</span></span> |<span data-ttu-id="debf3-317">WADDiagnosticInfrastructureLogsTable</span><span class="sxs-lookup"><span data-stu-id="debf3-317">WADDiagnosticInfrastructureLogsTable</span></span> |
   | <span data-ttu-id="debf3-318">Registos de IIS</span><span class="sxs-lookup"><span data-stu-id="debf3-318">IIS Logs</span></span> |<span data-ttu-id="debf3-319">Estes registos registam pedidos web.</span><span class="sxs-lookup"><span data-stu-id="debf3-319">These logs record web requests.</span></span> <span data-ttu-id="debf3-320">Se o seu serviço em nuvem obtém uma quantidade significativa de tráfego, estes registos podem ser bastante demorados, pelo que deve recolher e armazenar estes dados apenas quando precisar dele.</span><span class="sxs-lookup"><span data-stu-id="debf3-320">If your cloud service gets a significant amount of traffic, these logs can be quite lengthy, so you should collect and store this data only when you need it.</span></span> |<span data-ttu-id="debf3-321">Pode encontrar os registos de pedido falhou no contentor de blob Olá em wad iis failedreqlogs sob um caminho para essa instância, a função e a implementação.</span><span class="sxs-lookup"><span data-stu-id="debf3-321">You can find failed-request logs in hello blob container under wad-iis-failedreqlogs under a path for that deployment, role, and instance.</span></span> <span data-ttu-id="debf3-322">Pode encontrar registos completos em wad-iis-logfiles.</span><span class="sxs-lookup"><span data-stu-id="debf3-322">You can find complete logs under wad-iis-logfiles.</span></span> <span data-ttu-id="debf3-323">As entradas para cada ficheiro que são efetuadas na tabela de WADDirectories Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-323">Entries for each file are made in hello WADDirectories table.</span></span> |
   | <span data-ttu-id="debf3-324">Informações de falhas</span><span class="sxs-lookup"><span data-stu-id="debf3-324">Crash dumps</span></span> |<span data-ttu-id="debf3-325">Estas informações fornecem imagens binárias do processo do seu serviço em nuvem (normalmente uma função de trabalho).</span><span class="sxs-lookup"><span data-stu-id="debf3-325">This information provides binary images of your cloud service’s process (typically a worker role).</span></span> |<span data-ttu-id="debf3-326">contentor de BLOBs de capturas de crush WAD</span><span class="sxs-lookup"><span data-stu-id="debf3-326">wad-crush-dumps blob container</span></span> |
   | <span data-ttu-id="debf3-327">Ficheiros de registo personalizado</span><span class="sxs-lookup"><span data-stu-id="debf3-327">Custom log files</span></span> |<span data-ttu-id="debf3-328">Registos de dados que lhe predefinidos.</span><span class="sxs-lookup"><span data-stu-id="debf3-328">Logs of data that you predefined.</span></span> |<span data-ttu-id="debf3-329">Pode especificar na localização de Olá código personalizado de ficheiros de registo na sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="debf3-329">You can specify in code hello location of custom log files in your storage account.</span></span> <span data-ttu-id="debf3-330">Por exemplo, pode especificar um contentor do blob personalizado.</span><span class="sxs-lookup"><span data-stu-id="debf3-330">For example, you can specify a custom blob container.</span></span> |
4. <span data-ttu-id="debf3-331">Se são truncados dados de qualquer tipo, pode experimentar aumentar Olá da memória intermédia para esse tipo de dados ou encurtar o intervalo de Olá entre as transferências de dados a partir da conta de armazenamento tooyour do Olá máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="debf3-331">If data of any type is truncated, you can try increasing hello buffer for that data type or shortening hello interval between transfers of data from hello virtual machine tooyour storage account.</span></span>
5. <span data-ttu-id="debf3-332">(opcional) Remover dados do armazenamento de Olá conta ocasionalmente tooreduce os custos de armazenamento geral.</span><span class="sxs-lookup"><span data-stu-id="debf3-332">(optional) Purge data from hello storage account occasionally tooreduce overall storage costs.</span></span>
6. <span data-ttu-id="debf3-333">Quando efetuar uma implementação completa, ficheiros de diagnostics.cscfg Olá (.wadcfgx para o Azure SDK 2.5) é atualizado no Azure e o serviço em nuvem escolherá qualquer configuração de diagnósticos de tooyour de alterações.</span><span class="sxs-lookup"><span data-stu-id="debf3-333">When you do a full deployment, hello diagnostics.cscfg file (.wadcfgx for Azure SDK 2.5) is updated in Azure, and your cloud service picks up any changes tooyour diagnostics configuration.</span></span> <span data-ttu-id="debf3-334">Se, em vez disso, atualizar uma implementação existente, o ficheiro. cscfg Olá não está atualizado no Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-334">If you, instead, update an existing deployment, hello .cscfg file isn’t updated in Azure.</span></span> <span data-ttu-id="debf3-335">Ainda pode alterar as definições de diagnóstico, seguindo os passos de Olá na secção seguinte, Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-335">You can still change diagnostics settings, though, by following hello steps in hello next section.</span></span> <span data-ttu-id="debf3-336">Para obter mais informações sobre como efetuar uma implementação completa e atualizar uma implementação existente, consulte [publicar Assistente da aplicação Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="debf3-336">For more information about performing a full deployment and updating an existing deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="tooview-virtual-machine-diagnostics-data"></a><span data-ttu-id="debf3-337">dados de diagnóstico da máquina virtual de tooview</span><span class="sxs-lookup"><span data-stu-id="debf3-337">tooview virtual machine diagnostics data</span></span>
1. <span data-ttu-id="debf3-338">No menu de atalho Olá para a máquina virtual de Olá, escolha **ver dados de diagnóstico**.</span><span class="sxs-lookup"><span data-stu-id="debf3-338">On hello shortcut menu for hello virtual machine, choose **View Diagnostics Data**.</span></span>
   
    ![Ver dados de diagnóstico na máquina virtual do Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766027.png)
   
    <span data-ttu-id="debf3-340">Esta ação abre Olá **resumo de diagnóstico** janela.</span><span class="sxs-lookup"><span data-stu-id="debf3-340">This opens hello **Diagnostics summary** window.</span></span>
   
    ![Resumo de diagnóstico de máquina virtual do Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796667.png)  
   
    <span data-ttu-id="debf3-342">Se os dados mais recentes Olá não aparecem, poderá ter toowait para Olá transferência período tooelapse.</span><span class="sxs-lookup"><span data-stu-id="debf3-342">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="debf3-343">Escolha Olá **atualizar** associar dados de Olá tooimmediately atualização, ou escolha um intervalo no Olá **atualização automática** pendente caixa toohave Olá dados da lista atualizados automaticamente.</span><span class="sxs-lookup"><span data-stu-id="debf3-343">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="debf3-344">dados de erro do tooexport Olá, escolha Olá **exportar tooCSV** botão toocreate um ficheiro de valores separados por vírgulas pode abrir numa folha de cálculo.</span><span class="sxs-lookup"><span data-stu-id="debf3-344">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>

## <a name="configure-cloud-service-diagnostics-after-deployment"></a><span data-ttu-id="debf3-345">Configurar o diagnóstico de serviço de nuvem após a implementação</span><span class="sxs-lookup"><span data-stu-id="debf3-345">Configure cloud service diagnostics after deployment</span></span>
<span data-ttu-id="debf3-346">Se estiver a investigar um problema com um serviço em nuvem que já em execução, pode querer toocollect dados que não especificou antes de função Olá originalmente implementadas.</span><span class="sxs-lookup"><span data-stu-id="debf3-346">If you're investigating a problem with a cloud service that already running, you might want toocollect data that you didn't specify before you originally deployed hello role.</span></span> <span data-ttu-id="debf3-347">Neste caso, pode iniciar toocollect esses dados utilizando as definições de Olá no Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="debf3-347">In this case, you can start toocollect that data by using hello settings in Server Explorer.</span></span> <span data-ttu-id="debf3-348">Pode configurar diagnósticos para uma única instância ou todas as instâncias de Olá numa função, dependendo se abrir a caixa de diálogo de configuração de diagnósticos de Olá no menu de atalho Olá para a instância de Olá ou função Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-348">You can configure diagnostics for either a single instance or all hello instances in a role, depending on whether you open hello Diagnostics Configuration dialog box from hello shortcut menu for hello instance or hello role.</span></span> <span data-ttu-id="debf3-349">Se configurar o nó de função Olá, quaisquer alterações aplicam tooall instâncias.</span><span class="sxs-lookup"><span data-stu-id="debf3-349">If you configure hello role node, any changes apply tooall instances.</span></span> <span data-ttu-id="debf3-350">Se configurar o nó de instância de Olá, quaisquer alterações aplicam-se apenas a instância toothat.</span><span class="sxs-lookup"><span data-stu-id="debf3-350">If you configure hello instance node, any changes apply toothat instance only.</span></span>

### <a name="tooconfigure-diagnostics-for-a-running-cloud-service"></a><span data-ttu-id="debf3-351">diagnóstico de tooconfigure num serviço em nuvem em execução</span><span class="sxs-lookup"><span data-stu-id="debf3-351">tooconfigure diagnostics for a running cloud service</span></span>
1. <span data-ttu-id="debf3-352">No Explorador de servidores, expanda Olá **serviços em nuvem** nó e, em seguida, expanda a função de Olá nós toolocate ou a instância que pretende que o tooinvestigate ou ambos.</span><span class="sxs-lookup"><span data-stu-id="debf3-352">In Server Explorer, expand hello **Cloud Services** node, and then expand nodes toolocate hello role or instance that you want tooinvestigate or both.</span></span>
   
    ![Configuração de diagnósticos](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748913.png)
2. <span data-ttu-id="debf3-354">No menu de atalho Olá para um nó de instância ou um nó de função, escolha **as definições de diagnóstico de atualização**e, em seguida, escolha Olá definições de diagnóstico que pretende que o toocollect.</span><span class="sxs-lookup"><span data-stu-id="debf3-354">On hello shortcut menu for an instance node or a role node, choose **Update Diagnostics Settings**, and then choose hello diagnostic settings that you want toocollect.</span></span>
   
    <span data-ttu-id="debf3-355">Para obter informações sobre as definições de configuração de Olá, consulte **configurar origens de dados de diagnóstico** neste tópico.</span><span class="sxs-lookup"><span data-stu-id="debf3-355">For information about hello configuration settings, see **Configure diagnostics data sources** in this topic.</span></span> <span data-ttu-id="debf3-356">Para obter informações sobre como tooview Olá dados de diagnóstico, consulte **ver dados de diagnóstico de Olá** neste tópico.</span><span class="sxs-lookup"><span data-stu-id="debf3-356">For information about how tooview hello diagnostics data, see **View hello diagnostics data** in this topic.</span></span>
   
    <span data-ttu-id="debf3-357">Se mudar de recolha de dados no **Explorador de servidores**, estas alterações permanecem em vigor até totalmente de Reimplementar o seu serviço em nuvem.</span><span class="sxs-lookup"><span data-stu-id="debf3-357">If you change data collection in **Server Explorer**, these changes remain in effect until you fully redeploy your cloud service.</span></span> <span data-ttu-id="debf3-358">Se utilizar definições de publicação predefinida Olá, alterações de Olá não são substituídas, uma vez que a predefinição de Olá publicar definição é implementação existente do tooupdate Olá, em vez de Efetue uma reimplementação completa.</span><span class="sxs-lookup"><span data-stu-id="debf3-358">If you use hello default publish settings, hello changes are not overwritten, since hello default publish setting is tooupdate hello existing deployment, rather than do a full redeployment.</span></span> <span data-ttu-id="debf3-359">limpar as definições de Olá se toomake no momento da implementação, aceda toohello **definições avançadas** separador no Assistente de publicação Olá e desmarque Olá **atualização da implementação** caixa de verificação.</span><span class="sxs-lookup"><span data-stu-id="debf3-359">toomake sure hello settings clear at deployment time, go toohello **Advanced Settings** tab in hello Publish wizard and clear hello **Deployment update** checkbox.</span></span> <span data-ttu-id="debf3-360">Quando implementar novamente com essa caixa de verificação desmarcada, as definições de Olá reverter toothose no ficheiro de Olá .wadcfgx (ou .wadcfg) conforme definido através do editor de propriedades de Olá para a função de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-360">When you redeploy with that checkbox cleared, hello settings revert toothose in hello .wadcfgx (or .wadcfg) file as set through hello Properties editor for hello role.</span></span> <span data-ttu-id="debf3-361">Se atualizar a implementação, o Azure mantém as definições antigas do Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-361">If you update your deployment, Azure keeps hello old settings.</span></span>

## <a name="troubleshoot-azure-cloud-service-issues"></a><span data-ttu-id="debf3-362">Resolver problemas de serviço em nuvem do Azure</span><span class="sxs-lookup"><span data-stu-id="debf3-362">Troubleshoot Azure cloud service issues</span></span>
<span data-ttu-id="debf3-363">Se surgirem problemas com os projetos do serviço em nuvem, tal como uma função que obtém bloqueada no estado "ocupado", repetidamente recicla ou emitir um erro de servidor interno, existem ferramentas e técnicas que pode utilizar toodiagnose e corrigir estes problemas.</span><span class="sxs-lookup"><span data-stu-id="debf3-363">If you experience problems with your cloud service projects, such as a role that gets stuck in a "busy" status, repeatedly recycles, or throws an internal server error, there are tools and techniques you can use toodiagnose and fix these problems.</span></span> <span data-ttu-id="debf3-364">Para obter exemplos específicos de problemas e soluções comuns, bem como uma descrição geral dos conceitos de Olá e ferramentas utilizadas toodiagnose e resolva esses erros, consulte [dados de diagnóstico de computação do Azure PaaS](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="debf3-364">For specific examples of common problems and solutions, as well as an overview of hello concepts and tools used toodiagnose and fix such errors, see [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

## <a name="q--a"></a><span data-ttu-id="debf3-365">P&R</span><span class="sxs-lookup"><span data-stu-id="debf3-365">Q & A</span></span>
<span data-ttu-id="debf3-366">**O que é o tamanho da memória intermédia de Olá e, como grandes deverá ser?**</span><span class="sxs-lookup"><span data-stu-id="debf3-366">**What is hello buffer size, and how large should it be?**</span></span>

<span data-ttu-id="debf3-367">Em cada instância de máquina virtual, quotas limitam a quantidade de dados diagnóstico pode ser armazenado no sistema de ficheiros local Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-367">On each virtual machine instance, quotas limit how much diagnostic data can be stored on hello local file system.</span></span> <span data-ttu-id="debf3-368">Além disso, especificar um tamanho de memória intermédia para cada tipo de dados de diagnóstico que está disponíveis.</span><span class="sxs-lookup"><span data-stu-id="debf3-368">In addition, you specify a buffer size for each type of diagnostic data that's available.</span></span> <span data-ttu-id="debf3-369">Este tamanho de memória intermédia funciona como uma quota individuais para esse tipo de dados.</span><span class="sxs-lookup"><span data-stu-id="debf3-369">This buffer size acts like an individual quota for that type of data.</span></span> <span data-ttu-id="debf3-370">Verificando Olá parte inferior da caixa de diálogo Olá, pode determinar Olá quota geral e a quantidade de Olá de memória que permanece.</span><span class="sxs-lookup"><span data-stu-id="debf3-370">By checking hello bottom of hello dialog box, you can determine hello overall quota and hello amount of memory that remains.</span></span> <span data-ttu-id="debf3-371">Se especificar memórias intermédias maiores ou mais tipos de dados, terá de abordar Olá quota geral.</span><span class="sxs-lookup"><span data-stu-id="debf3-371">If you specify larger buffers or more types of data, you'll approach hello overall quota.</span></span> <span data-ttu-id="debf3-372">Pode alterar Olá geral quota ao modificar o ficheiro de configuração de diagnostics.wadcfg/.wadcfgx Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-372">You can change hello overall quota by modifying hello diagnostics.wadcfg/.wadcfgx configuration file.</span></span> <span data-ttu-id="debf3-373">Olá, diagnóstico de Olá os dados são armazenados no mesmo sistema de ficheiros como dados da sua aplicação, para que o se a sua aplicação utiliza uma grande quantidade de espaço em disco, não deve aumentar Olá geral quota de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="debf3-373">hello diagnostics data is stored on hello same filesystem as your application’s data, so if your application uses a lot of disk space, you shouldn’t increase hello overall diagnostics quota.</span></span>

<span data-ttu-id="debf3-374">**O que é o período de transferência Olá e quanto deve ser?**</span><span class="sxs-lookup"><span data-stu-id="debf3-374">**What is hello transfer period, and how long should it be?**</span></span>

<span data-ttu-id="debf3-375">período de transferência de Olá é Olá período de tempo que decorrer entre dados de captura.</span><span class="sxs-lookup"><span data-stu-id="debf3-375">hello transfer period is hello amount of time that elapses between data captures.</span></span> <span data-ttu-id="debf3-376">Após cada período de transferência, é mover os dados de sistema de ficheiros local Olá no tootables máquina virtual na sua conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="debf3-376">After each transfer period, data is moved from hello local filesystem on a virtual machine tootables in your storage account.</span></span> <span data-ttu-id="debf3-377">Se Olá dados que são recolhidos excede a quota de Olá antes de fim de Olá de um período de transferência, são rejeitados dados mais antigos.</span><span class="sxs-lookup"><span data-stu-id="debf3-377">If hello amount of data that's collected exceeds hello quota before hello end of a transfer period, older data is discarded.</span></span> <span data-ttu-id="debf3-378">Pode querer período de transferência de Olá toodecrease se estiver a perda de dados porque os dados excedem o tamanho de memória intermédia de Olá ou Olá quota geral.</span><span class="sxs-lookup"><span data-stu-id="debf3-378">You might want toodecrease hello transfer period if you're losing data because your data exceeds hello buffer size or hello overall quota.</span></span>

<span data-ttu-id="debf3-379">**O fuso horário são Olá carimbos de data / hora na?**</span><span class="sxs-lookup"><span data-stu-id="debf3-379">**What time zone are hello time stamps in?**</span></span>

<span data-ttu-id="debf3-380">carimbos de data / hora Olá é Olá fuso horário local do Centro de dados de Olá que aloja o serviço em nuvem.</span><span class="sxs-lookup"><span data-stu-id="debf3-380">hello time stamps are in hello local time zone of hello data center that hosts your cloud service.</span></span> <span data-ttu-id="debf3-381">Olá seguintes três colunas timestamp nas tabelas de registo hello são utilizadas.</span><span class="sxs-lookup"><span data-stu-id="debf3-381">hello following three timestamp columns in hello log tables are used.</span></span>

* <span data-ttu-id="debf3-382">**PreciseTimeStamp** é Olá ETW timestamp do evento de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-382">**PreciseTimeStamp** is hello ETW timestamp of hello event.</span></span> <span data-ttu-id="debf3-383">Ou seja, o evento de Olá de tempo de Olá é registado a partir do cliente de Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-383">That is, hello time hello event is logged from hello client.</span></span>
* <span data-ttu-id="debf3-384">**TIMESTAMP** PreciseTimeStamp é arredondado para baixo limites de frequência de carregamento de toohello.</span><span class="sxs-lookup"><span data-stu-id="debf3-384">**TIMESTAMP** is PreciseTimeStamp rounded down toohello upload frequency boundary.</span></span> <span data-ttu-id="debf3-385">Por isso, se a frequência de carregamento é 5 minutos e eventos de Olá 00:17:12 de tempo, TIMESTAMP será 00:15:00.</span><span class="sxs-lookup"><span data-stu-id="debf3-385">So, if your upload frequency is 5 minutes and hello event time 00:17:12, TIMESTAMP will be 00:15:00.</span></span>
* <span data-ttu-id="debf3-386">**Timestamp** é timestamp Olá no qual Olá entidade foi criada no Olá tabela do Azure.</span><span class="sxs-lookup"><span data-stu-id="debf3-386">**Timestamp** is hello timestamp at which hello entity was created in hello Azure table.</span></span>

<span data-ttu-id="debf3-387">**Como gerir os custos aquando da recolha de informações de diagnóstico?**</span><span class="sxs-lookup"><span data-stu-id="debf3-387">**How do I manage costs when collecting diagnostic information?**</span></span>

<span data-ttu-id="debf3-388">Olá predefinições (**nível de registo** definido demasiado**erro** e **transferência período** definido demasiado**1 minuto**) são toominimize concebida custo.</span><span class="sxs-lookup"><span data-stu-id="debf3-388">hello default settings (**Log level** set too**Error** and **Transfer period** set too**1 minute**) are designed toominimize cost.</span></span> <span data-ttu-id="debf3-389">Os custos de computação irão aumentar se recolher mais dados de diagnóstico ou diminua o período de transferência Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-389">Your compute costs will increase if you collect more diagnostic data or decrease hello transfer period.</span></span> <span data-ttu-id="debf3-390">Não recolha mais dados do que o que precisa e não se esqueça de recolha de dados de toodisable quando já não precisar dele.</span><span class="sxs-lookup"><span data-stu-id="debf3-390">Don’t collect more data than you need, and don’t forget toodisable data collection when you no longer need it.</span></span> <span data-ttu-id="debf3-391">Pode sempre ativá-lo novamente, mesmo em runtime, conforme mostrado na secção anterior Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-391">You can always enable it again, even at runtime, as shown in hello previous section.</span></span>

<span data-ttu-id="debf3-392">**Como recolher registos de pedido falhou a partir do IIS?**</span><span class="sxs-lookup"><span data-stu-id="debf3-392">**How do I collect failed-request logs from IIS?**</span></span>

<span data-ttu-id="debf3-393">Por predefinição, o IIS não recolher registos de pedido falhou.</span><span class="sxs-lookup"><span data-stu-id="debf3-393">By default, IIS doesn’t collect failed-request logs.</span></span> <span data-ttu-id="debf3-394">Pode configurar toocollect IIS Olá-las, se editar o ficheiro Web. config para a função da web.</span><span class="sxs-lookup"><span data-stu-id="debf3-394">You can configure IIS toocollect them if you edit hello web.config file for your web role.</span></span>

<span data-ttu-id="debf3-395">**Não consigo estou a obter informações de rastreio do RoleEntryPoint métodos como OnStart. O que é incorreto?**</span><span class="sxs-lookup"><span data-stu-id="debf3-395">**I’m not getting trace information from RoleEntryPoint methods like OnStart. What’s wrong?**</span></span>

<span data-ttu-id="debf3-396">métodos para Olá RoleEntryPoint são denominados no contexto de Olá da WAIISHost.exe, não IIS.</span><span class="sxs-lookup"><span data-stu-id="debf3-396">hello methods of RoleEntryPoint are called in hello context of WAIISHost.exe, not IIS.</span></span> <span data-ttu-id="debf3-397">Por conseguinte, Olá informações de configuração em Web. config que normalmente permite rastreio não se aplica.</span><span class="sxs-lookup"><span data-stu-id="debf3-397">Therefore, hello configuration information in web.config that normally enables tracing doesn’t apply.</span></span> <span data-ttu-id="debf3-398">tooresolve este problema, adicione um projeto de função do web. config ficheiro tooyour e nome Olá ficheiro toomatch Olá saída assemblagem que contém o código de RoleEntryPoint Olá.</span><span class="sxs-lookup"><span data-stu-id="debf3-398">tooresolve this issue, add a .config file tooyour web role project, and name hello file toomatch hello output assembly that contains hello RoleEntryPoint code.</span></span> <span data-ttu-id="debf3-399">No projeto de função da web do predefinido Olá, nome de Olá do ficheiro. config de Olá seria WAIISHost.exe.config. Em seguida, adicione Olá seguintes linhas toothis ficheiro:</span><span class="sxs-lookup"><span data-stu-id="debf3-399">In hello default web role project, hello name of hello .config file would be WAIISHost.exe.config. Then add hello following lines toothis file:</span></span>

```
<system.diagnostics>
  <trace>
      <listeners>
          <add name “AzureDiagnostics” type=”Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener”>
              <filter type=”” />
          </add>
      </listeners>
  </trace>
</system.diagnostics>
```

<span data-ttu-id="debf3-400">Agora, no Olá **propriedades** janela, conjunto Olá **copiar tooOutput diretório** propriedade demasiado**Copiar sempre**.</span><span class="sxs-lookup"><span data-stu-id="debf3-400">Now, in hello **Properties** window, set hello **Copy tooOutput Directory** property too**Copy always**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="debf3-401">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="debf3-401">Next steps</span></span>
<span data-ttu-id="debf3-402">toolearn mais informações sobre o diagnóstico de registo no Azure, consulte [ativar diagnósticos no Cloud Services do Azure e máquinas virtuais](cloud-services/cloud-services-dotnet-diagnostics.md) e [ativar o registo de diagnóstico para web apps no App Service do Azure](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="debf3-402">toolearn more about diagnostics logging in Azure, see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md) and [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span></span>

