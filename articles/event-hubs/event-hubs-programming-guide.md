---
title: Guia de aaaProgramming para Event Hubs do Azure | Microsoft Docs
description: "Escreva código para utilizar Olá SDK .NET do Azure de Event Hubs do Azure."
services: event-hubs
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 64cbfd3d-4a0e-4455-a90a-7f3d4f080323
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 43bebd126c2311af9e3daeb52324132b66cf0884
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-programming-guide"></a><span data-ttu-id="19b79-103">Guia de programação dos Event Hubs</span><span class="sxs-lookup"><span data-stu-id="19b79-103">Event Hubs programming guide</span></span>

<span data-ttu-id="19b79-104">Este artigo aborda alguns cenários comuns escrever código com o Event Hubs do Azure e Olá SDK .NET do Azure.</span><span class="sxs-lookup"><span data-stu-id="19b79-104">This article discusses some common scenarios in writing code using Azure Event Hubs and hello Azure .NET SDK.</span></span> <span data-ttu-id="19b79-105">Parte do princípio de que possui compreensão preliminar dos Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="19b79-105">It assumes a preliminary understanding of Event Hubs.</span></span> <span data-ttu-id="19b79-106">Para uma descrição geral conceptual dos Event Hubs, consulte Olá [descrição geral dos Event Hubs](event-hubs-what-is-event-hubs.md).</span><span class="sxs-lookup"><span data-stu-id="19b79-106">For a conceptual overview of Event Hubs, see hello [Event Hubs overview](event-hubs-what-is-event-hubs.md).</span></span>

## <a name="event-publishers"></a><span data-ttu-id="19b79-107">Publicadores de eventos</span><span class="sxs-lookup"><span data-stu-id="19b79-107">Event publishers</span></span>

<span data-ttu-id="19b79-108">Enviar o hub de eventos de tooan eventos utilizando o HTTP POST ou através de uma ligação AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="19b79-108">You send events tooan event hub either using HTTP POST or via an AMQP 1.0 connection.</span></span> <span data-ttu-id="19b79-109">Olá, escolha de qual toouse e quando depende do cenário específico Olá que está a ser resolvido.</span><span class="sxs-lookup"><span data-stu-id="19b79-109">hello choice of which toouse and when depends on hello specific scenario being addressed.</span></span> <span data-ttu-id="19b79-110">As ligações AMQP 1.0 são medidas como ligações mediadas no Service Bus e são mais adequadas nos cenários com requisitos de latência inferiores e volumes de mensagens altos frequentes, que fornecem um canal de mensagens persistente.</span><span class="sxs-lookup"><span data-stu-id="19b79-110">AMQP 1.0 connections are metered as brokered connections in Service Bus and are more appropriate in scenarios with frequent higher message volumes and lower latency requirements, as they provide a persistent messaging channel.</span></span>

<span data-ttu-id="19b79-111">Criar e gerir os Event Hubs utilizando Olá [NamespaceManager][] classe.</span><span class="sxs-lookup"><span data-stu-id="19b79-111">You create and manage Event Hubs using hello [NamespaceManager][] class.</span></span> <span data-ttu-id="19b79-112">Quando utilizar Olá .NET APIs geridas, Olá primário construções para publicar dados tooEvent Hubs são Olá [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) e [EventData][] classes.</span><span class="sxs-lookup"><span data-stu-id="19b79-112">When using hello .NET managed APIs, hello primary constructs for publishing data tooEvent Hubs are hello [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) and [EventData][] classes.</span></span> <span data-ttu-id="19b79-113">[EventHubClient][] fornece o canal de comunicação AMQP Olá durante o qual os eventos são enviados toohello hub de eventos.</span><span class="sxs-lookup"><span data-stu-id="19b79-113">[EventHubClient][] provides hello AMQP communication channel over which events are sent toohello event hub.</span></span> <span data-ttu-id="19b79-114">Olá [EventData][] classe representa um evento e é utilizado toopublish mensagens tooan event hub.</span><span class="sxs-lookup"><span data-stu-id="19b79-114">hello [EventData][] class represents an event, and is used toopublish messages tooan event hub.</span></span> <span data-ttu-id="19b79-115">Esta classe inclui Olá corpo, alguns metadados e as informações de cabeçalho sobre eventos de Olá.</span><span class="sxs-lookup"><span data-stu-id="19b79-115">This class includes hello body, some metadata, and header information about hello event.</span></span> <span data-ttu-id="19b79-116">Outras propriedades são adicionadas toohello [EventData][] objeto como estes passam por um hub de eventos.</span><span class="sxs-lookup"><span data-stu-id="19b79-116">Other properties are added toohello [EventData][] object as it passes through an event hub.</span></span>

## <a name="get-started"></a><span data-ttu-id="19b79-117">Introdução</span><span class="sxs-lookup"><span data-stu-id="19b79-117">Get started</span></span>

<span data-ttu-id="19b79-118">classes de .NET de Olá que suportam Event Hubs são fornecidas no Olá assemblagem Microsoft.ServiceBus.dll.</span><span class="sxs-lookup"><span data-stu-id="19b79-118">hello .NET classes that support Event Hubs are provided in hello Microsoft.ServiceBus.dll assembly.</span></span> <span data-ttu-id="19b79-119">Olá mais fácil Olá tooreference de forma API do Service Bus e tooconfigure a aplicação com todas as Olá dependências do Service Bus é Olá toodownload [pacote NuGet do Service Bus](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span><span class="sxs-lookup"><span data-stu-id="19b79-119">hello easiest way tooreference hello Service Bus API and tooconfigure your application with all of hello Service Bus dependencies is toodownload hello [Service Bus NuGet package](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span></span> <span data-ttu-id="19b79-120">Em alternativa, pode utilizar Olá [consola do Gestor de pacotes](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="19b79-120">Alternatively, you can use hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span></span> <span data-ttu-id="19b79-121">toodo por isso, emitir Olá seguinte comando na Olá [consola do Gestor de pacotes](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) janela:</span><span class="sxs-lookup"><span data-stu-id="19b79-121">toodo so, issue hello following command in hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) window:</span></span>

```
Install-Package WindowsAzure.ServiceBus
```

## <a name="create-an-event-hub"></a><span data-ttu-id="19b79-122">Criar um hub de eventos</span><span class="sxs-lookup"><span data-stu-id="19b79-122">Create an event hub</span></span>
<span data-ttu-id="19b79-123">Pode utilizar Olá [NamespaceManager][] classe toocreate Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="19b79-123">You can use hello [NamespaceManager][] class toocreate Event Hubs.</span></span> <span data-ttu-id="19b79-124">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="19b79-124">For example:</span></span>

```csharp
var manager = new Microsoft.ServiceBus.NamespaceManager("mynamespace.servicebus.windows.net");
var description = manager.CreateEventHub("MyEventHub");
```

<span data-ttu-id="19b79-125">Na maioria dos casos, é recomendado que utilize Olá [CreateEventHubIfNotExists][] tooavoid métodos geração de exceções se Olá serviço for reiniciado.</span><span class="sxs-lookup"><span data-stu-id="19b79-125">In most cases, it is recommended that you use hello [CreateEventHubIfNotExists][] methods tooavoid generating exceptions if hello service restarts.</span></span> <span data-ttu-id="19b79-126">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="19b79-126">For example:</span></span>

```csharp
var description = manager.CreateEventHubIfNotExists("MyEventHub");
```

<span data-ttu-id="19b79-127">Todas as operações de criação de Event Hubs, incluindo [CreateEventHubIfNotExists][], requerem **gerir** permissões Olá espaço de nomes em questão.</span><span class="sxs-lookup"><span data-stu-id="19b79-127">All Event Hubs creation operations, including [CreateEventHubIfNotExists][], require **Manage** permissions on hello namespace in question.</span></span> <span data-ttu-id="19b79-128">Se pretender que as permissões de Olá toolimit das suas aplicações de consumidor ou do publicador, pode evitar estas criar chamadas de operação no código de produção ao utilizar as credenciais com permissões limitadas.</span><span class="sxs-lookup"><span data-stu-id="19b79-128">If you want toolimit hello permissions of your publisher or consumer applications, you can avoid these create operation calls in production code when you use credentials with limited permissions.</span></span>

<span data-ttu-id="19b79-129">Olá [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) classe contém detalhes sobre um hub de eventos, incluindo as regras de autorização de Olá, intervalo de retenção de mensagem de Olá, IDs de partição, estado e caminho.</span><span class="sxs-lookup"><span data-stu-id="19b79-129">hello [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) class contains details about an event hub, including hello authorization rules, hello message retention interval, partition IDs, status, and path.</span></span> <span data-ttu-id="19b79-130">Pode utilizar estes metadados de Olá tooupdate classe para um hub de eventos.</span><span class="sxs-lookup"><span data-stu-id="19b79-130">You can use this class tooupdate hello metadata on an event hub.</span></span>

## <a name="create-an-event-hubs-client"></a><span data-ttu-id="19b79-131">Criar um cliente dos Event Hubs</span><span class="sxs-lookup"><span data-stu-id="19b79-131">Create an Event Hubs client</span></span>
<span data-ttu-id="19b79-132">Olá classe principal para interagir com os Event Hubs é [eventhubclient][EventHubClient].</span><span class="sxs-lookup"><span data-stu-id="19b79-132">hello primary class for interacting with Event Hubs is [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span></span> <span data-ttu-id="19b79-133">Esta classe fornece capacidades tanto para o emissor como para o recetor.</span><span class="sxs-lookup"><span data-stu-id="19b79-133">This class provides both sender and receiver capabilities.</span></span> <span data-ttu-id="19b79-134">Pode instanciar esta classe utilizando Olá [criar](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) método, conforme mostrado no seguinte exemplo de Olá.</span><span class="sxs-lookup"><span data-stu-id="19b79-134">You can instantiate this class using hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) method, as shown in hello following example.</span></span>

```csharp
var client = EventHubClient.Create(description.Path);
```

<span data-ttu-id="19b79-135">Este método utiliza as informações de ligação do Service Bus Olá no ficheiro App. config de Olá, no Olá `appSettings` secção.</span><span class="sxs-lookup"><span data-stu-id="19b79-135">This method uses hello Service Bus connection information in hello App.config file, in hello `appSettings` section.</span></span> <span data-ttu-id="19b79-136">Para obter um exemplo de Olá `appSettings` XML utilizado informações de ligação do toostore Olá Service Bus, consulte a documentação de Olá para Olá [eventhubclient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) método.</span><span class="sxs-lookup"><span data-stu-id="19b79-136">For an example of hello `appSettings` XML used toostore hello Service Bus connection information, see hello documentation for hello [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method.</span></span>

<span data-ttu-id="19b79-137">Outra opção é toocreate cliente Olá uma cadeia de ligação.</span><span class="sxs-lookup"><span data-stu-id="19b79-137">Another option is toocreate hello client from a connection string.</span></span> <span data-ttu-id="19b79-138">Esta opção funciona bem quando utilizar funções de trabalho do Azure, porque pode armazenar cadeia Olá nas propriedades de configuração de Olá para trabalho Olá.</span><span class="sxs-lookup"><span data-stu-id="19b79-138">This option works well when using Azure worker roles, because you can store hello string in hello configuration properties for hello worker.</span></span> <span data-ttu-id="19b79-139">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="19b79-139">For example:</span></span>

```csharp
EventHubClient.CreateFromConnectionString("your_connection_string");
```

<span data-ttu-id="19b79-140">cadeia de ligação de Olá vai estar no mesmo formato como é apresentado no ficheiro App. config Olá métodos anteriores Olá de Olá:</span><span class="sxs-lookup"><span data-stu-id="19b79-140">hello connection string will be in hello same format as it appears in hello App.config file for hello previous methods:</span></span>

```
Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[key]
```

<span data-ttu-id="19b79-141">Por fim, também é possível toocreate um [EventHubClient][] objeto a partir de um [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instância, conforme mostrado no seguinte exemplo de Olá.</span><span class="sxs-lookup"><span data-stu-id="19b79-141">Finally, it is also possible toocreate an [EventHubClient][] object from a [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instance, as shown in hello following example.</span></span>

```csharp
var factory = MessagingFactory.CreateFromConnectionString("your_connection_string");
var client = factory.CreateEventHubClient("MyEventHub");
```

<span data-ttu-id="19b79-142">É importante toonote adicional que [EventHubClient][] objetos criados a partir de uma instância de fábrica de mensagens irão reutilizar Olá mesma ligação TCP subjacente.</span><span class="sxs-lookup"><span data-stu-id="19b79-142">It is important toonote that additional [EventHubClient][] objects created from a messaging factory instance will reuse hello same underlying TCP connection.</span></span> <span data-ttu-id="19b79-143">Por conseguinte, estes objetos têm um limite de débito no lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="19b79-143">Therefore, these objects have a client-side limit on throughput.</span></span> <span data-ttu-id="19b79-144">Olá [criar](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) método reutiliza uma fábrica de mensagens única.</span><span class="sxs-lookup"><span data-stu-id="19b79-144">hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method reuses a single messaging factory.</span></span> <span data-ttu-id="19b79-145">Se precisar de débito muito elevado de um remetente único, pode criar várias fábricas de mensagens e um objeto [EventHubClient][] a partir de cada fábrica de mensagens.</span><span class="sxs-lookup"><span data-stu-id="19b79-145">If you need very high throughput from a single sender, then you can create multiple message factories and one [EventHubClient][] object from each messaging factory.</span></span>

## <a name="send-events-tooan-event-hub"></a><span data-ttu-id="19b79-146">Enviar o hub de eventos de tooan de eventos</span><span class="sxs-lookup"><span data-stu-id="19b79-146">Send events tooan event hub</span></span>
<span data-ttu-id="19b79-147">Enviar o hub de eventos de tooan eventos criando uma [EventData][] instância e enviar através de Olá [enviar](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) método.</span><span class="sxs-lookup"><span data-stu-id="19b79-147">You send events tooan event hub by creating an [EventData][] instance and sending it via hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) method.</span></span> <span data-ttu-id="19b79-148">Este método aceita um único [EventData][] parâmetro da instância e envia-modo síncrono hub de eventos de tooan.</span><span class="sxs-lookup"><span data-stu-id="19b79-148">This method takes a single [EventData][] instance parameter and synchronously sends it tooan event hub.</span></span>

## <a name="event-serialization"></a><span data-ttu-id="19b79-149">Serialização de eventos</span><span class="sxs-lookup"><span data-stu-id="19b79-149">Event serialization</span></span>
<span data-ttu-id="19b79-150">Olá [EventData][] classe tem [quatro construtores sobrecarregados](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) que assumem uma variedade de parâmetros, tais como um objeto e o serializador, uma matriz de bytes ou uma transmissão em fluxo.</span><span class="sxs-lookup"><span data-stu-id="19b79-150">hello [EventData][] class has [four overloaded constructors](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) that take a variety of parameters, such as an object and serializer, a byte array, or a stream.</span></span> <span data-ttu-id="19b79-151">Também é possível tooinstantiate Olá [EventData][] classe e definir o fluxo do corpo Olá posteriormente.</span><span class="sxs-lookup"><span data-stu-id="19b79-151">It is also possible tooinstantiate hello [EventData][] class and set hello body stream afterwards.</span></span> <span data-ttu-id="19b79-152">Quando utilizar o JSON com [EventData][], pode utilizar **Encoding.UTF8.GetBytes()** matriz de bytes de Olá tooretrieve para uma cadeia codificada em JSON.</span><span class="sxs-lookup"><span data-stu-id="19b79-152">When using JSON with [EventData][], you can use **Encoding.UTF8.GetBytes()** tooretrieve hello byte array for a JSON-encoded string.</span></span>

## <a name="partition-key"></a><span data-ttu-id="19b79-153">Chave de partição</span><span class="sxs-lookup"><span data-stu-id="19b79-153">Partition key</span></span>
<span data-ttu-id="19b79-154">Olá [EventData][] classe tem um [PartitionKey][] propriedade permite Olá remetente toospecify um valor que é protegido por hash tooproduce uma atribuição de partição.</span><span class="sxs-lookup"><span data-stu-id="19b79-154">hello [EventData][] class has a [PartitionKey][] property that enables hello sender toospecify a value that is hashed tooproduce a partition assignment.</span></span> <span data-ttu-id="19b79-155">Utilizar uma chave de partição garante que todos os Olá eventos com Olá a mesma chave são enviados toohello mesma partição do hub de eventos de Olá.</span><span class="sxs-lookup"><span data-stu-id="19b79-155">Using a partition key ensures that all hello events with hello same key are sent toohello same partition in hello event hub.</span></span> <span data-ttu-id="19b79-156">As chaves de partição comuns incluem os IDs de sessão do utilizador e os IDs do remetente exclusivos.</span><span class="sxs-lookup"><span data-stu-id="19b79-156">Common partition keys include user session IDs and unique sender IDs.</span></span> <span data-ttu-id="19b79-157">Olá [PartitionKey][] propriedade é opcional e pode ser fornecida quando utilizar Olá [Microsoft](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) ou [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) métodos.</span><span class="sxs-lookup"><span data-stu-id="19b79-157">hello [PartitionKey][] property is optional and can be provided when using hello [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) or [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) methods.</span></span> <span data-ttu-id="19b79-158">Se não fornecer um valor para [PartitionKey][], enviados eventos são distribuídas toopartitions através de um modelo round robin.</span><span class="sxs-lookup"><span data-stu-id="19b79-158">If you do not provide a value for [PartitionKey][], sent events are distributed toopartitions using a round-robin model.</span></span>

### <a name="availability-considerations"></a><span data-ttu-id="19b79-159">Considerações de disponibilidade</span><span class="sxs-lookup"><span data-stu-id="19b79-159">Availability considerations</span></span>

<span data-ttu-id="19b79-160">Utilizar uma chave de partição é opcional e, pondere cuidadosamente se pretende ou não toouse um.</span><span class="sxs-lookup"><span data-stu-id="19b79-160">Using a partition key is optional, and you should consider carefully whether or not toouse one.</span></span> <span data-ttu-id="19b79-161">Em muitos casos, a utilização de uma chave de partição é uma boa opção se a ordenação de eventos é importante.</span><span class="sxs-lookup"><span data-stu-id="19b79-161">In many cases, using a partition key is a good choice if event ordering is important.</span></span> <span data-ttu-id="19b79-162">Quando utiliza uma chave de partição, estas partições necessitam de disponibilidade num único nó e podem ocorrer falhas ao longo do tempo; Por exemplo, quando computação reinício de nós e patch.</span><span class="sxs-lookup"><span data-stu-id="19b79-162">When you use a partition key, these partitions require availability on a single node, and outages can occur over time; for example, when compute nodes reboot and patch.</span></span> <span data-ttu-id="19b79-163">Como tal, se definir um ID de partição e que partição fica indisponível por algum motivo, um tentativa de tooaccess Olá os dados dessa partição irão falhar.</span><span class="sxs-lookup"><span data-stu-id="19b79-163">As such, if you set a partition ID and that partition becomes unavailable for some reason, an attempt tooaccess hello data in that partition will fail.</span></span> <span data-ttu-id="19b79-164">Se elevada disponibilidade é mais importante, não especifique uma chave de partição; Nesse caso eventos serão enviados toopartitions utilizando o modelo round robin de Olá descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="19b79-164">If high availability is most important, do not specify a partition key; in that case events will be sent toopartitions using hello round-robin model described previously.</span></span> <span data-ttu-id="19b79-165">Neste cenário, estiver a efetuar uma opção explícita entre disponibilidade (ID de partição) e consistência (ID de partição tooa de eventos de afixação).</span><span class="sxs-lookup"><span data-stu-id="19b79-165">In this scenario, you are making an explicit choice between availability (no partition ID) and consistency (pinning events tooa partition ID).</span></span>

<span data-ttu-id="19b79-166">Outra consideração está a processar atrasos no processamento de eventos.</span><span class="sxs-lookup"><span data-stu-id="19b79-166">Another consideration is handling delays in processing events.</span></span> <span data-ttu-id="19b79-167">Em alguns casos, poderá ser melhor toodrop dados e repita que tootry e manter-se com o processamento, que pode provocar, potencialmente, atrasos de mais processamento a jusante.</span><span class="sxs-lookup"><span data-stu-id="19b79-167">In some cases it might be better toodrop data and retry than tootry and keep up with processing, which can potentially cause further downstream processing delays.</span></span> <span data-ttu-id="19b79-168">Por exemplo, com um ticker as cotações é melhor toowait para dados atualizados concluídos, mas num chat em direto ou cenário VOIP seria em vez disso tiver Olá dados rapidamente, mesmo que não está concluída.</span><span class="sxs-lookup"><span data-stu-id="19b79-168">For example, with a stock ticker it's better toowait for complete up-to-date data, but in a live chat or VOIP scenario you'd rather have hello data quickly, even if it isn't complete.</span></span>

<span data-ttu-id="19b79-169">Fornecido estas considerações de disponibilidade, nestes cenários, poderá escolher uma das seguintes estratégias de processamento de erros de Olá:</span><span class="sxs-lookup"><span data-stu-id="19b79-169">Given these availability considerations, in these scenarios you might choose one of hello following error handling strategies:</span></span>

- <span data-ttu-id="19b79-170">Parar (paragem ler a partir de Event Hubs até que sejam corrigidas coisas)</span><span class="sxs-lookup"><span data-stu-id="19b79-170">Stop (stop reading from Event Hubs until things are fixed)</span></span>
- <span data-ttu-id="19b79-171">Remover (mensagens não são importantes, largue-os)</span><span class="sxs-lookup"><span data-stu-id="19b79-171">Drop (messages aren’t important, drop them)</span></span>
- <span data-ttu-id="19b79-172">Repita (Olá de novamente mensagens como ver cabem)</span><span class="sxs-lookup"><span data-stu-id="19b79-172">Retry (retry hello messages as you see fit)</span></span>
- <span data-ttu-id="19b79-173">[Entregues](../service-bus-messaging/service-bus-dead-letter-queues.md) (utilize uma fila ou outro toodead de hub de eventos letra só Olá mensagens não conseguiu processar)</span><span class="sxs-lookup"><span data-stu-id="19b79-173">[Dead letter](../service-bus-messaging/service-bus-dead-letter-queues.md) (use a queue or another event hub toodead letter only hello messages you couldn’t process)</span></span>

<span data-ttu-id="19b79-174">Para obter mais informações e ver um debate sobre Olá trade-offs entre a disponibilidade e consistência, consulte [disponibilidade e a consistência no Event Hubs](event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="19b79-174">For more information and a discussion about hello trade-offs between availability and consistency, see [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md).</span></span> 

## <a name="batch-event-send-operations"></a><span data-ttu-id="19b79-175">Operações de envio de eventos em lote</span><span class="sxs-lookup"><span data-stu-id="19b79-175">Batch event send operations</span></span>
<span data-ttu-id="19b79-176">Enviar eventos em lotes pode aumentar substancialmente o débito.</span><span class="sxs-lookup"><span data-stu-id="19b79-176">Sending events in batches can dramatically increase throughput.</span></span> <span data-ttu-id="19b79-177">Olá [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) método um **IEnumerable** parâmetro do tipo [EventData][] e envia Olá lote inteiro como um hub de eventos de toohello operação atómica.</span><span class="sxs-lookup"><span data-stu-id="19b79-177">hello [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) method takes an **IEnumerable** parameter of type [EventData][] and sends hello entire batch as an atomic operation toohello event hub.</span></span>

```csharp
public void SendBatch(IEnumerable<EventData> eventDataList);
```

<span data-ttu-id="19b79-178">Tenha em atenção que um único lote não deve exceder o limite de 256 KB Olá de um evento.</span><span class="sxs-lookup"><span data-stu-id="19b79-178">Note that a single batch must not exceed hello 256 KB limit of an event.</span></span> <span data-ttu-id="19b79-179">Além disso, cada mensagem no lote de Olá utiliza Olá mesma identidade do publicador.</span><span class="sxs-lookup"><span data-stu-id="19b79-179">Additionally, each message in hello batch uses hello same publisher identity.</span></span> <span data-ttu-id="19b79-180">É responsabilidade Olá de Olá remetente tooensure que Olá batch não exceder o tamanho máximo do evento de Olá.</span><span class="sxs-lookup"><span data-stu-id="19b79-180">It is hello responsibility of hello sender tooensure that hello batch does not exceed hello maximum event size.</span></span> <span data-ttu-id="19b79-181">Se exceder esse tamanho, é gerado um erro **Enviar** do cliente.</span><span class="sxs-lookup"><span data-stu-id="19b79-181">If it does, a client **Send** error is generated.</span></span>

## <a name="send-asynchronously-and-send-at-scale"></a><span data-ttu-id="19b79-182">Enviar no modo assíncrono e enviar à escala</span><span class="sxs-lookup"><span data-stu-id="19b79-182">Send asynchronously and send at scale</span></span>
<span data-ttu-id="19b79-183">Também pode enviar hub de eventos de tooan de eventos no modo assíncrono.</span><span class="sxs-lookup"><span data-stu-id="19b79-183">You can also send events tooan event hub asynchronously.</span></span> <span data-ttu-id="19b79-184">Enviar no modo assíncrono pode aumentar a taxa de Olá em que um cliente é capaz de toosend eventos.</span><span class="sxs-lookup"><span data-stu-id="19b79-184">Sending asynchronously can increase hello rate at which a client is able toosend events.</span></span> <span data-ttu-id="19b79-185">Ambos os Olá [enviar](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) e [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) métodos estão disponíveis em versões assíncronas que devolvem um [tarefas](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) objeto.</span><span class="sxs-lookup"><span data-stu-id="19b79-185">Both hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) and [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methods are available in asynchronous versions that return a [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) object.</span></span> <span data-ttu-id="19b79-186">Enquanto esta técnica pode aumentar o débito, este pode também fazer com que Olá eventos do cliente toocontinue toosend mesmo quando este está a ser limitado por Olá serviço dos Event Hubs e pode resultar em falhas de com Olá cliente ou mensagens perdidas se não for implementada corretamente.</span><span class="sxs-lookup"><span data-stu-id="19b79-186">While this technique can increase throughput, it can also cause hello client toocontinue toosend events even while it is being throttled by hello Event Hubs service and can result in hello client experiencing failures or lost messages if not properly implemented.</span></span> <span data-ttu-id="19b79-187">Além disso, pode utilizar Olá [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) propriedade Olá cliente toocontrol cliente as opções de repetição.</span><span class="sxs-lookup"><span data-stu-id="19b79-187">In addition, you can use hello [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) property on hello client toocontrol client retry options.</span></span>

## <a name="create-a-partition-sender"></a><span data-ttu-id="19b79-188">Criar um remetente de partição</span><span class="sxs-lookup"><span data-stu-id="19b79-188">Create a partition sender</span></span>
<span data-ttu-id="19b79-189">Embora seja mais comuns toosend eventos tooan hub de eventos sem uma chave de partição, em alguns casos poderá toosend eventos diretamente tooa fornecido partição.</span><span class="sxs-lookup"><span data-stu-id="19b79-189">Although it is most common toosend events tooan event hub without a partition key, in some cases you might want toosend events directly tooa given partition.</span></span> <span data-ttu-id="19b79-190">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="19b79-190">For example:</span></span>

```csharp
var partitionedSender = client.CreatePartitionedSender(description.PartitionIds[0]);
```

<span data-ttu-id="19b79-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) devolve um [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) que pode utilizar partição do hub de eventos específico toopublish eventos tooa de objeto.</span><span class="sxs-lookup"><span data-stu-id="19b79-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) returns an [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) object that you can use toopublish events tooa specific event hub partition.</span></span>

## <a name="event-consumers"></a><span data-ttu-id="19b79-192">Consumidores de eventos</span><span class="sxs-lookup"><span data-stu-id="19b79-192">Event consumers</span></span>
<span data-ttu-id="19b79-193">Os Event Hubs possuem dois modelos principais para o consumo de eventos: recetores diretos e abstrações de nível superior, tais como [EventProcessorHost][].</span><span class="sxs-lookup"><span data-stu-id="19b79-193">Event Hubs has two primary models for event consumption: direct receivers and higher-level abstractions, such as [EventProcessorHost][].</span></span> <span data-ttu-id="19b79-194">Os recetores diretos são responsáveis pela sua própria coordenação de acesso toopartitions dentro de um grupo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="19b79-194">Direct receivers are responsible for their own coordination of access toopartitions within a consumer group.</span></span>

### <a name="direct-consumer"></a><span data-ttu-id="19b79-195">Consumidor direto</span><span class="sxs-lookup"><span data-stu-id="19b79-195">Direct consumer</span></span>
<span data-ttu-id="19b79-196">Olá tooread de forma mais direta de uma partição dentro de um grupo de consumidores é toouse Olá [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) classe.</span><span class="sxs-lookup"><span data-stu-id="19b79-196">hello most direct way tooread from a partition within a consumer group is toouse hello [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) class.</span></span> <span data-ttu-id="19b79-197">toocreate uma instância desta classe, tem de utilizar uma instância de Olá [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) classe.</span><span class="sxs-lookup"><span data-stu-id="19b79-197">toocreate an instance of this class, you must use an instance of hello [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) class.</span></span> <span data-ttu-id="19b79-198">No seguinte exemplo de Olá, ID de partição Olá tem de ser especificado ao criar o recetor Olá para o grupo de consumidores Olá.</span><span class="sxs-lookup"><span data-stu-id="19b79-198">In hello following example, hello partition ID must be specified when creating hello receiver for hello consumer group.</span></span>

```csharp
EventHubConsumerGroup group = client.GetDefaultConsumerGroup();
var receiver = group.CreateReceiver(client.GetRuntimeInformation().PartitionIds[0]);
```

<span data-ttu-id="19b79-199">Olá [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) método tem várias sobrecargas que facilitam o controlo sobre o leitor de Olá a ser criada.</span><span class="sxs-lookup"><span data-stu-id="19b79-199">hello [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) method has several overloads that facilitate control over hello reader being created.</span></span> <span data-ttu-id="19b79-200">Estes métodos incluem a especificação de um desvio como uma cadeia ou timestamp e Olá toospecify capacidade se tooinclude este desvio especificado na Olá devolvido transmitir ou iniciar depois.</span><span class="sxs-lookup"><span data-stu-id="19b79-200">These methods include specifying an offset as either a string or timestamp, and hello ability toospecify whether tooinclude this specified offset in hello returned stream, or start after it.</span></span> <span data-ttu-id="19b79-201">Depois de criar o recetor Olá, pode começar a receber eventos no Olá devolvida objeto.</span><span class="sxs-lookup"><span data-stu-id="19b79-201">After you create hello receiver, you can start receiving events on hello returned object.</span></span> <span data-ttu-id="19b79-202">Olá [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) o método tem quatro sobrecargas que Olá controlo receber parâmetros de operação, por exemplo, tamanho de lote e aguarde algum tempo.</span><span class="sxs-lookup"><span data-stu-id="19b79-202">hello [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) method has four overloads that control hello receive operation parameters, such as batch size and wait time.</span></span> <span data-ttu-id="19b79-203">Pode utilizar versões assíncronas Olá estes métodos tooincrease Olá débito um consumidor.</span><span class="sxs-lookup"><span data-stu-id="19b79-203">You can use hello asynchronous versions of these methods tooincrease hello throughput of a consumer.</span></span> <span data-ttu-id="19b79-204">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="19b79-204">For example:</span></span>

```csharp
bool receive = true;
string myOffset;
while(receive)
{
    var message = receiver.Receive();
    myOffset = message.Offset;
    string body = Encoding.UTF8.GetString(message.GetBytes());
    Console.WriteLine(String.Format("Received message offset: {0} \nbody: {1}", myOffset, body));
}
```

<span data-ttu-id="19b79-205">Com relativamente tooa de partição específica, mensagens hello são recebidas na ordem Olá em que foram enviadas toohello hub de eventos.</span><span class="sxs-lookup"><span data-stu-id="19b79-205">With respect tooa specific partition, hello messages are received in hello order in which they were sent toohello event hub.</span></span> <span data-ttu-id="19b79-206">o desvio de Olá é uma cadeia token utilizado tooidentify uma mensagem numa partição.</span><span class="sxs-lookup"><span data-stu-id="19b79-206">hello offset is a string token used tooidentify a message in a partition.</span></span>

<span data-ttu-id="19b79-207">Tenha em atenção que uma única partição dentro de um grupo de consumidores não pode ter mais de 5 leitores simultâneos ligados em qualquer altura.</span><span class="sxs-lookup"><span data-stu-id="19b79-207">Note that a single partition within a consumer group cannot have more than 5 concurrent readers connected at any time.</span></span> <span data-ttu-id="19b79-208">Como os leitores se ligam ou desligam, as respetivas sessões poderão permanecer ativas durante vários minutos antes do serviço de Olá reconhece que estes se desligaram.</span><span class="sxs-lookup"><span data-stu-id="19b79-208">As readers connect or become disconnected, their sessions might stay active for several minutes before hello service recognizes that they have disconnected.</span></span> <span data-ttu-id="19b79-209">Durante este período, a partição tooa restabelecer a ligação poderá falhar.</span><span class="sxs-lookup"><span data-stu-id="19b79-209">During this time, reconnecting tooa partition may fail.</span></span> <span data-ttu-id="19b79-210">Para obter um exemplo completo de escrever um recetor direto para os Event Hubs, consulte Olá [Recetores diretos de Hubs de eventos](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) exemplo.</span><span class="sxs-lookup"><span data-stu-id="19b79-210">For a complete example of writing a direct receiver for Event Hubs, see hello [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) sample.</span></span>

### <a name="event-processor-host"></a><span data-ttu-id="19b79-211">Anfitrião do processador de eventos</span><span class="sxs-lookup"><span data-stu-id="19b79-211">Event processor host</span></span>
<span data-ttu-id="19b79-212">Olá [EventProcessorHost][] classe processa dados dos Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="19b79-212">hello [EventProcessorHost][] class processes data from Event Hubs.</span></span> <span data-ttu-id="19b79-213">Deve utilizar esta implementação quando criar os leitores dos eventos na plataforma de .NET Olá.</span><span class="sxs-lookup"><span data-stu-id="19b79-213">You should use this implementation when building event readers on hello .NET platform.</span></span> <span data-ttu-id="19b79-214">O [EventProcessorHost][] fornece um ambiente de tempo de execução seguro para thread com vários processos para as implementações do processador de eventos que também fornece pontos de verificação e gestão da concessão da partição.</span><span class="sxs-lookup"><span data-stu-id="19b79-214">[EventProcessorHost][] provides a thread-safe, multi-process, safe runtime environment for event processor implementations that also provides checkpointing and partition lease management.</span></span>

<span data-ttu-id="19b79-215">Olá toouse [EventProcessorHost][] classe, pode implementar [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span><span class="sxs-lookup"><span data-stu-id="19b79-215">toouse hello [EventProcessorHost][] class, you can implement [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span></span> <span data-ttu-id="19b79-216">Esta interface contém três métodos:</span><span class="sxs-lookup"><span data-stu-id="19b79-216">This interface contains three methods:</span></span>

* [<span data-ttu-id="19b79-217">OpenAsync</span><span class="sxs-lookup"><span data-stu-id="19b79-217">OpenAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_OpenAsync_Microsoft_ServiceBus_Messaging_PartitionContext_)
* [<span data-ttu-id="19b79-218">CloseAsync</span><span class="sxs-lookup"><span data-stu-id="19b79-218">CloseAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_CloseAsync_Microsoft_ServiceBus_Messaging_PartitionContext_Microsoft_ServiceBus_Messaging_CloseReason_)
* [<span data-ttu-id="19b79-219">ProcessEventsAsync</span><span class="sxs-lookup"><span data-stu-id="19b79-219">ProcessEventsAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_ProcessEventsAsync_Microsoft_ServiceBus_Messaging_PartitionContext_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__)

<span data-ttu-id="19b79-220">processamento de eventos de toostart instanciar [EventProcessorHost][], fornecendo os parâmetros adequados Olá para o seu hub de eventos.</span><span class="sxs-lookup"><span data-stu-id="19b79-220">toostart event processing, instantiate [EventProcessorHost][], providing hello appropriate parameters for your event hub.</span></span> <span data-ttu-id="19b79-221">Em seguida, chame [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister sua [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementação com Olá tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="19b79-221">Then, call [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister your [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementation with hello runtime.</span></span> <span data-ttu-id="19b79-222">Neste momento, o anfitrião de Olá tentará tooacquire uma concessão em cada partição num hub de eventos de Olá utilizando um algoritmo "abrangente".</span><span class="sxs-lookup"><span data-stu-id="19b79-222">At this point, hello host will attempt tooacquire a lease on every partition in hello event hub using a "greedy" algorithm.</span></span> <span data-ttu-id="19b79-223">Estas concessões duram um determinado período de tempo e, em seguida, têm de ser renovadas.</span><span class="sxs-lookup"><span data-stu-id="19b79-223">These leases will last for a given timeframe and must then be renewed.</span></span> <span data-ttu-id="19b79-224">Como novos nós, instâncias de trabalho neste caso, fique online, colocam reservas de concessões e ao longo do tempo carga Olá desvia entre nós como cada uma tenta tooacquire mais concessões.</span><span class="sxs-lookup"><span data-stu-id="19b79-224">As new nodes, worker instances in this case, come online, they place lease reservations and over time hello load shifts between nodes as each attempts tooacquire more leases.</span></span>

![Anfitrião do Processador de Eventos](./media/event-hubs-programming-guide/IC759863.png)

<span data-ttu-id="19b79-226">Ao longo do tempo, é estabelecido um equilíbrio.</span><span class="sxs-lookup"><span data-stu-id="19b79-226">Over time, an equilibrium is established.</span></span> <span data-ttu-id="19b79-227">Esta capacidade dinâmica permite que o dimensionamento automático baseado em CPU tooconsumers de toobe aplicada para ambos aumentar verticalmente e horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="19b79-227">This dynamic capability enables CPU-based autoscaling toobe applied tooconsumers for both scale-up and scale-down.</span></span> <span data-ttu-id="19b79-228">Porque os Event Hubs não têm um conceito direto de contagens de mensagens, a utilização média da CPU é, frequentemente, Olá melhor mecanismo toomeasure back-end ou o consumidor escala.</span><span class="sxs-lookup"><span data-stu-id="19b79-228">Because Event Hubs do not have a direct concept of message counts, average CPU utilization is often hello best mechanism toomeasure back end or consumer scale.</span></span> <span data-ttu-id="19b79-229">Se os publicadores começarem toopublish que mais eventos que os consumidores podem processar, Olá aumento de CPU nos consumidores pode ser utilizado toocause um dimensionamento automático na contagem de instâncias de trabalho.</span><span class="sxs-lookup"><span data-stu-id="19b79-229">If publishers begin toopublish more events than consumers can process, hello CPU increase on consumers can be used toocause an auto-scale on worker instance count.</span></span>

<span data-ttu-id="19b79-230">Olá [EventProcessorHost][] classe também implementa um mecanismo de pontos de verificação de baseado no armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="19b79-230">hello [EventProcessorHost][] class also implements an Azure storage-based checkpointing mechanism.</span></span> <span data-ttu-id="19b79-231">Este Olá de arquivos de mecanismo desvio numa base por partição, para que cada consumidor possa determinar que Olá último ponto de verificação do consumidor anterior Olá foi.</span><span class="sxs-lookup"><span data-stu-id="19b79-231">This mechanism stores hello offset on a per partition basis, so that each consumer can determine what hello last checkpoint from hello previous consumer was.</span></span> <span data-ttu-id="19b79-232">Tal como a transição das partições entre nós por concessões, este é o mecanismo de sincronização de Olá que facilita a deslocação da carga.</span><span class="sxs-lookup"><span data-stu-id="19b79-232">As partitions transition between nodes via leases, this is hello synchronization mechanism that facilitates load shifting.</span></span>

## <a name="publisher-revocation"></a><span data-ttu-id="19b79-233">Revogação do publicador</span><span class="sxs-lookup"><span data-stu-id="19b79-233">Publisher revocation</span></span>
<span data-ttu-id="19b79-234">Além disso toohello avançadas funcionalidades de tempo de execução do [EventProcessorHost][], os Event Hubs permitem a revogação do publicador na ordem tooblock específico os publicadores de enviar o hub de eventos do evento tooan.</span><span class="sxs-lookup"><span data-stu-id="19b79-234">In addition toohello advanced run-time features of [EventProcessorHost][], Event Hubs enables publisher revocation in order tooblock specific publishers from sending event tooan event hub.</span></span> <span data-ttu-id="19b79-235">Estas funcionalidades são particularmente úteis se um token do publicador tiver ficado comprometido ou se uma atualização de software está a causá-los toobehave inadequada.</span><span class="sxs-lookup"><span data-stu-id="19b79-235">These features are particularly useful if a publisher token has been compromised, or a software update is causing them toobehave inappropriately.</span></span> <span data-ttu-id="19b79-236">Nestas situações, identidade do publicador Olá, o que faz parte do respetivo token SAS, pode ser impedida de publicar eventos.</span><span class="sxs-lookup"><span data-stu-id="19b79-236">In these situations, hello publisher's identity, which is part of their SAS token, can be blocked from publishing events.</span></span>

<span data-ttu-id="19b79-237">Para obter mais informações sobre a revogação do publicador e como toosend tooEvent Hubs como publicador, consulte o artigo Olá [Event Hubs grande escala publicação segura](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) exemplo.</span><span class="sxs-lookup"><span data-stu-id="19b79-237">For more information about publisher revocation and how toosend tooEvent Hubs as a publisher, see hello [Event Hubs Large Scale Secure Publishing](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) sample.</span></span>

## <a name="next-steps"></a><span data-ttu-id="19b79-238">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="19b79-238">Next steps</span></span>
<span data-ttu-id="19b79-239">toolearn mais informações sobre cenários dos Event Hubs, visite estas ligações:</span><span class="sxs-lookup"><span data-stu-id="19b79-239">toolearn more about Event Hubs scenarios, visit these links:</span></span>

* [<span data-ttu-id="19b79-240">Descrição geral da API dos Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="19b79-240">Event Hubs API overview</span></span>](event-hubs-api-overview.md)
* [<span data-ttu-id="19b79-241">Novidades dos Event Hubs</span><span class="sxs-lookup"><span data-stu-id="19b79-241">What is Event Hubs</span></span>](event-hubs-what-is-event-hubs.md)
* [<span data-ttu-id="19b79-242">Disponibilidade e consistência em Hubs de Eventos</span><span class="sxs-lookup"><span data-stu-id="19b79-242">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="19b79-243">Event processor host API reference (Referência da API do anfitrião do processador de eventos)</span><span class="sxs-lookup"><span data-stu-id="19b79-243">Event processor host API reference</span></span>](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost)

[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager
[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient
[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata
[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists
[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey
[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost
