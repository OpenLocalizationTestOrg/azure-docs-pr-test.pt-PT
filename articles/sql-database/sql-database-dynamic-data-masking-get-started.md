---
title: "máscara de dados dinâmicos do aaaAzure base de dados SQL | Documentos da Microsoft"
description: "Máscara de dados dinâmicos da base de dados SQL limita a exposição de dados confidenciais através da máscara os utilizadores de privilégio toonon"
services: sql-database
documentationcenter: 
author: ronitr
manager: jhubbard
editor: 
ms.assetid: 4b36d78e-7749-4f26-9774-eed1120a9182
ms.service: sql-database
ms.custom: security
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.date: 03/09/2017
ms.author: ronitr; ronmat
ms.openlocfilehash: 68b55128dc096f7e3dd0e5ed1427b39da5d64736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="sql-database-dynamic-data-masking"></a><span data-ttu-id="f9476-103">Máscara de dados dinâmicos da base de dados SQL</span><span class="sxs-lookup"><span data-stu-id="f9476-103">SQL Database dynamic data masking</span></span>

<span data-ttu-id="f9476-104">Máscara de dados dinâmicos da base de dados SQL limita a exposição de dados confidenciais através da máscara os utilizadores de privilégio toonon.</span><span class="sxs-lookup"><span data-stu-id="f9476-104">SQL Database dynamic data masking limits sensitive data exposure by masking it toonon-privileged users.</span></span> 

<span data-ttu-id="f9476-105">Máscara de dados dinâmicos ajuda a impedir que os dados de toosensitive de acesso não autorizado ao ativar os clientes toodesignate quantidade de dados confidenciais de Olá tooreveal com um impacto mínimo na camada de aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="f9476-105">Dynamic data masking helps prevent unauthorized access toosensitive data by enabling customers toodesignate how much of hello sensitive data tooreveal with minimal impact on hello application layer.</span></span> <span data-ttu-id="f9476-106">É uma funcionalidade de segurança baseadas em políticas oculta dados confidenciais do Olá no conjunto de resultados de Olá de uma consulta através de campos de base de dados designada, enquanto os dados de Olá na base de dados de Olá não são alterados.</span><span class="sxs-lookup"><span data-stu-id="f9476-106">It’s a policy-based security feature that hides hello sensitive data in hello result set of a query over designated database fields, while hello data in hello database is not changed.</span></span>

<span data-ttu-id="f9476-107">Por exemplo, um representante de serviço no Centro de atendimento telefónico pode identificar os chamadores por vários dígitos do seu número de cartão de crédito, mas esses dados itens não devem estar totalmente expostos toohello representante de serviço.</span><span class="sxs-lookup"><span data-stu-id="f9476-107">For example, a service representative at a call center may identify callers by several digits of their credit card number, but those data items should not be fully exposed toohello service representative.</span></span> <span data-ttu-id="f9476-108">Pode ser definida uma regra de máscara que, mas Olá de máscaras de todos os últimos quatro dígitos de qualquer número de cartão de crédito no conjunto de resultados de Olá qualquer consulta.</span><span class="sxs-lookup"><span data-stu-id="f9476-108">A masking rule can be defined that masks all but hello last four digits of any credit card number in hello result set of any query.</span></span> <span data-ttu-id="f9476-109">Outro exemplo, uma máscara de dados adequada pode ser definidos tooprotect dados de informação identificativa (PII), para que um programador pode consultar os ambientes de produção para fins de resolução de problemas sem violar as normas de conformidade.</span><span class="sxs-lookup"><span data-stu-id="f9476-109">As another example, an appropriate data mask can be defined tooprotect personally identifiable information (PII) data, so that a developer can query production environments for troubleshooting purposes without violating compliance regulations.</span></span>

## <a name="sql-database-dynamic-data-masking-basics"></a><span data-ttu-id="f9476-110">Noções básicas de máscara de dados dinâmica base de dados SQL</span><span class="sxs-lookup"><span data-stu-id="f9476-110">SQL Database dynamic data masking basics</span></span>
<span data-ttu-id="f9476-111">Configurar um política no Olá de máscara de dados dinâmicos portal do Azure ao selecionar a operação no painel de configuração de base de dados SQL ou painel de definições de máscara de dados dinâmico Olá.</span><span class="sxs-lookup"><span data-stu-id="f9476-111">You set up a dynamic data masking policy in hello Azure portal by selecting hello dynamic data masking operation in your SQL Database configuration blade or settings blade.</span></span>

### <a name="dynamic-data-masking-permissions"></a><span data-ttu-id="f9476-112">Permissões de máscara de dados dinâmicos</span><span class="sxs-lookup"><span data-stu-id="f9476-112">Dynamic data masking permissions</span></span>
<span data-ttu-id="f9476-113">Máscara de dados dinâmicos pode ser configurada por base de dados do Azure Olá, admin, administrador do servidor ou funções de responsável pela segurança.</span><span class="sxs-lookup"><span data-stu-id="f9476-113">Dynamic data masking can be configured by hello Azure Database admin, server admin, or security officer roles.</span></span>

### <a name="dynamic-data-masking-policy"></a><span data-ttu-id="f9476-114">Política de máscara de dados dinâmicos</span><span class="sxs-lookup"><span data-stu-id="f9476-114">Dynamic data masking policy</span></span>
* <span data-ttu-id="f9476-115">**Utilizadores SQL excluídos da máscara** - um conjunto de utilizadores do SQL Server ou as identidades do AAD que obtêm dados sem máscara no Olá SQL resultados de consulta.</span><span class="sxs-lookup"><span data-stu-id="f9476-115">**SQL users excluded from masking** - A set of SQL users or AAD identities that get unmasked data in hello SQL query results.</span></span> <span data-ttu-id="f9476-116">Os utilizadores com privilégios de administrador são sempre excluídos da máscara e ver Olá dados original sem qualquer máscara.</span><span class="sxs-lookup"><span data-stu-id="f9476-116">Users with administrator privileges are always excluded from masking, and see hello original data without any mask.</span></span>
* <span data-ttu-id="f9476-117">**Regras de máscara** -um conjunto de regras que definem Olá designado toobe campos mascarado e Olá máscara de função que é utilizada.</span><span class="sxs-lookup"><span data-stu-id="f9476-117">**Masking rules** - A set of rules that define hello designated fields toobe masked and hello masking function that is used.</span></span> <span data-ttu-id="f9476-118">Olá designado campos pode ser definido utilizando um nome de esquema de base de dados, o nome da tabela e o nome da coluna.</span><span class="sxs-lookup"><span data-stu-id="f9476-118">hello designated fields can be defined using a database schema name, table name, and column name.</span></span>
* <span data-ttu-id="f9476-119">**As funções de máscara** -um conjunto de métodos que controlam a exposição de Olá dos dados para diferentes cenários.</span><span class="sxs-lookup"><span data-stu-id="f9476-119">**Masking functions** - A set of methods that control hello exposure of data for different scenarios.</span></span>

| <span data-ttu-id="f9476-120">Função de máscara</span><span class="sxs-lookup"><span data-stu-id="f9476-120">Masking Function</span></span> | <span data-ttu-id="f9476-121">Lógica de máscara</span><span class="sxs-lookup"><span data-stu-id="f9476-121">Masking Logic</span></span> |
| --- | --- |
| <span data-ttu-id="f9476-122">**Predefinição**</span><span class="sxs-lookup"><span data-stu-id="f9476-122">**Default**</span></span> |<span data-ttu-id="f9476-123">**Completa máscara de dados de toohello de acordo com a tipos de Olá designado campos**</span><span class="sxs-lookup"><span data-stu-id="f9476-123">**Full masking according toohello data types of hello designated fields**</span></span><br/><br/><span data-ttu-id="f9476-124">• Utilize XXXX ou Xs menos se o tamanho do campo Olá Olá for inferior a 4 carateres para tipos de dados de cadeia (nchar, ntext, nvarchar).</span><span class="sxs-lookup"><span data-stu-id="f9476-124">• Use XXXX or fewer Xs if hello size of hello field is less than 4 characters for string data types (nchar, ntext, nvarchar).</span></span><br/><span data-ttu-id="f9476-125">• Utilizar um valor de zero para tipos de dados numérico (bigint, bits, decimal, int, dinheiro, numérico, smallint, em smallmoney, tinyint, vírgula flutuante, real).</span><span class="sxs-lookup"><span data-stu-id="f9476-125">• Use a zero value for numeric data types (bigint, bit, decimal, int, money, numeric, smallint, smallmoney, tinyint, float, real).</span></span><br/><span data-ttu-id="f9476-126">• Utilizar 01-01-1900 para tipos de dados de data/hora (data, datetime2, datetime, datetimeoffset, smalldatetime, hora).</span><span class="sxs-lookup"><span data-stu-id="f9476-126">• Use 01-01-1900 for date/time data types (date, datetime2, datetime, datetimeoffset, smalldatetime, time).</span></span><br/><span data-ttu-id="f9476-127">• Para SQL variant, Olá valor predefinido do tipo atual Olá é utilizado.</span><span class="sxs-lookup"><span data-stu-id="f9476-127">• For SQL variant, hello default value of hello current type is used.</span></span><br/><span data-ttu-id="f9476-128">• Para um documento XML Olá <masked/> é utilizado.</span><span class="sxs-lookup"><span data-stu-id="f9476-128">• For XML hello document <masked/> is used.</span></span><br/><span data-ttu-id="f9476-129">• Utilizar um valor vazio para tipos de dados especiais (timestamp de tabela, hierarchyid, GUID, binary, imagem, os tipos geográficos varbinary).</span><span class="sxs-lookup"><span data-stu-id="f9476-129">• Use an empty value for special data types (timestamp table, hierarchyid, GUID, binary, image, varbinary spatial types).</span></span> |
| <span data-ttu-id="f9476-130">**Cartão de crédito**</span><span class="sxs-lookup"><span data-stu-id="f9476-130">**Credit card**</span></span> |<span data-ttu-id="f9476-131">**Máscara de método, o que expõe Olá últimos quatro dígitos do Olá designado campos** e adiciona uma cadeia constante como um prefixo no formulário de Olá de um cartão de crédito.</span><span class="sxs-lookup"><span data-stu-id="f9476-131">**Masking method, which exposes hello last four digits of hello designated fields** and adds a constant string as a prefix in hello form of a credit card.</span></span><br/><br/><span data-ttu-id="f9476-132">XXXX-XXXX-XXXX-1234</span><span class="sxs-lookup"><span data-stu-id="f9476-132">XXXX-XXXX-XXXX-1234</span></span> |
| <span data-ttu-id="f9476-133">**Correio eletrónico**</span><span class="sxs-lookup"><span data-stu-id="f9476-133">**Email**</span></span> |<span data-ttu-id="f9476-134">**Máscara de método, o que expõe a primeira letra de Olá e substitui o domínio de Olá com XXX.com** utilizando um prefixo de constante de cadeia no formato Olá um endereço de e-mail.</span><span class="sxs-lookup"><span data-stu-id="f9476-134">**Masking method, which exposes hello first letter and replaces hello domain with XXX.com** using a constant string prefix in hello form of an email address.</span></span><br/><br/>aXX@XXXX.com |
| <span data-ttu-id="f9476-135">**Número aleatório**</span><span class="sxs-lookup"><span data-stu-id="f9476-135">**Random number**</span></span> |<span data-ttu-id="f9476-136">**Máscara de método, o que gera um número aleatório** toohello de acordo com selecionados limites e os tipos de dados real.</span><span class="sxs-lookup"><span data-stu-id="f9476-136">**Masking method, which generates a random number** according toohello selected boundaries and actual data types.</span></span> <span data-ttu-id="f9476-137">Se Olá designado limites é igual, Olá função de máscara é um número constante.</span><span class="sxs-lookup"><span data-stu-id="f9476-137">If hello designated boundaries are equal, then hello masking function is a constant number.</span></span><br/><br/><span data-ttu-id="f9476-138">![Painel de navegação](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span><span class="sxs-lookup"><span data-stu-id="f9476-138">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/1_DDM_Random_number.png)</span></span> |
| <span data-ttu-id="f9476-139">**Texto personalizado**</span><span class="sxs-lookup"><span data-stu-id="f9476-139">**Custom text**</span></span> |<span data-ttu-id="f9476-140">**Método, que expõe Olá primeiro e último carateres de máscara** e adiciona uma cadeia de preenchimento personalizado no meio de Olá.</span><span class="sxs-lookup"><span data-stu-id="f9476-140">**Masking method, which exposes hello first and last characters** and adds a custom padding string in hello middle.</span></span> <span data-ttu-id="f9476-141">Se for mais curta do que o prefixo de Olá exposto e o sufixo de cadeia original Olá, apenas os Olá preenchimento cadeia é utilizado.</span><span class="sxs-lookup"><span data-stu-id="f9476-141">If hello original string is shorter than hello exposed prefix and suffix, only hello padding string is used.</span></span> <br/><span data-ttu-id="f9476-142">sufixo de prefixo [preenchimento]</span><span class="sxs-lookup"><span data-stu-id="f9476-142">prefix[padding]suffix</span></span><br/><br/><span data-ttu-id="f9476-143">![Painel de navegação](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span><span class="sxs-lookup"><span data-stu-id="f9476-143">![Navigation pane](./media/sql-database-dynamic-data-masking-get-started/2_DDM_Custom_text.png)</span></span> |

<a name="Anchor1"></a>

### <a name="recommended-fields-toomask"></a><span data-ttu-id="f9476-144">Campos recomendados toomask</span><span class="sxs-lookup"><span data-stu-id="f9476-144">Recommended fields toomask</span></span>
<span data-ttu-id="f9476-145">Olá motor de recomendações de ddm de autor, sinalizadores determinados campos da sua base de dados como campos potencialmente confidenciais, que podem ser ideais para máscara.</span><span class="sxs-lookup"><span data-stu-id="f9476-145">hello DDM recommendations engine, flags certain fields from your database as potentially sensitive fields, which may be good candidates for masking.</span></span> <span data-ttu-id="f9476-146">Olá máscara de dados dinâmicos painel no portal de Olá, verá Olá recomendado colunas para a base de dados.</span><span class="sxs-lookup"><span data-stu-id="f9476-146">In hello Dynamic Data Masking blade in hello portal, you will see hello recommended columns for your database.</span></span> <span data-ttu-id="f9476-147">Tudo o que precisa toodo é clique **adicionar máscara** para uma ou mais colunas e, em seguida, **guardar** tooapply uma máscara para estes campos.</span><span class="sxs-lookup"><span data-stu-id="f9476-147">All you need toodo is click **Add Mask** for one or more columns and then **Save** tooapply a mask for these fields.</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-powershell-cmdlets"></a><span data-ttu-id="f9476-148">Configurar para a base de dados utilizando cmdlets do Powershell de máscara de dados dinâmicos</span><span class="sxs-lookup"><span data-stu-id="f9476-148">Set up dynamic data masking for your database using Powershell cmdlets</span></span>
<span data-ttu-id="f9476-149">Consulte [Cmdlets de base de dados SQL do Azure](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span><span class="sxs-lookup"><span data-stu-id="f9476-149">See [Azure SQL Database Cmdlets](https://msdn.microsoft.com/library/azure/mt574084.aspx).</span></span>

## <a name="set-up-dynamic-data-masking-for-your-database-using-rest-api"></a><span data-ttu-id="f9476-150">Configurar a máscara de dados dinâmicos para a base de dados utilizando a REST API</span><span class="sxs-lookup"><span data-stu-id="f9476-150">Set up dynamic data masking for your database using REST API</span></span>
<span data-ttu-id="f9476-151">Consulte [operações para bases de dados SQL do Azure](https://msdn.microsoft.com/library/dn505719.aspx).</span><span class="sxs-lookup"><span data-stu-id="f9476-151">See [Operations for Azure SQL Databases](https://msdn.microsoft.com/library/dn505719.aspx).</span></span>

