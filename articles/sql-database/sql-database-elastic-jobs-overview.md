---
title: bases de dados de nuvem de escalamento horizontal de aaaManaging | Microsoft Docs
description: "Ilustra o serviço de tarefas de bases de dados elásticas Olá"
metakeywords: azure sql database elastic databases
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
ms.assetid: 6fa47cf2-1162-4534-a206-6e2d95b78580
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/24/2016
ms.author: ddove
ms.openlocfilehash: b6d330cd712421b8cba781e835830772e6e5b77e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="managing-scaled-out-cloud-databases"></a><span data-ttu-id="1e84b-103">Gerir bases de dados de nuvem de escalamento horizontal</span><span class="sxs-lookup"><span data-stu-id="1e84b-103">Managing scaled-out cloud databases</span></span>
<span data-ttu-id="1e84b-104">Olá toomanage expandidos a bases de dados, **tarefas de bases de dados elásticas** funcionalidade ativa (pré-visualização) tooreliably executar um script de Transact-SQL (T-SQL) entre um grupo de bases de dados, incluindo:</span><span class="sxs-lookup"><span data-stu-id="1e84b-104">toomanage scaled-out sharded databases, hello **Elastic Database jobs** feature (preview) enables you tooreliably execute a Transact-SQL (T-SQL) script across a group of databases, including:</span></span>

* <span data-ttu-id="1e84b-105">uma coleção personalizado de bases de dados (explicado abaixo)</span><span class="sxs-lookup"><span data-stu-id="1e84b-105">a custom-defined collection of databases (explained below)</span></span>
* <span data-ttu-id="1e84b-106">todas as bases de dados num [conjunto elástico](sql-database-elastic-pool.md)</span><span class="sxs-lookup"><span data-stu-id="1e84b-106">all databases in an [elastic pool](sql-database-elastic-pool.md)</span></span>
* <span data-ttu-id="1e84b-107">um conjunto de partições horizontais (criado utilizando [biblioteca de clientes de base de dados elástica](sql-database-elastic-database-client-library.md)).</span><span class="sxs-lookup"><span data-stu-id="1e84b-107">a shard set (created using [Elastic Database client library](sql-database-elastic-database-client-library.md)).</span></span> 

## <a name="documentation"></a><span data-ttu-id="1e84b-108">Documentação</span><span class="sxs-lookup"><span data-stu-id="1e84b-108">Documentation</span></span>
* <span data-ttu-id="1e84b-109">[Instalar componentes de tarefa de base de dados elástica Olá](sql-database-elastic-jobs-service-installation.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-109">[Install hello Elastic Database job components](sql-database-elastic-jobs-service-installation.md).</span></span> 
* <span data-ttu-id="1e84b-110">[Começar a utilizar com as tarefas de bases de dados elásticas](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-110">[Get started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>
* <span data-ttu-id="1e84b-111">[Criar e gerir tarefas através do PowerShell](sql-database-elastic-jobs-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-111">[Create and manage jobs using PowerShell](sql-database-elastic-jobs-powershell.md).</span></span>
* [<span data-ttu-id="1e84b-112">Criar e gerir expandido terminar bases de dados do Azure SQL</span><span class="sxs-lookup"><span data-stu-id="1e84b-112">Create and manage scaled out Azure SQL Databases</span></span>](sql-database-elastic-jobs-getting-started.md)

<span data-ttu-id="1e84b-113">**As tarefas de base de dados elásticas** é atualmente um cliente alojado do Azure serviço em nuvem que permite a execução de Olá de ad-hoc e agendadas tarefas administrativas, que são chamadas **tarefas**.</span><span class="sxs-lookup"><span data-stu-id="1e84b-113">**Elastic Database jobs** is currently a customer-hosted Azure Cloud Service that enables hello execution of ad-hoc and scheduled administrative tasks, which are called **jobs**.</span></span> <span data-ttu-id="1e84b-114">Com tarefas, pode facilmente e fiável gerir grandes grupos de bases de dados do Azure SQL ao executar operações administrativas do Transact-SQL scripts tooperform.</span><span class="sxs-lookup"><span data-stu-id="1e84b-114">With jobs, you can easily and reliably manage large groups of Azure SQL Databases by running Transact-SQL scripts tooperform administrative operations.</span></span> 

![Serviço de tarefas de base de dados elástica][1]

## <a name="why-use-jobs"></a><span data-ttu-id="1e84b-116">Porquê utilizar tarefas?</span><span class="sxs-lookup"><span data-stu-id="1e84b-116">Why use jobs?</span></span>
<span data-ttu-id="1e84b-117">**Gerir**</span><span class="sxs-lookup"><span data-stu-id="1e84b-117">**Manage**</span></span>

<span data-ttu-id="1e84b-118">Facilmente Efetue alterações de esquema, gestão de credenciais, as atualizações de dados de referência, recolha de dados de desempenho ou a coleção de telemetria do inquilino (cliente).</span><span class="sxs-lookup"><span data-stu-id="1e84b-118">Easily do schema changes, credentials management, reference data updates, performance data collection or tenant (customer) telemetry collection.</span></span>

<span data-ttu-id="1e84b-119">**Relatórios**</span><span class="sxs-lookup"><span data-stu-id="1e84b-119">**Reports**</span></span>

<span data-ttu-id="1e84b-120">Dados agregados de uma coleção de bases de dados do Azure SQL Server para uma tabela de destino única.</span><span class="sxs-lookup"><span data-stu-id="1e84b-120">Aggregate data from a collection of Azure SQL Databases into a single destination table.</span></span>

<span data-ttu-id="1e84b-121">**Reduzir a sobrecarga**</span><span class="sxs-lookup"><span data-stu-id="1e84b-121">**Reduce overhead**</span></span>

<span data-ttu-id="1e84b-122">Normalmente, tem de ligar a base de dados de tooeach independentemente nas instruções de Transact-SQL de toorun de ordem ou efetuar outras tarefas administrativas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-122">Normally, you must connect tooeach database independently in order toorun Transact-SQL statements or perform other administrative tasks.</span></span> <span data-ttu-id="1e84b-123">Uma tarefa processa as tarefas de Olá de início de sessão na base de dados de tooeach no grupo de destino Olá.</span><span class="sxs-lookup"><span data-stu-id="1e84b-123">A job handles hello task of logging in tooeach database in hello target group.</span></span> <span data-ttu-id="1e84b-124">Pode também define, manter e manter o Transact-SQL toobe de scripts executado entre um grupo de bases de dados do Azure SQL.</span><span class="sxs-lookup"><span data-stu-id="1e84b-124">You also define, maintain and persist Transact-SQL scripts toobe executed across a group of Azure SQL Databases.</span></span>

<span data-ttu-id="1e84b-125">**Gestão de contas**</span><span class="sxs-lookup"><span data-stu-id="1e84b-125">**Accounting**</span></span>

<span data-ttu-id="1e84b-126">As tarefas executadas Olá script e registo Olá o estado de execução para cada base de dados.</span><span class="sxs-lookup"><span data-stu-id="1e84b-126">Jobs run hello script and log hello status of execution for each database.</span></span> <span data-ttu-id="1e84b-127">Também obter a repetição automática quando ocorrem falhas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-127">You also get automatic retry when failures occur.</span></span>

<span data-ttu-id="1e84b-128">**Flexibilidade**</span><span class="sxs-lookup"><span data-stu-id="1e84b-128">**Flexibility**</span></span>

<span data-ttu-id="1e84b-129">Definir grupos personalizados de bases de dados do Azure SQL e definir agendas para executar uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="1e84b-129">Define custom groups of Azure SQL Databases, and define schedules for running a job.</span></span>

> [!NOTE]
> <span data-ttu-id="1e84b-130">No portal do Azure Olá, só um conjunto de funções reduzido limitada tooSQL Azure elástico agrupamentos está disponível.</span><span class="sxs-lookup"><span data-stu-id="1e84b-130">In hello Azure portal, only a reduced set of functions limited tooSQL Azure elastic pools is available.</span></span> <span data-ttu-id="1e84b-131">Utilize Olá conjunto completo de APIs de PowerShell tooaccess Olá de funcionalidade atual.</span><span class="sxs-lookup"><span data-stu-id="1e84b-131">Use hello PowerShell APIs tooaccess hello full set of current functionality.</span></span>
> 
> 

## <a name="applications"></a><span data-ttu-id="1e84b-132">Aplicações</span><span class="sxs-lookup"><span data-stu-id="1e84b-132">Applications</span></span>
* <span data-ttu-id="1e84b-133">Execute tarefas administrativas, tal como implementar um novo esquema.</span><span class="sxs-lookup"><span data-stu-id="1e84b-133">Perform administrative tasks, such as deploying a new schema.</span></span>
* <span data-ttu-id="1e84b-134">Atualize informações de produto de dados de referência comuns em todas as bases de dados.</span><span class="sxs-lookup"><span data-stu-id="1e84b-134">Update reference data-product information common across all databases.</span></span> <span data-ttu-id="1e84b-135">Ou agendas automático atualiza cada dia da semana, após horas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-135">Or schedules automatic updates every weekday, after hours.</span></span>
* <span data-ttu-id="1e84b-136">Reconstrua o desempenho das consultas tooimprove índices.</span><span class="sxs-lookup"><span data-stu-id="1e84b-136">Rebuild indexes tooimprove query performance.</span></span> <span data-ttu-id="1e84b-137">Olá reconstruir pode ser configurado tooexecute através de uma coleção de bases de dados numa base periódica, tal como durante as horas de ponta.</span><span class="sxs-lookup"><span data-stu-id="1e84b-137">hello rebuilding can be configured tooexecute across a collection of databases on a recurring basis, such as during off-peak hours.</span></span>
* <span data-ttu-id="1e84b-138">Recolha os resultados da consulta de um conjunto de bases de dados numa tabela central numa base em curso.</span><span class="sxs-lookup"><span data-stu-id="1e84b-138">Collect query results from a set of databases into a central table on an on-going basis.</span></span> <span data-ttu-id="1e84b-139">As consultas de desempenho podem ser executadas continuamente e configurado tootrigger tarefas adicionais toobe executado.</span><span class="sxs-lookup"><span data-stu-id="1e84b-139">Performance queries can be continually executed and configured tootrigger additional tasks toobe executed.</span></span>
* <span data-ttu-id="1e84b-140">Executar consultas mais de processamento de dados em execução num grande conjunto de bases de dados, por exemplo Olá coleção de telemetria de cliente.</span><span class="sxs-lookup"><span data-stu-id="1e84b-140">Execute longer running data processing queries across a large set of databases, for example hello collection of customer telemetry.</span></span> <span data-ttu-id="1e84b-141">Os resultados são recolhidos para uma tabela de destino única para análise adicional.</span><span class="sxs-lookup"><span data-stu-id="1e84b-141">Results are collected into a single destination table for further analysis.</span></span>

## <a name="elastic-database-jobs-end-to-end"></a><span data-ttu-id="1e84b-142">As tarefas de base de dados elásticas: ponto a ponto</span><span class="sxs-lookup"><span data-stu-id="1e84b-142">Elastic Database jobs: end-to-end</span></span>
1. <span data-ttu-id="1e84b-143">Instalar Olá **tarefas de bases de dados elásticas** componentes.</span><span class="sxs-lookup"><span data-stu-id="1e84b-143">Install hello **Elastic Database jobs** components.</span></span> <span data-ttu-id="1e84b-144">Para obter mais informações, consulte [tarefas de instalação de base de dados elástica](sql-database-elastic-jobs-service-installation.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-144">For more information, see [Installing Elastic Database jobs](sql-database-elastic-jobs-service-installation.md).</span></span> <span data-ttu-id="1e84b-145">Se a instalação de Olá falhar, consulte [como toouninstall](sql-database-elastic-jobs-uninstall.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-145">If hello installation fails, see [how toouninstall](sql-database-elastic-jobs-uninstall.md).</span></span>
2. <span data-ttu-id="1e84b-146">Utilize Olá das APIs do PowerShell tooaccess mais funcionalidade, por exemplo, criar coleções de base de dados personalizado, adicionar as agendas de e/ou a recolha de conjuntos de resultados.</span><span class="sxs-lookup"><span data-stu-id="1e84b-146">Use hello PowerShell APIs tooaccess more functionality, for example creating custom-defined database collections, adding schedules and/or gathering results sets.</span></span> <span data-ttu-id="1e84b-147">Portal de Olá de utilização para a criação/monitorização de tarefas e de instalação simple limitada tooexecution contra um **conjunto elástico**.</span><span class="sxs-lookup"><span data-stu-id="1e84b-147">Use hello portal for simple installation and creation/monitoring of jobs limited tooexecution against a **elastic pool**.</span></span> 
3. <span data-ttu-id="1e84b-148">Criar credenciais encriptado para execução da tarefa e [adicionar Olá utilizador (ou função) tooeach da base de dados no grupo de Olá](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-148">Create encrypted credentials for job execution and [add hello user (or role) tooeach database in hello group](sql-database-security-overview.md).</span></span>
4. <span data-ttu-id="1e84b-149">Crie um script T-SQL que pode ser executado relativamente a cada base de dados no grupo de Olá de idempotent.</span><span class="sxs-lookup"><span data-stu-id="1e84b-149">Create an idempotent T-SQL script that can be run against every database in hello group.</span></span> 
5. <span data-ttu-id="1e84b-150">Siga estes passos toocreate os trabalhos utilizam Olá portal do Azure: [criar e gerir tarefas de bases de dados elásticas](sql-database-elastic-jobs-create-and-manage.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-150">Follow these steps toocreate jobs using hello Azure portal: [Creating and managing Elastic Database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> 
6. <span data-ttu-id="1e84b-151">Ou utilizar scripts do PowerShell: [criar e gerir tarefas de bases de dados elásticas uma base de dados SQL através do PowerShell (pré-visualização)](sql-database-elastic-jobs-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-151">Or use PowerShell scripts: [Create and manage a SQL Database elastic database jobs using PowerShell (preview)](sql-database-elastic-jobs-powershell.md).</span></span>

## <a name="idempotent-scripts"></a><span data-ttu-id="1e84b-152">Scripts de Idempotent</span><span class="sxs-lookup"><span data-stu-id="1e84b-152">Idempotent scripts</span></span>
<span data-ttu-id="1e84b-153">scripts de Olá tem de ser [idempotent](https://en.wikipedia.org/wiki/Idempotence).</span><span class="sxs-lookup"><span data-stu-id="1e84b-153">hello scripts must be [idempotent](https://en.wikipedia.org/wiki/Idempotence).</span></span> <span data-ttu-id="1e84b-154">Em termos simples, "idempotent" significa que se o script de Olá com êxito e for executada novamente, hello mesmo resultado ocorre.</span><span class="sxs-lookup"><span data-stu-id="1e84b-154">In simple terms, "idempotent" means that if hello script succeeds, and it is run again, hello same result occurs.</span></span> <span data-ttu-id="1e84b-155">Um script pode falhar devido a problemas de rede tootransient.</span><span class="sxs-lookup"><span data-stu-id="1e84b-155">A script may fail due tootransient network issues.</span></span> <span data-ttu-id="1e84b-156">Nesse caso, a tarefa Olá automaticamente tentará executar script de Olá um número de vezes antes de desisting predefinido.</span><span class="sxs-lookup"><span data-stu-id="1e84b-156">In that case, hello job will automatically retry running hello script a preset number of times before desisting.</span></span> <span data-ttu-id="1e84b-157">Um script de idempotent tem Olá mesmo resultar, mesmo que tenha sido executada com êxito duas vezes.</span><span class="sxs-lookup"><span data-stu-id="1e84b-157">An idempotent script has hello same result even if has been successfully run twice.</span></span> 

<span data-ttu-id="1e84b-158">Uma tática simple é tootest quanto à existência de Olá de um objeto antes de criar.</span><span class="sxs-lookup"><span data-stu-id="1e84b-158">A simple tactic is tootest for hello existence of an object before creating it.</span></span>  

    IF NOT EXIST (some_object)
    -- Create hello object 
    -- If it exists, drop hello object before recreating it.

<span data-ttu-id="1e84b-159">Da mesma forma, um script tem de ser capaz de tooexecute com êxito por logicamente testar e countering quaisquer condições que encontra.</span><span class="sxs-lookup"><span data-stu-id="1e84b-159">Similarly, a script must be able tooexecute successfully by logically testing for and countering any conditions it finds.</span></span>

## <a name="failures-and-logs"></a><span data-ttu-id="1e84b-160">Falhas e os registos</span><span class="sxs-lookup"><span data-stu-id="1e84b-160">Failures and logs</span></span>
<span data-ttu-id="1e84b-161">Se um script falhar após várias tentativas, tarefa Olá registará Olá erro e continua.</span><span class="sxs-lookup"><span data-stu-id="1e84b-161">If a script fails after multiple attempts, hello job logs hello error and continues.</span></span> <span data-ttu-id="1e84b-162">Após termina uma tarefa (isto é, uma execução em todas as bases de dados no grupo de Olá), pode verificar a respetiva lista de tentativas falhadas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-162">After a job ends (meaning a run against all databases in hello group), you can check its list of failed attempts.</span></span> <span data-ttu-id="1e84b-163">registos de Olá fornecem detalhes scripts defeituoso toodebug.</span><span class="sxs-lookup"><span data-stu-id="1e84b-163">hello logs provide details toodebug faulty scripts.</span></span> 

## <a name="group-types-and-creation"></a><span data-ttu-id="1e84b-164">Tipos de grupo e criação</span><span class="sxs-lookup"><span data-stu-id="1e84b-164">Group types and creation</span></span>
<span data-ttu-id="1e84b-165">Existem dois tipos de grupos:</span><span class="sxs-lookup"><span data-stu-id="1e84b-165">There are two kinds of groups:</span></span> 

1. <span data-ttu-id="1e84b-166">Conjuntos de partições horizontais</span><span class="sxs-lookup"><span data-stu-id="1e84b-166">Shard sets</span></span>
2. <span data-ttu-id="1e84b-167">Grupos personalizados</span><span class="sxs-lookup"><span data-stu-id="1e84b-167">Custom groups</span></span>

<span data-ttu-id="1e84b-168">Grupos de conjunto de partições horizontais são criados utilizando Olá [ferramentas de base de dados elástica](sql-database-elastic-scale-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-168">Shard set groups are created using hello [Elastic Database tools](sql-database-elastic-scale-introduction.md).</span></span> <span data-ttu-id="1e84b-169">Quando cria um grupo de conjunto de partições horizontais, bases de dados são adicionados ou removidos do grupo de Olá automaticamente.</span><span class="sxs-lookup"><span data-stu-id="1e84b-169">When you create a shard set group, databases are added or removed from hello group automatically.</span></span> <span data-ttu-id="1e84b-170">Por exemplo, um ID de partição horizontal novo será automaticamente no grupo de Olá quando adicionar toohello mapa de partições horizontais.</span><span class="sxs-lookup"><span data-stu-id="1e84b-170">For example, a new shard will be automatically in hello group when you add it toohello shard map.</span></span> <span data-ttu-id="1e84b-171">Em seguida, pode ser executada uma tarefa em relação a grupo Olá.</span><span class="sxs-lookup"><span data-stu-id="1e84b-171">A job can then be run against hello group.</span></span>

<span data-ttu-id="1e84b-172">Grupos personalizados, no Olá por outro lado, rigidly são definidos.</span><span class="sxs-lookup"><span data-stu-id="1e84b-172">Custom groups, on hello other hand, are rigidly defined.</span></span> <span data-ttu-id="1e84b-173">Explicitamente tem de adicionar ou remover bases de dados de grupos personalizados.</span><span class="sxs-lookup"><span data-stu-id="1e84b-173">You must explicitly add or remove databases from custom groups.</span></span> <span data-ttu-id="1e84b-174">Se uma base de dados no grupo de Olá for removido, a tarefa de Olá tentará script de Olá toorun na base de dados de Olá resultavam uma eventual falha.</span><span class="sxs-lookup"><span data-stu-id="1e84b-174">If a database in hello group is dropped, hello job will attempt toorun hello script against hello database resulting in an eventual failure.</span></span> <span data-ttu-id="1e84b-175">Os grupos criados utilizando Olá portal do Azure atualmente são grupos personalizados.</span><span class="sxs-lookup"><span data-stu-id="1e84b-175">Groups created using hello Azure portal currently are custom groups.</span></span> 

## <a name="components-and-pricing"></a><span data-ttu-id="1e84b-176">Os componentes e preços</span><span class="sxs-lookup"><span data-stu-id="1e84b-176">Components and pricing</span></span>
<span data-ttu-id="1e84b-177">Olá seguintes componentes funcionam em conjunto toocreate um serviço de nuvem do Azure que permite a execução do ad-hoc das tarefas administrativas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-177">hello following components work together toocreate an Azure Cloud service that enables ad-hoc execution of administrative jobs.</span></span> <span data-ttu-id="1e84b-178">componentes de Olá estão instalados e configurados automaticamente durante a configuração, na sua subscrição.</span><span class="sxs-lookup"><span data-stu-id="1e84b-178">hello components are installed and configured automatically during setup, in your subscription.</span></span> <span data-ttu-id="1e84b-179">Pode identificar serviços Olá como todos eles ter Olá mesmo gerado automaticamente nome.</span><span class="sxs-lookup"><span data-stu-id="1e84b-179">You can identify hello services as they all have hello same auto-generated name.</span></span> <span data-ttu-id="1e84b-180">o nome de Olá é exclusivo e consiste em Olá. o prefixo "edj" seguido de 21 carateres gerados aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="1e84b-180">hello name is unique, and consists of hello prefix "edj" followed by 21 randomly generated characters.</span></span>

* <span data-ttu-id="1e84b-181">**Serviço Cloud do Azure**: tarefas de bases de dados elásticas (pré-visualização) é entregue como uma nuvem do Azure alojada de cliente pedida de execução de tooperform do serviço de Olá tarefas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-181">**Azure Cloud Service**: elastic database jobs (preview) is delivered as a customer-hosted Azure Cloud service tooperform execution of hello requested tasks.</span></span> <span data-ttu-id="1e84b-182">No portal de Olá, serviço Olá é implementado e alojado na sua subscrição do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="1e84b-182">From hello portal, hello service is deployed and hosted in your Microsoft Azure subscription.</span></span> <span data-ttu-id="1e84b-183">serviço de predefinição implementado de Olá é executado com o mínimo de Olá de funções de trabalho dois para elevada disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="1e84b-183">hello default deployed service runs with hello minimum of two worker roles for high availability.</span></span> <span data-ttu-id="1e84b-184">tamanho predefinido de Olá de cada função de trabalho (ElasticDatabaseJobWorker) é executado numa instância A0.</span><span class="sxs-lookup"><span data-stu-id="1e84b-184">hello default size of each worker role (ElasticDatabaseJobWorker) runs on an A0 instance.</span></span> <span data-ttu-id="1e84b-185">Para os preços, consulte [preços de serviços de Cloud](https://azure.microsoft.com/pricing/details/cloud-services/).</span><span class="sxs-lookup"><span data-stu-id="1e84b-185">For pricing, see [Cloud services pricing](https://azure.microsoft.com/pricing/details/cloud-services/).</span></span> 
* <span data-ttu-id="1e84b-186">**Base de dados SQL do Azure**: serviço Olá utiliza uma base de dados de SQL do Azure conhecido como Olá **base de dados de controlo** toostore todos os metadados de tarefa Olá.</span><span class="sxs-lookup"><span data-stu-id="1e84b-186">**Azure SQL Database**: hello service uses an Azure SQL Database known as hello **control database** toostore all of hello job metadata.</span></span> <span data-ttu-id="1e84b-187">camada de serviço predefinido Olá é um S0.</span><span class="sxs-lookup"><span data-stu-id="1e84b-187">hello default service tier is a S0.</span></span> <span data-ttu-id="1e84b-188">Para os preços, consulte [preços da SQL Database](https://azure.microsoft.com/pricing/details/sql-database/).</span><span class="sxs-lookup"><span data-stu-id="1e84b-188">For pricing, see [SQL Database Pricing](https://azure.microsoft.com/pricing/details/sql-database/).</span></span>
* <span data-ttu-id="1e84b-189">**Service Bus do Azure**: um Azure Service Bus destina-se coordenação de trabalho de Olá dentro Olá o serviço em nuvem do Azure.</span><span class="sxs-lookup"><span data-stu-id="1e84b-189">**Azure Service Bus**: An Azure Service Bus is for coordination of hello work within hello Azure Cloud Service.</span></span> <span data-ttu-id="1e84b-190">Consulte [preços de barramento de serviço](https://azure.microsoft.com/pricing/details/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="1e84b-190">See [Service Bus Pricing](https://azure.microsoft.com/pricing/details/service-bus/).</span></span>
* <span data-ttu-id="1e84b-191">**Armazenamento do Azure**: uma conta do Storage Azure é utilizada no evento Olá que um problema requer uma depuração ainda mais o registo de saída de diagnóstico toostore (consulte [ativar diagnósticos no Cloud Services do Azure e máquinas virtuais](../cloud-services/cloud-services-dotnet-diagnostics.md)).</span><span class="sxs-lookup"><span data-stu-id="1e84b-191">**Azure Storage**: An Azure Storage account is used toostore diagnostic output logging in hello event that an issue requires further debugging (see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](../cloud-services/cloud-services-dotnet-diagnostics.md)).</span></span> <span data-ttu-id="1e84b-192">Para os preços, consulte [preços do Storage do Azure](https://azure.microsoft.com/pricing/details/storage/).</span><span class="sxs-lookup"><span data-stu-id="1e84b-192">For pricing, see [Azure Storage Pricing](https://azure.microsoft.com/pricing/details/storage/).</span></span>

## <a name="how-elastic-database-jobs-work"></a><span data-ttu-id="1e84b-193">Como funcionam as tarefas de base de dados elástica</span><span class="sxs-lookup"><span data-stu-id="1e84b-193">How Elastic Database jobs work</span></span>
1. <span data-ttu-id="1e84b-194">Uma base de dados do SQL do Azure é designado uma **base de dados de controlo** que armazena todos os dados e estado de dados de metadados.</span><span class="sxs-lookup"><span data-stu-id="1e84b-194">An Azure SQL Database is designated a **control database** which stores all meta-data and state data.</span></span>
2. <span data-ttu-id="1e84b-195">base de dados de controlo de Olá é acedida pela Olá **tarefa serviço** toolaunch e controlar tooexecute de tarefas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-195">hello control database is accessed by hello **job service** toolaunch and track jobs tooexecute.</span></span>
3. <span data-ttu-id="1e84b-196">Duas funções diferentes comunicam com a base de dados de controlo de Olá:</span><span class="sxs-lookup"><span data-stu-id="1e84b-196">Two different roles communicate with hello control database:</span></span> 
   * <span data-ttu-id="1e84b-197">Controlador: Determina quais as tarefas requerem Olá de tooperform tarefas pedidas tarefa e tarefas falhadas tentativas através da criação de novas tarefas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-197">Controller: Determines which jobs require tasks tooperform hello requested job, and retries failed jobs by creating new job tasks.</span></span>
   * <span data-ttu-id="1e84b-198">Tarefa a execução da tarefa: Tarefas de Olá ativada.</span><span class="sxs-lookup"><span data-stu-id="1e84b-198">Job Task Execution: Carries out hello job tasks.</span></span>

### <a name="job-task-types"></a><span data-ttu-id="1e84b-199">Tipos de tarefas da tarefa</span><span class="sxs-lookup"><span data-stu-id="1e84b-199">Job task types</span></span>
<span data-ttu-id="1e84b-200">Existem vários tipos de tarefas que realizar a execução de tarefas:</span><span class="sxs-lookup"><span data-stu-id="1e84b-200">There are multiple types of job tasks that carry out execution of jobs:</span></span>

* <span data-ttu-id="1e84b-201">ShardMapRefresh: Consultas Olá toodetermine de mapa de partições horizontais todas as bases de dados de Olá utilizados como shards</span><span class="sxs-lookup"><span data-stu-id="1e84b-201">ShardMapRefresh: Queries hello shard map toodetermine all hello databases used as shards</span></span>
* <span data-ttu-id="1e84b-202">ScriptSplit: Script de Olá divisões nas instruções 'ACEDA' em lotes</span><span class="sxs-lookup"><span data-stu-id="1e84b-202">ScriptSplit: Splits hello script across ‘GO’ statements into batches</span></span>
* <span data-ttu-id="1e84b-203">ExpandJob: Cria subordinado tarefas para cada base de dados de uma tarefa que tenha como destino um grupo de bases de dados</span><span class="sxs-lookup"><span data-stu-id="1e84b-203">ExpandJob: Creates child jobs for each database from a job that targets a group of databases</span></span>
* <span data-ttu-id="1e84b-204">ScriptExecution: Executa um script em relação a uma determinada base de dados utilizando as credenciais definidas</span><span class="sxs-lookup"><span data-stu-id="1e84b-204">ScriptExecution: Executes a script against a particular database using defined credentials</span></span>
* <span data-ttu-id="1e84b-205">Dacpac: Aplica-se DACPAC tooa determinada base de dados utilizando as credenciais específicas</span><span class="sxs-lookup"><span data-stu-id="1e84b-205">Dacpac: Applies a DACPAC tooa particular database using particular credentials</span></span>

## <a name="end-to-end-job-execution-work-flow"></a><span data-ttu-id="1e84b-206">Fluxo de trabalho do execução tarefa de ponto a ponto</span><span class="sxs-lookup"><span data-stu-id="1e84b-206">End-to-end job execution work-flow</span></span>
1. <span data-ttu-id="1e84b-207">Utilizar Olá Portal ou Olá API do PowerShell, uma tarefa é inserida Olá **base de dados de controlo**.</span><span class="sxs-lookup"><span data-stu-id="1e84b-207">Using either hello Portal or hello PowerShell API, a job is inserted into hello  **control database**.</span></span> <span data-ttu-id="1e84b-208">tarefa de Olá solicita a execução de um script de Transact-SQL em relação a um grupo de bases de dados utilizando credenciais específicas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-208">hello job requests execution of a Transact-SQL script against a group of databases using specific credentials.</span></span>
2. <span data-ttu-id="1e84b-209">controlador Olá identifica nova tarefa de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e84b-209">hello controller identifies hello new job.</span></span> <span data-ttu-id="1e84b-210">As tarefas da tarefa são criadas e executar o script de Olá toosplit e bases de dados do grupo de Olá toorefresh.</span><span class="sxs-lookup"><span data-stu-id="1e84b-210">Job tasks are created and executed toosplit hello script and toorefresh hello group’s databases.</span></span> <span data-ttu-id="1e84b-211">Por último, uma nova tarefa é criada e executar a tarefa de Olá tooexpand e criar novo subordinado tarefas onde cada tarefa subordinada é especificado tooexecute Olá script Transact-SQL em relação a uma base de dados individual num grupo de Olá.</span><span class="sxs-lookup"><span data-stu-id="1e84b-211">Lastly, a new job is created and executed tooexpand hello job and create new child jobs where each child job is specified tooexecute hello Transact-SQL script against an individual database in hello group.</span></span>
3. <span data-ttu-id="1e84b-212">controlador Olá identifica Olá criado tarefas subordinadas.</span><span class="sxs-lookup"><span data-stu-id="1e84b-212">hello controller identifies hello created child jobs.</span></span> <span data-ttu-id="1e84b-213">Para cada tarefa, o controlador de Olá cria e aciona um tarefa tooexecute Olá script de tarefa de uma base de dados.</span><span class="sxs-lookup"><span data-stu-id="1e84b-213">For each job, hello controller creates and triggers a job task tooexecute hello script against a database.</span></span> 
4. <span data-ttu-id="1e84b-214">Depois de concluir todas as tarefas da tarefa, controlador Olá atualiza o estado do Olá tarefas tooa foi concluída.</span><span class="sxs-lookup"><span data-stu-id="1e84b-214">After all job tasks have completed, hello controller updates hello jobs tooa completed state.</span></span> 
   <span data-ttu-id="1e84b-215">Em qualquer momento durante a execução da tarefa, Olá API do PowerShell pode ser utilizado tooview Olá estado atual da execução da tarefa.</span><span class="sxs-lookup"><span data-stu-id="1e84b-215">At any point during job execution, hello PowerShell API can be used tooview hello current state of job execution.</span></span> <span data-ttu-id="1e84b-216">Todas as horas devolvido por Olá das APIs do PowerShell são representados em UTC.</span><span class="sxs-lookup"><span data-stu-id="1e84b-216">All times returned by hello PowerShell APIs are represented in UTC.</span></span> <span data-ttu-id="1e84b-217">Se assim o desejar, um pedido de cancelamento pode ser toostop iniciada uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="1e84b-217">If desired, a cancellation request can be initiated toostop a job.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="1e84b-218">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="1e84b-218">Next steps</span></span>
<span data-ttu-id="1e84b-219">[Instalar componentes de Olá](sql-database-elastic-jobs-service-installation.md), em seguida, [criar e adicionar um registo na base de dados de tooeach no grupo de Olá das bases de dados](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-219">[Install hello components](sql-database-elastic-jobs-service-installation.md), then [create and add a log in tooeach database in hello group of databases](sql-database-manage-logins.md).</span></span> <span data-ttu-id="1e84b-220">toofurther compreender a tarefa de criação e gestão, consulte [criar e gerir tarefas de bases de dados elásticas](sql-database-elastic-jobs-create-and-manage.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-220">toofurther understand job creation and management, see [creating and managing elastic database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> <span data-ttu-id="1e84b-221">Consulte também [introdução às tarefas de bases de dados elásticas](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="1e84b-221">See also [Getting started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

<!--Image references-->
[1]: ./media/sql-database-elastic-jobs-overview/elastic-jobs.png
<!--anchors-->


