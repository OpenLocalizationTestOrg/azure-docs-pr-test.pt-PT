---
title: "soluções de recuperação de desastre aaaDesign - SQL Database do Azure | Microsoft Docs"
description: "Saiba como toodesign sua solução de nuvem de recuperação após desastre ao escolher o padrão de ativação pós-falha à direita Olá."
services: sql-database
documentationcenter: 
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: 2db99057-0c79-4fb0-a7f1-d1c057ec787f
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/07/2017
ms.author: sashan;carlrab
ms.openlocfilehash: 9d9eca7570c7a01c992d0b33d449721709b471c3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="disaster-recovery-strategies-for-applications-using-sql-database-elastic-pools"></a><span data-ttu-id="12b52-103">Estratégias de recuperação de desastre para aplicações que utilizam conjuntos elásticos da base de dados SQL</span><span class="sxs-lookup"><span data-stu-id="12b52-103">Disaster recovery strategies for applications using SQL Database elastic pools</span></span>
<span data-ttu-id="12b52-104">Ao longo de anos Olá podemos ter aprendidas que serviços em nuvem não são foolproof e ocorrem de incidentes catastrófica.</span><span class="sxs-lookup"><span data-stu-id="12b52-104">Over hello years we have learned that cloud services are not foolproof and catastrophic incidents happen.</span></span> <span data-ttu-id="12b52-105">Base de dados do SQL Server fornece várias capacidades tooprovide para continuidade do negócio Olá da sua aplicação quando ocorrem estes incidentes.</span><span class="sxs-lookup"><span data-stu-id="12b52-105">SQL Database provides several capabilities tooprovide for hello business continuity of your application when these incidents occur.</span></span> <span data-ttu-id="12b52-106">[Conjuntos elásticos](sql-database-elastic-pool.md) e bases de dados individuais suportam Olá mesmo tipo de funcionalidades de recuperação após desastre.</span><span class="sxs-lookup"><span data-stu-id="12b52-106">[Elastic pools](sql-database-elastic-pool.md) and single databases support hello same kind of disaster recovery capabilities.</span></span> <span data-ttu-id="12b52-107">Este artigo descreve várias estratégias de DR para conjuntos elásticos que tiram partido destas funcionalidades de continuidade empresarial da base de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="12b52-107">This article describes several DR strategies for elastic pools that leverage these SQL Database business continuity features.</span></span>

<span data-ttu-id="12b52-108">Este artigo utiliza Olá seguir o padrão de aplicação SaaS ISV canónica:</span><span class="sxs-lookup"><span data-stu-id="12b52-108">This article uses hello following canonical SaaS ISV application pattern:</span></span>

<span data-ttu-id="12b52-109"><i>Uma aplicação web baseados na nuvem modernas Aprovisiona uma base de dados do SQL Server para cada utilizador final. Olá ISV tem muitos clientes e, por conseguinte, utiliza muitas bases de dados, conhecidos como bases de dados do inquilino. Uma vez Olá inquilino as bases de dados têm normalmente padrões de atividade imprevisíveis, Olá ISV utiliza um conjunto elástico toomake Olá da base de dados custo muito previsível ao longo de períodos de tempo prolongados. agrupamento elástico Olá também simplifica a gestão de desempenho de Olá quando picos de atividade do utilizador Olá. Além disso aplicação Olá do toohello inquilino bases de dados também utiliza várias bases de dados toomanage perfis de utilizador, segurança, recolher padrões de utilização etc. Disponibilidade de inquilinos individuais Olá não afeta a disponibilidade da aplicação Olá como todo. No entanto, hello disponibilidade e o desempenho das bases de dados de gestão é essenciais para a função da aplicação Olá e bases de dados de gestão de Olá são aplicação completo Olá offline estiver offline.</i></span><span class="sxs-lookup"><span data-stu-id="12b52-109"><i>A modern cloud-based web application provisions one SQL database for each end user. hello ISV has many customers and therefore uses many databases, known as tenant databases. Because hello tenant databases typically have unpredictable activity patterns, hello ISV uses an elastic pool toomake hello database cost very predictable over extended periods of time. hello elastic pool also simplifies hello performance management when hello user activity spikes. In addition toohello tenant databases hello application also uses several databases toomanage user profiles, security, collect usage patterns etc. Availability of hello individual tenants does not impact hello application’s availability as whole. However, hello availability and performance of management databases is critical for hello application’s function and if hello management databases are offline hello entire application is offline.</i></span></span>  

<span data-ttu-id="12b52-110">Este artigo aborda as estratégias de DR que abrangem uma gama de cenários do custo arranque confidenciais aplicações tooones com requisitos de disponibilidade rigorosos.</span><span class="sxs-lookup"><span data-stu-id="12b52-110">This article discusses DR strategies covering a range of scenarios from cost sensitive startup applications tooones with stringent availability requirements.</span></span>

## <a name="scenario-1-cost-sensitive-startup"></a><span data-ttu-id="12b52-111">Cenário 1.</span><span class="sxs-lookup"><span data-stu-id="12b52-111">Scenario 1.</span></span> <span data-ttu-id="12b52-112">Custo arranque confidencial</span><span class="sxs-lookup"><span data-stu-id="12b52-112">Cost sensitive startup</span></span>
<span data-ttu-id="12b52-113"><i>Posso estou uma empresa de arranque e estou de custo extremamente confidencial.  Pretendo toosimplify implementação e gestão da aplicação Olá e pode tiver um SLA limitado de clientes individuais. Mas pretendo que a aplicação de Olá tooensure como um todo nunca está offline.</i></span><span class="sxs-lookup"><span data-stu-id="12b52-113"><i>I am a startup business and am extremely cost sensitive.  I want toosimplify deployment and management of hello application and I can have a limited SLA for individual customers. But I want tooensure hello application as a whole is never offline.</i></span></span>

<span data-ttu-id="12b52-114">requisito de simplicidade do toosatisfy Olá, implementar todas as bases de dados do inquilino para um conjunto elástico em Olá região do Azure à sua escolha e implementar as bases de dados de gestão como georreplicação bases de dados individuais.</span><span class="sxs-lookup"><span data-stu-id="12b52-114">toosatisfy hello simplicity requirement, deploy all tenant databases into one elastic pool in hello Azure region of your choice and deploy management databases as geo-replicated single databases.</span></span> <span data-ttu-id="12b52-115">Recuperação de desastres Olá de inquilinos, utilize georrestauro, vem sem custos adicionais.</span><span class="sxs-lookup"><span data-stu-id="12b52-115">For hello disaster recovery of tenants, use geo-restore, which comes at no additional cost.</span></span> <span data-ttu-id="12b52-116">disponibilidade de Olá tooensure de Olá bases de dados de gestão, georreplicação replicá-los região tooanother utilizar um grupo de ativação de pós-falha automática (no-pré-visualização) (passo 1).</span><span class="sxs-lookup"><span data-stu-id="12b52-116">tooensure hello availability of hello management databases, geo-replicate them tooanother region using an auto-failover group (in-preview) (step 1).</span></span> <span data-ttu-id="12b52-117">custo em curso do Olá da configuração de recuperação de desastre Olá neste cenário de é igual toohello custo total de bases de dados secundária Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-117">hello ongoing cost of hello disaster recovery configuration in this scenario is equal toohello total cost of hello secondary databases.</span></span> <span data-ttu-id="12b52-118">Esta configuração é ilustrada no diagrama seguinte Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-118">This configuration is illustrated on hello next diagram.</span></span>

![Figura 1](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-1.png)

<span data-ttu-id="12b52-120">Se ocorrer uma falha na região primária Olá, Olá toobring de passos de recuperação online a sua aplicação são ilustrados por diagrama seguinte Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-120">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated by hello next diagram.</span></span>

* <span data-ttu-id="12b52-121">grupo de ativação pós-falha de Olá inicia a ativação pós-falha automática da região de DR toohello do Olá gestão da base de dados.</span><span class="sxs-lookup"><span data-stu-id="12b52-121">hello failover group initiates automatic failover of hello management database toohello DR region.</span></span> <span data-ttu-id="12b52-122">aplicação Olá é automaticamente ligação restabelecida toohello novas principal e todas as novas contas e bases de dados de inquilino são criados na região de DR Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-122">hello application is automatically reconnected toohello new primary and all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="12b52-123">os clientes existentes do Olá veem os dados temporariamente indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="12b52-123">hello existing customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="12b52-124">Criar conjunto elástico Olá com Olá mesma configuração como conjunto de Olá original (2).</span><span class="sxs-lookup"><span data-stu-id="12b52-124">Create hello elastic pool with hello same configuration as hello original pool (2).</span></span>
* <span data-ttu-id="12b52-125">Utilize georrestauro toocreate cópias das bases de dados do inquilino de Olá (3).</span><span class="sxs-lookup"><span data-stu-id="12b52-125">Use geo-restore toocreate copies of hello tenant databases (3).</span></span> <span data-ttu-id="12b52-126">Pode considerar a acionar restauros individuais Olá pelas ligações de utilizador final Olá ou utilize outra esquema de prioridade específicas da aplicação.</span><span class="sxs-lookup"><span data-stu-id="12b52-126">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>


<span data-ttu-id="12b52-127">Neste momento a aplicação estiver novamente online na região de DR Olá, mas alguns clientes experiência atraso quando aceder aos respetivos dados.</span><span class="sxs-lookup"><span data-stu-id="12b52-127">At this point your application is back online in hello DR region, but some customers experience delay when accessing their data.</span></span>

![Figura 2](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-2.png)

<span data-ttu-id="12b52-129">Se a falha de Olá foi temporária, é possível que nessa região primária Olá é recuperada do Azure antes de todos os restauros de base de dados de Olá concluídos na região de Olá DR.</span><span class="sxs-lookup"><span data-stu-id="12b52-129">If hello outage was temporary, it is possible that hello primary region is recovered by Azure before all hello database restores are complete in hello DR region.</span></span> <span data-ttu-id="12b52-130">Neste caso, orquestrar o movimento Olá aplicação back toohello região primária.</span><span class="sxs-lookup"><span data-stu-id="12b52-130">In this case, orchestrate moving hello application back toohello primary region.</span></span> <span data-ttu-id="12b52-131">processo de Olá executa os passos de Olá ilustrados no diagrama seguinte Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-131">hello process takes hello steps illustrated on hello next diagram.</span></span>

* <span data-ttu-id="12b52-132">Cancele a todos os pedidos de georrestauro pendentes.</span><span class="sxs-lookup"><span data-stu-id="12b52-132">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="12b52-133">Ativação pós-falha Olá gestão bases de dados toohello região primária (5).</span><span class="sxs-lookup"><span data-stu-id="12b52-133">Fail over hello management databases toohello primary region (5).</span></span> <span data-ttu-id="12b52-134">Após a recuperação da região de Olá, primaries antigo Olá automaticamente ficou secundárias.</span><span class="sxs-lookup"><span data-stu-id="12b52-134">After hello region’s recovery, hello old primaries have automatically become secondaries.</span></span> <span data-ttu-id="12b52-135">Agora, mudar funções novamente.</span><span class="sxs-lookup"><span data-stu-id="12b52-135">Now they switch roles again.</span></span> 
* <span data-ttu-id="12b52-136">Altere ligação cadeia toopoint back toohello região primária da aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-136">Change hello application's connection string toopoint back toohello primary region.</span></span> <span data-ttu-id="12b52-137">Agora todas as novas contas e bases de dados de inquilino são criados na região primária Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-137">Now all new accounts and tenant databases are created in hello primary region.</span></span> <span data-ttu-id="12b52-138">Alguns clientes existentes veem os dados temporariamente indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="12b52-138">Some existing customers see their data temporarily unavailable.</span></span>   
* <span data-ttu-id="12b52-139">Defina todas as bases de dados em Olá DR agrupamento apenas de tooread tooensure que não podem ser modificadas na região de DR Olá (6).</span><span class="sxs-lookup"><span data-stu-id="12b52-139">Set all databases in hello DR pool tooread-only tooensure they cannot be modified in hello DR region (6).</span></span> 
* <span data-ttu-id="12b52-140">Para cada base de dados no Olá DR conjunto que foi alterada desde a recuperação de Olá, mude o nome ou eliminar Olá correspondente as bases de dados no conjunto de principais de Olá (7).</span><span class="sxs-lookup"><span data-stu-id="12b52-140">For each database in hello DR pool that has changed since hello recovery, rename or delete hello corresponding databases in hello primary pool (7).</span></span> 
* <span data-ttu-id="12b52-141">Olá cópia atualizada bases de dados de Olá conjunto principal do DR conjunto toohello (8).</span><span class="sxs-lookup"><span data-stu-id="12b52-141">Copy hello updated databases from hello DR pool toohello primary pool (8).</span></span> 
* <span data-ttu-id="12b52-142">Eliminar conjunto de DR Olá (9)</span><span class="sxs-lookup"><span data-stu-id="12b52-142">Delete hello DR pool (9)</span></span>

<span data-ttu-id="12b52-143">Neste momento a sua aplicação está online na região primária de Olá com todos os inquilinos bases de dados disponível no agrupamento principal Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-143">At this point your application is online in hello primary region with all tenant databases available in hello primary pool.</span></span>

![Figura 3](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-3.png)

<span data-ttu-id="12b52-145">chave de Olá **beneficiar** desta estratégia é baixo custo em curso para a redundância de camada de dados.</span><span class="sxs-lookup"><span data-stu-id="12b52-145">hello key **benefit** of this strategy is low ongoing cost for data tier redundancy.</span></span> <span data-ttu-id="12b52-146">São efetuadas automaticamente cópias de segurança por Olá serviço de base de dados SQL com nenhuma aplicação reescrever e sem custos adicionais.</span><span class="sxs-lookup"><span data-stu-id="12b52-146">Backups are taken automatically by hello SQL Database service with no application rewrite and at no additional cost.</span></span>  <span data-ttu-id="12b52-147">custo de Olá quando apenas quando as bases de dados elásticas Olá são restauradas.</span><span class="sxs-lookup"><span data-stu-id="12b52-147">hello cost is incurred only when hello elastic databases are restored.</span></span> <span data-ttu-id="12b52-148">Olá **compromisso** é que a recuperação completa de Olá de todas as bases de dados do inquilino demora muito tempo.</span><span class="sxs-lookup"><span data-stu-id="12b52-148">hello **trade-off** is that hello complete recovery of all tenant databases takes significant time.</span></span> <span data-ttu-id="12b52-149">Olá período de tempo depende do número total de Olá de restauros iniciar no Olá DR região e o tamanho geral do Olá bases de dados de inquilino.</span><span class="sxs-lookup"><span data-stu-id="12b52-149">hello length of time depends on hello total number of restores you initiate in hello DR region and overall size of hello tenant databases.</span></span> <span data-ttu-id="12b52-150">Mesmo que atribuir prioridades restauros dos inquilinos, alguns através de outros utilizadores, estão a competir com Olá todos os outros restauros que sejam iniciados na Olá mesma região que o serviço de Olá arbitrates e acelera toominimize Olá impacto geral em bases de dados dos clientes Olá existentes.</span><span class="sxs-lookup"><span data-stu-id="12b52-150">Even if you prioritize some tenants' restores over others, you are competing with all hello other restores that are initiated in hello same region as hello service arbitrates and throttles toominimize hello overall impact on hello existing customers' databases.</span></span> <span data-ttu-id="12b52-151">Além disso, recuperação Olá das bases de dados do Olá inquilino não consegue iniciar até que o novo conjunto elástico Olá na região de DR Olá é criado.</span><span class="sxs-lookup"><span data-stu-id="12b52-151">In addition, hello recovery of hello tenant databases cannot start until hello new elastic pool in hello DR region is created.</span></span>

## <a name="scenario-2-mature-application-with-tiered-service"></a><span data-ttu-id="12b52-152">Cenário 2.</span><span class="sxs-lookup"><span data-stu-id="12b52-152">Scenario 2.</span></span> <span data-ttu-id="12b52-153">Aplicação madura com o serviço em camadas</span><span class="sxs-lookup"><span data-stu-id="12b52-153">Mature application with tiered service</span></span>
<span data-ttu-id="12b52-154"><i>Sou uma aplicação SaaS madura com ofertas de serviço em camadas e SLAs diferentes para os clientes de avaliação e pagar com clientes. Para clientes de avaliação Olá, tenho de Olá tooreduce custo quanto possível. Os clientes de avaliação podem demorar um período de indisponibilidade, mas pretendo tooreduce a probabilidade. Para Olá pagar com os clientes, qualquer período de inatividade é um risco de voo. Para que pretendo toomake se de que os clientes pagar sempre tooaccess capaz dos seus dados.</i></span><span class="sxs-lookup"><span data-stu-id="12b52-154"><i>I am a mature SaaS application with tiered service offers and different SLAs for trial customers and for paying customers. For hello trial customers, I have tooreduce hello cost as much as possible. Trial customers can take downtime but I want tooreduce its likelihood. For hello paying customers, any downtime is a flight risk. So I want toomake sure that paying customers are always able tooaccess their data.</i></span></span> 

<span data-ttu-id="12b52-155">toosupport neste cenário, separado Olá inquilinos avaliação de paga inquilinos colocando-los em conjuntos elásticos separados.</span><span class="sxs-lookup"><span data-stu-id="12b52-155">toosupport this scenario, separate hello trial tenants from paid tenants by putting them into separate elastic pools.</span></span> <span data-ttu-id="12b52-156">os clientes de avaliação de Olá têm inferior eDTU por inquilino e inferior SLA com mais tempo de recuperação.</span><span class="sxs-lookup"><span data-stu-id="12b52-156">hello trial customers have lower eDTU per tenant and lower SLA with a longer recovery time.</span></span> <span data-ttu-id="12b52-157">os clientes de pagar Olá estão num conjunto com superior eDTU por inquilino e um SLA mais elevado.</span><span class="sxs-lookup"><span data-stu-id="12b52-157">hello paying customers are in a pool with higher eDTU per tenant and a higher SLA.</span></span> <span data-ttu-id="12b52-158">tooguarantee Olá menor tempo de recuperação, bases de dados de inquilino de Olá pagar clientes estão a georreplicação.</span><span class="sxs-lookup"><span data-stu-id="12b52-158">tooguarantee hello lowest recovery time, hello paying customers' tenant databases are geo-replicated.</span></span> <span data-ttu-id="12b52-159">Esta configuração é ilustrada no diagrama seguinte Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-159">This configuration is illustrated on hello next diagram.</span></span> 

![Figura 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-4.png)

<span data-ttu-id="12b52-161">Como no cenário de primeiro Olá, bases de dados de gestão de Olá são bastante Active Directory para utilizar uma única base de dados georreplicação para o mesmo (1).</span><span class="sxs-lookup"><span data-stu-id="12b52-161">As in hello first scenario, hello management databases are quite active so you use a single geo-replicated database for it (1).</span></span> <span data-ttu-id="12b52-162">Isto assegura um desempenho previsível Olá novas subscrições de cliente, atualizações de perfil e outras operações de gestão.</span><span class="sxs-lookup"><span data-stu-id="12b52-162">This ensures hello predictable performance for new customer subscriptions, profile updates, and other management operations.</span></span> <span data-ttu-id="12b52-163">Olá região na qual residem primaries Olá das bases de dados de gestão de Olá é região primária Olá e região Olá na qual residem secundárias Olá das bases de dados de gestão de Olá é a região de Olá DR.</span><span class="sxs-lookup"><span data-stu-id="12b52-163">hello region in which hello primaries of hello management databases reside is hello primary region and hello region in which hello secondaries of hello management databases reside is hello DR region.</span></span>

<span data-ttu-id="12b52-164">Olá bases de dados de inquilino de pagar clientes tem bases de dados ativas Olá "paga" agrupamento aprovisionado na região primária Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-164">hello paying customers’ tenant databases have active databases in hello “paid” pool provisioned in hello primary region.</span></span> <span data-ttu-id="12b52-165">Aprovisione um conjunto com o mesmo nome na região de Olá DR de Olá secundário.</span><span class="sxs-lookup"><span data-stu-id="12b52-165">Provision a secondary pool with hello same name in hello DR region.</span></span> <span data-ttu-id="12b52-166">Cada inquilino é toohello de georreplicação secundária conjunto (2).</span><span class="sxs-lookup"><span data-stu-id="12b52-166">Each tenant is geo-replicated toohello secondary pool (2).</span></span> <span data-ttu-id="12b52-167">Isto permite uma recuperação rápida de todas as bases de dados inquilino através de ativação pós-falha.</span><span class="sxs-lookup"><span data-stu-id="12b52-167">This enables quick recovery of all tenant databases using failover.</span></span> 

<span data-ttu-id="12b52-168">Se ocorrer uma falha na região primária Olá, Olá toobring de passos de recuperação online a sua aplicação são ilustrado no diagrama seguinte Olá:</span><span class="sxs-lookup"><span data-stu-id="12b52-168">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated in hello next diagram:</span></span>

![figura 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-5.png)

* <span data-ttu-id="12b52-170">Efetuar imediatamente a ativação pós-falha de região de DR do toohello de bases de dados de gestão de Olá (3).</span><span class="sxs-lookup"><span data-stu-id="12b52-170">Immediately fail over hello management databases toohello DR region (3).</span></span>
* <span data-ttu-id="12b52-171">Altere a região de toohello DR de toopoint de cadeia de ligação da aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-171">Change hello application’s connection string toopoint toohello DR region.</span></span> <span data-ttu-id="12b52-172">Agora todas as novas contas e bases de dados de inquilino são criados na região de DR Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-172">Now all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="12b52-173">os clientes de avaliação existente Olá ver os dados temporariamente indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="12b52-173">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="12b52-174">Ativação pós-falha Olá paga agrupamento de toohello de bases de dados do inquilino na Olá DR região tooimmediately restaurar a respetiva disponibilidade (4).</span><span class="sxs-lookup"><span data-stu-id="12b52-174">Fail over hello paid tenant's databases toohello pool in hello DR region tooimmediately restore their availability (4).</span></span> <span data-ttu-id="12b52-175">Uma vez que a ativação pós-falha de Olá é uma alteração do nível de metadados rápido, considere uma otimização onde Olá as ativações pós-falha individuais são acionadas a pedido por ligações de utilizador final Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-175">Since hello failover is a quick metadata level change, consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="12b52-176">Se o tamanho de eDTU do conjunto secundária foi inferior ao hello primário porque Olá secundário bases de dados apenas Olá necessária capacidade tooprocess Olá alteração registos ao foram réplicas secundárias, imediatamente aumentar a capacidade do agrupamento Olá agora tooaccommodate Olá completa carga de trabalho de todos os inquilinos (5).</span><span class="sxs-lookup"><span data-stu-id="12b52-176">If your secondary pool eDTU size was lower than hello primary because hello secondary databases only required hello capacity tooprocess hello change logs while they were secondaries, immediately increase hello pool capacity now tooaccommodate hello full workload of all tenants (5).</span></span> 
* <span data-ttu-id="12b52-177">Criar novo conjunto elástico Olá com Olá mesmo nome e Olá mesmo configuração na região de Olá DR para bases de dados dos clientes Olá avaliação (6).</span><span class="sxs-lookup"><span data-stu-id="12b52-177">Create hello new elastic pool with hello same name and hello same configuration in hello DR region for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="12b52-178">Assim que for criado o conjunto de Olá avaliação clientes, utilize georrestauro toorestore Olá inquilino de avaliação individual as bases de dados para o novo agrupamento de Olá (7).</span><span class="sxs-lookup"><span data-stu-id="12b52-178">Once hello trial customers’ pool is created, use geo-restore toorestore hello individual trial tenant databases into hello new pool (7).</span></span> <span data-ttu-id="12b52-179">Considere a acionar restauros individuais Olá pelas ligações de utilizador final Olá ou utilize outra esquema de prioridade específicas da aplicação.</span><span class="sxs-lookup"><span data-stu-id="12b52-179">Consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

<span data-ttu-id="12b52-180">Neste momento a sua aplicação estiver novamente online na região de DR Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-180">At this point your application is back online in hello DR region.</span></span> <span data-ttu-id="12b52-181">Todos os clientes de pagar têm acesso tootheir dados enquanto os clientes de avaliação Olá experiência atraso quando aceder aos respetivos dados.</span><span class="sxs-lookup"><span data-stu-id="12b52-181">All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="12b52-182">Quando a região primária Olá for recuperada pelo Azure *depois* restaurou aplicação Olá na região de Olá DR pode continuar a execução da aplicação Olá nessa região ou pode decidir região primária do toofail toohello anterior.</span><span class="sxs-lookup"><span data-stu-id="12b52-182">When hello primary region is recovered by Azure *after* you have restored hello application in hello DR region you can continue running hello application in that region or you can decide toofail back toohello primary region.</span></span> <span data-ttu-id="12b52-183">Se for recuperada região primária Olá *antes* conclusão do processo de ativação pós-falha de Olá, considere a falhar back imediato.</span><span class="sxs-lookup"><span data-stu-id="12b52-183">If hello primary region is recovered *before* hello failover process is completed, consider failing back right away.</span></span> <span data-ttu-id="12b52-184">reativação pós-falha da Olá demora passos Olá ilustrados no diagrama seguinte Olá:</span><span class="sxs-lookup"><span data-stu-id="12b52-184">hello failback takes hello steps illustrated in hello next diagram:</span></span> 

![figura 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-6.png)

* <span data-ttu-id="12b52-186">Cancele a todos os pedidos de georrestauro pendentes.</span><span class="sxs-lookup"><span data-stu-id="12b52-186">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="12b52-187">Efetuar a ativação pós-falha de bases de dados de gestão Olá (8).</span><span class="sxs-lookup"><span data-stu-id="12b52-187">Fail over hello management databases (8).</span></span> <span data-ttu-id="12b52-188">Após a recuperação da região de Olá, hello primário antigo automaticamente ficar Olá secundário.</span><span class="sxs-lookup"><span data-stu-id="12b52-188">After hello region’s recovery, hello old primary automatically become hello secondary.</span></span> <span data-ttu-id="12b52-189">Agora, torna-se Olá primário novamente.</span><span class="sxs-lookup"><span data-stu-id="12b52-189">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="12b52-190">Ativação pós-falha Olá paga bases de dados do inquilino (9).</span><span class="sxs-lookup"><span data-stu-id="12b52-190">Fail over hello paid tenant databases (9).</span></span> <span data-ttu-id="12b52-191">De igual modo, após a recuperação da região de Olá, primaries antigo Olá automaticamente tornar-se secundárias Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-191">Similarly, after hello region’s recovery, hello old primaries automatically become hello secondaries.</span></span> <span data-ttu-id="12b52-192">Agora que se tornem primaries Olá novamente.</span><span class="sxs-lookup"><span data-stu-id="12b52-192">Now they become hello primaries again.</span></span> 
* <span data-ttu-id="12b52-193">Conjunto Olá restaurada avaliação bases de dados que foram alterados na região de DR Olá só tooread (10).</span><span class="sxs-lookup"><span data-stu-id="12b52-193">Set hello restored trial databases that have changed in hello DR region tooread-only (10).</span></span>
* <span data-ttu-id="12b52-194">Para cada base de dados no agrupamento de DR de clientes avaliação Olá alterados desde a recuperação de Olá, mude o nome ou eliminar Olá correspondente da base de dados no agrupamento de primário Olá clientes avaliação (11).</span><span class="sxs-lookup"><span data-stu-id="12b52-194">For each database in hello trial customers DR pool that changed since hello recovery, rename or delete hello corresponding database in hello trial customers primary pool (11).</span></span> 
* <span data-ttu-id="12b52-195">Olá cópia atualizada bases de dados de Olá conjunto principal do DR conjunto toohello (12).</span><span class="sxs-lookup"><span data-stu-id="12b52-195">Copy hello updated databases from hello DR pool toohello primary pool (12).</span></span> 
* <span data-ttu-id="12b52-196">Eliminar conjunto de DR Olá (13)</span><span class="sxs-lookup"><span data-stu-id="12b52-196">Delete hello DR pool (13)</span></span> 

> [!NOTE]
> <span data-ttu-id="12b52-197">a operação de ativação pós-falha do Olá é assíncrona.</span><span class="sxs-lookup"><span data-stu-id="12b52-197">hello failover operation is asynchronous.</span></span> <span data-ttu-id="12b52-198">toominimize hora da recuperação Olá é importante que executar o comando de ativação pós-falha dos Olá inquilino bases de dados em lotes de, pelo menos, 20 bases de dados.</span><span class="sxs-lookup"><span data-stu-id="12b52-198">toominimize hello recovery time it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 
> 

<span data-ttu-id="12b52-199">chave de Olá **beneficiar** desta estratégia é que proporciona SLA mais elevado de Olá Olá pagar com clientes.</span><span class="sxs-lookup"><span data-stu-id="12b52-199">hello key **benefit** of this strategy is that it provides hello highest SLA for hello paying customers.</span></span> <span data-ttu-id="12b52-200">Esta ação garante também que avaliações novo Olá estiverem desbloqueadas, assim como Olá avaliação DR conjunto for criado.</span><span class="sxs-lookup"><span data-stu-id="12b52-200">It also guarantees that hello new trials are unblocked as soon as hello trial DR pool is created.</span></span> <span data-ttu-id="12b52-201">Olá **compromisso** é que esta configuração aumenta o custo total Olá das bases de dados do Olá inquilino ao custo de Olá do conjunto de secundário DR Olá para paga clientes.</span><span class="sxs-lookup"><span data-stu-id="12b52-201">hello **trade-off** is that this setup increases hello total cost of hello tenant databases by hello cost of hello secondary DR pool for paid customers.</span></span> <span data-ttu-id="12b52-202">Além disso, se o agrupamento secundário Olá tem um tamanho diferente, os clientes de pagar Olá experiência de desempenho inferior após a ativação pós-falha até hello conjunto conclusão da atualização na região de Olá DR.</span><span class="sxs-lookup"><span data-stu-id="12b52-202">In addition, if hello secondary pool has a different size, hello paying customers experience lower performance after failover until hello pool upgrade in hello DR region is completed.</span></span> 

## <a name="scenario-3-geographically-distributed-application-with-tiered-service"></a><span data-ttu-id="12b52-203">Cenário 3.</span><span class="sxs-lookup"><span data-stu-id="12b52-203">Scenario 3.</span></span> <span data-ttu-id="12b52-204">Aplicação distribuída geograficamente com o serviço em camadas</span><span class="sxs-lookup"><span data-stu-id="12b52-204">Geographically distributed application with tiered service</span></span>
<span data-ttu-id="12b52-205"><i>Tenho uma aplicação SaaS madura com ofertas de serviço em camadas. Posso pretende toooffer um toomy SLA muito agressiva paga clientes e minimizar o risco de Olá de impacto quando ocorrem falhas porque interrupção breve mesmo pode causar insatisfação de cliente. É fundamental que Olá pagar com os clientes pode sempre aceder aos respetivos dados. avaliações de Olá são gratuitas e um SLA não é oferecido durante o período de avaliação de Olá.</i></span><span class="sxs-lookup"><span data-stu-id="12b52-205"><i>I have a mature SaaS application with tiered service offers. I want toooffer a very aggressive SLA toomy paid customers and minimize hello risk of impact when outages occur because even brief interruption can cause customer dissatisfaction. It is critical that hello paying customers can always access their data. hello trials are free and an SLA is not offered during hello trial period. </i></span></span> 

<span data-ttu-id="12b52-206">toosupport neste cenário, utilize separado do três conjuntos elásticos.</span><span class="sxs-lookup"><span data-stu-id="12b52-206">toosupport this scenario, use three separate elastic pools.</span></span> <span data-ttu-id="12b52-207">Aprovisionar conjuntos de tamanho igual dois com elevada eDTUs por base de dados em dois Olá de toocontain regiões diferentes paga inquilino as bases de dados dos clientes.</span><span class="sxs-lookup"><span data-stu-id="12b52-207">Provision two equal size pools with high eDTUs per database in two different regions toocontain hello paid customers' tenant databases.</span></span> <span data-ttu-id="12b52-208">o conjunto de terceiro Olá com inquilinos avaliação Olá pode ter inferior eDTUs por base de dados e aprovisionamento de uma das duas regiões de Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-208">hello third pool containing hello trial tenants can have lower eDTUs per database and be provisioned in one of hello two regions.</span></span>

<span data-ttu-id="12b52-209">tooguarantee Olá menor tempo de recuperação durante a falhas, bases de dados de inquilino de Olá pagar clientes são georreplicação com 50% das bases de dados primária Olá em cada uma das regiões Olá dois.</span><span class="sxs-lookup"><span data-stu-id="12b52-209">tooguarantee hello lowest recovery time during outages, hello paying customers' tenant databases are geo-replicated with 50% of hello primary databases in each of hello two regions.</span></span> <span data-ttu-id="12b52-210">Da mesma forma, cada região tem 50% das bases de dados secundária Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-210">Similarly, each region has 50% of hello secondary databases.</span></span> <span data-ttu-id="12b52-211">Desta forma, se uma região estiver offline, os apenas 50% do Olá paga bases de dados de clientes são afetados e têm toofail sobre.</span><span class="sxs-lookup"><span data-stu-id="12b52-211">This way, if a region is offline, only 50% of hello paid customers' databases are impacted and have toofail over.</span></span> <span data-ttu-id="12b52-212">Olá outras bases de dados permanecem intactas.</span><span class="sxs-lookup"><span data-stu-id="12b52-212">hello other databases remain intact.</span></span> <span data-ttu-id="12b52-213">Esta configuração é ilustrada no Olá diagrama a seguir:</span><span class="sxs-lookup"><span data-stu-id="12b52-213">This configuration is illustrated in hello following diagram:</span></span>

![Figura 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-7.png)

<span data-ttu-id="12b52-215">Como em cenários de anterior Olá, bases de dados de gestão de Olá são bastante Active Directory, por isso, configurá-las como único georreplicação bases de dados (1).</span><span class="sxs-lookup"><span data-stu-id="12b52-215">As in hello previous scenarios, hello management databases are quite active so configure them as single geo-replicated databases (1).</span></span> <span data-ttu-id="12b52-216">Isto assegura um desempenho previsível Olá de subscrições de cliente novo Olá, atualizações de perfil e outras operações de gestão.</span><span class="sxs-lookup"><span data-stu-id="12b52-216">This ensures hello predictable performance of hello new customer subscriptions, profile updates and other management operations.</span></span> <span data-ttu-id="12b52-217">Região A região primária de Olá para bases de dados de gestão de Olá e região Olá B é utilizada para recuperação de bases de dados de gestão de Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-217">Region A is hello primary region for hello management databases and hello region B is used for recovery of hello management databases.</span></span>

<span data-ttu-id="12b52-218">inquilino as bases de dados Olá pagar clientes são também georreplicação mas com primaries e bases de dados secundárias divididas entre região A e região B (2).</span><span class="sxs-lookup"><span data-stu-id="12b52-218">hello paying customers’ tenant databases are also geo-replicated but with primaries and secondaries split between region A and region B (2).</span></span> <span data-ttu-id="12b52-219">Desta forma, Olá inquilino principal bases de dados afetados pela indisponibilidade de Olá podem efetuar a ativação pós-falha toohello outra região e fique disponível.</span><span class="sxs-lookup"><span data-stu-id="12b52-219">This way, hello tenant primary databases impacted by hello outage can fail over toohello other region and become available.</span></span> <span data-ttu-id="12b52-220">Olá outro metade das bases de dados de inquilino de Olá não são ser afetado de todo.</span><span class="sxs-lookup"><span data-stu-id="12b52-220">hello other half of hello tenant databases are not be impacted at all.</span></span> 

<span data-ttu-id="12b52-221">diagrama seguinte Olá ilustra tootake de passos de recuperação Olá se ocorrer uma falha na região A.</span><span class="sxs-lookup"><span data-stu-id="12b52-221">hello next diagram illustrates hello recovery steps tootake if  an outage occurs in region A.</span></span>

![figura 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-8.png)

* <span data-ttu-id="12b52-223">Efetuar imediatamente a ativação pós-falha tooregion de bases de dados de gestão de Olá B (3).</span><span class="sxs-lookup"><span data-stu-id="12b52-223">Immediately fail over hello management databases tooregion B (3).</span></span>
* <span data-ttu-id="12b52-224">Alterar ligação cadeia toopoint toohello gestão bases de dados da aplicação Olá numa região B. Modifique Olá gestão bases de dados toomake se novas contas de Olá e bases de dados de inquilino são criados na região B e Olá existente inquilino as bases de dados encontram-se não existe como bem.</span><span class="sxs-lookup"><span data-stu-id="12b52-224">Change hello application’s connection string toopoint toohello management databases in region B. Modify hello management databases toomake sure hello new accounts and tenant databases are created in region B and hello existing tenant databases are found there as well.</span></span> <span data-ttu-id="12b52-225">os clientes de avaliação existente Olá ver os dados temporariamente indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="12b52-225">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="12b52-226">Ativação pós-falha Olá paga toopool de bases de dados do inquilino 2 na região B tooimmediately restaurar a respetiva disponibilidade (4).</span><span class="sxs-lookup"><span data-stu-id="12b52-226">Fail over hello paid tenant's databases toopool 2 in region B tooimmediately restore their availability (4).</span></span> <span data-ttu-id="12b52-227">Uma vez que a ativação pós-falha de Olá é uma alteração do nível de metadados rápido, pode considerar otimização onde Olá as ativações pós-falha individuais são acionadas a pedido por ligações de utilizador final Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-227">Since hello failover is a quick metadata level change, you may consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="12b52-228">Desde agora conjunto 2 contém apenas as bases de dados primárias, Olá carga de trabalho total no Olá conjunto aumenta e imediatamente pode aumentar o tamanho de eDTU (5).</span><span class="sxs-lookup"><span data-stu-id="12b52-228">Since now pool 2 contains only primary databases, hello total workload in hello pool increases and can immediately increase its eDTU size (5).</span></span> 
* <span data-ttu-id="12b52-229">Criar novo conjunto elástico Olá com Olá mesmo nome e Olá mesmo configuração na região de Olá B para bases de dados dos clientes Olá avaliação (6).</span><span class="sxs-lookup"><span data-stu-id="12b52-229">Create hello new elastic pool with hello same name and hello same configuration in hello region B for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="12b52-230">Uma vez Olá é criado conjunto utilize georrestauro toorestore Olá individuais inquilino de avaliação da base de dados num agrupamento de Olá (7).</span><span class="sxs-lookup"><span data-stu-id="12b52-230">Once hello pool is created use geo-restore toorestore hello individual trial tenant database into hello pool (7).</span></span> <span data-ttu-id="12b52-231">Pode considerar a acionar restauros individuais Olá pelas ligações de utilizador final Olá ou utilize outra esquema de prioridade específicas da aplicação.</span><span class="sxs-lookup"><span data-stu-id="12b52-231">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

> [!NOTE]
> <span data-ttu-id="12b52-232">a operação de ativação pós-falha do Olá é assíncrona.</span><span class="sxs-lookup"><span data-stu-id="12b52-232">hello failover operation is asynchronous.</span></span> <span data-ttu-id="12b52-233">tempo de recuperação do toominimize Olá, é importante que executar o comando de ativação pós-falha dos Olá inquilino bases de dados em lotes de, pelo menos, 20 bases de dados.</span><span class="sxs-lookup"><span data-stu-id="12b52-233">toominimize hello recovery time, it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 

<span data-ttu-id="12b52-234">Neste momento a aplicação estiver novamente online na região B. Todos os clientes de pagar têm acesso tootheir dados enquanto os clientes de avaliação Olá experiência atraso quando aceder aos respetivos dados.</span><span class="sxs-lookup"><span data-stu-id="12b52-234">At this point your application is back online in region B. All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="12b52-235">Quando a região A for recuperada terá de toodecide se pretender toouse região B para clientes de avaliação ou a reativação pós-falha toousing Olá um conjunto de clientes avaliação na região A. Um critério pode ser Olá % das bases de dados do inquilino de avaliação modificada uma vez que a recuperação de Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-235">When region A is recovered you need toodecide if you want toouse region B for trial customers or failback toousing hello trial customers pool in region A. One criteria could be hello % of trial tenant databases modified since hello recovery.</span></span> <span data-ttu-id="12b52-236">Independentemente desse decisão, terá de toore balancear Olá paga inquilinos entre dois conjuntos.</span><span class="sxs-lookup"><span data-stu-id="12b52-236">Regardless of that decision, you need toore-balance hello paid tenants between two pools.</span></span> <span data-ttu-id="12b52-237">diagrama seguinte Olá ilustra o processo de Olá bases de dados de inquilino de avaliação de Olá falharem tooregion back-a.</span><span class="sxs-lookup"><span data-stu-id="12b52-237">hello next diagram illustrates hello process when hello trial tenant databases fail back tooregion A.</span></span>  

![figura 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-9.png)

* <span data-ttu-id="12b52-239">Cancele a todo o agrupamento de tootrial DR pedidos pendentes georrestauro.</span><span class="sxs-lookup"><span data-stu-id="12b52-239">Cancel all outstanding geo-restore requests tootrial DR pool.</span></span>   
* <span data-ttu-id="12b52-240">Efetuar a ativação pós-falha da base de dados de gestão Olá (8).</span><span class="sxs-lookup"><span data-stu-id="12b52-240">Fail over hello management database (8).</span></span> <span data-ttu-id="12b52-241">Após a recuperação da região de Olá, o principal anterior Olá ficou automaticamente Olá secundário.</span><span class="sxs-lookup"><span data-stu-id="12b52-241">After hello region’s recovery, hello old primary automatically became hello secondary.</span></span> <span data-ttu-id="12b52-242">Agora, torna-se Olá primário novamente.</span><span class="sxs-lookup"><span data-stu-id="12b52-242">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="12b52-243">Selecione as bases de dados do inquilino paga falharem back toopool 1 e iniciar ativação pós-falha tootheir secundárias (9).</span><span class="sxs-lookup"><span data-stu-id="12b52-243">Select which paid tenant databases fail back toopool 1 and initiate failover tootheir secondaries (9).</span></span> <span data-ttu-id="12b52-244">Após a recuperação da região de Olá, todas as bases de dados no conjunto 1 automaticamente deixou de estar bases de dados secundárias.</span><span class="sxs-lookup"><span data-stu-id="12b52-244">After hello region’s recovery, all databases in pool 1 automatically became secondaries.</span></span> <span data-ttu-id="12b52-245">Agora a 50% deles ficar primaries novamente.</span><span class="sxs-lookup"><span data-stu-id="12b52-245">Now 50% of them become primaries again.</span></span> 
* <span data-ttu-id="12b52-246">Reduza o tamanho de Olá de eDTU do conjunto 2 toohello original (10).</span><span class="sxs-lookup"><span data-stu-id="12b52-246">Reduce hello size of pool 2 toohello original eDTU (10).</span></span>
* <span data-ttu-id="12b52-247">Conjunto de todos os restaurar bases de dados de avaliação numa região de Olá B só tooread (11).</span><span class="sxs-lookup"><span data-stu-id="12b52-247">Set all restored trial databases in hello region B tooread-only (11).</span></span>
* <span data-ttu-id="12b52-248">Para cada base de dados no agrupamento DR avaliação Olá que tenha sido alterado desde a recuperação de Olá, mude o nome ou eliminar Olá correspondente da base de dados no agrupamento principal avaliação Olá (12).</span><span class="sxs-lookup"><span data-stu-id="12b52-248">For each database in hello trial DR pool that has changed since hello recovery, rename or delete hello corresponding database in hello trial primary pool (12).</span></span> 
* <span data-ttu-id="12b52-249">Olá cópia atualizada bases de dados de Olá conjunto principal do DR conjunto toohello (13).</span><span class="sxs-lookup"><span data-stu-id="12b52-249">Copy hello updated databases from hello DR pool toohello primary pool (13).</span></span> 
* <span data-ttu-id="12b52-250">Eliminar conjunto de DR Olá (14)</span><span class="sxs-lookup"><span data-stu-id="12b52-250">Delete hello DR pool (14)</span></span> 

<span data-ttu-id="12b52-251">chave de Olá **vantagens** desta estratégia são:</span><span class="sxs-lookup"><span data-stu-id="12b52-251">hello key **benefits** of this strategy are:</span></span>

* <span data-ttu-id="12b52-252">Suporta SLA mais agressiva Olá para Olá pagar com os clientes, porque garante que uma falha não pode afetar mais de 50% das bases de dados do Olá inquilino.</span><span class="sxs-lookup"><span data-stu-id="12b52-252">It supports hello most aggressive SLA for hello paying customers because it ensures that an outage cannot impact more than 50% of hello tenant databases.</span></span> 
* <span data-ttu-id="12b52-253">Garante que avaliações novo Olá estiverem desbloqueadas, assim que o registo de Olá DR conjunto é criado durante a recuperação de Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-253">It guarantees that hello new trials are unblocked as soon as hello trail DR pool is created during hello recovery.</span></span> 
* <span data-ttu-id="12b52-254">Permite uma utilização mais eficiente da capacidade de agrupamento de Olá como 50% das bases de dados secundárias no conjunto 1 e conjunto 2 garantidos toobe menos ativas que bases de dados primária Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-254">It allows more efficient use of hello pool capacity as 50% of secondary databases in pool 1 and pool 2 are guaranteed toobe less active than hello primary databases.</span></span>

<span data-ttu-id="12b52-255">Olá principal **compromissos** são:</span><span class="sxs-lookup"><span data-stu-id="12b52-255">hello main **trade-offs** are:</span></span>

* <span data-ttu-id="12b52-256">as operações CRUD Olá bases de dados de gestão de Olá têm uma latência inferior para Olá os utilizadores finais ligados tooregion A que para os utilizadores finais ligados de Olá tooregion B, tal como que são executadas contra Olá primária do bases de dados de gestão de Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-256">hello CRUD operations against hello management databases have lower latency for hello end users connected tooregion A than for hello end users connected tooregion B as they are executed against hello primary of hello management databases.</span></span>
* <span data-ttu-id="12b52-257">Requer mais complexa conceção da base de dados de gestão de Olá.</span><span class="sxs-lookup"><span data-stu-id="12b52-257">It requires more complex design of hello management database.</span></span> <span data-ttu-id="12b52-258">Por exemplo, cada registo de inquilino tem uma tag de localização que tem toobe foi alterado durante a ativação pós-falha e a reativação pós-falha.</span><span class="sxs-lookup"><span data-stu-id="12b52-258">For example, each tenant record has a location tag that needs toobe changed during failover and failback.</span></span>  
* <span data-ttu-id="12b52-259">Olá pagar com os clientes pode ter um desempenho inferior do que o habitual até hello conjunto conclusão da atualização na região B.</span><span class="sxs-lookup"><span data-stu-id="12b52-259">hello paying customers may experience lower performance than usual until hello pool upgrade in region B is completed.</span></span> 

## <a name="summary"></a><span data-ttu-id="12b52-260">Resumo</span><span class="sxs-lookup"><span data-stu-id="12b52-260">Summary</span></span>
<span data-ttu-id="12b52-261">Este artigo incida no estratégias de recuperação de desastre Olá para a camada de base de dados de Olá utilizado por uma aplicação de multi-inquilino de SaaS ISV.</span><span class="sxs-lookup"><span data-stu-id="12b52-261">This article focuses on hello disaster recovery strategies for hello database tier used by a SaaS ISV multi-tenant application.</span></span> <span data-ttu-id="12b52-262">Olá estratégia escolher baseia-se nas necessidades de Olá da aplicação Olá, tais como o modelo de negócio Olá, Olá SLA pretender que os clientes do toooffer tooyour, budget restrição etc. Cada descrito estratégia destaca Olá benefícios e compromisso pelo que pode tomar uma decisão informada.</span><span class="sxs-lookup"><span data-stu-id="12b52-262">hello strategy you choose is based on hello needs of hello application, such as hello business model, hello SLA you want toooffer tooyour customers, budget constraint etc. Each described strategy outlines hello benefits and trade-off so you could make an informed decision.</span></span> <span data-ttu-id="12b52-263">Além disso, a aplicação específica provável inclui outros componentes do Azure.</span><span class="sxs-lookup"><span data-stu-id="12b52-263">Also, your specific application likely includes other Azure components.</span></span> <span data-ttu-id="12b52-264">Assim, reveja as orientações de continuidade de negócio e orquestrar recuperação Olá da camada de base de dados de Olá com os mesmos.</span><span class="sxs-lookup"><span data-stu-id="12b52-264">So you review their business continuity guidance and orchestrate hello recovery of hello database tier with them.</span></span> <span data-ttu-id="12b52-265">toolearn mais sobre a gestão de recuperação de aplicações de base de dados no Azure, consulte demasiado[estruturar soluções de nuvem de recuperação após desastre](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="12b52-265">toolearn more about managing recovery of database applications in Azure, refer too[Designing cloud solutions for disaster recovery](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span></span>  

## <a name="next-steps"></a><span data-ttu-id="12b52-266">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="12b52-266">Next steps</span></span>
* <span data-ttu-id="12b52-267">toolearn sobre cópias de segurança automatizada de SQL Database do Azure, consulte [cópias de segurança automatizadas de base de dados SQL](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="12b52-267">toolearn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="12b52-268">Para cenários e uma descrição geral de continuidade de negócio, consulte [descrição geral da continuidade do negócio](sql-database-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="12b52-268">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md).</span></span>
* <span data-ttu-id="12b52-269">toolearn sobre a utilização de cópias de segurança automatizadas para recuperação, consulte [restaurar uma base de dados de cópias de segurança de iniciou o serviço Olá](sql-database-recovery-using-backups.md).</span><span class="sxs-lookup"><span data-stu-id="12b52-269">toolearn about using automated backups for recovery, see [restore a database from hello service-initiated backups](sql-database-recovery-using-backups.md).</span></span>
* <span data-ttu-id="12b52-270">toolearn sobre as opções de recuperação mais rápidas, consulte [georreplicação ativa](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="12b52-270">toolearn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md).</span></span>
* <span data-ttu-id="12b52-271">toolearn sobre a utilização de cópias de segurança automatizadas para arquivar, consulte [cópia da base de dados](sql-database-copy.md).</span><span class="sxs-lookup"><span data-stu-id="12b52-271">toolearn about using automated backups for archiving, see [database copy](sql-database-copy.md).</span></span>

