---
title: "as credenciais de aaaManaging na biblioteca de clientes de base de dados elástica Olá | Microsoft Docs"
description: "Como tooset Olá nível adequado de credenciais, administrador tooread só, para aplicações de base de dados elástica"
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
editor: 
ms.assetid: 72e0edaf-795e-4856-84a5-6594f735fb7e
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/24/2016
ms.author: ddove
ms.openlocfilehash: 218783ca2a07e3c0a4b089aa92634f32c41386e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="credentials-used-tooaccess-hello-elastic-database-client-library"></a><span data-ttu-id="e39d7-103">As credenciais utilizadas biblioteca de clientes do tooaccess Olá base de dados elástica</span><span class="sxs-lookup"><span data-stu-id="e39d7-103">Credentials used tooaccess hello Elastic Database client library</span></span>
<span data-ttu-id="e39d7-104">Olá [biblioteca de clientes de base de dados elástica](http://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/) utiliza três tipos diferentes de Olá de tooaccess credenciais [Gestor de mapa de partições horizontais](sql-database-elastic-scale-shard-map-management.md).</span><span class="sxs-lookup"><span data-stu-id="e39d7-104">hello [Elastic Database client library](http://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/) uses three different kinds  of credentials tooaccess hello [shard map manager](sql-database-elastic-scale-shard-map-management.md).</span></span> <span data-ttu-id="e39d7-105">Consoante a necessidade de Olá, utilize credencial de Olá com o nível mais baixo de Olá de possíveis de acesso.</span><span class="sxs-lookup"><span data-stu-id="e39d7-105">Depending on hello need, use hello credential with  hello lowest level of access possible.</span></span>

* <span data-ttu-id="e39d7-106">**Credenciais de gestão**: para criar ou manipular um Gestor de mapa de partições horizontais.</span><span class="sxs-lookup"><span data-stu-id="e39d7-106">**Management credentials**: for creating or manipulating a shard map manager.</span></span> <span data-ttu-id="e39d7-107">(Consulte Olá [glossário](sql-database-elastic-scale-glossary.md).)</span><span class="sxs-lookup"><span data-stu-id="e39d7-107">(See hello [glossary](sql-database-elastic-scale-glossary.md).)</span></span> 
* <span data-ttu-id="e39d7-108">**Aceder às credenciais**: tooaccess um ID de partição horizontal existente mapear informações do Gestor de tooobtain sobre shards.</span><span class="sxs-lookup"><span data-stu-id="e39d7-108">**Access credentials**: tooaccess an existing shard map manager tooobtain information about shards.</span></span>
* <span data-ttu-id="e39d7-109">**As credenciais de ligação**: tooconnect tooshards.</span><span class="sxs-lookup"><span data-stu-id="e39d7-109">**Connection credentials**: tooconnect tooshards.</span></span> 

<span data-ttu-id="e39d7-110">Consulte também [gerir bases de dados e inícios de sessão SQL Database do Azure](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="e39d7-110">See also [Managing databases and logins in Azure SQL Database](sql-database-manage-logins.md).</span></span> 

## <a name="about-management-credentials"></a><span data-ttu-id="e39d7-111">Sobre as credenciais de gestão</span><span class="sxs-lookup"><span data-stu-id="e39d7-111">About management credentials</span></span>
<span data-ttu-id="e39d7-112">Credenciais de gestão são utilizado toocreate um [ **ShardMapManager** ](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.aspx) objeto para as aplicações que manipular mapas de partições horizontais.</span><span class="sxs-lookup"><span data-stu-id="e39d7-112">Management credentials are used toocreate a [**ShardMapManager**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.aspx) object for applications that manipulate shard maps.</span></span> <span data-ttu-id="e39d7-113">(Por exemplo, consulte [adição de uma partição horizontal com as ferramentas de base de dados elástica](sql-database-elastic-scale-add-a-shard.md) e [dados dependentes encaminhamento](sql-database-elastic-scale-data-dependent-routing.md)) utilizador Olá da biblioteca de clientes do dimensionamento elástico Olá cria os utilizadores do SQL Server de Olá e inícios de sessão do SQL Server e certifica-se de cada uma é concedidos permissões de leitura/escrita Olá no ID de partição horizontal global Olá mapeiam a base de dados e todas as partições horizontais bases de dados bem.</span><span class="sxs-lookup"><span data-stu-id="e39d7-113">(For example, see [Adding a shard using Elastic Database tools](sql-database-elastic-scale-add-a-shard.md) and [Data dependent routing](sql-database-elastic-scale-data-dependent-routing.md)) hello user of hello elastic scale client library creates hello SQL users and SQL logins and makes sure each is granted hello read/write permissions on hello global shard map database and all shard databases as well.</span></span> <span data-ttu-id="e39d7-114">Estas credenciais são mapa de partições horizontais global de Olá toomaintain utilizado e mapas de partições horizontais local Olá quando forem efetuadas alterações toohello partições horizontais mapa.</span><span class="sxs-lookup"><span data-stu-id="e39d7-114">These credentials are used toomaintain hello global shard map and hello local shard maps when changes toohello shard map are performed.</span></span> <span data-ttu-id="e39d7-115">Por exemplo, utilize Olá gestão credenciais toocreate Olá partições horizontais mapa objecto do Gestor de (utilizando [ **GetSqlShardMapManager**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.getsqlshardmapmanager.aspx):</span><span class="sxs-lookup"><span data-stu-id="e39d7-115">For instance, use hello management credentials toocreate hello shard map manager object (using [**GetSqlShardMapManager**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanagerfactory.getsqlshardmapmanager.aspx):</span></span> 

    // Obtain a shard map manager. 
    ShardMapManager shardMapManager = ShardMapManagerFactory.GetSqlShardMapManager( 
            smmAdminConnectionString, 
            ShardMapManagerLoadPolicy.Lazy 
    ); 

<span data-ttu-id="e39d7-116">variável de Olá **smmAdminConnectionString** é uma cadeia de ligação que contém as credenciais de gestão de Olá.</span><span class="sxs-lookup"><span data-stu-id="e39d7-116">hello variable **smmAdminConnectionString** is a connection string that contains hello management credentials.</span></span> <span data-ttu-id="e39d7-117">Olá ID de utilizador e palavra-passe fornece a base de dados de leitura/escrita acesso tooboth partições horizontais mapa e shards individuais.</span><span class="sxs-lookup"><span data-stu-id="e39d7-117">hello user ID and password provides read/write access tooboth shard map database and individual shards.</span></span> <span data-ttu-id="e39d7-118">cadeia de ligação de gestão de Olá também inclui Olá servidor nome e a base de dados nome tooidentify Olá partições horizontais global mapa da base de dados.</span><span class="sxs-lookup"><span data-stu-id="e39d7-118">hello management connection string also includes hello server name and database name tooidentify hello global shard map database.</span></span> <span data-ttu-id="e39d7-119">Eis uma cadeia de ligação típico para essa finalidade:</span><span class="sxs-lookup"><span data-stu-id="e39d7-119">Here is a typical connection string for that purpose:</span></span>

     "Server=<yourserver>.database.windows.net;Database=<yourdatabase>;User ID=<yourmgmtusername>;Password=<yourmgmtpassword>;Trusted_Connection=False;Encrypt=True;Connection Timeout=30;” 

<span data-ttu-id="e39d7-120">Não utilize valores no formulário de Olá de "username@server" — em vez disso, basta utilizar o valor de "nomedeutilizador" Olá.</span><span class="sxs-lookup"><span data-stu-id="e39d7-120">Do not use values in hello form of "username@server"—instead just use hello "username" value.</span></span>  <span data-ttu-id="e39d7-121">Isto acontece porque as credenciais tem de trabalhar contra Olá a base de dados de Gestor de mapa do ID de partição horizontal e shards individuais, o que poderão estar em servidores diferentes.</span><span class="sxs-lookup"><span data-stu-id="e39d7-121">This is because credentials must work against both hello shard map manager database and individual shards, which may be on different servers.</span></span>

## <a name="access-credentials"></a><span data-ttu-id="e39d7-122">Credenciais de acesso</span><span class="sxs-lookup"><span data-stu-id="e39d7-122">Access credentials</span></span>
<span data-ttu-id="e39d7-123">Quando criar um ID de partição horizontal mapa manager numa aplicação que não administrar partições horizontais maps, utilize as credenciais que têm permissões só de leitura no mapa de partições horizontais global Olá.</span><span class="sxs-lookup"><span data-stu-id="e39d7-123">When creating a shard map manager in an application that does not administer shard maps, use credentials that have read-only permissions on hello global shard map.</span></span> <span data-ttu-id="e39d7-124">Olá informações obtidas a partir de mapa de partições horizontais global Olá estas credenciais são utilizadas para [encaminhamento de dados dependentes](sql-database-elastic-scale-data-dependent-routing.md) e toopopulate Olá ID de partição horizontal cache no cliente Olá do mapa.</span><span class="sxs-lookup"><span data-stu-id="e39d7-124">hello information retrieved from hello global shard map under these credentials are used for [data-dependent routing](sql-database-elastic-scale-data-dependent-routing.md) and toopopulate hello shard map cache on hello client.</span></span> <span data-ttu-id="e39d7-125">Olá credenciais são fornecidas através de Olá mesmo chamar padrão demasiado**GetSqlShardMapManager** conforme mostrado acima:</span><span class="sxs-lookup"><span data-stu-id="e39d7-125">hello credentials are provided through hello same call pattern too**GetSqlShardMapManager** as shown above:</span></span> 

    // Obtain shard map manager. 
    ShardMapManager shardMapManager = ShardMapManagerFactory.GetSqlShardMapManager( 
            smmReadOnlyConnectionString, 
            ShardMapManagerLoadPolicy.Lazy
    );  

<span data-ttu-id="e39d7-126">Tenha em atenção a utilização de Olá de Olá **smmReadOnlyConnectionString** tooreflect Olá utilização credenciais diferentes para este acesso em nome de **não admin** utilizadores: estas credenciais não devem fornecer escrita permissões no mapa de partições horizontais global Olá.</span><span class="sxs-lookup"><span data-stu-id="e39d7-126">Note hello use of hello **smmReadOnlyConnectionString** tooreflect hello use of different credentials for this access on behalf of **non-admin** users: these credentials should not provide write permissions on hello global shard map.</span></span> 

## <a name="connection-credentials"></a><span data-ttu-id="e39d7-127">Credenciais de ligação</span><span class="sxs-lookup"><span data-stu-id="e39d7-127">Connection credentials</span></span>
<span data-ttu-id="e39d7-128">Credenciais adicionais necessários ao utilizar Olá [ **OpenConnectionForKey** ](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmap.openconnectionforkey.aspx) método tooaccess uma partição horizontal associado com uma chave de fragmentação.</span><span class="sxs-lookup"><span data-stu-id="e39d7-128">Additional credentials are needed when using hello [**OpenConnectionForKey**](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmap.openconnectionforkey.aspx) method tooaccess a shard associated with a sharding key.</span></span> <span data-ttu-id="e39d7-129">Estas credenciais têm tooprovide permissões para acesso só de leitura toohello partições horizontais local mapa as tabelas que reside no ID de partição horizontal Olá.</span><span class="sxs-lookup"><span data-stu-id="e39d7-129">These credentials need tooprovide permissions for read-only access toohello local shard map tables residing on hello shard.</span></span> <span data-ttu-id="e39d7-130">Esta é a validação da ligação tooperform necessários para o encaminhamento de dados dependentes no ID de partição horizontal Olá.</span><span class="sxs-lookup"><span data-stu-id="e39d7-130">This is needed tooperform connection validation for data-dependent routing on hello shard.</span></span> <span data-ttu-id="e39d7-131">Este fragmento de código permite o acesso de dados no contexto de Olá de dados dependentes encaminhamento:</span><span class="sxs-lookup"><span data-stu-id="e39d7-131">This code snippet allows data access in hello context of data dependent routing:</span></span> 

    using (SqlConnection conn = rangeMap.OpenConnectionForKey<int>( 
    targetWarehouse, smmUserConnectionString, ConnectionOptions.Validate)) 

<span data-ttu-id="e39d7-132">Neste exemplo, **smmUserConnectionString** contém a cadeia de ligação de Olá para Olá credenciais de utilizador.</span><span class="sxs-lookup"><span data-stu-id="e39d7-132">In this example, **smmUserConnectionString** holds hello connection string for hello user credentials.</span></span> <span data-ttu-id="e39d7-133">Para a BD SQL do Azure, é uma cadeia de ligação típicos para as credenciais de utilizador:</span><span class="sxs-lookup"><span data-stu-id="e39d7-133">For Azure SQL DB, here is a typical connection string for user credentials:</span></span> 

    "User ID=<yourusername>; Password=<youruserpassword>; Trusted_Connection=False; Encrypt=True; Connection Timeout=30;”  

<span data-ttu-id="e39d7-134">Tal como acontece com as credenciais de administrador Olá, não os valores no formulário de Olá de "username@server".</span><span class="sxs-lookup"><span data-stu-id="e39d7-134">As with hello admin credentials, do not values in hello form of "username@server".</span></span> <span data-ttu-id="e39d7-135">Em alternativa, utilize "nomedeutilizador" apenas.</span><span class="sxs-lookup"><span data-stu-id="e39d7-135">Instead, just use "username".</span></span>  <span data-ttu-id="e39d7-136">Note também que cadeia de ligação de Olá não contém um nome de servidor e um nome de base de dados.</span><span class="sxs-lookup"><span data-stu-id="e39d7-136">Also note that hello connection string does not contain a server name and database name.</span></span> <span data-ttu-id="e39d7-137">Isto acontece porque Olá **OpenConnectionForKey** chamada irá encaminhar automaticamente Olá ligação toohello partições horizontais com base na chave de Olá correto.</span><span class="sxs-lookup"><span data-stu-id="e39d7-137">That is because hello **OpenConnectionForKey** call will automatically direct hello connection toohello correct shard based on hello key.</span></span> <span data-ttu-id="e39d7-138">Por conseguinte, nome de base de dados de Olá e nome do servidor não são fornecidos.</span><span class="sxs-lookup"><span data-stu-id="e39d7-138">Hence, hello database name and server name are not provided.</span></span> 

## <a name="see-also"></a><span data-ttu-id="e39d7-139">Consultar também</span><span class="sxs-lookup"><span data-stu-id="e39d7-139">See also</span></span>
[<span data-ttu-id="e39d7-140">Gerir bases de dados e inícios de sessão na Base de Dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="e39d7-140">Managing databases and logins in Azure SQL Database</span></span>](sql-database-manage-logins.md)

[<span data-ttu-id="e39d7-141">Securing your SQL Database (Proteger a sua Base de Dados SQL)</span><span class="sxs-lookup"><span data-stu-id="e39d7-141">Securing your SQL Database</span></span>](sql-database-security-overview.md)

[<span data-ttu-id="e39d7-142">Introdução às tarefas de base de dados elástica</span><span class="sxs-lookup"><span data-stu-id="e39d7-142">Getting started with Elastic Database jobs</span></span>](sql-database-elastic-jobs-getting-started.md)

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

