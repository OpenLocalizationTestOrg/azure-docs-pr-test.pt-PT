---
title: aaaExport um ficheiro BACPAC de tooa de base de dados SQL do Azure | Microsoft Docs
description: "Exportar um ficheiro de tooa da base de dados do SQL do Azure BACPAC utilizando Olá Portal do Azure"
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: 41d63a97-37db-4e40-b652-77c2fd1c09b7
ms.service: sql-database
ms.custom: load & move data
ms.devlang: NA
ms.date: 06/15/2017
ms.author: carlrab
ms.workload: data-management
ms.topic: article
ms.tgt_pltfrm: NA
ms.openlocfilehash: cb3b4227318e0fd2114529c86c9792615fe7fd1f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="export-an-azure-sql-database-tooa-bacpac-file"></a><span data-ttu-id="d0aa5-103">Exportar um ficheiro de BACPAC de tooa de base de dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="d0aa5-103">Export an Azure SQL database tooa BACPAC file</span></span>

<span data-ttu-id="d0aa5-104">Quando precisar de tooexport uma base de dados para arquivar ou para mover tooanother plataforma, pode exportar tooa de esquema e os dados da base de dados Olá [BACPAC](https://msdn.microsoft.com/library/ee210546.aspx#Anchor_4) ficheiro.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-104">When you need tooexport a database for archiving or for moving tooanother platform, you can export hello database schema and data tooa [BACPAC](https://msdn.microsoft.com/library/ee210546.aspx#Anchor_4) file.</span></span> <span data-ttu-id="d0aa5-105">Um ficheiro BACPAC é um ficheiro ZIP com uma extensão BACPAC contendo Olá metadados e dados a partir de uma base de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-105">A BACPAC file is a ZIP file with an extension of BACPAC containing hello metadata and data from a SQL Server database.</span></span> <span data-ttu-id="d0aa5-106">Um ficheiro BACPAC pode ser armazenado no blob storage do Azure ou no armazenamento local numa localização no local e posteriormente importado para o SQL Database do Azure ou para uma instalação do SQL Server no local.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-106">A BACPAC file can be stored in Azure blob storage or in local storage in an on-premises location and later imported back into Azure SQL Database or into a SQL Server on-premises installation.</span></span> 

> [!IMPORTANT] 
> <span data-ttu-id="d0aa5-107">Azure base de dados de SQL automatizada exportar foi reformada no dia 1 de Março de 2017.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-107">Azure SQL Database Automated Export was retired on March 1, 2017.</span></span> <span data-ttu-id="d0aa5-108">Pode utilizar [retenção de cópias de segurança de longa duração](sql-database-long-term-retention.md
) ou [da automatização do Azure](https://github.com/Microsoft/azure-docs-pr/blob/2461f706f8fc1150e69312098640c0676206a531/articles/automation/automation-intro.md) através do PowerShell em conformidade com a agenda de tooa à sua escolha tooperiodically bases de dados SQL de arquivo.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-108">You can use [long-term backup retention](sql-database-long-term-retention.md
) or [Azure Automation](https://github.com/Microsoft/azure-docs-pr/blob/2461f706f8fc1150e69312098640c0676206a531/articles/automation/automation-intro.md) tooperiodically archive SQL databases using PowerShell according tooa schedule of your choice.</span></span> <span data-ttu-id="d0aa5-109">Para um exemplo de Olá transferir [script do PowerShell de exemplo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export) a partir do Github.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-109">For a sample, download hello [sample PowerShell script](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export) from Github.</span></span>
>

## <a name="considerations-when-exporting-an-azure-sql-database"></a><span data-ttu-id="d0aa5-110">Considerações ao exportar uma base de dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="d0aa5-110">Considerations when exporting an Azure SQL database</span></span>

* <span data-ttu-id="d0aa5-111">Exportação de toobe uma forma consistente, tem de garantir um nenhuma atividade de escrita está a ocorrer durante a exportação de hello, ou que lhe são exportar de um [cópia de uma forma consistente](sql-database-copy.md) da base de dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-111">For an export toobe transactionally consistent, you must ensure either that no write activity is occurring during hello export, or that you are exporting from a [transactionally consistent copy](sql-database-copy.md) of your Azure SQL database.</span></span>
* <span data-ttu-id="d0aa5-112">Se estiver a exportar tooblob armazenamento, o tamanho máximo do Olá de um ficheiro BACPAC é 200 GB.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-112">If you are exporting tooblob storage, hello maximum size of a BACPAC file is 200 GB.</span></span> <span data-ttu-id="d0aa5-113">tooarchive um ficheiro BACPAC maior, exporte toolocal armazenamento.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-113">tooarchive a larger BACPAC file, export toolocal storage.</span></span>
* <span data-ttu-id="d0aa5-114">Não é suportada a exportar um BACPAC file tooAzure premium storage através de métodos de Olá abordados neste artigo.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-114">Exporting a BACPAC file tooAzure premium storage using hello methods discussed in this article is not supported.</span></span>
* <span data-ttu-id="d0aa5-115">Se a operação de exportação Olá da SQL Database do Azure exceder 20 horas, pode ser cancelada.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-115">If hello export operation from Azure SQL Database exceeds 20 hours, it may be canceled.</span></span> <span data-ttu-id="d0aa5-116">desempenho de tooincrease durante a exportação, pode:</span><span class="sxs-lookup"><span data-stu-id="d0aa5-116">tooincrease performance during export, you can:</span></span>
  * <span data-ttu-id="d0aa5-117">Temporariamente aumente o nível de serviço.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-117">Temporarily increase your service level.</span></span>
  * <span data-ttu-id="d0aa5-118">Cessar todos de leitura e escrita atividade durante a exportação de Olá.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-118">Cease all read and write activity during hello export.</span></span>
  * <span data-ttu-id="d0aa5-119">Utilize um [índice em cluster](https://msdn.microsoft.com/library/ms190457.aspx) com valores não nulos em todas as tabelas grandes.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-119">Use a [clustered index](https://msdn.microsoft.com/library/ms190457.aspx) with non-null values on all large tables.</span></span> <span data-ttu-id="d0aa5-120">Sem os índices em cluster, uma exportação poderá falhar se demora mais de 6-12 horas.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-120">Without clustered indexes, an export may fail if it takes longer than 6-12 hours.</span></span> <span data-ttu-id="d0aa5-121">Isto acontece porque necessita de serviço de exportação de Olá toocomplete uma tabela análise tootry tooexport tabela inteira.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-121">This is because hello export service needs toocomplete a table scan tootry tooexport entire table.</span></span> <span data-ttu-id="d0aa5-122">Toodetermine uma boa forma, se as tabelas estão otimizadas para exportação é toorun **DBCC SHOW_STATISTICS** e certifique-se de que Olá *RANGE_HI_KEY* não seja nulo e o valor tem um bom distribuição.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-122">A good way toodetermine if your tables are optimized for export is toorun **DBCC SHOW_STATISTICS** and make sure that hello *RANGE_HI_KEY* is not null and its value has good distribution.</span></span> <span data-ttu-id="d0aa5-123">Para obter mais informações, consulte [DBCC SHOW_STATISTICS](https://msdn.microsoft.com/library/ms174384.aspx).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-123">For details, see [DBCC SHOW_STATISTICS](https://msdn.microsoft.com/library/ms174384.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="d0aa5-124">BACPACs não são toobe pretendido utilizada para operações de cópia de segurança e restauro.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-124">BACPACs are not intended toobe used for backup and restore operations.</span></span> <span data-ttu-id="d0aa5-125">Base de dados SQL do Azure cria automaticamente cópias de segurança para cada base de dados do utilizador.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-125">Azure SQL Database automatically creates backups for every user database.</span></span> <span data-ttu-id="d0aa5-126">Para obter mais informações, consulte [descrição geral da continuidade do negócio](sql-database-business-continuity.md) e [cópias de segurança da base de dados SQL](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-126">For details, see [Business Continuity Overview](sql-database-business-continuity.md) and [SQL Database backups](sql-database-automated-backups.md).</span></span>  
> 

## <a name="export-tooa-bacpac-file-using-hello-azure-portal"></a><span data-ttu-id="d0aa5-127">Exportar ficheiro BACPAC tooa utilizando Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="d0aa5-127">Export tooa BACPAC file using hello Azure portal</span></span>

<span data-ttu-id="d0aa5-128">Olá tooexport utilizando uma base de dados [portal do Azure](https://portal.azure.com), abra a página Olá da base de dados e clique em **exportar** na barra de ferramentas Olá.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-128">tooexport a database using hello [Azure portal](https://portal.azure.com), open hello page for your database and click **Export** on hello toolbar.</span></span> <span data-ttu-id="d0aa5-129">Especifique o nome de ficheiro do Olá BACPAC, forneça Olá conta de armazenamento do Azure e um contentor de exportação de Olá e fornecer Olá credenciais tooconnect toohello origem da base de dados.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-129">Specify hello BACPAC filename, provide hello Azure storage account and container for hello export, and provide hello credentials tooconnect toohello source database.</span></span>  

![Exportação de base de dados](./media/sql-database-export/database-export.png)

<span data-ttu-id="d0aa5-131">progresso de Olá toomonitor de Olá operação de exportação, abra a página Olá Olá servidor lógico que contêm Olá da base de dados que está a ser exportado.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-131">toomonitor hello progress of hello export operation, open hello page for hello logical server containing hello database being exported.</span></span> <span data-ttu-id="d0aa5-132">Desloque para baixo demasiado**operações** e, em seguida, clique em **importar/exportar** histórico.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-132">Scroll down too**Operations** and then click **Import/Export** history.</span></span>

<span data-ttu-id="d0aa5-133">![Exportar histórico](./media/sql-database-export/export-history.png)
![exportar o estado do histórico](./media/sql-database-export/export-history2.png)</span><span class="sxs-lookup"><span data-stu-id="d0aa5-133">![export history](./media/sql-database-export/export-history.png)
![export history status](./media/sql-database-export/export-history2.png)</span></span>

## <a name="export-tooa-bacpac-file-using-hello-sqlpackage-utility"></a><span data-ttu-id="d0aa5-134">Exportar ficheiro BACPAC tooa utilizando Olá SQLPackage utilitário</span><span class="sxs-lookup"><span data-stu-id="d0aa5-134">Export tooa BACPAC file using hello SQLPackage utility</span></span>

<span data-ttu-id="d0aa5-135">tooexport SQL da base de dados utilizando Olá [SqlPackage](https://msdn.microsoft.com/library/hh550080.aspx) utilitário de linha de comandos, consulte [exportar parâmetros e as propriedades](https://msdn.microsoft.com/library/hh550080.aspx#Export Parameters and Properties).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-135">tooexport a SQL database using hello [SqlPackage](https://msdn.microsoft.com/library/hh550080.aspx) command-line utility, see [Export parameters and properties](https://msdn.microsoft.com/library/hh550080.aspx#Export Parameters and Properties).</span></span> <span data-ttu-id="d0aa5-136">Olá SQLPackage utilitário é fornecido com versões mais recentes do Olá das [SQL Server Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) e [SQL Server Data Tools para Visual Studio](https://msdn.microsoft.com/library/mt204009.aspx), ou pode transferir a versão mais recente do Olá do [ SqlPackage](https://www.microsoft.com/download/details.aspx?id=53876) diretamente a partir de Olá Microsoft Centro de transferências.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-136">hello SQLPackage utility ships with hello latest versions of [SQL Server Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) and [SQL Server Data Tools for Visual Studio](https://msdn.microsoft.com/library/mt204009.aspx), or you can download hello latest version of [SqlPackage](https://www.microsoft.com/download/details.aspx?id=53876) directly from hello Microsoft download center.</span></span>

<span data-ttu-id="d0aa5-137">Recomendamos a utilização de Olá de Olá SQLPackage utilitário para dimensionamento e desempenho na maioria dos ambientes de produção.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-137">We recommend hello use of hello SQLPackage utility for scale and performance in most production environments.</span></span> <span data-ttu-id="d0aa5-138">Para uma equipa de Consultadora de cliente do SQL Server a utilizar ficheiros BACPAC, consulte o blogue sobre como migrar [migrar a partir do SQL Server tooAzure base de dados SQL a utilizar ficheiros BACPAC](https://blogs.msdn.microsoft.com/sqlcat/2016/10/20/migrating-from-sql-server-to-azure-sql-database-using-bacpac-files/).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-138">For a SQL Server Customer Advisory Team blog about migrating using BACPAC files, see [Migrating from SQL Server tooAzure SQL Database using BACPAC Files](https://blogs.msdn.microsoft.com/sqlcat/2016/10/20/migrating-from-sql-server-to-azure-sql-database-using-bacpac-files/).</span></span>

<span data-ttu-id="d0aa5-139">Este exemplo mostra como tooexport uma base de dados utilizando SqlPackage.exe com autenticação de Universal do Active Directory:</span><span class="sxs-lookup"><span data-stu-id="d0aa5-139">This example shows how tooexport a database using SqlPackage.exe with Active Directory Universal Authentication:</span></span>

```cmd
SqlPackage.exe /a:Export /tf:testExport.bacpac /scs:"Data Source=apptestserver.database.windows.net;Initial Catalog=MyDB;" /ua:True /tid:"apptest.onmicrosoft.com"
```

## <a name="export-tooa-bacpac-file-using-sql-server-management-studio-ssms"></a><span data-ttu-id="d0aa5-140">Exportar ficheiro BACPAC tooa utilizando o SQL Server Management Studio (SSMS)</span><span class="sxs-lookup"><span data-stu-id="d0aa5-140">Export tooa BACPAC file using SQL Server Management Studio (SSMS)</span></span>

<span data-ttu-id="d0aa5-141">versões mais recentes do Olá do SQL Server Management Studio também fornecem um assistente tooexport um ficheiro BACPAC tooa SQL Database do Azure.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-141">hello newest versions of SQL Server Management Studio also provide a wizard tooexport an Azure SQL Database tooa BACPAC file.</span></span> <span data-ttu-id="d0aa5-142">Consulte Olá [exportar uma aplicação de camada de dados](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-142">See hello [Export a Data-tier Application](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application).</span></span>

## <a name="export-tooa-bacpac-file-using-powershell"></a><span data-ttu-id="d0aa5-143">Exportar tooa BACPAC ficheiro com o PowerShell</span><span class="sxs-lookup"><span data-stu-id="d0aa5-143">Export tooa BACPAC file using PowerShell</span></span>

<span data-ttu-id="d0aa5-144">Olá utilize [New-AzureRmSqlDatabaseExport](/powershell/module/azurerm.sql/new-azurermsqldatabaseexport) cmdlet toosubmit um toohello de pedido de base de dados de exportação serviço SQL Database do Azure.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-144">Use hello [New-AzureRmSqlDatabaseExport](/powershell/module/azurerm.sql/new-azurermsqldatabaseexport) cmdlet toosubmit an export database request toohello Azure SQL Database service.</span></span> <span data-ttu-id="d0aa5-145">Consoante o tamanho da base de dados Olá, operação de exportação de Olá pode demorar algum tempo toocomplete.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-145">Depending on hello size of your database, hello export operation may take some time toocomplete.</span></span>

 ```powershell
 $exportRequest = New-AzureRmSqlDatabaseExport -ResourceGroupName $ResourceGroupName -ServerName $ServerName `
   -DatabaseName $DatabaseName -StorageKeytype $StorageKeytype -StorageKey $StorageKey -StorageUri $BacpacUri `
   -AdministratorLogin $creds.UserName -AdministratorLoginPassword $creds.Password
 ```

<span data-ttu-id="d0aa5-146">Estado de Olá toocheck de Olá solicitação de exportação, utilize Olá [Get-AzureRmSqlDatabaseImportExportStatus](/powershell/module/azurerm.sql/get-azurermsqldatabaseimportexportstatus) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-146">toocheck hello status of hello export request, use hello [Get-AzureRmSqlDatabaseImportExportStatus](/powershell/module/azurerm.sql/get-azurermsqldatabaseimportexportstatus) cmdlet.</span></span> <span data-ttu-id="d0aa5-147">Normalmente, isto a executar imediatamente após Olá pedido devolve **Estado: em curso**.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-147">Running this immediately after hello request usually returns **Status: InProgress**.</span></span> <span data-ttu-id="d0aa5-148">Quando vir **Estado: foi concluída com êxito** exportação Olá está concluída.</span><span class="sxs-lookup"><span data-stu-id="d0aa5-148">When you see **Status: Succeeded** hello export is complete.</span></span>

```powershell
$exportStatus = Get-AzureRmSqlDatabaseImportExportStatus -OperationStatusLink $exportRequest.OperationStatusLink
[Console]::Write("Exporting")
while ($exportStatus.Status -eq "InProgress")
{
    $exportStatus = Get-AzureRmSqlDatabaseImportExportStatus -OperationStatusLink $exportRequest.OperationStatusLink
    [Console]::Write(".")
    Start-Sleep -s 10
}
[Console]::WriteLine("")
$exportStatus
```

## <a name="next-steps"></a><span data-ttu-id="d0aa5-149">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="d0aa5-149">Next steps</span></span>

* <span data-ttu-id="d0aa5-150">toolearn sobre retenção de cópias de segurança de longa duração de uma cópia de segurança de base de dados SQL do Azure como uma alternativa tooexported uma base de dados para efeitos de arquivo, consulte [retenção de cópias de segurança de longa duração](sql-database-long-term-retention.md).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-150">toolearn about long-term backup retention of an Azure SQL database backup as an alternative tooexported a database for archive purposes, see [Long-term backup retention](sql-database-long-term-retention.md).</span></span>
- <span data-ttu-id="d0aa5-151">Para uma equipa de Consultadora de cliente do SQL Server a utilizar ficheiros BACPAC, consulte o blogue sobre como migrar [migrar a partir do SQL Server tooAzure base de dados SQL a utilizar ficheiros BACPAC](https://blogs.msdn.microsoft.com/sqlcat/2016/10/20/migrating-from-sql-server-to-azure-sql-database-using-bacpac-files/).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-151">For a SQL Server Customer Advisory Team blog about migrating using BACPAC files, see [Migrating from SQL Server tooAzure SQL Database using BACPAC Files](https://blogs.msdn.microsoft.com/sqlcat/2016/10/20/migrating-from-sql-server-to-azure-sql-database-using-bacpac-files/).</span></span>
* <span data-ttu-id="d0aa5-152">toolearn sobre como importar um BACPAC tooa do SQL Server da base de dados, consulte [importar uma base de dados do SQL Server de tooa BACPCAC](https://msdn.microsoft.com/library/hh710052.aspx).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-152">toolearn about importing a BACPAC tooa SQL Server database, see [Import a BACPCAC tooa SQL Server database](https://msdn.microsoft.com/library/hh710052.aspx).</span></span>
* <span data-ttu-id="d0aa5-153">toolearn sobre como exportar um BACPAC de uma base de dados do SQL Server, consulte [exportar uma aplicação de camada de dados](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application) e [migrar a sua primeira base de dados](sql-database-migrate-your-sql-server-database.md).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-153">toolearn about exporting a BACPAC from a SQL Server database, see [Export a Data-tier Application](https://docs.microsoft.com/sql/relational-databases/data-tier-applications/export-a-data-tier-application) and [Migrate your first database](sql-database-migrate-your-sql-server-database.md).</span></span>
* <span data-ttu-id="d0aa5-154">Se estiver a exportação do SQL Server como um tooAzure de toomigration prelude base de dados SQL, consulte o artigo [migrar um tooAzure de base de dados do SQL Server da base de dados do SQL Server](sql-database-cloud-migrate.md).</span><span class="sxs-lookup"><span data-stu-id="d0aa5-154">If you are exporting from SQL Server as a prelude toomigration tooAzure SQL Database, see [Migrate a SQL Server database tooAzure SQL Database](sql-database-cloud-migrate.md).</span></span>
