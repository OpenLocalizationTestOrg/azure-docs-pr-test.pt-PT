---
title: regras de firewall de base de dados SQL aaaAzure | Microsoft Docs
description: "Saiba como tooconfigure SQL da base de dados firewall com acesso de toomanage de regras de firewall ao nível do servidor e o nível de base de dados."
keywords: firewall de base de dados
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: cgronlun
tags: 
ms.assetid: ac57f84c-35c3-4975-9903-241c8059011e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 04/10/2017
ms.author: rickbyh
ms.openlocfilehash: 6a8cdf629d0d0e55421a5e9f9b894a21371be568
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-server-level-and-database-level-firewall-rules"></a><span data-ttu-id="93934-104">Regras de firewall ao nível do servidor e o nível de base de dados de base de dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="93934-104">Azure SQL Database server-level and database-level firewall rules</span></span> 

<span data-ttu-id="93934-105">A Base de Dados SQL do Microsoft Azure disponibiliza um serviço de bases de dados relacionais para o Azure e outras aplicações baseadas na Internet.</span><span class="sxs-lookup"><span data-stu-id="93934-105">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="93934-106">toohelp proteger os seus dados, as firewalls para impedir que todos os acesso tooyour da base de dados servidor até especificar quais os computadores que tem permissão.</span><span class="sxs-lookup"><span data-stu-id="93934-106">toohelp protect your data, firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="93934-107">firewall de Olá concede toodatabases de acesso com base no Olá provenientes de endereços IP de cada pedido.</span><span class="sxs-lookup"><span data-stu-id="93934-107">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span>

## <a name="overview"></a><span data-ttu-id="93934-108">Descrição geral</span><span class="sxs-lookup"><span data-stu-id="93934-108">Overview</span></span>

<span data-ttu-id="93934-109">Inicialmente, todos os Transact-SQL acesso tooyour Azure SQL server está bloqueada pela firewall Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-109">Initially, all Transact-SQL access tooyour Azure SQL server is blocked by hello firewall.</span></span> <span data-ttu-id="93934-110">toobegin através do Azure SQL server, tem de especificar uma ou mais regras de firewall ao nível do servidor que permitem acesso tooyour servidor SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="93934-110">toobegin using your Azure SQL server, you must specify one or more server-level firewall rules that enable access tooyour Azure SQL server.</span></span> <span data-ttu-id="93934-111">Utilize as regras de firewall do Olá toospecify qual o endereço IP, intervalos de Olá Internet são permitidos e aplicações do Azure se tentar tooconnect tooyour servidor SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="93934-111">Use hello firewall rules toospecify which IP address ranges from hello Internet are allowed, and whether Azure applications can attempt tooconnect tooyour Azure SQL server.</span></span>

<span data-ttu-id="93934-112">tooselectively conceder acesso toojust uma Olá bases de dados no seu servidor SQL do Azure, tem de criar uma regra de nível de base de dados para a base de dados necessária Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-112">tooselectively grant access toojust one of hello databases in your Azure SQL server, you must create a database-level rule for hello required database.</span></span> <span data-ttu-id="93934-113">Especifique um intervalo de endereços IP para a regra de firewall de base de dados de Olá ultrapassa Olá intervalo especificado na regra de firewall ao nível do servidor de Olá de endereço IP e certifique-se de que o endereço IP de hello do cliente de Olá estiver no intervalo de Olá especificado na regra de nível de base de dados de Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-113">Specify an IP address range for hello database firewall rule that is beyond hello IP address range specified in hello server-level firewall rule, and ensure that hello IP address of hello client falls in hello range specified in hello database-level rule.</span></span>

<span data-ttu-id="93934-114">Olá, as tentativas de ligação de Internet e o Azure tem primeiro de passar através da firewall Olá antes de pode atingirem o servidor SQL do Azure ou a base de dados do SQL Server, conforme mostrado no Olá diagrama a seguir:</span><span class="sxs-lookup"><span data-stu-id="93934-114">Connection attempts from hello Internet and Azure must first pass through hello firewall before they can reach your Azure SQL server or SQL Database, as shown in hello following diagram:</span></span>

   ![Diagrama com descrição da configuração da firewall.][1]

* <span data-ttu-id="93934-116">**Regras de firewall ao nível do servidor:** estas regras ativar clientes tooaccess o servidor de SQL do Azure completo, ou seja, todas as bases de dados de Olá dentro Olá mesmo servidor lógico.</span><span class="sxs-lookup"><span data-stu-id="93934-116">**Server-level firewall rules:** These rules enable clients tooaccess your entire Azure SQL server, that is, all hello databases within hello same logical server.</span></span> <span data-ttu-id="93934-117">Estas regras são armazenadas no Olá **mestre** base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-117">These rules are stored in hello **master** database.</span></span> <span data-ttu-id="93934-118">Regras de firewall ao nível do servidor podem ser configuradas através do portal Olá ou através de instruções Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="93934-118">Server-level firewall rules can be configured by using hello portal or by using Transact-SQL statements.</span></span> <span data-ttu-id="93934-119">regras de firewall ao nível do servidor de toocreate utilizando Olá portal do Azure ou o PowerShell, tem de ser proprietário da subscrição Olá ou um contribuinte da subscrição.</span><span class="sxs-lookup"><span data-stu-id="93934-119">toocreate server-level firewall rules using hello Azure portal or PowerShell, you must be hello subscription owner or a subscription contributor.</span></span> <span data-ttu-id="93934-120">toocreate uma regra de firewall ao nível do servidor com o Transact-SQL, tem de ligar toohello instância de base de dados do SQL Server como início de sessão principal Olá ao nível do servidor ou o administrador do Azure Active Directory Olá (o que significa que uma regra de firewall ao nível do servidor tem primeiro de ser criada por um utilizador com permissões ao nível do Azure).</span><span class="sxs-lookup"><span data-stu-id="93934-120">toocreate a server-level firewall rule using Transact-SQL, you must connect toohello SQL Database instance as hello server-level principal login or hello Azure Active Directory administrator (which means that a server-level firewall rule must first be created by a user with Azure-level permissions).</span></span>
* <span data-ttu-id="93934-121">**Regras de firewall de nível de base de dados:** estas regras ativar clientes tooaccess determinadas (seguro) bases de dados dentro de Olá mesmo servidor lógico.</span><span class="sxs-lookup"><span data-stu-id="93934-121">**Database-level firewall rules:** These rules enable clients tooaccess certain (secure) databases within hello same logical server.</span></span> <span data-ttu-id="93934-122">Pode criar estas regras para cada base de dados (incluindo Olá **mestre** database0) e são armazenados nas bases de dados individuais Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-122">You can create these rules for each database (including hello **master** database0) and they are stored in hello individual databases.</span></span> <span data-ttu-id="93934-123">Regras de firewall ao nível da base de dados só podem ser configuradas através da utilização de instruções Transact-SQL e só depois de ter configurado Olá primeiro ao nível do servidor de firewall.</span><span class="sxs-lookup"><span data-stu-id="93934-123">Database-level firewall rules can only be configured by using Transact-SQL statements and only after you have configured hello first server-level firewall.</span></span> <span data-ttu-id="93934-124">Se especificar um intervalo de endereços IP na regra de firewall ao nível da base de dados de Olá que é o intervalo de Olá exteriores especificado na regra de firewall ao nível do servidor de Olá, apenas aos clientes com endereços IP no intervalo de nível de base de dados de Olá podem aceder a base de dados de Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-124">If you specify an IP address range in hello database-level firewall rule that is outside hello range specified in hello server-level firewall rule, only those clients that have IP addresses in hello database-level range can access hello database.</span></span> <span data-ttu-id="93934-125">Pode ter um máximo de 128 regras de firewall ao nível da base de dados para uma base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-125">You can have a maximum of 128 database-level firewall rules for a database.</span></span> <span data-ttu-id="93934-126">Regras de firewall ao nível da base de dados para bases de dados mestra e utilizador só podem ser criadas e geridas através de Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="93934-126">Database-level firewall rules for master and user databases can only be created and managed through Transact-SQL.</span></span> <span data-ttu-id="93934-127">Para obter mais informações sobre como configurar regras de firewall ao nível da base de dados, consulte o exemplo Olá posteriormente neste artigo e ver [sp_set_database_firewall_rule (bases de dados do Azure SQL)](https://msdn.microsoft.com/library/dn270010.aspx).</span><span class="sxs-lookup"><span data-stu-id="93934-127">For more information on configuring database-level firewall rules, see hello example later in this article and see [sp_set_database_firewall_rule (Azure SQL Databases)](https://msdn.microsoft.com/library/dn270010.aspx).</span></span>

<span data-ttu-id="93934-128">**Recomendação:** Microsoft recomenda a utilização de regras de firewall ao nível da base de dados sempre que possível tooenhance segurança e toomake a base de dados mais portátil.</span><span class="sxs-lookup"><span data-stu-id="93934-128">**Recommendation:** Microsoft recommends using database-level firewall rules whenever possible tooenhance security and toomake your database more portable.</span></span> <span data-ttu-id="93934-129">Utilize as regras de firewall ao nível do servidor para os administradores e quando tem muitas bases de dados que tenham Olá mesmos requisitos de acesso e não pretender que tempo toospend configurar individualmente cada base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-129">Use server-level firewall rules for administrators and when you have many databases that have hello same access requirements and you don't want toospend time configuring each database individually.</span></span>

> [!Note]
> <span data-ttu-id="93934-130">Para informações sobre bases de dados portátil no contexto de Olá de continuidade do negócio, consulte [requisitos de autenticação para recuperação após desastre](sql-database-geo-replication-security-config.md).</span><span class="sxs-lookup"><span data-stu-id="93934-130">For information about portable databases in hello context of business continuity, see [Authentication requirements for disaster recovery](sql-database-geo-replication-security-config.md).</span></span>
>

### <a name="connecting-from-hello-internet"></a><span data-ttu-id="93934-131">Ligar a partir de Olá Internet</span><span class="sxs-lookup"><span data-stu-id="93934-131">Connecting from hello Internet</span></span>

<span data-ttu-id="93934-132">Quando um computador tenta tooconnect tooyour servidor de base de dados de Olá Internet, firewall Olá verifica primeiro Olá provenientes de endereço IP do pedido de Olá contra regras de firewall ao nível da base de dados de Olá, da base de dados de Olá que está a solicitar a ligação de Olá:</span><span class="sxs-lookup"><span data-stu-id="93934-132">When a computer attempts tooconnect tooyour database server from hello Internet, hello firewall first checks hello originating IP address of hello request against hello database-level firewall rules, for hello database that hello connection is requesting:</span></span>

* <span data-ttu-id="93934-133">Se o endereço IP Olá de pedido de Olá estiver dentro dos intervalos de Olá especificados nas regras de firewall ao nível da base de dados de Olá, Olá ligação é concedida pelo toohello base de dados do SQL Server que contém a regra de Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-133">If hello IP address of hello request is within one of hello ranges specified in hello database-level firewall rules, hello connection is granted toohello SQL Database that contains hello rule.</span></span>
* <span data-ttu-id="93934-134">Se o endereço IP Olá de pedido de Olá não está dentro dos intervalos de Olá especificados na regra de firewall ao nível da base de dados de Olá, regras de firewall ao nível do servidor de Olá são verificadas.</span><span class="sxs-lookup"><span data-stu-id="93934-134">If hello IP address of hello request is not within one of hello ranges specified in hello database-level firewall rule, hello server-level firewall rules are checked.</span></span> <span data-ttu-id="93934-135">Se o endereço IP Olá de pedido de Olá estiver dentro dos intervalos de Olá especificados nas regras de firewall ao nível do servidor de Olá, ligação Olá é concedida.</span><span class="sxs-lookup"><span data-stu-id="93934-135">If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted.</span></span> <span data-ttu-id="93934-136">Regras de firewall ao nível do servidor aplicam-se tooall bases de dados do SQL no servidor de SQL do Azure Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-136">Server-level firewall rules apply tooall SQL databases on hello Azure SQL server.</span></span>  
* <span data-ttu-id="93934-137">Se o endereço IP Olá de pedido de Olá não está dentro do intervalos Olá especificado em nenhum dos Olá ao nível da base de dados ou regras de firewall ao nível do servidor, Olá pedido de ligação falha.</span><span class="sxs-lookup"><span data-stu-id="93934-137">If hello IP address of hello request is not within hello ranges specified in any of hello database-level or server-level firewall rules, hello connection request fails.</span></span>

> [!NOTE]
> <span data-ttu-id="93934-138">tooaccess SQL Database do Azure do seu computador local, certifique-se de firewall de Olá na sua rede e o computador local permite a comunicação de saída na porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="93934-138">tooaccess Azure SQL Database from your local computer, ensure hello firewall on your network and local computer allows outgoing communication on TCP port 1433.</span></span>
> 

### <a name="connecting-from-azure"></a><span data-ttu-id="93934-139">Ligar a partir do Azure</span><span class="sxs-lookup"><span data-stu-id="93934-139">Connecting from Azure</span></span>
<span data-ttu-id="93934-140">tem de estar ativadas tooallow aplicações do Azure tooconnect tooyour servidor SQL do Azure, as ligações do Azure.</span><span class="sxs-lookup"><span data-stu-id="93934-140">tooallow applications from Azure tooconnect tooyour Azure SQL server, Azure connections must be enabled.</span></span> <span data-ttu-id="93934-141">Quando o servidor de base de dados de tooyour tooconnect de tentativas de uma aplicação do Azure, a firewall Olá verifica que são permitidas ligações do Azure.</span><span class="sxs-lookup"><span data-stu-id="93934-141">When an application from Azure attempts tooconnect tooyour database server, hello firewall verifies that Azure connections are allowed.</span></span> <span data-ttu-id="93934-142">Uma definição com inicial e final too0.0.0.0 igual do endereço de firewall indica que estas ligações são permitidas.</span><span class="sxs-lookup"><span data-stu-id="93934-142">A firewall setting with starting and ending address equal too0.0.0.0 indicates these connections are allowed.</span></span> <span data-ttu-id="93934-143">Se não for permitida a tentativa de ligação de Olá, pedido Olá não atingiu o servidor de base de dados do Azure SQL Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-143">If hello connection attempt is not allowed, hello request does not reach hello Azure SQL Database server.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="93934-144">Esta opção configura Olá firewall tooallow todas as ligações a partir do Azure ligações incluindo de subscrições de Olá de outros clientes.</span><span class="sxs-lookup"><span data-stu-id="93934-144">This option configures hello firewall tooallow all connections from Azure including connections from hello subscriptions of other customers.</span></span> <span data-ttu-id="93934-145">Quando a seleção desta opção, certifique-se de que o início de sessão e permissões de utilizador limitam acesso tooonly que os utilizadores autorizados.</span><span class="sxs-lookup"><span data-stu-id="93934-145">When selecting this option, make sure your login and user permissions limit access tooonly authorized users.</span></span>
> 

## <a name="creating-and-managing-firewall-rules"></a><span data-ttu-id="93934-146">Criar e gerir regras de firewall</span><span class="sxs-lookup"><span data-stu-id="93934-146">Creating and managing firewall rules</span></span>
<span data-ttu-id="93934-147">definição de firewall ao nível do servidor primeiro Olá pode ser criada utilizando Olá [portal do Azure](https://portal.azure.com/) ou através de programação utilizando [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [CLI do Azure](/cli/azure/sql/server/firewall-rule#create), ou Olá [REST API](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span><span class="sxs-lookup"><span data-stu-id="93934-147">hello first server-level firewall setting can be created using hello [Azure portal](https://portal.azure.com/) or programmatically using [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [Azure CLI](/cli/azure/sql/server/firewall-rule#create), or hello [REST API](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span></span> <span data-ttu-id="93934-148">As regras seguintes podem ser criadas e geridas com estes métodos e com o Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="93934-148">Subsequent server-level firewall rules can be created and managed using these methods, and through Transact-SQL.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="93934-149">Regras de firewall ao nível da base de dados só podem ser criadas e geridos através de Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="93934-149">Database-level firewall rules can only be created and managed using Transact-SQL.</span></span> 
>

<span data-ttu-id="93934-150">desempenho de tooimprove, firewall ao nível do servidor regras temporariamente são colocadas em cache ao nível da base de dados de Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-150">tooimprove performance, server-level firewall rules are temporarily cached at hello database level.</span></span> <span data-ttu-id="93934-151">cache de Olá toorefresh, consulte [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span><span class="sxs-lookup"><span data-stu-id="93934-151">toorefresh hello cache, see [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span></span> 

> [!TIP]
> <span data-ttu-id="93934-152">Pode utilizar [auditoria de base de dados SQL](sql-database-auditing.md) tooaudit alterações de firewall ao nível do servidor e o nível de base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-152">You can use [SQL Database Auditing](sql-database-auditing.md) tooaudit server-level and database-level firewall changes.</span></span>
>

### <a name="azure-portal"></a><span data-ttu-id="93934-153">Portal do Azure</span><span class="sxs-lookup"><span data-stu-id="93934-153">Azure portal</span></span>

<span data-ttu-id="93934-154">tooset uma regra de firewall ao nível do servidor no portal do Azure de Olá, pode optar por voltar toohello página de descrição geral para a sua página de descrição geral de base de dados ou Olá SQL do Azure para o servidor lógico de base de dados do Azure.</span><span class="sxs-lookup"><span data-stu-id="93934-154">tooset a server-level firewall rule in hello Azure portal, you can either go toohello Overview page for your Azure SQL database or hello Overview page for your Azure Database logical server.</span></span>

> [!TIP]
> <span data-ttu-id="93934-155">Para um tutorial, consulte [criar uma base de dados utilizando Olá portal do Azure](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="93934-155">For a tutorial, see [Create a DB using hello Azure portal](sql-database-get-started-portal.md).</span></span>
>

<span data-ttu-id="93934-156">**Na página de descrição geral da base de dados**</span><span class="sxs-lookup"><span data-stu-id="93934-156">**From database overview page**</span></span>

1. <span data-ttu-id="93934-157">tooset uma regra de firewall ao nível do servidor da página de descrição geral da base de dados de Olá, clique em **definir a firewall do servidor** na barra de ferramentas de Olá conforme mostrado no Olá seguinte imagem: Olá **definições de Firewall** página Olá SQL É aberto o servidor de base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-157">tooset a server-level firewall rule from hello database overview page, click **Set server firewall** on hello toolbar as shown in hello following image: hello **Firewall settings** page for hello SQL Database server opens.</span></span>

      ![regra de firewall do servidor](./media/sql-database-get-started-portal/server-firewall-rule.png) 

2. <span data-ttu-id="93934-159">Clique em **Adicionar IP do cliente** no Olá barra de ferramentas tooadd Olá endereço IP do Olá computador estiver a utilizar e, em seguida, clique em **guardar**.</span><span class="sxs-lookup"><span data-stu-id="93934-159">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="93934-160">É criada uma regra de firewall ao nível do servidor para o seu endereço IP atual.</span><span class="sxs-lookup"><span data-stu-id="93934-160">A server-level firewall rule is created for your current IP address.</span></span>

      ![configurar regra de firewall do servidor](./media/sql-database-get-started-portal/server-firewall-rule-set.png) 

<span data-ttu-id="93934-162">**Na página de descrição geral do servidor**</span><span class="sxs-lookup"><span data-stu-id="93934-162">**From server overview page**</span></span>

<span data-ttu-id="93934-163">Olá página de descrição geral para a sua abre-se do servidor, que mostra Olá completamente qualificado nome do servidor (tais como **mynewserver20170403.database.windows.net**) e fornece opções para continuar a configuração.</span><span class="sxs-lookup"><span data-stu-id="93934-163">hello overview page for your server opens, showing you hello fully qualified server name (such as **mynewserver20170403.database.windows.net**) and provides options for further configuration.</span></span>

1. <span data-ttu-id="93934-164">tooset uma regra de ao nível do servidor a partir da página de descrição geral do servidor, clique em **Firewall** no menu da esquerda do Olá em definições, conforme mostrado na Olá seguinte imagem:</span><span class="sxs-lookup"><span data-stu-id="93934-164">tooset a server-level rule from server overview page, click **Firewall** in hello left-hand menu under Settings as showed in hello following image:</span></span> 

     ![Descrição geral do servidor lógico](./media/sql-database-migrate-your-sql-server-database/logical-server-overview.png)

2. <span data-ttu-id="93934-166">Clique em **Adicionar IP do cliente** no Olá barra de ferramentas tooadd Olá endereço IP do Olá computador estiver a utilizar e, em seguida, clique em **guardar**.</span><span class="sxs-lookup"><span data-stu-id="93934-166">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="93934-167">É criada uma regra de firewall ao nível do servidor para o seu endereço IP atual.</span><span class="sxs-lookup"><span data-stu-id="93934-167">A server-level firewall rule is created for your current IP address.</span></span>

     ![configurar regra de firewall do servidor](./media/sql-database-migrate-your-sql-server-database/server-firewall-rule-set.png)

### <a name="transact-sql"></a><span data-ttu-id="93934-169">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="93934-169">Transact-SQL</span></span>
| <span data-ttu-id="93934-170">Vista de Catálogo ou Procedimento Armazenado</span><span class="sxs-lookup"><span data-stu-id="93934-170">Catalog View or Stored Procedure</span></span> | <span data-ttu-id="93934-171">Nível</span><span class="sxs-lookup"><span data-stu-id="93934-171">Level</span></span> | <span data-ttu-id="93934-172">Descrição</span><span class="sxs-lookup"><span data-stu-id="93934-172">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="93934-173">sys.firewall_rules</span><span class="sxs-lookup"><span data-stu-id="93934-173">sys.firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269980.aspx) |<span data-ttu-id="93934-174">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-174">Server</span></span> |<span data-ttu-id="93934-175">Apresenta as regras de firewall ao nível do servidor atual Olá</span><span class="sxs-lookup"><span data-stu-id="93934-175">Displays hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="93934-176">sp_set_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="93934-176">sp_set_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270017.aspx) |<span data-ttu-id="93934-177">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-177">Server</span></span> |<span data-ttu-id="93934-178">Cria ou atualiza as regras de firewall ao nível do servidor</span><span class="sxs-lookup"><span data-stu-id="93934-178">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="93934-179">sp_delete_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="93934-179">sp_delete_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270024.aspx) |<span data-ttu-id="93934-180">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-180">Server</span></span> |<span data-ttu-id="93934-181">Remove as regras de firewall ao nível do servidor</span><span class="sxs-lookup"><span data-stu-id="93934-181">Removes server-level firewall rules</span></span> |
| [<span data-ttu-id="93934-182">sys.database_firewall_rules</span><span class="sxs-lookup"><span data-stu-id="93934-182">sys.database_firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269982.aspx) |<span data-ttu-id="93934-183">Base de Dados</span><span class="sxs-lookup"><span data-stu-id="93934-183">Database</span></span> |<span data-ttu-id="93934-184">Apresenta as regras de firewall ao nível da base de dados atuais Olá</span><span class="sxs-lookup"><span data-stu-id="93934-184">Displays hello current database-level firewall rules</span></span> |
| [<span data-ttu-id="93934-185">sp_set_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="93934-185">sp_set_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270010.aspx) |<span data-ttu-id="93934-186">Base de Dados</span><span class="sxs-lookup"><span data-stu-id="93934-186">Database</span></span> |<span data-ttu-id="93934-187">Cria ou atualiza as regras de firewall ao nível da base de dados de Olá</span><span class="sxs-lookup"><span data-stu-id="93934-187">Creates or updates hello database-level firewall rules</span></span> |
| [<span data-ttu-id="93934-188">sp_delete_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="93934-188">sp_delete_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270030.aspx) |<span data-ttu-id="93934-189">Bases de Dados</span><span class="sxs-lookup"><span data-stu-id="93934-189">Databases</span></span> |<span data-ttu-id="93934-190">Remove as regras de firewall ao nível da base de dados</span><span class="sxs-lookup"><span data-stu-id="93934-190">Removes database-level firewall rules</span></span> |


<span data-ttu-id="93934-191">Olá exemplos seguintes reveja as regras existentes de Olá, ativar a um intervalo de endereços IP no servidor de Olá Contoso e elimina uma regra de firewall:</span><span class="sxs-lookup"><span data-stu-id="93934-191">hello following examples review hello existing rules, enable a range of IP addresses on hello server Contoso, and deletes a firewall rule:</span></span>
   
```sql
SELECT * FROM sys.firewall_rules ORDER BY name;
```
  
<span data-ttu-id="93934-192">Em seguida, adicione uma regra de firewall.</span><span class="sxs-lookup"><span data-stu-id="93934-192">Next, add a firewall rule.</span></span>
   
```sql
EXECUTE sp_set_firewall_rule @name = N'ContosoFirewallRule',
   @start_ip_address = '192.168.1.1', @end_ip_address = '192.168.1.10'
```

<span data-ttu-id="93934-193">toodelete uma regra de firewall ao nível do servidor, executar o procedimento de sp_delete_firewall_rule armazenados Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-193">toodelete a server-level firewall rule, execute hello sp_delete_firewall_rule stored procedure.</span></span> <span data-ttu-id="93934-194">Olá exemplo seguinte elimina regra Olá denominada ContosoFirewallRule:</span><span class="sxs-lookup"><span data-stu-id="93934-194">hello following example deletes hello rule named ContosoFirewallRule:</span></span>
   
```sql
EXECUTE sp_delete_firewall_rule @name = N'ContosoFirewallRule'
```   

### <a name="azure-powershell"></a><span data-ttu-id="93934-195">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="93934-195">Azure PowerShell</span></span>
| <span data-ttu-id="93934-196">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="93934-196">Cmdlet</span></span> | <span data-ttu-id="93934-197">Nível</span><span class="sxs-lookup"><span data-stu-id="93934-197">Level</span></span> | <span data-ttu-id="93934-198">Descrição</span><span class="sxs-lookup"><span data-stu-id="93934-198">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="93934-199">Get-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="93934-199">Get-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546731.aspx) |<span data-ttu-id="93934-200">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-200">Server</span></span> |<span data-ttu-id="93934-201">Devolve as regras de firewall ao nível do servidor atual Olá</span><span class="sxs-lookup"><span data-stu-id="93934-201">Returns hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="93934-202">New-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="93934-202">New-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546724.aspx) |<span data-ttu-id="93934-203">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-203">Server</span></span> |<span data-ttu-id="93934-204">Cria uma regra de firewall ao nível do servidor nova</span><span class="sxs-lookup"><span data-stu-id="93934-204">Creates a new server-level firewall rule</span></span> |
| [<span data-ttu-id="93934-205">Set-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="93934-205">Set-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546739.aspx) |<span data-ttu-id="93934-206">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-206">Server</span></span> |<span data-ttu-id="93934-207">Atualizações Olá propriedades de uma regra de firewall ao nível do servidor existente</span><span class="sxs-lookup"><span data-stu-id="93934-207">Updates hello properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="93934-208">Remove-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="93934-208">Remove-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546727.aspx) |<span data-ttu-id="93934-209">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-209">Server</span></span> |<span data-ttu-id="93934-210">Remove as regras de firewall ao nível do servidor</span><span class="sxs-lookup"><span data-stu-id="93934-210">Removes server-level firewall rules</span></span> |


<span data-ttu-id="93934-211">Olá seguinte o exemplo define uma regra de firewall ao nível do servidor com o PowerShell:</span><span class="sxs-lookup"><span data-stu-id="93934-211">hello following example sets a server-level firewall rule using PowerShell:</span></span>

```powershell
New-AzureRmSqlServerFirewallRule -ResourceGroupName "myResourceGroup" `
    -ServerName $servername `
    -FirewallRuleName "AllowSome" -StartIpAddress "0.0.0.0" -EndIpAddress "0.0.0.0"
```

> [!TIP]
> <span data-ttu-id="93934-212">Para exemplos do PowerShell no contexto de Olá de um início rápido, consulte [criar DB - PowerShell](sql-database-get-started-powershell.md) e [criar uma base de dados e configurar uma regra de firewall com o PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="93934-212">For PowerShell examples in hello context of a quick start, see [Create DB - PowerShell](sql-database-get-started-powershell.md) and [Create a single database and configure a firewall rule using PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span></span>
>

### <a name="azure-cli"></a><span data-ttu-id="93934-213">CLI do Azure</span><span class="sxs-lookup"><span data-stu-id="93934-213">Azure CLI</span></span>
| <span data-ttu-id="93934-214">Cmdlet</span><span class="sxs-lookup"><span data-stu-id="93934-214">Cmdlet</span></span> | <span data-ttu-id="93934-215">Nível</span><span class="sxs-lookup"><span data-stu-id="93934-215">Level</span></span> | <span data-ttu-id="93934-216">Descrição</span><span class="sxs-lookup"><span data-stu-id="93934-216">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="93934-217">firewall do servidor de sql de AZ criar</span><span class="sxs-lookup"><span data-stu-id="93934-217">az sql server firewall create</span></span>](/cli/azure/sql/server/firewall-rule#create) | <span data-ttu-id="93934-218">Cria um tooall de acesso de tooallow de regra de firewall bases de dados SQL no servidor de Olá do intervalo de endereços IP Olá introduzido.</span><span class="sxs-lookup"><span data-stu-id="93934-218">Creates a firewall rule tooallow access tooall SQL Databases on hello server from hello entered IP address range.</span></span>|
| [<span data-ttu-id="93934-219">eliminação de firewall AZ sql server</span><span class="sxs-lookup"><span data-stu-id="93934-219">az sql server firewall delete</span></span>](/cli/azure/sql/server/firewall-rule#delete)| <span data-ttu-id="93934-220">Elimina uma regra de firewall.</span><span class="sxs-lookup"><span data-stu-id="93934-220">Deletes a firewall rule.</span></span>|
| [<span data-ttu-id="93934-221">lista de firewall AZ sql server</span><span class="sxs-lookup"><span data-stu-id="93934-221">az sql server firewall list</span></span>](/cli/azure/sql/server/firewall-rule#list)| <span data-ttu-id="93934-222">Apresenta uma lista de regras de firewall de Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-222">Lists hello firewall rules.</span></span>|
| [<span data-ttu-id="93934-223">Mostrar a regra de firewall AZ sql server</span><span class="sxs-lookup"><span data-stu-id="93934-223">az sql server firewall rule show</span></span>](/cli/azure/sql/server/firewall-rule#show)| <span data-ttu-id="93934-224">Mostra detalhes de Olá de uma regra de firewall.</span><span class="sxs-lookup"><span data-stu-id="93934-224">Shows hello details of a firewall rule.</span></span>|
| [<span data-ttu-id="93934-225">AX atualização de regra de firewall do sql server</span><span class="sxs-lookup"><span data-stu-id="93934-225">ax sql server firewall rule update</span></span>](/cli/azure/sql/server/firewall-rule#update)| <span data-ttu-id="93934-226">Atualiza uma regra de firewall.</span><span class="sxs-lookup"><span data-stu-id="93934-226">Updates a firewall rule.</span></span>

<span data-ttu-id="93934-227">Olá seguinte o exemplo define uma regra de firewall ao nível do servidor utilizando Olá CLI do Azure:</span><span class="sxs-lookup"><span data-stu-id="93934-227">hello following example sets a server-level firewall rule using hello Azure CLI:</span></span> 

```azurecli-interactive
az sql server firewall-rule create --resource-group myResourceGroup --server $servername \
    -n AllowYourIp --start-ip-address 0.0.0.0 --end-ip-address 0.0.0.0
```

> [!TIP]
> <span data-ttu-id="93934-228">Para obter um exemplo da CLI do Azure no contexto de Olá de um início rápido, consulte [criar DDB - CLI do Azure](sql-database-get-started-cli.md) e [criar uma base de dados e configurar uma regra de firewall utilizando Olá CLI do Azure](scripts/sql-database-create-and-configure-database-cli.md)</span><span class="sxs-lookup"><span data-stu-id="93934-228">For an Azure CLI example in hello context of a quick start, see [Create DDB - Azure CLI](sql-database-get-started-cli.md) and [Create a single database and configure a firewall rule using hello Azure CLI](scripts/sql-database-create-and-configure-database-cli.md)</span></span>
>

### <a name="rest-api"></a><span data-ttu-id="93934-229">API REST</span><span class="sxs-lookup"><span data-stu-id="93934-229">REST API</span></span>
| <span data-ttu-id="93934-230">API</span><span class="sxs-lookup"><span data-stu-id="93934-230">API</span></span> | <span data-ttu-id="93934-231">Nível</span><span class="sxs-lookup"><span data-stu-id="93934-231">Level</span></span> | <span data-ttu-id="93934-232">Descrição</span><span class="sxs-lookup"><span data-stu-id="93934-232">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="93934-233">Listar Regras de Firewall</span><span class="sxs-lookup"><span data-stu-id="93934-233">List Firewall Rules</span></span>](https://msdn.microsoft.com/library/azure/dn505715.aspx) |<span data-ttu-id="93934-234">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-234">Server</span></span> |<span data-ttu-id="93934-235">Apresenta as regras de firewall ao nível do servidor atual Olá</span><span class="sxs-lookup"><span data-stu-id="93934-235">Displays hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="93934-236">Criar Regra de Firewall</span><span class="sxs-lookup"><span data-stu-id="93934-236">Create Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505712.aspx) |<span data-ttu-id="93934-237">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-237">Server</span></span> |<span data-ttu-id="93934-238">Cria ou atualiza as regras de firewall ao nível do servidor</span><span class="sxs-lookup"><span data-stu-id="93934-238">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="93934-239">Definir Regra de Firewall</span><span class="sxs-lookup"><span data-stu-id="93934-239">Set Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505707.aspx) |<span data-ttu-id="93934-240">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-240">Server</span></span> |<span data-ttu-id="93934-241">Atualizações Olá propriedades de uma regra de firewall ao nível do servidor existente</span><span class="sxs-lookup"><span data-stu-id="93934-241">Updates hello properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="93934-242">Eliminar Regra de Firewall</span><span class="sxs-lookup"><span data-stu-id="93934-242">Delete Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505706.aspx) |<span data-ttu-id="93934-243">Servidor</span><span class="sxs-lookup"><span data-stu-id="93934-243">Server</span></span> |<span data-ttu-id="93934-244">Remove as regras de firewall ao nível do servidor</span><span class="sxs-lookup"><span data-stu-id="93934-244">Removes server-level firewall rules</span></span> |

## <a name="server-level-firewall-rule-versus-a-database-level-firewall-rule"></a><span data-ttu-id="93934-245">Regra de firewall ao nível do servidor em comparação com uma regra de firewall ao nível da base de dados</span><span class="sxs-lookup"><span data-stu-id="93934-245">Server-level firewall rule versus a database-level firewall rule</span></span>
<span data-ttu-id="93934-246">Q.</span><span class="sxs-lookup"><span data-stu-id="93934-246">Q.</span></span> <span data-ttu-id="93934-247">Os utilizadores de uma base de dados devem ser completamente isolados de outra base de dados?</span><span class="sxs-lookup"><span data-stu-id="93934-247">Should users of one database be fully isolated from another database?</span></span>   
  <span data-ttu-id="93934-248">Se Sim, conceda acesso através de regras de firewall ao nível da base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-248">If yes, grant access using database-level firewall rules.</span></span> <span data-ttu-id="93934-249">Isto evita utilizando regras de firewall ao nível do servidor, que permitem acesso através da firewall Olá tooall bases de dados, reduzindo a profundidade de Olá do seu defesas.</span><span class="sxs-lookup"><span data-stu-id="93934-249">This avoids using server-level firewall rules, which permit access through hello firewall tooall databases, reducing hello depth of your defenses.</span></span>   
 
<span data-ttu-id="93934-250">Q.</span><span class="sxs-lookup"><span data-stu-id="93934-250">Q.</span></span> <span data-ttu-id="93934-251">Os utilizadores do endereço IP Olá precisa de aceder tooall bases de dados?</span><span class="sxs-lookup"><span data-stu-id="93934-251">Do users at hello IP address’s need access tooall databases?</span></span>   
  <span data-ttu-id="93934-252">Utilize a firewall ao nível do servidor das regras tooreduce Olá o número de vezes que tem de configurar as regras de firewall.</span><span class="sxs-lookup"><span data-stu-id="93934-252">Use server-level firewall rules tooreduce hello number of times you must configure firewall rules.</span></span>   

<span data-ttu-id="93934-253">Q.</span><span class="sxs-lookup"><span data-stu-id="93934-253">Q.</span></span> <span data-ttu-id="93934-254">A pessoa Olá ou equipa configurar regras de firewall de Olá apenas tem acesso através de Olá portal do Azure, PowerShell ou Olá REST API?</span><span class="sxs-lookup"><span data-stu-id="93934-254">Does hello person or team configuring hello firewall rules only have access through hello Azure portal, PowerShell, or hello REST API?</span></span>   
  <span data-ttu-id="93934-255">Tem de utilizar as regras de firewall ao nível do servidor.</span><span class="sxs-lookup"><span data-stu-id="93934-255">You must use server-level firewall rules.</span></span> <span data-ttu-id="93934-256">Regras de firewall ao nível da base de dados só podem ser configuradas com o Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="93934-256">Database-level firewall rules can only be configured using Transact-SQL.</span></span>  

<span data-ttu-id="93934-257">Q.</span><span class="sxs-lookup"><span data-stu-id="93934-257">Q.</span></span> <span data-ttu-id="93934-258">É pessoa Olá ou equipa configurar regras de firewall de Olá proibida de ter permissão de alto nível ao nível da base de dados de Olá?</span><span class="sxs-lookup"><span data-stu-id="93934-258">Is hello person or team configuring hello firewall rules prohibited from having high-level permission at hello database level?</span></span>   
  <span data-ttu-id="93934-259">Utilize as regras de firewall ao nível do servidor.</span><span class="sxs-lookup"><span data-stu-id="93934-259">Use server-level firewall rules.</span></span> <span data-ttu-id="93934-260">Configurar regras de firewall ao nível da base de dados com o Transact-SQL, necessita de, pelo menos, `CONTROL DATABASE` permissão ao nível da base de dados de Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-260">Configuring database-level firewall rules using Transact-SQL, requires at least `CONTROL DATABASE` permission at hello database level.</span></span>  

<span data-ttu-id="93934-261">Q.</span><span class="sxs-lookup"><span data-stu-id="93934-261">Q.</span></span> <span data-ttu-id="93934-262">É pessoa Olá ou equipa configurar ou auditoria de regras de firewall de Olá, gerir centralmente as regras de firewall para muitos (talvez 100) das bases de dados?</span><span class="sxs-lookup"><span data-stu-id="93934-262">Is hello person or team configuring or auditing hello firewall rules, centrally managing firewall rules for many (perhaps 100s) of databases?</span></span>   
  <span data-ttu-id="93934-263">Esta seleção depende da sua necessidades e ambiente.</span><span class="sxs-lookup"><span data-stu-id="93934-263">This selection depends upon your needs and environment.</span></span> <span data-ttu-id="93934-264">Regras de firewall ao nível do servidor podem ser mais fácil tooconfigure, mas scripting pode configurar regras no Olá ao nível da base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-264">Server-level firewall rules might be easier tooconfigure, but scripting can configure rules at hello database-level.</span></span> <span data-ttu-id="93934-265">E, mesmo se utilizar regras de firewall ao nível do servidor, poderá ter de regras de firewall de base de dados de Olá tooaudit, toosee se os utilizadores com `CONTROL` permissão na base de dados de Olá criou regras de firewall ao nível da base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-265">And even if you use server-level firewall rules, you might need tooaudit hello database-firewall rules, toosee if users with `CONTROL` permission on hello database have created database-level firewall rules.</span></span>   

<span data-ttu-id="93934-266">Q.</span><span class="sxs-lookup"><span data-stu-id="93934-266">Q.</span></span> <span data-ttu-id="93934-267">Pode utilizar uma combinação de ambas as regras de firewall ao nível do servidor e o nível de base de dados?</span><span class="sxs-lookup"><span data-stu-id="93934-267">Can I use a mix of both server-level and database-level firewall rules?</span></span>   
  <span data-ttu-id="93934-268">Sim.</span><span class="sxs-lookup"><span data-stu-id="93934-268">Yes.</span></span> <span data-ttu-id="93934-269">Alguns utilizadores, tal como os administradores poderão ter regras de firewall ao nível do servidor.</span><span class="sxs-lookup"><span data-stu-id="93934-269">Some users, such as administrators might need server-level firewall rules.</span></span> <span data-ttu-id="93934-270">Outros utilizadores, tais como utilizadores de uma aplicação de base de dados, poderão ter regras de firewall ao nível da base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-270">Other users, such as users of a database application, might need database-level firewall rules.</span></span>   

## <a name="troubleshooting-hello-database-firewall"></a><span data-ttu-id="93934-271">Resolução de problemas de firewall de base de dados de Olá</span><span class="sxs-lookup"><span data-stu-id="93934-271">Troubleshooting hello database firewall</span></span>
<span data-ttu-id="93934-272">Considere Olá seguintes pontos ao acesso toohello serviço base de dados do Microsoft Azure SQL não se comporte como esperado:</span><span class="sxs-lookup"><span data-stu-id="93934-272">Consider hello following points when access toohello Microsoft Azure SQL Database service does not behave as you expect:</span></span>

* <span data-ttu-id="93934-273">**Configuração da local firewall:** antes do computador pode aceder a SQL Database do Azure, poderá ser necessário toocreate uma exceção de firewall no seu computador para a porta TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="93934-273">**Local firewall configuration:** Before your computer can access Azure SQL Database, you may need toocreate a firewall exception on your computer for TCP port 1433.</span></span> <span data-ttu-id="93934-274">Se estiver a efetuar ligações dentro de limites de nuvem do Azure Olá, poderá ter tooopen de portas adicionais.</span><span class="sxs-lookup"><span data-stu-id="93934-274">If you are making connections inside hello Azure cloud boundary, you may have tooopen additional ports.</span></span> <span data-ttu-id="93934-275">Para obter mais informações, consulte Olá **base de dados SQL: fora vs dentro** secção [portas para além de 1433 para ADO.NET 4.5 e a SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="93934-275">For more information, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>
* <span data-ttu-id="93934-276">**Tradução de endereços (NAT) de rede:** atraso tooNAT, endereço IP de Olá utilizado pelo seu tooAzure tooconnect de computador base de dados SQL pode ser diferente do endereço IP Olá apresentado nas definições de configuração de IP do computador.</span><span class="sxs-lookup"><span data-stu-id="93934-276">**Network address translation (NAT):** Due tooNAT, hello IP address used by your computer tooconnect tooAzure SQL Database may be different than hello IP address shown in your computer IP configuration settings.</span></span> <span data-ttu-id="93934-277">endereço IP tooview Olá o computador está a utilizar tooconnect tooAzure, inicie sessão no portal de toohello e navegue toohello **configurar** separador no servidor de Olá que aloja a base de dados.</span><span class="sxs-lookup"><span data-stu-id="93934-277">tooview hello IP address your computer is using tooconnect tooAzure, log in toohello portal and navigate toohello **Configure** tab on hello server that hosts your database.</span></span> <span data-ttu-id="93934-278">Em Olá **endereços de IP permitido** secção, hello **endereço de IP de cliente atual** é apresentado.</span><span class="sxs-lookup"><span data-stu-id="93934-278">Under hello **Allowed IP Addresses** section, hello **Current Client IP Address** is displayed.</span></span> <span data-ttu-id="93934-279">Clique em **adicionar** toohello **endereços de IP permitido** tooallow este servidor de Olá de tooaccess do computador.</span><span class="sxs-lookup"><span data-stu-id="93934-279">Click **Add** toohello **Allowed IP Addresses** tooallow this computer tooaccess hello server.</span></span>
* <span data-ttu-id="93934-280">**Lista de permissões de alterações toohello não tenham sido ainda aplicadas:** poderão existir como sucederia com um atraso de cinco minutos para o efeito de tootake do toohello SQL Database do Azure firewall configuração é alterado.</span><span class="sxs-lookup"><span data-stu-id="93934-280">**Changes toohello allow list have not taken effect yet:** There may be as much as a five-minute delay for changes toohello Azure SQL Database firewall configuration tootake effect.</span></span>
* <span data-ttu-id="93934-281">**início de sessão Olá não está autorizado ou foi utilizada uma palavra-passe incorreta:** se um início de sessão não tem permissões no servidor de base de dados do Azure SQL Olá ou palavra-passe de Olá utilizada está incorreta, o servidor de base de dados do Azure SQL Olá ligação toohello é negado.</span><span class="sxs-lookup"><span data-stu-id="93934-281">**hello login is not authorized or an incorrect password was used:** If a login does not have permissions on hello Azure SQL Database server or hello password used is incorrect, hello connection toohello Azure SQL Database server is denied.</span></span> <span data-ttu-id="93934-282">Apenas criando uma definição de firewall fornece aos clientes com um tooattempt oportunidade ligar tooyour servidor; cada cliente tem de fornecer credenciais de segurança necessários Olá.</span><span class="sxs-lookup"><span data-stu-id="93934-282">Creating a firewall setting only provides clients with an opportunity tooattempt connecting tooyour server; each client must provide hello necessary security credentials.</span></span> <span data-ttu-id="93934-283">Para obter mais informações sobre a preparação dos inícios de sessão, veja Managing Databases, Logins, and Users in Azure SQL Database (Gerir Bases de Dados, Inícios de Sessão e Utilizadores na Base de Dados SQL do Azure).</span><span class="sxs-lookup"><span data-stu-id="93934-283">For more information about preparing logins, see Managing Databases, Logins, and Users in Azure SQL Database.</span></span>
* <span data-ttu-id="93934-284">**Endereço IP dinâmico:** se tiver uma ligação à Internet com endereçamento de IP dinâmico e estiver a ter dificuldades em obter através da firewall Olá, foi experimente um dos Olá soluções a seguir:</span><span class="sxs-lookup"><span data-stu-id="93934-284">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through hello firewall, you could try one of hello following solutions:</span></span>
  
  * <span data-ttu-id="93934-285">Peça ao seu fornecedor de serviços de Internet (ISP) para o intervalo de endereços IP Olá atribuído computadores de cliente tooyour esse servidor do acesso Olá SQL Database do Azure e, em seguida, adicione o intervalo de endereços IP Olá como uma regra de firewall.</span><span class="sxs-lookup"><span data-stu-id="93934-285">Ask your Internet Service Provider (ISP) for hello IP address range assigned tooyour client computers that access hello Azure SQL Database server, and then add hello IP address range as a firewall rule.</span></span>
  * <span data-ttu-id="93934-286">Obter estático endereçamento IP em vez disso, para os computadores cliente e, em seguida, adicionar endereços IP Olá como as regras de firewall.</span><span class="sxs-lookup"><span data-stu-id="93934-286">Get static IP addressing instead for your client computers, and then add hello IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="93934-287">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="93934-287">Next steps</span></span>

- <span data-ttu-id="93934-288">Para uma introdução rápida sobre a criação de uma base de dados e uma regra de firewall ao nível do servidor, consulte [criar uma base de dados SQL do Azure](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="93934-288">For a quick start on creating a database and a server-level firewall rule, see [Create an Azure SQL database](sql-database-get-started-portal.md).</span></span>
- <span data-ttu-id="93934-289">Para obter ajuda na ligação tooan SQL database do Azure de código aberto ou aplicações de terceiros, consulte [tooSQL da base de dados de exemplo de código de início rápido do cliente](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span><span class="sxs-lookup"><span data-stu-id="93934-289">For help in connecting tooan Azure SQL database from open source or third-party applications, see [Client quick-start code samples tooSQL Database](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span></span>
- <span data-ttu-id="93934-290">Para obter informações sobre portas adicionais que poderá ser necessário tooopen, consulte Olá **base de dados SQL: fora vs dentro** secção [portas para além de 1433 para ADO.NET 4.5 e a base de dados SQL](sql-database-develop-direct-route-ports-adonet-v12.md)</span><span class="sxs-lookup"><span data-stu-id="93934-290">For information on additional ports that you may need tooopen, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md)</span></span>
- <span data-ttu-id="93934-291">Para obter uma descrição geral de segurança da base de dados do Azure SQL, consulte [proteger a sua base de dados](sql-database-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="93934-291">For an overview of Azure SQL Database security, see [Securing your database](sql-database-security-overview.md)</span></span>

<!--Image references-->
[1]: ./media/sql-database-firewall-configure/sqldb-firewall-1.png
