---
title: "considerações de topologia aaaNetwork quando utilizar o Proxy de aplicações do Azure Active Directory | Microsoft Docs"
description: "Abrange as considerações de topologia de rede ao utilizar o Proxy de aplicações do Azure AD."
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/28/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 9b8cdd2196efeb92a74e44dde6511f7d3091a968
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="network-topology-considerations-when-using-azure-active-directory-application-proxy"></a><span data-ttu-id="45781-103">Considerações de topologia de rede ao utilizar o Proxy de aplicações do Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="45781-103">Network topology considerations when using Azure Active Directory Application Proxy</span></span>

<span data-ttu-id="45781-104">Este artigo explica as considerações de topologia de rede ao utilizar o Proxy de aplicações do Azure Active Directory (Azure AD) para a publicar e aceder remotamente as suas aplicações.</span><span class="sxs-lookup"><span data-stu-id="45781-104">This article explains network topology considerations when using Azure Active Directory (Azure AD) Application Proxy for publishing and accessing your applications remotely.</span></span>

## <a name="traffic-flow"></a><span data-ttu-id="45781-105">Fluxo de tráfego</span><span class="sxs-lookup"><span data-stu-id="45781-105">Traffic flow</span></span>

<span data-ttu-id="45781-106">Quando uma aplicação publicada através do Azure AD para o Proxy de aplicações, o tráfego de aplicações do Olá utilizadores toohello flui através de ligações de três:</span><span class="sxs-lookup"><span data-stu-id="45781-106">When an application is published through Azure AD Application Proxy, traffic from hello users toohello applications flows through three connections:</span></span>

1. <span data-ttu-id="45781-107">utilizador de Olá liga toohello Proxy de aplicações do Azure AD pública ponto final de serviço no Azure</span><span class="sxs-lookup"><span data-stu-id="45781-107">hello user connects toohello Azure AD Application Proxy service public endpoint on Azure</span></span>
2. <span data-ttu-id="45781-108">Olá serviço Proxy de aplicações liga toohello conector de Proxy de aplicações</span><span class="sxs-lookup"><span data-stu-id="45781-108">hello Application Proxy service connects toohello Application Proxy connector</span></span>
3. <span data-ttu-id="45781-109">conector do Proxy da aplicação Olá liga-se a aplicação de destino toohello</span><span class="sxs-lookup"><span data-stu-id="45781-109">hello Application Proxy connector connects toohello target application</span></span>

![Diagrama que mostra o fluxo de tráfego da aplicação de tootarget do utilizador](./media/application-proxy-network-topologies/application-proxy-three-hops.png)

## <a name="tenant-location-and-application-proxy-service"></a><span data-ttu-id="45781-111">Localização de inquilino e o serviço Proxy de aplicações</span><span class="sxs-lookup"><span data-stu-id="45781-111">Tenant location and Application Proxy service</span></span>

<span data-ttu-id="45781-112">Quando se inscreve para um inquilino do Azure AD, região Olá do seu inquilino é determinado pelo país de Olá que especificar.</span><span class="sxs-lookup"><span data-stu-id="45781-112">When you sign up for an Azure AD tenant, hello region of your tenant is determined by hello country you specify.</span></span> <span data-ttu-id="45781-113">Quando ativar o Proxy da aplicação, instâncias de serviço de Proxy da aplicação Olá para o seu inquilino são escolhidas ou criadas no Olá mesma região que o seu inquilino do Azure AD ou Olá tooit de região mais próxima.</span><span class="sxs-lookup"><span data-stu-id="45781-113">When you enable Application Proxy, hello Application Proxy service instances for your tenant are chosen or created in hello same region as your Azure AD tenant, or hello closest region tooit.</span></span>

<span data-ttu-id="45781-114">Por exemplo, se a região do seu inquilino do Azure AD é Olá União Europeia (EU), todos os conectores de Proxy de aplicações a utilizam instâncias de serviço nos centros de dados do Azure no Olá EU.</span><span class="sxs-lookup"><span data-stu-id="45781-114">For example, if your Azure AD tenant’s region is hello European Union (EU), all your Application Proxy connectors use service instances in Azure datacenters in hello EU.</span></span> <span data-ttu-id="45781-115">Quando o acesso de utilizadores a aplicações publicadas, o tráfego atravessa instâncias de serviço de Proxy da aplicação Olá nesta localização.</span><span class="sxs-lookup"><span data-stu-id="45781-115">When your users access published applications, their traffic goes through hello Application Proxy service instances in this location.</span></span>

## <a name="considerations-for-reducing-latency"></a><span data-ttu-id="45781-116">Considerações para reduzir a latência</span><span class="sxs-lookup"><span data-stu-id="45781-116">Considerations for reducing latency</span></span>

<span data-ttu-id="45781-117">Todas as soluções de proxy introduzem latência na sua ligação de rede.</span><span class="sxs-lookup"><span data-stu-id="45781-117">All proxy solutions introduce latency into your network connection.</span></span> <span data-ttu-id="45781-118">Independentemente do que na solução de VPN ou de proxy escolher como solução de acesso remoto, sempre inclui um conjunto de servidores, permitindo Olá ligação tooinside a sua rede empresarial.</span><span class="sxs-lookup"><span data-stu-id="45781-118">No matter which proxy or VPN solution you choose as your remote access solution, it always includes a set of servers enabling hello connection tooinside your corporate network.</span></span>

<span data-ttu-id="45781-119">As organizações incluem, geralmente, os pontos finais do servidor na sua rede de perímetro.</span><span class="sxs-lookup"><span data-stu-id="45781-119">Organizations typically include server endpoints in their perimeter network.</span></span> <span data-ttu-id="45781-120">Com o Proxy de aplicações do Azure AD, no entanto, o tráfego flui através do serviço de proxy de Olá na nuvem de Olá enquanto conectores Olá residirem na sua rede empresarial.</span><span class="sxs-lookup"><span data-stu-id="45781-120">With Azure AD Application Proxy, however, traffic flows through hello proxy service in hello cloud while hello connectors reside on your corporate network.</span></span> <span data-ttu-id="45781-121">Não é necessária nenhuma rede de perímetro.</span><span class="sxs-lookup"><span data-stu-id="45781-121">No perimeter network is required.</span></span>

<span data-ttu-id="45781-122">secções Olá contenham toohelp sugestões adicionais reduzir a latência de ainda mais.</span><span class="sxs-lookup"><span data-stu-id="45781-122">hello next sections contain additional suggestions toohelp you reduce latency even further.</span></span> 

### <a name="connector-placement"></a><span data-ttu-id="45781-123">Posicionamento de conector</span><span class="sxs-lookup"><span data-stu-id="45781-123">Connector placement</span></span>

<span data-ttu-id="45781-124">Proxy de aplicações escolhe localização Olá de instâncias para si, com base na sua localização de inquilino.</span><span class="sxs-lookup"><span data-stu-id="45781-124">Application Proxy chooses hello location of instances for you, based on your tenant location.</span></span> <span data-ttu-id="45781-125">No entanto, pode obter toodecide onde o conector de Olá tooinstall, dando-lhe Olá energia toodefine Olá latência as características de tráfego de rede.</span><span class="sxs-lookup"><span data-stu-id="45781-125">However, you get toodecide where tooinstall hello connector, giving you hello power toodefine hello latency characteristics of your network traffic.</span></span>

<span data-ttu-id="45781-126">Quando configurar Olá serviço Proxy de aplicações, peça ao hello seguintes perguntas:</span><span class="sxs-lookup"><span data-stu-id="45781-126">When setting up hello Application Proxy service, ask hello following questions:</span></span>

* <span data-ttu-id="45781-127">Onde está localizada a aplicação Olá?</span><span class="sxs-lookup"><span data-stu-id="45781-127">Where is hello app located?</span></span>
* <span data-ttu-id="45781-128">Onde estão a maioria dos utilizadores que acedem a aplicação Olá localizada?</span><span class="sxs-lookup"><span data-stu-id="45781-128">Where are most users who access hello app located?</span></span>
* <span data-ttu-id="45781-129">Onde está localizada a instância de Proxy da aplicação Olá?</span><span class="sxs-lookup"><span data-stu-id="45781-129">Where is hello Application Proxy instance located?</span></span>
* <span data-ttu-id="45781-130">Já tem uma rede dedicada ligação tooAzure dos centros de dados configurados, como o Azure ExpressRoute ou uma VPN semelhante?</span><span class="sxs-lookup"><span data-stu-id="45781-130">Do you already have a dedicated network connection tooAzure datacenters set up, like Azure ExpressRoute or a similar VPN?</span></span>

<span data-ttu-id="45781-131">conector Olá tem toocommunicate com o Azure e as suas aplicações (os passos 2 e 3 no diagrama de fluxo de tráfego de Olá), por isso, Olá colocação de Olá conector afeta Olá latência dessas duas ligações.</span><span class="sxs-lookup"><span data-stu-id="45781-131">hello connector has toocommunicate with both Azure and your applications (steps 2 and 3 in hello Traffic flow diagram), so hello placement of hello connector affects hello latency of those two connections.</span></span> <span data-ttu-id="45781-132">Ao avaliar a colocação de Olá do conector de Olá, tenha em Olá atenção os seguintes pontos:</span><span class="sxs-lookup"><span data-stu-id="45781-132">When evaluating hello placement of hello connector, keep in mind hello following points:</span></span>

* <span data-ttu-id="45781-133">Se quiser toouse a delegação restrita de Kerberos (KCD) para o início de sessão único, conector Olá necessita de um centro de dados de tooa de linha de visão.</span><span class="sxs-lookup"><span data-stu-id="45781-133">If you want toouse Kerberos constrained delegation (KCD) for single sign-on, then hello connector needs a line of sight tooa datacenter.</span></span> <span data-ttu-id="45781-134">Além disso, o servidor do conector Olá é associado a um domínio de toobe.</span><span class="sxs-lookup"><span data-stu-id="45781-134">Additionally, hello connector server needs toobe domain joined.</span></span>  
* <span data-ttu-id="45781-135">Quando em dúvida, instale a aplicação de toohello próximo do Olá conector.</span><span class="sxs-lookup"><span data-stu-id="45781-135">When in doubt, install hello connector closer toohello application.</span></span>

### <a name="general-approach-toominimize-latency"></a><span data-ttu-id="45781-136">Latência de toominimize abordagem geral</span><span class="sxs-lookup"><span data-stu-id="45781-136">General approach toominimize latency</span></span>

<span data-ttu-id="45781-137">Pode minimizar a latência de Olá de tráfego de ponto a ponto Olá por otimizar cada ligação de rede.</span><span class="sxs-lookup"><span data-stu-id="45781-137">You can minimize hello latency of hello end-to-end traffic by optimizing each network connection.</span></span> <span data-ttu-id="45781-138">Cada ligação pode ser otimizada por:</span><span class="sxs-lookup"><span data-stu-id="45781-138">Each connection can be optimized by:</span></span>

* <span data-ttu-id="45781-139">Reduzir a distância Olá entre dois ends de Olá do salto de Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-139">Reducing hello distance between hello two ends of hello hop.</span></span>
* <span data-ttu-id="45781-140">Escolher Olá tootraverse de rede à direita.</span><span class="sxs-lookup"><span data-stu-id="45781-140">Choosing hello right network tootraverse.</span></span> <span data-ttu-id="45781-141">Por exemplo, uma rede privada em vez de Olá a atravessar Internet pública pode ser mais rápida, que devem estar toodedicated ligações.</span><span class="sxs-lookup"><span data-stu-id="45781-141">For example, traversing a private network rather than hello public Internet may be faster, due toodedicated links.</span></span>

<span data-ttu-id="45781-142">Se tiver uma ligação VPN ou ExpressRoute dedicada entre o Azure e a sua rede empresarial, poderá ser útil toouse que.</span><span class="sxs-lookup"><span data-stu-id="45781-142">If you have a dedicated VPN or ExpressRoute link between Azure and your corporate network, you may want toouse that.</span></span>

## <a name="focus-your-optimization-strategy"></a><span data-ttu-id="45781-143">Concentre-se a sua estratégia de otimização</span><span class="sxs-lookup"><span data-stu-id="45781-143">Focus your optimization strategy</span></span>

<span data-ttu-id="45781-144">Não há pouca que pode efetuar a ligação de Olá toocontrol entre os utilizadores e Olá serviço Proxy de aplicações.</span><span class="sxs-lookup"><span data-stu-id="45781-144">There's little that you can do toocontrol hello connection between your users and hello Application Proxy service.</span></span> <span data-ttu-id="45781-145">Os utilizadores podem aceder às suas aplicações de uma rede doméstica, num café ou noutro país.</span><span class="sxs-lookup"><span data-stu-id="45781-145">Users may access your apps from a home network, a coffee shop, or a different country.</span></span> <span data-ttu-id="45781-146">Em vez disso, pode otimizar a ligações de Olá de Olá Proxy da aplicação do serviço toohello Proxy de aplicações conectores toohello de aplicações.</span><span class="sxs-lookup"><span data-stu-id="45781-146">Instead, you can optimize hello connections from hello Application Proxy service toohello Application Proxy connectors toohello apps.</span></span> <span data-ttu-id="45781-147">Considere a incorporar Olá seguintes padrões no seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="45781-147">Consider incorporating hello following patterns in your environment.</span></span>

### <a name="pattern-1-put-hello-connector-close-toohello-application"></a><span data-ttu-id="45781-148">Padrão de 1: Colocar Olá conector toohello fechar aplicação</span><span class="sxs-lookup"><span data-stu-id="45781-148">Pattern 1: Put hello connector close toohello application</span></span>

<span data-ttu-id="45781-149">Local Olá conector toohello fechar aplicação de destino na rede de cliente Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-149">Place hello connector close toohello target application in hello customer network.</span></span> <span data-ttu-id="45781-150">Esta configuração minimiza o passo 3 no diagrama de topografia Olá, porque o conector de Olá e aplicação fechar.</span><span class="sxs-lookup"><span data-stu-id="45781-150">This configuration minimizes step 3 in hello topography diagram, because hello connector and application are close.</span></span> 

<span data-ttu-id="45781-151">Se o conector tem de um controlador de domínio de toohello de linha de visão, é vantajoso este padrão.</span><span class="sxs-lookup"><span data-stu-id="45781-151">If your connector needs a line of sight toohello domain controller, then this pattern is advantageous.</span></span> <span data-ttu-id="45781-152">A maioria dos nossos clientes utiliza este padrão, porque funciona bem para a maioria dos cenários.</span><span class="sxs-lookup"><span data-stu-id="45781-152">Most of our customers use this pattern, because it works well for most scenarios.</span></span> <span data-ttu-id="45781-153">Este padrão também pode ser conjugado com o tráfego de 2 toooptimize padrão entre o serviço de Olá e conector Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-153">This pattern can also be combined with pattern 2 toooptimize traffic between hello service and hello connector.</span></span>

### <a name="pattern-2-take-advantage-of-expressroute-with-public-peering"></a><span data-ttu-id="45781-154">Padrão de 2: Tirar partido do ExpressRoute com o peering público</span><span class="sxs-lookup"><span data-stu-id="45781-154">Pattern 2: Take advantage of ExpressRoute with public peering</span></span>

<span data-ttu-id="45781-155">Se tiver configurado com um peering público do ExpressRoute, pode utilizar a ligação do ExpressRoute mais rápida Olá para o tráfego entre o Proxy de aplicações e conector Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-155">If you have ExpressRoute set up with public peering, you can use hello faster ExpressRoute connection for traffic between Application Proxy and hello connector.</span></span> <span data-ttu-id="45781-156">o conector de Olá é ainda na sua rede, toohello fechar aplicação.</span><span class="sxs-lookup"><span data-stu-id="45781-156">hello connector is still on your network, close toohello app.</span></span>

### <a name="pattern-3-take-advantage-of-expressroute-with-private-peering"></a><span data-ttu-id="45781-157">Padrão de 3: Tirar partido do ExpressRoute com o peering privado</span><span class="sxs-lookup"><span data-stu-id="45781-157">Pattern 3: Take advantage of ExpressRoute with private peering</span></span>

<span data-ttu-id="45781-158">Se tiver uma VPN dedicada ou ExpressRoute configurar com o peering privado entre o Azure e a sua rede empresarial, tem outra opção.</span><span class="sxs-lookup"><span data-stu-id="45781-158">If you have a dedicated VPN or ExpressRoute set up with private peering between Azure and your corporate network, you have another option.</span></span> <span data-ttu-id="45781-159">Nesta configuração, a rede virtual do Olá no Azure, normalmente, é considerado como uma extensão de rede empresarial Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-159">In this configuration, hello virtual network in Azure is typically considered as an extension of hello corporate network.</span></span> <span data-ttu-id="45781-160">Por isso, pode instalar o conector de Olá no Olá datacenter do Azure e, ainda satisfazer requisitos de latência baixa Olá da ligação de conector para aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-160">So you can install hello connector in hello Azure datacenter, and still satisfy hello low latency requirements of hello connector-to-app connection.</span></span>

<span data-ttu-id="45781-161">Latência não fiquem comprometida porque o tráfego é que fluem através de uma ligação dedicada.</span><span class="sxs-lookup"><span data-stu-id="45781-161">Latency is not compromised because traffic is flowing over a dedicated connection.</span></span> <span data-ttu-id="45781-162">Também obter a latência de conector do serviço de Proxy de aplicações melhorada porque o conector de Olá está instalado no tooyour de fechar datacenter do Azure a localização de inquilino do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="45781-162">You also get improved Application Proxy service-to-connector latency because hello connector is installed in an Azure datacenter close tooyour Azure AD tenant location.</span></span>

![Diagrama que mostra o conector instalado dentro de um datacenter do Azure](./media/application-proxy-network-topologies/application-proxy-expressroute-private.png)

### <a name="other-approaches"></a><span data-ttu-id="45781-164">Outras abordagens</span><span class="sxs-lookup"><span data-stu-id="45781-164">Other approaches</span></span>

<span data-ttu-id="45781-165">Embora este artigo aborda Olá colocação do conector, também pode alterar colocação Olá das características de latência Olá aplicação tooget melhor.</span><span class="sxs-lookup"><span data-stu-id="45781-165">Although hello focus of this article is connector placement, you can also change hello placement of hello application tooget better latency characteristics.</span></span>

<span data-ttu-id="45781-166">Cada vez mais, as organizações estiver a mover as respetivas redes em ambientes alojados.</span><span class="sxs-lookup"><span data-stu-id="45781-166">Increasingly, organizations are moving their networks into hosted environments.</span></span> <span data-ttu-id="45781-167">Isto permite-lhes tooplace as suas aplicações num ambiente alojado que também faz parte da sua rede empresarial e continuarão a estar dentro do domínio Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-167">This enables them tooplace their apps in a hosted environment that is also part of their corporate network, and still be within hello domain.</span></span> <span data-ttu-id="45781-168">Neste caso, os padrões de Olá abordados Olá precedente secções podem ser aplicados toohello nova localização da aplicação.</span><span class="sxs-lookup"><span data-stu-id="45781-168">In this case, hello patterns discussed in hello preceding sections can be applied toohello new application location.</span></span> <span data-ttu-id="45781-169">Se estiver a considerar esta opção, consulte o artigo [serviços de domínio do Azure AD](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="45781-169">If you're considering this option, see [Azure AD Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span>

<span data-ttu-id="45781-170">Além disso, considere a organizar os conectores com [grupos conector](active-directory-application-proxy-connectors.md) tootarget aplicações que estão em diferentes localizações e as redes.</span><span class="sxs-lookup"><span data-stu-id="45781-170">Additionally, consider organizing your connectors using [connector groups](active-directory-application-proxy-connectors.md) tootarget apps that are in different locations and networks.</span></span> 

## <a name="common-use-cases"></a><span data-ttu-id="45781-171">Casos de utilização comuns</span><span class="sxs-lookup"><span data-stu-id="45781-171">Common use cases</span></span>

<span data-ttu-id="45781-172">Nesta secção, iremos guiá-lo através de alguns cenários comuns.</span><span class="sxs-lookup"><span data-stu-id="45781-172">In this section, we walk through a few common scenarios.</span></span> <span data-ttu-id="45781-173">Partem do princípio de que Olá inquilino do Azure AD (e, por conseguinte, o ponto final de serviço de proxy) está localizado na Olá dos Estados Unidos (EUA).</span><span class="sxs-lookup"><span data-stu-id="45781-173">Assume that hello Azure AD tenant (and therefore proxy service endpoint) is located in hello United States (US).</span></span> <span data-ttu-id="45781-174">Olá considerações abordadas estes casos de utilização também se aplicam tooother regiões à volta de globo Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-174">hello considerations discussed in these use cases also apply tooother regions around hello globe.</span></span>

<span data-ttu-id="45781-175">Nestes cenários, podemos chamar cada ligação de um "salto" e numbê-los para debate mais fácil:</span><span class="sxs-lookup"><span data-stu-id="45781-175">For these scenarios, we call each connection a "hop" and number them for easier discussion:</span></span>

- <span data-ttu-id="45781-176">**Salto 1**: utilizador toohello serviço Proxy de aplicações</span><span class="sxs-lookup"><span data-stu-id="45781-176">**Hop 1**: User toohello Application Proxy service</span></span>
- <span data-ttu-id="45781-177">**Salto 2**: o conector do Proxy de aplicações de toohello de serviço Proxy de aplicações</span><span class="sxs-lookup"><span data-stu-id="45781-177">**Hop 2**: Application Proxy service toohello Application Proxy connector</span></span>
- <span data-ttu-id="45781-178">**Salto 3**: aplicação de destino de toohello de conector de Proxy de aplicações</span><span class="sxs-lookup"><span data-stu-id="45781-178">**Hop 3**: Application Proxy connector toohello target application</span></span> 

### <a name="use-case-1"></a><span data-ttu-id="45781-179">Caso de utilização 1</span><span class="sxs-lookup"><span data-stu-id="45781-179">Use case 1</span></span>

<span data-ttu-id="45781-180">**Cenário:** aplicação Olá estiver numa rede de uma organização no Olá US, com os utilizadores Olá mesma região.</span><span class="sxs-lookup"><span data-stu-id="45781-180">**Scenario:** hello app is in an organization's network in hello US, with users in hello same region.</span></span> <span data-ttu-id="45781-181">Existe a entre Olá datacenter do Azure e a rede empresarial Olá não ExpressRoute ou VPN.</span><span class="sxs-lookup"><span data-stu-id="45781-181">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="45781-182">**Recomendação:** siga padrão 1, explicado na secção anterior Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-182">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> <span data-ttu-id="45781-183">Para latência melhorada, considere utilizar o ExpressRoute, se necessário.</span><span class="sxs-lookup"><span data-stu-id="45781-183">For improved latency, consider using ExpressRoute, if needed.</span></span>

<span data-ttu-id="45781-184">Este é um padrão simple.</span><span class="sxs-lookup"><span data-stu-id="45781-184">This is a simple pattern.</span></span> <span data-ttu-id="45781-185">Otimizar o salto 3 colocando conector Olá junto da aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-185">You optimize hop 3 by placing hello connector near hello app.</span></span> <span data-ttu-id="45781-186">Também é uma escolha natural, porque o conector Olá normalmente é instalado com linha de visão toohello aplicação e toohello datacenter tooperform KCD operações.</span><span class="sxs-lookup"><span data-stu-id="45781-186">This is also a natural choice, because hello connector typically is installed with line of sight toohello app and toohello datacenter tooperform KCD operations.</span></span>

![Diagrama que mostra que os utilizadores, proxy, conector e aplicações estão todos em Olá-nos](./media/application-proxy-network-topologies/application-proxy-pattern1.png)

### <a name="use-case-2"></a><span data-ttu-id="45781-188">Caso de utilização 2</span><span class="sxs-lookup"><span data-stu-id="45781-188">Use case 2</span></span>

<span data-ttu-id="45781-189">**Cenário:** aplicação Olá estiver numa rede de uma organização no Olá US, com utilizadores distribuídos global.</span><span class="sxs-lookup"><span data-stu-id="45781-189">**Scenario:** hello app is in an organization's network in hello US, with users spread out globally.</span></span> <span data-ttu-id="45781-190">Existe a entre Olá datacenter do Azure e a rede empresarial Olá não ExpressRoute ou VPN.</span><span class="sxs-lookup"><span data-stu-id="45781-190">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="45781-191">**Recomendação:** siga padrão 1, explicado na secção anterior Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-191">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> 

<span data-ttu-id="45781-192">Novamente, Olá comuns padrão, é toooptimize salto 3, onde colocar o conector de Olá junto da aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-192">Again, hello common pattern is toooptimize hop 3, where you place hello connector near hello app.</span></span> <span data-ttu-id="45781-193">Não é normalmente dispendioso, se for Olá todos no mesmo salto 3 região.</span><span class="sxs-lookup"><span data-stu-id="45781-193">Hop 3 is not typically expensive, if it is all within hello same region.</span></span> <span data-ttu-id="45781-194">No entanto, salto 1 pode ser mais dispendioso, dependendo de onde está o utilizador Olá, porque os utilizadores em Olá mundo tem aceder à instância de Proxy da aplicação Olá no Olá E.U.A..</span><span class="sxs-lookup"><span data-stu-id="45781-194">However, hop 1 can be more expensive depending on where hello user is, because users across hello world must access hello Application Proxy instance in hello US.</span></span> <span data-ttu-id="45781-195">É importante salientar que qualquer solução de proxy tem caraterísticas semelhantes sobre utilizadores que está a ser distribuídos globalmente.</span><span class="sxs-lookup"><span data-stu-id="45781-195">It's worth noting that any proxy solution has similar characteristics regarding users being spread out globally.</span></span>

![Diagrama que mostra que os utilizadores encontram-se distribuídas globalmente, mas Olá proxy, conector e aplicações estão numa Olá-nos](./media/application-proxy-network-topologies/application-proxy-pattern2.png)

### <a name="use-case-3"></a><span data-ttu-id="45781-197">Caso utilize 3</span><span class="sxs-lookup"><span data-stu-id="45781-197">Use case 3</span></span>

<span data-ttu-id="45781-198">**Cenário:** aplicação Olá estiver numa rede de uma organização no Olá-nos.</span><span class="sxs-lookup"><span data-stu-id="45781-198">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="45781-199">ExpressRoute com o peering público existe entre a rede empresarial do Azure e Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-199">ExpressRoute with public peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="45781-200">**Recomendação:** siga padrões 1 e 2, explicado na secção anterior Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-200">**Recommendation:** Follow patterns 1 and 2, explained in hello previous section.</span></span>

<span data-ttu-id="45781-201">Em primeiro lugar, coloque o conector Olá como fechar como aplicação toohello possíveis.</span><span class="sxs-lookup"><span data-stu-id="45781-201">First, place hello connector as close as possible toohello app.</span></span> <span data-ttu-id="45781-202">Em seguida, sistema Olá utiliza automaticamente o ExpressRoute para o salto 2.</span><span class="sxs-lookup"><span data-stu-id="45781-202">Then, hello system automatically uses ExpressRoute for hop 2.</span></span> 

<span data-ttu-id="45781-203">Se a ligação de ExpressRoute Olá utilizar peering público, o tráfego de Olá entre proxy Olá e conector Olá flui através dessa ligação.</span><span class="sxs-lookup"><span data-stu-id="45781-203">If hello ExpressRoute link is using public peering, hello traffic between hello proxy and hello connector flows over that link.</span></span> <span data-ttu-id="45781-204">Salto 2 otimizou latência.</span><span class="sxs-lookup"><span data-stu-id="45781-204">Hop 2 has optimized latency.</span></span>

![Diagrama que mostra o ExpressRoute entre Olá proxy e de conector](./media/application-proxy-network-topologies/application-proxy-pattern3.png)

### <a name="use-case-4"></a><span data-ttu-id="45781-206">Caso de utilização 4</span><span class="sxs-lookup"><span data-stu-id="45781-206">Use case 4</span></span>

<span data-ttu-id="45781-207">**Cenário:** aplicação Olá estiver numa rede de uma organização no Olá-nos.</span><span class="sxs-lookup"><span data-stu-id="45781-207">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="45781-208">ExpressRoute com o peering privado existe entre a rede empresarial do Azure e Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-208">ExpressRoute with private peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="45781-209">**Recomendação:** siga padrão 3, explicado na secção anterior Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-209">**Recommendation:** Follow pattern 3, explained in hello previous section.</span></span>

<span data-ttu-id="45781-210">Colocar conector Olá Olá datacenter do Azure que está ligado toohello rede empresarial através do peering privado do ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="45781-210">Place hello connector in hello Azure datacenter that is connected toohello corporate network through ExpressRoute private peering.</span></span> 

<span data-ttu-id="45781-211">conector Olá pode ser colocado em Olá datacenter do Azure.</span><span class="sxs-lookup"><span data-stu-id="45781-211">hello connector can be placed in hello Azure datacenter.</span></span> <span data-ttu-id="45781-212">Uma vez que o conector de Olá ainda tem uma linha de visão toohello aplicação e Olá Centro de dados através da rede privada Olá, salto 3 permanece otimizado.</span><span class="sxs-lookup"><span data-stu-id="45781-212">Since hello connector still has a line of sight toohello application and hello datacenter through hello private network, hop 3 remains optimized.</span></span> <span data-ttu-id="45781-213">Além disso, salto 2 está otimizado adicional.</span><span class="sxs-lookup"><span data-stu-id="45781-213">In addition, hop 2 is optimized further.</span></span>

![Diagrama que mostra o conector Olá um datacenter do Azure e ExpressRoute entre conector Olá e aplicação](./media/application-proxy-network-topologies/application-proxy-pattern4.png)

### <a name="use-case-5"></a><span data-ttu-id="45781-215">Caso de utilização 5</span><span class="sxs-lookup"><span data-stu-id="45781-215">Use case 5</span></span>

<span data-ttu-id="45781-216">**Cenário:** aplicação Olá estiver numa rede de uma organização no Olá EU, com a instância de Proxy da aplicação Olá e a maioria dos utilizadores no Olá-nos.</span><span class="sxs-lookup"><span data-stu-id="45781-216">**Scenario:** hello app is in an organization's network in hello EU, with hello Application Proxy instance and most users in hello US.</span></span>

<span data-ttu-id="45781-217">**Recomendação:** conector de Olá local junto da aplicação Olá.</span><span class="sxs-lookup"><span data-stu-id="45781-217">**Recommendation:** Place hello connector near hello app.</span></span> <span data-ttu-id="45781-218">Porque os utilizadores de E.U.A. estão a aceder a uma instância de Proxy de aplicações que ocorre toobe no Olá mesma região, salto 1 não é demasiado caro.</span><span class="sxs-lookup"><span data-stu-id="45781-218">Because US users are accessing an Application Proxy instance that happens toobe in hello same region, hop 1 is not too expensive.</span></span> <span data-ttu-id="45781-219">Salto 3 está otimizado.</span><span class="sxs-lookup"><span data-stu-id="45781-219">Hop 3 is optimized.</span></span> <span data-ttu-id="45781-220">Considere utilizar o ExpressRoute toooptimize salto 2.</span><span class="sxs-lookup"><span data-stu-id="45781-220">Consider using ExpressRoute toooptimize hop 2.</span></span> 

![Diagrama que mostra os utilizadores e o proxy no Olá E.U.A., com o conector Olá e a aplicação no Olá EU](./media/application-proxy-network-topologies/application-proxy-pattern5b.png)

<span data-ttu-id="45781-222">Também pode considerar a utilizar um outro variante nesta situação.</span><span class="sxs-lookup"><span data-stu-id="45781-222">You can also consider using one other variant in this situation.</span></span> <span data-ttu-id="45781-223">Se a maioria dos utilizadores na organização de Olá estiverem em Olá dos EUA, possibilidades são que a rede expande toohello nos bem.</span><span class="sxs-lookup"><span data-stu-id="45781-223">If most users in hello organization are in hello US, then chances are that your network extends toohello US as well.</span></span> <span data-ttu-id="45781-224">Coloque o conector Olá no Olá E.U.A. e utilizar a aplicação de toohello de linha de rede empresarial interna Olá dedicado no Olá EU.</span><span class="sxs-lookup"><span data-stu-id="45781-224">Place hello connector in hello US, and use hello dedicated internal corporate network line toohello application in hello EU.</span></span> <span data-ttu-id="45781-225">Este saltos de forma 2 e 3 são otimizados.</span><span class="sxs-lookup"><span data-stu-id="45781-225">This way hops 2 and 3 are optimized.</span></span>

![Diagrama que mostra os utilizadores, o proxy e o conector em Olá E.U.A., a aplicação no Olá EU](./media/application-proxy-network-topologies/application-proxy-pattern5c.png)

## <a name="next-steps"></a><span data-ttu-id="45781-227">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="45781-227">Next steps</span></span>

- [<span data-ttu-id="45781-228">Ativar o Proxy da aplicação</span><span class="sxs-lookup"><span data-stu-id="45781-228">Enable Application Proxy</span></span>](active-directory-application-proxy-enable.md)
- [<span data-ttu-id="45781-229">Ativar o início de sessão único</span><span class="sxs-lookup"><span data-stu-id="45781-229">Enable single-sign on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
- [<span data-ttu-id="45781-230">Ativar o acesso condicional</span><span class="sxs-lookup"><span data-stu-id="45781-230">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)
- [<span data-ttu-id="45781-231">Resolver problemas com o Proxy da aplicação</span><span class="sxs-lookup"><span data-stu-id="45781-231">Troubleshoot issues you're having with Application Proxy</span></span>](active-directory-application-proxy-troubleshoot.md)
