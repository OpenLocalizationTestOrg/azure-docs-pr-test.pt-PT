---
title: "níveis de aaaConsistency do BD Azure Cosmos | Microsoft Docs"
description: "BD do Azure do Cosmos tem cinco consistência níveis toohelp saldo eventual consistência, disponibilidade e a latência compromissos."
keywords: "consistência eventual, azure cosmos db, do azure, do Microsoft azure"
services: cosmos-db
author: mimig1
manager: jhubbard
editor: cgronlun
documentationcenter: 
ms.assetid: 3fe51cfa-a889-4a4a-b320-16bf871fe74c
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: mimig
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: ac399c229d0856cd811bc81568536e519af3300f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="tunable-data-consistency-levels-in-azure-cosmos-db"></a><span data-ttu-id="98659-104">Níveis de consistência sincronizáveis dados na base de dados do Azure Cosmos</span><span class="sxs-lookup"><span data-stu-id="98659-104">Tunable data consistency levels in Azure Cosmos DB</span></span>
<span data-ttu-id="98659-105">BD do Azure do Cosmos foi concebido de Olá fundo cópias de segurança com distribuição global em mente para cada modelo de dados.</span><span class="sxs-lookup"><span data-stu-id="98659-105">Azure Cosmos DB is designed from hello ground up with global distribution in mind for every data model.</span></span> <span data-ttu-id="98659-106">É garantias de latência baixa previsível toooffer concebida, um SLA de disponibilidade de 99,99%, e vários bem definidos flexibilizadas modelos de consistência.</span><span class="sxs-lookup"><span data-stu-id="98659-106">It is designed toooffer predictable low latency guarantees, a 99.99% availability SLA, and multiple well-defined relaxed consistency models.</span></span> <span data-ttu-id="98659-107">Atualmente, a base de dados do Azure Cosmos fornece cinco níveis de consistência: forte, consistência vinculada, sessão, prefixo consistente e eventual.</span><span class="sxs-lookup"><span data-stu-id="98659-107">Currently, Azure Cosmos DB provides five consistency levels: strong, bounded-staleness, session, consistent prefix, and eventual.</span></span> 

<span data-ttu-id="98659-108">Besides **forte** e **consistência eventual** modelos normalmente oferecidas pelas bases de dados distribuídas, BD do Cosmos Azure oferece três modelos de consistência cuidadosamente codified e operacionalizado mais e validou as respetivas utilidade contra casos de utilização do mundo real.</span><span class="sxs-lookup"><span data-stu-id="98659-108">Besides **strong** and **eventual consistency** models commonly offered by distributed databases, Azure Cosmos DB offers three more carefully codified and operationalized consistency models, and has validated their usefulness against real world use cases.</span></span> <span data-ttu-id="98659-109">Estes são Olá **tem um vínculo vinculada**, **sessão**, e **prefixo consistente** níveis de consistência.</span><span class="sxs-lookup"><span data-stu-id="98659-109">These are hello **bounded staleness**, **session**, and **consistent prefix** consistency levels.</span></span> <span data-ttu-id="98659-110">Estes níveis de cinco consistência ativar coletivamente toomake bem reasoned compromissos entre consistência, disponibilidade e a latência.</span><span class="sxs-lookup"><span data-stu-id="98659-110">Collectively these five consistency levels enable you toomake well-reasoned trade-offs between consistency, availability, and latency.</span></span> 

## <a name="distributed-databases-and-consistency"></a><span data-ttu-id="98659-111">Bases de dados distribuídas e consistência</span><span class="sxs-lookup"><span data-stu-id="98659-111">Distributed databases and consistency</span></span>
<span data-ttu-id="98659-112">As bases de dados comerciais distribuídas enquadram-se em duas categorias: bases de dados que não oferecem escolhas de consistência prováveis e bem definidas e bases de dados que oferecem duas opções de programação extremas (consistência forte versus eventual).</span><span class="sxs-lookup"><span data-stu-id="98659-112">Commercial distributed databases fall into two categories: databases that do not offer well-defined, provable consistency choices at all, and databases which offer two extreme programmability choices (strong vs. eventual consistency).</span></span> 

<span data-ttu-id="98659-113">Olá, os programadores de aplicações de burdens anteriores com minutia dos protocolos de replicação e espera-los toomake fala difícil entre consistência, disponibilidade, débito e latência.</span><span class="sxs-lookup"><span data-stu-id="98659-113">hello former burdens application developers with minutia of their replication protocols and expects them toomake difficult tradeoffs between consistency, availability, latency, and throughput.</span></span> <span data-ttu-id="98659-114">Olá última coloca uma toochoose pressão um dois extremes Olá.</span><span class="sxs-lookup"><span data-stu-id="98659-114">hello latter puts a pressure toochoose one of hello two extremes.</span></span> <span data-ttu-id="98659-115">Apesar abundance Olá de investigação e propostas de mais de 50 modelos de consistência, hello Comunidade de base de dados distribuída não foi possível toocommercialize níveis de consistência para além de consistência forte e eventual.</span><span class="sxs-lookup"><span data-stu-id="98659-115">Despite hello abundance of research and proposals for more than 50 consistency models, hello distributed database community has not been able toocommercialize consistency levels beyond strong and eventual consistency.</span></span> <span data-ttu-id="98659-116">BD do cosmos permite aos programadores toochoose entre cinco modelos de consistência bem definidos ao longo do espetro de consistência Olá – forte, consistência vinculada, [sessão](http://dl.acm.org/citation.cfm?id=383631), prefixo consistente e eventual.</span><span class="sxs-lookup"><span data-stu-id="98659-116">Cosmos DB allows developers toochoose between five well-defined consistency models along hello consistency spectrum – strong, bounded staleness, [session](http://dl.acm.org/citation.cfm?id=383631), consistent prefix, and eventual.</span></span> 

![BD do Cosmos do Azure oferece vários bem definidos toochoose de modelos de consistência (simples) do](./media/consistency-levels/five-consistency-levels.png)

<span data-ttu-id="98659-118">Olá, a tabela seguinte ilustra garantias específico Olá que fornece a cada nível de consistência.</span><span class="sxs-lookup"><span data-stu-id="98659-118">hello following table illustrates hello specific guarantees each consistency level provides.</span></span>
 
<span data-ttu-id="98659-119">**Níveis de Consistência e garantias**</span><span class="sxs-lookup"><span data-stu-id="98659-119">**Consistency Levels and guarantees**</span></span>

| <span data-ttu-id="98659-120">Nível de Consistência</span><span class="sxs-lookup"><span data-stu-id="98659-120">Consistency Level</span></span> | <span data-ttu-id="98659-121">Garantias</span><span class="sxs-lookup"><span data-stu-id="98659-121">Guarantees</span></span> |
| --- | --- |
| <span data-ttu-id="98659-122">Forte</span><span class="sxs-lookup"><span data-stu-id="98659-122">Strong</span></span> | <span data-ttu-id="98659-123">Transação Atómica</span><span class="sxs-lookup"><span data-stu-id="98659-123">Linearizability</span></span> |
| <span data-ttu-id="98659-124">Estagnação Limitada</span><span class="sxs-lookup"><span data-stu-id="98659-124">Bounded Staleness</span></span> | <span data-ttu-id="98659-125">Prefixo Consistente.</span><span class="sxs-lookup"><span data-stu-id="98659-125">Consistent Prefix.</span></span> <span data-ttu-id="98659-126">Tempo de desfasamento de leituras em escritas por prefixos k ou intervalo t</span><span class="sxs-lookup"><span data-stu-id="98659-126">Reads lag behind writes by k prefixes or t interval</span></span> |
| <span data-ttu-id="98659-127">Sessão</span><span class="sxs-lookup"><span data-stu-id="98659-127">Session</span></span>   | <span data-ttu-id="98659-128">Prefixo Consistente.</span><span class="sxs-lookup"><span data-stu-id="98659-128">Consistent Prefix.</span></span> <span data-ttu-id="98659-129">Leituras monotónicas, escritas monotónicas, leitura das próprias escritas, escrita de acordo com leituras</span><span class="sxs-lookup"><span data-stu-id="98659-129">Monotonic reads, monotonic writes, read-your-writes, write-follows-reads</span></span> |
| <span data-ttu-id="98659-130">Prefixo Consistente</span><span class="sxs-lookup"><span data-stu-id="98659-130">Consistent Prefix</span></span> | <span data-ttu-id="98659-131">Atualizações devolvidas são alguns prefixo de todas as atualizações de Olá, com nenhuma lacunas</span><span class="sxs-lookup"><span data-stu-id="98659-131">Updates returned are some prefix of all hello updates, with no gaps</span></span> |
| <span data-ttu-id="98659-132">Eventual</span><span class="sxs-lookup"><span data-stu-id="98659-132">Eventual</span></span>  | <span data-ttu-id="98659-133">Leituras fora de ordem</span><span class="sxs-lookup"><span data-stu-id="98659-133">Out of order reads</span></span> |

<span data-ttu-id="98659-134">Pode configurar o nível de consistência Olá predefinido na sua conta de base de dados do Cosmos (e mais tarde substituir consistência Olá num pedido de leitura específico).</span><span class="sxs-lookup"><span data-stu-id="98659-134">You can configure hello default consistency level on your Cosmos DB account (and later override hello consistency on a specific read request).</span></span> <span data-ttu-id="98659-135">Internamente, nível de consistência Olá predefinido aplica-se toodata dentro de conjuntos de partição Olá que pode abranger regiões.</span><span class="sxs-lookup"><span data-stu-id="98659-135">Internally, hello default consistency level applies toodata within hello partition sets which may span regions.</span></span> <span data-ttu-id="98659-136">Prestes 73% dos nossos inquilinos utilizar a consistência de sessão e 20% preferir obsoletismo.</span><span class="sxs-lookup"><span data-stu-id="98659-136">About 73% of our tenants use session consistency and 20% prefer bounded staleness.</span></span> <span data-ttu-id="98659-137">Vamos observar que cerca de 3% dos nossos clientes experimentar vários níveis de consistência inicialmente antes settling numa escolha específica de consistência para a respetiva aplicação.</span><span class="sxs-lookup"><span data-stu-id="98659-137">We observe that approximately 3% of our customers experiment with various consistency levels initially before settling on a specific consistency choice for their application.</span></span> <span data-ttu-id="98659-138">Também iremos reparar que apenas 2% dos nossos inquilinos substituir níveis de consistência numa base por pedido.</span><span class="sxs-lookup"><span data-stu-id="98659-138">We also observe that only 2% of our tenants override consistency levels on a per request basis.</span></span> 

<span data-ttu-id="98659-139">Na base de dados do Cosmos, leituras servido em sessão, prefixo consistente e a consistência eventual duas vezes são como cheap como leituras com consistência forte ou vinculada vinculada.</span><span class="sxs-lookup"><span data-stu-id="98659-139">In Cosmos DB, reads served at session, consistent prefix and eventual consistency are twice as cheap as reads with strong or bounded staleness consistency.</span></span> <span data-ttu-id="98659-140">BD do cosmos tem abrangente SLA de 99,99% incluindo garantias de consistência, juntamente com a disponibilidade, débito e latência de líderes da indústria.</span><span class="sxs-lookup"><span data-stu-id="98659-140">Cosmos DB has industry leading comprehensive 99.99% SLAs including consistency guarantees along with availability, throughput, and latency.</span></span> <span data-ttu-id="98659-141">Que podemos utilizar um [verificador linearizability](http://dl.acm.org/citation.cfm?id=1806634), que funciona continuamente ao longo do nosso telemetria de serviço e reporta abertamente qualquer tooyou de violações de consistência.</span><span class="sxs-lookup"><span data-stu-id="98659-141">We employ a [linearizability checker](http://dl.acm.org/citation.cfm?id=1806634), which continuously operates over our service telemetry and openly reports any consistency violations tooyou.</span></span> <span data-ttu-id="98659-142">Para consistência vinculada, iremos monitorizar e gerar relatórios quaisquer violações demorou e limites de t.</span><span class="sxs-lookup"><span data-stu-id="98659-142">For bounded staleness, we monitor and report any violations took and t bounds.</span></span> <span data-ttu-id="98659-143">Para todos os cinco níveis de consistência simples, iremos também comunicar Olá [métrica obsoletismo probabilistic](http://dl.acm.org/citation.cfm?id=2212359) tooyou diretamente.</span><span class="sxs-lookup"><span data-stu-id="98659-143">For all five relaxed consistency levels, we also report hello [probabilistic bounded staleness metric](http://dl.acm.org/citation.cfm?id=2212359) directly tooyou.</span></span>  

## <a name="scope-of-consistency"></a><span data-ttu-id="98659-144">Âmbito de consistência</span><span class="sxs-lookup"><span data-stu-id="98659-144">Scope of consistency</span></span>
<span data-ttu-id="98659-145">granularidade de Olá de consistência é confinada tooa pedido de utilizador único.</span><span class="sxs-lookup"><span data-stu-id="98659-145">hello granularity of consistency is scoped tooa single user request.</span></span> <span data-ttu-id="98659-146">Um pedido de escrita pode correspondem tooan inserir, substituir, upsert ou eliminar a transação.</span><span class="sxs-lookup"><span data-stu-id="98659-146">A write request may correspond tooan insert, replace, upsert, or delete transaction.</span></span> <span data-ttu-id="98659-147">Tal como acontece com escritas, uma transação de leitura/consulta também é confinada tooa pedido de utilizador único.</span><span class="sxs-lookup"><span data-stu-id="98659-147">As with writes, a read/query transaction is also scoped tooa single user request.</span></span> <span data-ttu-id="98659-148">utilizador de Olá pode ser necessário toopaginate através de um grande conjunto de resultados, a expansão de várias partições, mas cada ler a transação é confinada tooa única página e servido a partir de uma única partição.</span><span class="sxs-lookup"><span data-stu-id="98659-148">hello user may be required toopaginate over a large result-set, spanning multiple partitions, but each read transaction is scoped tooa single page and served from within a single partition.</span></span>

## <a name="consistency-levels"></a><span data-ttu-id="98659-149">Níveis de consistência</span><span class="sxs-lookup"><span data-stu-id="98659-149">Consistency levels</span></span>
<span data-ttu-id="98659-150">Pode configurar um nível de consistência predefinida na sua conta de base de dados que se aplica tooall coleções (e as bases de dados) na sua conta de base de dados do Cosmos.</span><span class="sxs-lookup"><span data-stu-id="98659-150">You can configure a default consistency level on your database account that applies tooall collections (and databases) under your Cosmos DB account.</span></span> <span data-ttu-id="98659-151">Por predefinição, todas as operações de leitura e consultas emitidas relativamente Olá recursos definidos pelo utilizador utilizam o nível de consistência Olá predefinido especificado na conta de base de dados de Olá.</span><span class="sxs-lookup"><span data-stu-id="98659-151">By default, all reads and queries issued against hello user-defined resources use hello default consistency level specified on hello database account.</span></span> <span data-ttu-id="98659-152">Pode reduzir o nível de consistência Olá de uma consulta/leitura específica utilização em cada um dos Olá suportada APIs do pedido.</span><span class="sxs-lookup"><span data-stu-id="98659-152">You can relax hello consistency level of a specific read/query request using in each of hello supported APIs.</span></span> <span data-ttu-id="98659-153">Existem cinco tipos de níveis de consistência suportados pelo protocolo de replicação de base de dados do Azure Cosmos Olá que fornecem um compromisso claro entre garantias de consistência específico e o desempenho, conforme descrito nesta secção.</span><span class="sxs-lookup"><span data-stu-id="98659-153">There are five types of consistency levels supported by hello Azure Cosmos DB replication protocol that provide a clear trade-off between specific consistency guarantees and performance, as described in this section.</span></span>

<span data-ttu-id="98659-154">**Forte**:</span><span class="sxs-lookup"><span data-stu-id="98659-154">**Strong**:</span></span> 

* <span data-ttu-id="98659-155">A consistência forte oferece um [linearizability](https://aphyr.com/posts/313-strong-consistency-models) garantia com Olá lê a versão mais recente de Olá tooreturn garantido de um item.</span><span class="sxs-lookup"><span data-stu-id="98659-155">Strong consistency offers a [linearizability](https://aphyr.com/posts/313-strong-consistency-models) guarantee with hello reads guaranteed tooreturn hello most recent version of an item.</span></span> 
* <span data-ttu-id="98659-156">A consistência forte garante que uma escrita apenas seja visível depois de ser consolidada de forma durável pela quórum maioria de Olá das réplicas.</span><span class="sxs-lookup"><span data-stu-id="98659-156">Strong consistency guarantees that a write is only visible after it is committed durably by hello majority quorum of replicas.</span></span> <span data-ttu-id="98659-157">Uma operação de escrita é colocada em sincronia consolidada de forma durável Olá primário e o quórum de Olá de bases de dados secundárias ou foi abortada.</span><span class="sxs-lookup"><span data-stu-id="98659-157">A write is either synchronously committed durably by both hello primary and hello quorum of secondaries, or it is aborted.</span></span> <span data-ttu-id="98659-158">Uma leitura é sempre confirmada pela maioria Olá ler quórum, um cliente nunca pode ver uma escrita não consolidada ou parcial e sempre é garantido tooread Olá mais recente confirmado escrita.</span><span class="sxs-lookup"><span data-stu-id="98659-158">A read is always acknowledged by hello majority read quorum, a client can never see an uncommitted or partial write and is always guaranteed tooread hello latest acknowledged write.</span></span> 
* <span data-ttu-id="98659-159">As contas de Cosmos BD do Azure que estão a consistência forte toouse configurado não é possível associar mais do que uma região do Azure com a conta de base de dados do Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="98659-159">Azure Cosmos DB accounts that are configured toouse strong consistency cannot associate more than one Azure region with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="98659-160">Olá custo de uma operação de leitura (em termos de [unidades de pedido](request-units.md) consumido) com consistência forte é superior a sessão e eventual, mas Olá mesmo como obsoletismo.</span><span class="sxs-lookup"><span data-stu-id="98659-160">hello cost of a read operation (in terms of [request units](request-units.md) consumed) with strong consistency is higher than session and eventual, but hello same as bounded staleness.</span></span>

<span data-ttu-id="98659-161">**Tem um vínculo vinculada**:</span><span class="sxs-lookup"><span data-stu-id="98659-161">**Bounded staleness**:</span></span> 

* <span data-ttu-id="98659-162">Consistência de obsoletismo limitado garante que leituras Olá podem ficar mais lentos durante escritas no máximo *K* versões ou prefixos de um item ou *t* intervalo de tempo.</span><span class="sxs-lookup"><span data-stu-id="98659-162">Bounded staleness consistency guarantees that hello reads may lag behind writes by at most *K* versions or prefixes of an item or *t* time-interval.</span></span> 
* <span data-ttu-id="98659-163">Por conseguinte, quando escolher consistência vinculada, Olá "vinculada" pode ser configurado de duas formas: número de versões *K* do item de Olá através do qual Olá leituras ficar mais lentos durante escritas de paginações hello e o intervalo de tempo de Olá *t*</span><span class="sxs-lookup"><span data-stu-id="98659-163">Therefore, when choosing bounded staleness, hello "staleness" can be configured in two ways: number of versions *K* of hello item by which hello reads lag behind hello writes, and hello time interval *t*</span></span> 
* <span data-ttu-id="98659-164">Tem um vínculo vinculada ofertas global ordem total, exceto no Olá "janela vinculada."</span><span class="sxs-lookup"><span data-stu-id="98659-164">Bounded staleness offers total global order except within hello "staleness window."</span></span> <span data-ttu-id="98659-165">Olá monotonic ler garantias existe numa região dentro e fora da Olá "janela vinculada."</span><span class="sxs-lookup"><span data-stu-id="98659-165">hello monotonic read guarantees exists within a region both inside and outside hello "staleness window."</span></span> 
* <span data-ttu-id="98659-166">Obsoletismo fornece uma mais forte garantia de consistência de sessão ou a consistência eventual.</span><span class="sxs-lookup"><span data-stu-id="98659-166">Bounded staleness provides a stronger consistency guarantee than session or eventual consistency.</span></span> <span data-ttu-id="98659-167">Para aplicações distribuídas globalmente, recomendamos que utilize obsoletismo para cenários em que teria como consistência forte toohave mas também é aconselhável 99,99% de disponibilidade e a latência baixa.</span><span class="sxs-lookup"><span data-stu-id="98659-167">For globally distributed applications, we recommend you use bounded staleness for scenarios where you would like toohave strong consistency but also want 99.99% availability and low latency.</span></span> 
* <span data-ttu-id="98659-168">As contas de base de dados do Cosmos do Azure que estão configuradas com consistência de obsoletismo podem associar a respetiva conta de base de dados do Azure Cosmos qualquer número de regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="98659-168">Azure Cosmos DB accounts that are configured with bounded staleness consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="98659-169">Olá custo de uma operação de leitura (em termos de RUs consumido) com obsoletismo é superior a sessão e a consistência eventual, mas Olá mesmo como consistência forte.</span><span class="sxs-lookup"><span data-stu-id="98659-169">hello cost of a read operation (in terms of RUs consumed) with bounded staleness is higher than session and eventual consistency, but hello same as strong consistency.</span></span>

<span data-ttu-id="98659-170">**Sessão**:</span><span class="sxs-lookup"><span data-stu-id="98659-170">**Session**:</span></span> 

* <span data-ttu-id="98659-171">Ao contrário de modelos de consistência global Olá oferecidos pelos níveis de consistência forte e vinculada vinculada, a consistência de sessão é confinada tooa sessão de cliente.</span><span class="sxs-lookup"><span data-stu-id="98659-171">Unlike hello global consistency models offered by strong and bounded staleness consistency levels, session consistency is scoped tooa client session.</span></span> 
* <span data-ttu-id="98659-172">A consistência de sessão é ideal para todos os cenários em que uma sessão de dispositivo ou utilizador está envolvida uma vez que esta situação garante monotonic leituras, escritas monotonic e leitura garante que os seus próprios escritas (RYW).</span><span class="sxs-lookup"><span data-stu-id="98659-172">Session consistency is ideal for all scenarios where a device or user session is involved since it guarantees monotonic reads, monotonic writes, and read your own writes (RYW) guarantees.</span></span> 
* <span data-ttu-id="98659-173">A consistência de sessão fornece a consistência previsível para uma sessão e débito de leitura máximo oferecendo Olá mais baixas latência escritas e leituras.</span><span class="sxs-lookup"><span data-stu-id="98659-173">Session consistency provides predictable consistency for a session, and maximum read throughput while offering hello lowest latency writes and reads.</span></span> 
* <span data-ttu-id="98659-174">As contas de base de dados do Cosmos do Azure que estão configuradas com consistência de sessão podem associar a respetiva conta de base de dados do Azure Cosmos qualquer número de regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="98659-174">Azure Cosmos DB accounts that are configured with session consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="98659-175">Olá custo de uma operação de leitura (em termos de RUs consumido) com a sessão de nível de consistência é inferior ao vinculada vinculada e segura, mas a consistência eventual mais do que</span><span class="sxs-lookup"><span data-stu-id="98659-175">hello cost of a read operation (in terms of RUs consumed) with session consistency level is less than strong and bounded staleness, but more than eventual consistency</span></span>

<span data-ttu-id="98659-176"><a id="consistent-prefix"></a>
**Prefixo consistente**:</span><span class="sxs-lookup"><span data-stu-id="98659-176"><a id="consistent-prefix"></a>
**Consistent Prefix**:</span></span> 

* <span data-ttu-id="98659-177">Prefixo consistente garante que na ausência de mais escritas, as réplicas de Olá dentro do grupo de Olá eventualmente convergir.</span><span class="sxs-lookup"><span data-stu-id="98659-177">Consistent prefix guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="98659-178">Prefixo consistente garante que leituras nunca veem escritas fora de ordem.</span><span class="sxs-lookup"><span data-stu-id="98659-178">Consistent prefix guarantees that reads never see out of order writes.</span></span> <span data-ttu-id="98659-179">Se escritas foram executadas por ordem de Olá `A, B, C`, em seguida, um cliente vê o `A`, `A,B`, ou `A,B,C`, mas nunca fora de ordem como `A,C` ou `B,A,C`.</span><span class="sxs-lookup"><span data-stu-id="98659-179">If writes were performed in hello order `A, B, C`, then a client sees either `A`, `A,B`, or `A,B,C`, but never out of order like `A,C` or `B,A,C`.</span></span>
* <span data-ttu-id="98659-180">As contas de base de dados do Cosmos do Azure que estão configuradas com consistência de prefixo consistentes podem associar a respetiva conta de base de dados do Azure Cosmos qualquer número de regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="98659-180">Azure Cosmos DB accounts that are configured with consistent prefix consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 

<span data-ttu-id="98659-181">**Eventual**:</span><span class="sxs-lookup"><span data-stu-id="98659-181">**Eventual**:</span></span> 

* <span data-ttu-id="98659-182">A consistência eventual garante que na ausência de mais escritas, as réplicas de Olá dentro do grupo de Olá eventualmente convergir.</span><span class="sxs-lookup"><span data-stu-id="98659-182">Eventual consistency guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="98659-183">A consistência eventual é formulário mais fraca do Olá de consistência em que um cliente pode obter valores de Olá que são mais antigos do que Olá aqueles que tinha vistos anteriormente.</span><span class="sxs-lookup"><span data-stu-id="98659-183">Eventual consistency is hello weakest form of consistency where a client may get hello values that are older than hello ones it had seen before.</span></span>
* <span data-ttu-id="98659-184">A consistência eventual fornece a consistência de leitura mais fraca Olá mas ofertas hello latência mais baixa para leituras e escritas.</span><span class="sxs-lookup"><span data-stu-id="98659-184">Eventual consistency provides hello weakest read consistency but offers hello lowest latency for both reads and writes.</span></span>
* <span data-ttu-id="98659-185">As contas de base de dados do Cosmos do Azure que estão configuradas com a consistência eventual podem associar a respetiva conta de base de dados do Azure Cosmos qualquer número de regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="98659-185">Azure Cosmos DB accounts that are configured with eventual consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="98659-186">Olá custo de uma operação de leitura (em termos de RUs consumido) com a consistência eventual Olá nível é Olá mais baixo de todos os níveis de consistência de base de dados do Azure Cosmos Olá.</span><span class="sxs-lookup"><span data-stu-id="98659-186">hello cost of a read operation (in terms of RUs consumed) with hello eventual consistency level is hello lowest of all hello Azure Cosmos DB consistency levels.</span></span>

## <a name="configuring-hello-default-consistency-level"></a><span data-ttu-id="98659-187">Configurar o nível de consistência Olá predefinido</span><span class="sxs-lookup"><span data-stu-id="98659-187">Configuring hello default consistency level</span></span>
1. <span data-ttu-id="98659-188">No Olá [portal do Azure](https://portal.azure.com/), no Olá Jumpbar, clique em **Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="98659-188">In hello [Azure portal](https://portal.azure.com/), in hello Jumpbar, click **Azure Cosmos DB**.</span></span>
2. <span data-ttu-id="98659-189">No Olá **Azure Cosmos DB** painel, toomodify de conta de base de dados de Olá selecione.</span><span class="sxs-lookup"><span data-stu-id="98659-189">In hello **Azure Cosmos DB** blade, select hello database account toomodify.</span></span>
3. <span data-ttu-id="98659-190">No painel de conta Olá, clique em **predefinido consistência**.</span><span class="sxs-lookup"><span data-stu-id="98659-190">In hello account blade, click **Default consistency**.</span></span>
4. <span data-ttu-id="98659-191">No Olá **consistência predefinida** painel, o novo nível de consistência Olá selecione e clique em **guardar**.</span><span class="sxs-lookup"><span data-stu-id="98659-191">In hello **Default Consistency** blade, select hello new consistency level and click **Save**.</span></span>
   
    ![Captura de ecrã, realce o ícone de definições de Olá e entrada de consistência predefinida](./media/consistency-levels/database-consistency-level-1.png)

## <a name="consistency-levels-for-queries"></a><span data-ttu-id="98659-193">Níveis de consistência para consultas</span><span class="sxs-lookup"><span data-stu-id="98659-193">Consistency levels for queries</span></span>
<span data-ttu-id="98659-194">Por predefinição, para obter recursos definida pelo utilizador, nível de consistência Olá para consultas é Olá mesmo como nível de consistência Olá para leituras.</span><span class="sxs-lookup"><span data-stu-id="98659-194">By default, for user-defined resources, hello consistency level for queries is hello same as hello consistency level for reads.</span></span> <span data-ttu-id="98659-195">Por predefinição, o índice de Olá é atualizado em sincronia cada inserir, substituir ou eliminar de um contentor do item toohello BD do Cosmos.</span><span class="sxs-lookup"><span data-stu-id="98659-195">By default, hello index is updated synchronously on each insert, replace, or delete of an item toohello Cosmos DB container.</span></span> <span data-ttu-id="98659-196">Esta permite que as consultas de Olá toohonor Olá mesmo nível de consistência da ponto leituras.</span><span class="sxs-lookup"><span data-stu-id="98659-196">This enables hello queries toohonor hello same consistency level as that of point reads.</span></span> <span data-ttu-id="98659-197">Apesar de base de dados do Azure Cosmos escrita otimizada e suporta volumes constante de escritas, índice síncrona e de manutenção que serve consultas consistentes, pode configurar determinada tooupdate coleções respetivo índice lenta.</span><span class="sxs-lookup"><span data-stu-id="98659-197">While Azure Cosmos DB is write optimized and supports sustained volumes of writes, synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="98659-198">Ainda mais lento de indexação boosts desempenho de escrita de Olá e é ideal para cenários de ingestão em massa, quando uma carga de trabalho é principalmente leitura extremamente encriptados.</span><span class="sxs-lookup"><span data-stu-id="98659-198">Lazy indexing further boosts hello write performance and is ideal for bulk ingestion scenarios when a workload is primarily read-heavy.</span></span>  

| <span data-ttu-id="98659-199">Modo de indexação</span><span class="sxs-lookup"><span data-stu-id="98659-199">Indexing Mode</span></span> | <span data-ttu-id="98659-200">Lê</span><span class="sxs-lookup"><span data-stu-id="98659-200">Reads</span></span> | <span data-ttu-id="98659-201">Consultas</span><span class="sxs-lookup"><span data-stu-id="98659-201">Queries</span></span> |
| --- | --- | --- |
| <span data-ttu-id="98659-202">Consistente (predefinição)</span><span class="sxs-lookup"><span data-stu-id="98659-202">Consistent (default)</span></span> |<span data-ttu-id="98659-203">Selecione a partir de vinculada forte e vinculada, sessão, prefixo consistente ou eventual</span><span class="sxs-lookup"><span data-stu-id="98659-203">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="98659-204">Selecione a partir de vinculada forte e vinculada, sessão, ou eventual</span><span class="sxs-lookup"><span data-stu-id="98659-204">Select from strong, bounded staleness, session, or eventual</span></span> |
| <span data-ttu-id="98659-205">Lento</span><span class="sxs-lookup"><span data-stu-id="98659-205">Lazy</span></span> |<span data-ttu-id="98659-206">Selecione a partir de vinculada forte e vinculada, sessão, prefixo consistente ou eventual</span><span class="sxs-lookup"><span data-stu-id="98659-206">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="98659-207">Eventual</span><span class="sxs-lookup"><span data-stu-id="98659-207">Eventual</span></span> |
| <span data-ttu-id="98659-208">Nenhuma</span><span class="sxs-lookup"><span data-stu-id="98659-208">None</span></span> |<span data-ttu-id="98659-209">Selecione a partir de vinculada forte e vinculada, sessão, prefixo consistente ou eventual</span><span class="sxs-lookup"><span data-stu-id="98659-209">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="98659-210">Não aplicável</span><span class="sxs-lookup"><span data-stu-id="98659-210">Not applicable</span></span> |

<span data-ttu-id="98659-211">Como com pedidos de leitura, pode reduzir Olá nível de consistência de um pedido de consulta específicas em cada API.</span><span class="sxs-lookup"><span data-stu-id="98659-211">As with read requests, you can lower hello consistency level of a specific query request in each API.</span></span>

## <a name="next-steps"></a><span data-ttu-id="98659-212">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="98659-212">Next steps</span></span>
<span data-ttu-id="98659-213">Se desejar toodo mais ao ler sobre níveis de consistência e fala, recomendamos Olá os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="98659-213">If you'd like toodo more reading about consistency levels and tradeoffs, we recommend hello following resources:</span></span>

* <span data-ttu-id="98659-214">Tiago Doug.</span><span class="sxs-lookup"><span data-stu-id="98659-214">Doug Terry.</span></span> <span data-ttu-id="98659-215">Consistência de dados replicadas explicado através de baseball (vídeo).</span><span class="sxs-lookup"><span data-stu-id="98659-215">Replicated Data Consistency explained through baseball (video).</span></span>   
  [<span data-ttu-id="98659-216">https://www.YouTube.com/Watch?v=gluIh8zd26I</span><span class="sxs-lookup"><span data-stu-id="98659-216">https://www.youtube.com/watch?v=gluIh8zd26I</span></span>](https://www.youtube.com/watch?v=gluIh8zd26I)
* <span data-ttu-id="98659-217">Tiago Doug.</span><span class="sxs-lookup"><span data-stu-id="98659-217">Doug Terry.</span></span> <span data-ttu-id="98659-218">Consistência de dados replicadas explicado através de baseball.</span><span class="sxs-lookup"><span data-stu-id="98659-218">Replicated Data Consistency explained through baseball.</span></span>   
  [<span data-ttu-id="98659-219">http://Research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span><span class="sxs-lookup"><span data-stu-id="98659-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span></span>](http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf)
* <span data-ttu-id="98659-220">Tiago Doug.</span><span class="sxs-lookup"><span data-stu-id="98659-220">Doug Terry.</span></span> <span data-ttu-id="98659-221">Garantias de sessão para os dados replicados consistentes Weakly.</span><span class="sxs-lookup"><span data-stu-id="98659-221">Session Guarantees for Weakly Consistent Replicated Data.</span></span>   
  [<span data-ttu-id="98659-222">http://DL.ACM.org/CITATION.cfm?ID=383631</span><span class="sxs-lookup"><span data-stu-id="98659-222">http://dl.acm.org/citation.cfm?id=383631</span></span>](http://dl.acm.org/citation.cfm?id=383631)
* <span data-ttu-id="98659-223">Daniel Abadi.</span><span class="sxs-lookup"><span data-stu-id="98659-223">Daniel Abadi.</span></span> <span data-ttu-id="98659-224">Consistência fala moderna design de sistemas de base de dados distribuída: CAP é apenas uma parte do bloco de Olá ".</span><span class="sxs-lookup"><span data-stu-id="98659-224">Consistency Tradeoffs in Modern Distributed Database Systems Design: CAP is only part of hello story”.</span></span>   
  [<span data-ttu-id="98659-225">http://Computer.org/CSDL/mags/co/2012/02/mco2012020037-Abs.HTML</span><span class="sxs-lookup"><span data-stu-id="98659-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span></span>](http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html)
* <span data-ttu-id="98659-226">Peter Bailis Shivaram Venkataraman, Miguel J. Franklin, Joseph M. Hellerstein, Stoica período.</span><span class="sxs-lookup"><span data-stu-id="98659-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span></span> <span data-ttu-id="98659-227">Probabilistic tem um vínculo vinculada (. PBS) para práticas Quorums parciais.</span><span class="sxs-lookup"><span data-stu-id="98659-227">Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums.</span></span>   
  [<span data-ttu-id="98659-228">http://VLDB.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span><span class="sxs-lookup"><span data-stu-id="98659-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span></span>](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)
* <span data-ttu-id="98659-229">Werner Vogels.</span><span class="sxs-lookup"><span data-stu-id="98659-229">Werner Vogels.</span></span> <span data-ttu-id="98659-230">Eventual consistente - Revisitado.</span><span class="sxs-lookup"><span data-stu-id="98659-230">Eventual Consistent - Revisited.</span></span>    
  [<span data-ttu-id="98659-231">http://allthingsdistributed.com/2008/12/eventually_consistent.HTML</span><span class="sxs-lookup"><span data-stu-id="98659-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span></span>](http://allthingsdistributed.com/2008/12/eventually_consistent.html)
* <span data-ttu-id="98659-232">Moni Naor, Avishai Wool, Olá carga, a capacidade e disponibilidade de quórum sistemas, SIAM diário de alterações na computação, v.27 n.2, p.423-447, Abril de 1998.</span><span class="sxs-lookup"><span data-stu-id="98659-232">Moni Naor , Avishai Wool, hello Load, Capacity, and Availability of Quorum Systems, SIAM Journal on Computing, v.27 n.2, p.423-447, April 1998.</span></span>
  [<span data-ttu-id="98659-233">http://epubs.siam.org/DOI/Abs/10.1137/S0097539795281232</span><span class="sxs-lookup"><span data-stu-id="98659-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span></span>](http://epubs.siam.org/doi/abs/10.1137/S0097539795281232)
* <span data-ttu-id="98659-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: um linearizability completa e automática verificador, Proceedings de conferência ACM SIGPLAN 2010 Olá no idioma de conceção e implementação, 05 10 de Junho de 2010, Toronto, Ontario, de programação Canadá [doi > 10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span><span class="sxs-lookup"><span data-stu-id="98659-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: a complete and automatic linearizability checker, Proceedings of hello 2010 ACM SIGPLAN conference on Programming language design and implementation, June 05-10, 2010, Toronto, Ontario, Canada  [doi>10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span></span>
* <span data-ttu-id="98659-235">Peter Bailis, Shivaram Venkataraman, Miguel J. Franklin, Joseph M. Hellerstein, período Stoica, Probabilistically tem um vínculo vinculada para práticas quorums parciais, Proceedings de Olá VLDB Endowment, v.5 n.8, p.776-787, Abril de 2012 [http:// DL.ACM.org/CITATION.cfm?ID=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span><span class="sxs-lookup"><span data-stu-id="98659-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein , Ion Stoica, Probabilistically bounded staleness for practical partial quorums, Proceedings of hello VLDB Endowment, v.5 n.8, p.776-787, April 2012 [http://dl.acm.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span></span>
