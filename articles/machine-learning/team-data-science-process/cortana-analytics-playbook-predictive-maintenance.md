---
title: "Manutenção preditiva no aeroespacial com o Azure - modelo de solução do Cortana Intelligence | Microsoft Docs"
description: "Um modelo de solução com o Microsoft Cortana Intelligence para manutenção preventiva aeroespacial, utilitários e transportes."
services: cortana-analytics
documentationcenter: 
author: fboylu
manager: jhubbard
editor: cgronlun
ms.assetid: 2e8b66db-91eb-432b-b305-6abccca25620
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: fboylu
ms.openlocfilehash: da7826c49c3548600187956908f5369cc4891065
ms.sourcegitcommit: 4ac89872f4c86c612a71eb7ec30b755e7df89722
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 12/07/2017
---
# <a name="cortana-intelligence-solution-template-playbook-for-predictive-maintenance-in-aerospace-and-other-businesses"></a>Manual de modelo do Cortana Intelligence solução para manutenção preventiva aeroespacial e outras empresas
## <a name="executive-summary"></a>Resumo Executivo
Manutenção preditiva é uma das aplicações mais pedidas de Análise Preditiva com unarguable vantagens, incluindo imenso quantidade de reduções de custos. Este manual de comunicação social visa a proporcionar uma referência para soluções de manutenção Preditiva com o ênfase em casos de utilização principais.
Está preparado para dar o leitor uma compreensão dos cenários mais comuns de negócio da manutenção preditiva, desafios de elegíveis problemas empresariais para essas soluções, os dados necessários para resolver estes problemas empresariais, técnicas de modelação preditiva para Crie soluções com esses dados e melhores práticas arquiteturas da solução de exemplo.
Também descreve as especificações de modelos preditivos desenvolvido como engenharia da funcionalidade, modelo de avaliação de desenvolvimento e o desempenho. Essencialmente, este manual de comunicação social reúne empresariais e diretrizes analíticas necessárias para um desenvolvimento com êxito e a implementação de soluções de manutenção preditiva. Estas diretrizes estão preparados para ajudar o público-alvo criar uma solução inicial através do Cortana Intelligence Suite e especificamente o Azure Machine Learning como um ponto de partida na respetiva estratégia a longo prazo de manutenção preditiva. Pode encontrar a documentação sobre Cortana Intelligence Suite e Azure Machine Learning no [Cortana Analytics](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx) e [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) páginas.

> [!TIP]
> Para obter um guia técnico para implementar este modelo de solução, consulte [guia técnico para o modelo de solução do Cortana Intelligence para manutenção preventiva](cortana-analytics-technical-guide-predictive-maintenance.md).
> Para transferir um diagrama que fornece uma descrição geral da arquitetura deste modelo, consulte [arquitetura do modelo de solução do Cortana Intelligence para manutenção preditiva](cortana-analytics-architecture-predictive-maintenance.md).
> 
> 

## <a name="playbook-overview-and-target-audience"></a>Público-alvo e o destino da descrição geral de manual de comunicação social
Este manual de comunicação social está organizada beneficiar técnico e não técnico público-alvo com os fundos dos variando e interesses no espaço de manutenção preditiva. O manual de comunicação social abranja ambos os aspetos de alto nível dos diferentes tipos de soluções de manutenção preditiva e detalhes sobre como implementá-la. O conteúdo é com balanceamento para se adaptar ambas para o público-alvo que só esteja interessado em compreender o espaço de solução e o tipo de aplicações, bem como as pessoas que procura para implementar estas soluções e, por conseguinte, se estiver interessado nos detalhes técnicos.

A maioria do conteúdo neste manual de comunicação social não partem do princípio de dados de conhecimento de ciência de dados anterior ou conhecimentos. No entanto, algumas partes do manual de comunicação social requerem um pouco familiaridade com conceitos de ciência de dados para poder seguir os detalhes de implementação. As competências de ciência de dados ao nível introdutório são necessários para beneficiar completamente o material dessas secções.

O primeiro meio de bastidores manual de comunicação social uma introdução a aplicações de manutenção preditiva, como para qualificar uma manutenção preditiva solução, uma coleção de comuns casos de utilização com os detalhes do problema empresarial, os dados envolvente estes casos de utilização e o vantagens de negócio implementar estas soluções de manutenção preditiva. Estas secções não requerem qualquer conhecimentos técnicos no domínio de Análise Preditiva.

Na segunda metade do manual de comunicação social, vamos abordar os tipos de técnicas de modelação preditiva para aplicações de manutenção preditiva e como implementar estes modelos através de exemplos de cenários de utilização descritos na metade primeiro do manual de comunicação social. Esta situação é ilustrada acedendo através dos passos de pré-processamentos de dados, tais como a etiquetagem de dados e a funcionalidade de engenharia, modelo de seleção, formação/teste e o desempenho avaliação melhores práticas. Estas secções são adequadas para o público-alvo técnica.

## <a name="predictive-maintenance-in-iot"></a>Manutenção preditiva no IoT
O impacto dos períodos de indisponibilidade do equipamento agendada pode ser extremamente destrutivas para empresas. -Lo é essencial manter em execução para maximizar o desempenho e utilização de equipamento de campo, minimizando dispendiosos, agendados e período de indisponibilidade. Simplesmente, aguardar a falha de ocorrer não é económica na cena de operações de empresas da atualidade. Para permanecerem competitiva, as empresas procurarem novas formas maximizar o desempenho de recurso, fazendo utilização dos dados recolhidos a partir de vários canais. É uma forma de analisar essas informações importante para utilizar as técnicas de análise preditivos que utilizam padrões históricos para prever futuros resultados. Uma das mais populares destas soluções denomina-se de manutenção preditiva que, geralmente, pode ser definida como, mas não se limitando a prever possibilidade de falha de um recurso num futuro próximo, para que os recursos podem ser monitorizados para identificar proativamente falhas e tomem medidas antes de ocorrem falhas. Estas soluções detetam padrões de falha para determinar os recursos que tenham o maior risco de falha. Este antecipado identificação de problemas de ajuda a implementar os recursos de manutenção limitado de forma mais económica e melhorar a qualidade e fornecer os processos de cadeia.

Com o aumento súbito das aplicações de Internet das coisas (IoT), manutenção preditiva tem sido obtenham crescente atenção na indústria como a recolha de dados e processar tecnologias amadureceu suficiente para gerar, transmitir, armazenar e analisar todos os tipos de dados em lotes ou em tempo real. Ativar essas tecnologias de desenvolvimento e implementação de soluções ponto-a-ponto com soluções de análise avançadas, com soluções de manutenção preditiva possivelmente fornecendo o benefício de maior fáceis.

Alguns dos problemas empresariais no intervalo de domínio de manutenção preditiva de alto risco operacional devido a falhas inesperadas e limitada aprofundadas sobre a causa raiz dos problemas em ambientes comerciais complexos. A maioria destes problemas pode ser classificada para abrangidos por questões de negócio seguintes:

* O que é a probabilidade de um fragmento do equipamento falha num futuro próximo?
* O que é a vida útil restantes do equipamento?
* Quais são as causas de falhas e que ações de manutenção devem ser efetuadas para corrigir estes problemas?

Através da utilização de manutenção preditiva para responder a estas perguntas, as empresas podem:

* Reduzir o risco operacional e aumentar a taxa de rentabilidade no ativos por spotting falhas antes de poderem Ocorreu
* Reduzir as operações de manutenção desnecessária baseados no tempo e controlar os custos de manutenção
* Melhorar a imagem de marca geral, eliminar incorreta publicidade e vendas perdidas resultantes da attrition de cliente.
* Custos de inventário inferiores, reduzindo os níveis de inventário ao prever o momento de reordenação
* Detetar padrões ligadas a vários problemas de manutenção

Soluções de manutenção preventiva podem fornecer empresas com indicadores chave de desempenho, tais como pontuações de estado de funcionamento para monitorizar a condição de recurso em tempo real, uma estimativa do tempo de vida de restantes de recursos, recomendações para atividades de uma manutenção pró-ativa e datas de ordem estimado de substituição de partes.

## <a name="qualification-criteria-for-predictive-maintenance"></a>Critérios de qualificação de manutenção preditiva
É importante realçar que nem todos os casos de utilização ou problemas empresariais podem ser efetivamente resolvidos por manutenção preditiva. São importante incluem de critérios de qualificação se o problema está preditivo natureza, o que existe um caminho de limpar de ação para evitar falhas de quando estes forem detetados com antecedência e mais importante ainda, de dados com qualidade suficiente para suportar o caso de utilização está disponível. Aqui, iremos focar-se nos requisitos de dados para a criação de uma solução de manutenção Preditiva com êxito.

Ao criar modelos preditivos, utilizamos os dados históricos para preparar o modelo que pode, em seguida, reconhecer padrões ocultos e mais identificar estes padrões nos dados futuros. Estes modelos são preparados com exemplos descritos através das respetivas funcionalidades e o destino de predição. É esperado o modelo treinado para tornar as predições no destino observando apenas as funcionalidades dos exemplos de novo. É fundamental que o modelo de captura a relação entre as funcionalidades e o destino de predição. Para preparar um Efetivo modelo de machine learning, precisamos de dados de formação que inclui funcionalidades que tenham, na verdade, energia preditiva para o destino de predição que significa que os dados devem ser relevantes para o objetivo de predição esperar predições precisos.

Por exemplo, se for o destino prever a falhas de formação rodas, os dados de formação devem conter as funcionalidades relacionadas com a roda (por exemplo, telemetria ao refletir o estado de funcionamento de rodas, o mileage, carga carro, etc.). No entanto, se for o destino prever falhas do motor de formação, precisamos provavelmente outro conjunto de dados de formação que tenha as funcionalidades relacionadas com o motor. Antes de criar modelos preditivos, esperamos negócio especialista para compreender o requisito de relevancy de dados e fornecer o conhecimento de domínio que é necessário selecionar relevantes subconjuntos de dados para a análise.

Existem três origens de dados essenciais, que iremos procurar quando elegíveis um problema empresarial ser adequado para uma solução de manutenção preditiva:

1. Histórico de falha: Normalmente, em aplicações de manutenção preditiva, eventos de falha são muito raros. No entanto, ao criar modelos preditivos prever falhas, o algoritmo tem de saber o padrão de operação normais, bem como o padrão de falhas durante o processo de preparação. Por conseguinte, é essencial que os dados de formação contém o número suficiente de exemplos em ambas as categorias para obter estes dois padrões diferentes. Por esse motivo, é necessário que os dados tem um número suficiente de eventos de falha. Eventos de falha podem ser encontrados nos registos de manutenção e o histórico de substituição de partes ou anomalias nos dados de formação também podem ser utilizadas como falhas conforme identificado pelo especialistas de domínio.
2. Histórico de reparação/manutenção: Uma origem de dados para soluções de manutenção preditiva essencial é o histórico de detalhado de manutenção do elemento que contém informações sobre os componentes substituído, manutenção ativa efetuada, etc. É extremamente importante capturar estes eventos como estas afetam os padrões de degradação e resultados enganosa faz com que a ausência destas informações.
3. Condições de máquina: Para prever quantos dias mais (horas, quilómetros, transações, etc.) uma máquina geralmente dura antes de falhar, partimos do que estado de funcionamento da máquina degrada ao longo do tempo durante a operação. Por conseguinte, esperamos os dados contêm vários de tempo de funcionalidades que capturam este padrão de envelhecimento e qualquer anomalias que leva a degradação. Nas aplicações do IoT, os dados de telemetria dos diferentes sensores representam um bom exemplo. Para prever se uma máquina vai falhar num período de tempo, idealmente, os dados devem capturar degradar tendência durante este período de tempo antes do evento de falha real.

Além disso, é necessário dados que está diretamente relacionada com as condições de funcionamento do recurso de destino de predição. A decisão de destino é com base na disponibilidade de dados e necessidades de ambas empresas. Colocar a predição de falha de rodas formação como exemplo, vamos pode prever "se a roda vai ter uma falha" ou "se o comboio sai todo vai ter uma falha". Primeiro destina-se um componente específico mais enquanto segunda destina-se a falha do comboio sai. Segunda é uma pergunta mais geral que precisa de elementos de dados muito mais dispersos à primeira, tornando mais difícil criar um modelo. Por outro lado, tentar prever falhas roda apenas ao observar os dados de condição de formação de alto nível não pode ser exequível porque não contém informações ao nível do componente. Em geral, é mais sensible prever eventos de falha específica que aqueles mais gerais.

Uma pergunta comum que é normalmente mais frequentes sobre os dados de histórico de falha é "como muitos eventos de falha são necessários para preparar um modelo e quantos são considerados como estando"suficiente"? Não há nenhuma resposta clara que pergunta como em vários cenários de Análise Preditiva, normalmente, é a qualidade dos dados que determinam o que é aceitável. Se o conjunto de dados não inclui funcionalidades que são relevantes para a predição de falha, em seguida, mesmo se existirem muitos eventos de falha, criar um modelo de boa poderá não ser possível. No entanto, a regra geral é que o mais os eventos de falha é o melhor o modelo e uma estimativa aproximada quantos exemplos de falha são necessários um contexto muito e medidas de dados dependentes. Este problema é abordado na secção para processamento de conjuntos de dados imbalanced onde iremos propor métodos para lidar com o problema de não ter suficiente falhas.

## <a name="sample-use-cases"></a>Casos de utilização de exemplo
Esta secção centra-se numa coleção de casos de utilização de manutenção preditiva do indústrias várias como aeroespacial, utilitários e transportes. Cada subsecção aprofunda em casos de utilização recolhidos a partir destas áreas e descreve um problema empresarial, os dados envolvente o problema empresarial e as vantagens de uma solução de manutenção preditiva.

### <a name="aerospace"></a>Aeroespacial
#### <a name="use-case-1-flight-delay-and-cancellations"></a>Caso de utilização 1: Atraso de trânsito e cancelamentos
##### <a name="business-problem-and-data-sources"></a>*Origens de problema e os dados de negócio*
Um dos problemas empresariais principais que enfrentam airlines os custos significativos que estão associados aos flights que está a ser atrasados devido a problemas mechanical. Se não não possível reparar as falhas mechanical, flights mesmo podem ser canceladas. Isto é muito dispendioso como atrasos criar problemas no agendamento e operações, incorreto causas de reputação de URLs e insatisfação de cliente, juntamente com muitos outros problemas. Airlines são particularmente interessados em prever essas falhas mechanical seguinte com antecedência para que possa reduzir a atrasos dos voos ou cancelamentos. O objetivo da solução de manutenção preditiva para estes casos é prever a probabilidade de uma aeronave que está a ser atrasado ou cancelado, com base nas origens de dados relevantes, tais como informações de rota de manutenção histórico e voo. As duas origens de dados principal para este caso de utilização são os registos de página e legs voo. Dados de fase de voo incluem dados sobre os detalhes de rota voo, tais como a data e hora de partida e chegada distanciamento e aeroportos de chegada, etc. Dados de registo de página incluem uma série de códigos de erro e de manutenção que são registados pelo técnico de manutenção.

##### <a name="business-value-of-the-predictive-model"></a>*Valor de negócio de modelo preditivo*
Utilizar os dados históricos disponíveis, um modelo preditivo foi construído utilizando um algoritmo de classificação multi para prever o tipo de problema mechanical que resulta num atraso ou cancelamento de um voo dentro de 24 horas seguintes. Ao tornar esta predição, as ações de manutenção necessárias podem ser direcionadas para mitigar o risco enquanto está em manutenção aeronave e, por conseguinte, evitar atrasos possíveis ou de cancelamentos. Utilizar o serviço web Azure Machine Learning, os modelos preditivos podem totalmente integrada e facilmente ser integrados no plataformas de sistema operativo existente dos airlines. 

#### <a name="use-case-2-aircraft-component-failure"></a>Caso de utilização 2: Falha de componente de aeronave
##### <a name="business-problem-and-data-sources"></a>*Origens de problema e os dados de negócio*
Motores das aeronaves são muito dispendiosas e confidenciais partes do equipamento e substituições de parte do motor são entre as tarefas de manutenção mais comuns na indústria companhia aérea. Soluções de manutenção para airlines requerem uma gestão de disponibilidade as cotações de componentes, de entrega e planeamento. A capacidade de recolher intelligence na fiabilidade de componente leva a redução substancial nos custos de investimento. A origem de dados principal para este caso de utilização é recolhidos a partir de um número de sensores as informações de fornecer aeronave na condição da aeronave de dados de telemetria. Registos de manutenção também foram utilizados para identificar quando ocorreram de falhas do componente e substituições efetuadas.

##### <a name="business-value-of-the-predictive-model"></a>Valor de negócio de modelo preditivo
Um modelo de classificação de classe multi incorporado que prevê a probabilidade de uma falha devido a um determinado componente no mês seguinte. Ao empregar destas soluções, airlines pode reduzir os custos de reparação de componentes, melhorar a disponibilidade das cotações de componente, reduzir níveis de inventário de recursos relacionados e melhorar o planeamento de manutenção.

### <a name="utilities"></a>Serviços Públicos
#### <a name="use-case-1-atm-cash-dispense-failure"></a>Caso de utilização 1: Monetários ATM dispense falha
##### <a name="business-problem-and-data-sources"></a>*Origens de problema e os dados de negócio*
Executivos em indústrias intensiva asset Estados frequentemente que o risco de operacional primário e as respetivas empresas é falhas inesperadas dos respetivos elementos. Por exemplo, a falha de fábrica, tais como ATMs bancária setor é um problema muito comum que ocorre com frequência. Estes tipos de problemas tornam soluções de manutenção preditiva muito desejável para operadores de fábrica, a esse. Neste caso de utilização, problema de predição consiste em calcular a probabilidade de que uma transação de withdrawal monetários ATM obtém interrompida devido a uma falha de parte ou a uma falha no fornecedor de monetários, tais como o papel encravado. Origens de dados principal para este cenário são as leituras dos sensores que recolhem medidas, enquanto estão a ser dispensed notas monetários bem como registos de manutenção recolhidos ao longo do tempo. Dados de sensores incluídas as leituras dos sensores por cada transação foi concluída bem como as leituras dos sensores por cada nota dispensed. Os valores das leituras dos fornecidos sensor, tais como os intervalos entre notas, espessura, tenha em atenção a distância de chegada etc. Dados de manutenção incluído códigos de erro e informações de reparação. Estes foram utilizados para identificar casos de falha.

##### <a name="business-value-of-the-predictive-model"></a>*Valor de negócio de modelo preditivo*
Dois modelos preditivos foram criados para prever a falhas em transações de withdrawal monetários e falhas nas notas de individuais dispensed durante uma transacção. Sendo possível prever a falhas de transação com antecedência, ATMs podem ser servidos proativamente para impedir a ocorrer falhas. Além disso, com a predição de falha de nota, se uma transação é provável que falhem antes de terminar devido a uma nota dispense falha, poderá ser aconselhável parar o processo e avisar o cliente de transação incompleta, em vez de aguardar que o serviço de manutenção a chegada Depois de ocorre o erro que pode levar a maior insatisfação de cliente.

#### <a name="use-case-2-wind-turbine-failures"></a>Caso de utilização 2: Falhas de turbine vento
##### <a name="business-problem-and-data-sources"></a>*Origens de problema e os dados de negócio*
Com o missão de sensibilização ambiental, vento turbines ficou uma das origens principais da geração de energia e normalmente custo milhões de utilizados no compromisso. Um dos componentes principais do turbines vento é o motor de gerador que está equipado com muitos sensores que ajuda a monitorizar o estado e as condições de turbine. O leituras dos sensores contém informações importantes que podem ser utilizadas para criar um modelo preditivo para prever críticos chave de indicadores de desempenho (KPIs) como tempo médio para falha de componentes do turbine do vento. Dados para este caso de utilização provém de várias turbines vento que estão localizados nas três localizações de farm diferentes. Medidas de próximo sensores de uma centena de cada turbine foram registadas a cada 10 segundos durante um ano. Estes leituras dos incluir medidas como temperatura, velocidade de gerador de dimensões, energia turbine e winding do gerador de dimensões.

##### <a name="business-value-of-the-predictive-model"></a>*Valor de negócio de modelo preditivo*
Modelos preditivos foram criados para estimar a vida útil restantes para generators e os sensores de temperatura. Ao prever a probabilidade de falha, os técnicos de manutenção podem concentrar-se no turbines suspeitas que são provável que falhem em breve complementar regimes baseados no tempo de manutenção.
Além disso, modelos preditivos coloque insight para o nível de contribuição para diferentes fatores para a probabilidade de uma falha, que ajuda as empresas para ter uma melhor compreensão das causas raiz dos problemas.

#### <a name="use-case-3-circuit-breaker-failures"></a>Caso de utilização 3: falhas de disjuntor automático
##### <a name="business-problem-and-data-sources"></a>*Origens de problema e os dados de negócio*
Operações de eletricidade e gás que incluem a geração, distribuição e venda de energia elétrica requerem quantidade significativa de manutenção para garantir que as linhas de energia estão operacionais permanente para garantir a entrega de energia para households. Falha de operações é fundamental que quase todas as entidades é afetada por problemas de energia em regiões que ocorrem. Circuito breakers são essenciais para operações conforme forem um fragmento do equipamento corta elétrica atual em caso de problemas e circuitos curto para impedir que os danos para linhas de energia aconteça. É o problema empresarial para o caso de utilização prever falhas disjuntor manutenção registos, histórico de comando e as especificações técnicas.

Três principais origens de dados para este cenário são registos de manutenção que incluem ações corretivas, preventivo e systematic, incluem comandos automáticas e manuais de dados operacionais enviam para o circuito breakers, tal como para obter ações de abrir e fechar e técnica dados de especificação sobre as propriedades de cada disjuntor automático, tais como o ano efetuado, localização, modelo, etc.

##### <a name="business-value-of-the-predictive-model"></a>*Valor de negócio de modelo preditivo*
Soluções de manutenção preditiva ajudam a reduzir os custos de reparação e aumentar o ciclo de vida do equipamento como breakers circuito. Estes modelos também ajudam a melhorar a qualidade da rede de energia, uma vez que os modelos fornecem avisos antecedência que reduzir falhas inesperadas que levar a menos interrupções ao serviço.

#### <a name="use-case-4-elevator-door-failures"></a>Caso de utilização 4: Falhas de porta de abordagem
##### <a name="business-problem-and-data-sources"></a>*Origens de problema e os dados de negócio*
Mais grandes empresas de abordagem normalmente tenham milhões de elevators em execução em todo o mundo. Para obter um limite competitiva, podem concentrar-se na fiabilidade que é que lhe interessa mais aos respetivos clientes. Desenhar no potencial da Internet das coisas, ligar os seus elevators à nuvem e recolha de dados de sensores de abordagem e sistemas, são capazes de transformar dados em intelligence de negócio importantes que melhora muito operations por de oferta preditiva preemptive manutenção e que não seja algo que ainda está disponível para os concorrentes. O requisito de negócio para este cenário consiste em fornecer uma aplicação preditiva de base de dados de conhecimento que prevê que o potencial causa de falhas de porta. Os dados necessários para esta implementação constituem em três partes que são abordagem funcionalidades estático (por exemplo, os identificadores de contrato de frequência de manutenção, tipo de criação, etc.), informações de utilização (por exemplo, número de ciclos de porta, tempo médio de porta de fechar, etc.) e histórico de falha (ou seja, registos do histórico de falha e das suas causas).

Um modelo de regressão logística da várias classes foi criado com o Azure Machine Learning para resolver o problema de predição, com as funcionalidades de estáticas integradas e dados de utilização como as funcionalidades e as causas dos registos históricos falha como etiquetas de classe. Este modelo preditivo é consumido por uma aplicação num dispositivo móvel que é utilizado pelos técnicos de campo para ajudar a melhorar a eficiência de trabalho. Quando um técnico de fica no site para uma abordagem de reparar, he/she pode fazer referência a esta aplicação para causas recomendadas e melhor courses das ações de manutenção corrigir as portas de abordagem mais rápidas possível.

### <a name="transportation-and-logistics"></a>Transportes e logística
#### <a name="use-case-1-brake-disc-failures"></a>Caso de utilização 1: Brake falhas de disco
##### <a name="business-problem-and-data-sources"></a>*Origens de problema e os dados de negócio*
Políticas de manutenção normal para veículos incluem as medidas corretivas e preventivo a manutenção. As medidas corretivas manutenção implica que o veículo é reparado depois Ocorreu uma falha que pode fazer com que um inconveniência grave o controlador como resultado de uma avaria inesperada e a hora desperdiçado na visita ao mechanic. A maioria das veículos também são sujeitos a uma política de manutenção, o que necessita de efetuar determinadas inspections numa agenda que têm em conta a condição real de subsistemas de carro. Nenhuma destas abordagens são bem-sucedida completamente, eliminando os problemas. O caso de utilização específicos aqui é predição de falha de disco brake com base nos dados recolhidos através de sensores instalados no sistema tire de um carro que mantém um registo dos padrões despertar históricos e outras condições que o automóvel está exposto a. A origem de dados mais importante para este cenário é os dados de sensor que medem, por exemplo, accelerations, braking padrões, a impulsionar as distâncias, velocidade, etc. Estas informações, conjugada com outras informações estáticas, tais como as funcionalidades de carro, um bom conjunto de predictors que podem ser utilizados num modelo preditivo de compilação de ajuda. Outro conjunto de informações essenciais é os dados de falha que são inferidos a partir da base de dados de ordem parte (utilizado para manter as datas de ordem de parte dos componentes de reserva e quantidades como estão a ser reparados carros nos dealerships).

##### <a name="business-value-of-the-predictive-model"></a>*Valor de negócio de modelo preditivo*
O valor de negócio de uma abordagem preditiva aqui é significativo. Um sistema de manutenção preventiva pode agendar a visita ao dealer com base num modelo preditivo. O modelo pode ser baseado nas informações sensory que é que representa a condição atual do automóvel e o histórico de despertar. Esta abordagem pode minimizar o risco de falhas inesperadas, que também poderá ocorrer antes da manutenção periódica seguinte.
-Também pode reduzir a quantidade de manutenção desnecessária. Controlador proativamente pode ser informado que uma alteração de peças pode ser necessário de algumas semanas e fornecer dealer com essas informações. O dealer foi, então, preparar um pacote de manutenção individuais para o controlador seguinte com antecedência.

#### <a name="use-case-2-subway-train-door-failures"></a>Caso de utilização 2: Falhas de porta de formação de Subway
##### <a name="business-problem-and-data-sources"></a>*Origens de problema e os dados de negócio*
É uma das principais razões de atrasos e problemas nas operações de subway falhas de porta de formação automóveis. Prever se um carro formação pode ter uma falha de porta ou a capacidade para prever o número de dias até a próxima door falha, é extremamente importante prospeção. Fornece a oportunidade para otimizar a manutenção de porta de formação e reduzir o tempo de indisponibilidade de formação.

#### <a name="data-sources"></a>Origens de dados
São três origens de dados neste caso de utilização 

* **preparar os dados do evento**, que é o histórico dos registos de eventos de formação, 
* **dados de manutenção** como tipos de manutenção, os tipos de ordem de trabalho e códigos de prioridade  
* **registos de falhas de**.

##### <a name="business-value-of-the-predictive-model"></a>*Valor de negócio de modelo preditivo*
Dois modelos foram criados para prever a probabilidade de falhas de dia seguinte utilizando a classificação do binária e dias até a falha de regressão. Semelhante para os casos anteriores, os modelos criar imenso oportunidade para melhorar a qualidade de serviço e aumentar a satisfação do cliente ao complementa aspeto regimes a manutenção regular.

## <a name="data-preparation"></a>Preparação de dados
### <a name="data-sources"></a>Origens de dados
Os elementos de dados comum para problemas de manutenção preventiva podem ser resumidos da seguinte forma:

* Histórico de falha: O histórico de falha de um computador ou o componente da máquina.
* Histórico de manutenção: O histórico de reparação de uma máquina, por exemplo, códigos de erro, as atividades de manutenção anterior ou substituições de componente.
* Condições e a utilização do computador: as condições de operação de uma máquina, por exemplo, os dados recolhidos a partir dos sensores.
* Funcionalidades de máquina: as funcionalidades de uma máquina, por exemplo, tamanho do motor, marca e modelo, localização.
* Funcionalidades de operador: as funcionalidades do operador, por exemplo, sexo, passado experiência.

É possível e normalmente o caso em que o histórico de falha está contido no histórico de manutenção como sob a forma de códigos de erro especiais ou datas de ordem de peças sobressalentes. Nesses casos, as falhas podem ser extraídas os dados de manutenção. Além disso, os domínios de negócios diferentes podem ter uma variedade de outras origens de dados que influencia os padrões de falha que não estão listados aqui exhaustively. Estas devem ser identificadas pelas consultadoria especialistas domínio quando a criação de modelos preditivos.

Alguns exemplos de acima elementos de dados de casos de utilização são:

Histórico de falha: voo atraso datas, datas de falha de componente de aeronave e tipos, falhas de transação do ATM monetários withdrawal, falhas de porta de formação/abordagem, datas de ordem de substituição de disco brake, vento turbine falha datas e falhas de comando disjuntor automático.

Histórico de manutenção: registos de erros de voo, registos de erros de transação de ATM, preparar os registos de manutenção, incluindo o tipo de manutenção, a descrição abreviada etc. e registos de manutenção disjuntor automático.

Condições e a utilização do computador: encaminha o tráfego e horas, os dados de sensores recolhidos a partir dos motores das aeronaves, as leituras dos sensores de transações de ATM, preparar os dados de eventos, as leituras dos sensores do vento turbines, elevators e carros ligados.

Funcionalidades de máquina: disjuntor as especificações técnicas, tais como os níveis de tensão, funcionalidades de geolocalização ou car como a marca, o modelo, o motor de tamanho, tire tipos, instalações de produção etc.

Tendo em conta as origens de dados acima, os dois tipos de dados principal, que vamos observar no domínio de manutenção preditiva são dados temporais e dados estáticos.
Histórico de falha, as condições de máquina, reparar histórico, histórico de utilização quase sempre provenientes com carimbos de hora que indica o tempo de coleção para cada conjunto de dados. Funcionalidades de máquina e funcionalidades de operador em geral são estáticas, uma vez que, normalmente, descrevem as especificações técnicas de máquinas ou propriedades do operador. É possível que estas funcionalidades alterar o ao longo do tempo e caso devem ser tratados como hora origens de dados.

### <a name="merging-data-sources"></a>A intercalação de origens de dados
Antes de obter para qualquer tipo de engenharia da funcionalidade ou processo etiquetas, precisamos de prepare primeiro os nossos dados o formato necessário para criar as funcionalidades do. O objetivo único é para gerar um registo para cada unidade de tempo para cada recurso com as respetivas funcionalidades e as etiquetas ser sejam fornecidas o algoritmo de aprendizagem. Para preparar esse conjunto de dados de limpeza final, alguns passos de pré-processamento deverão ser executados. Primeiro passo é dividir a duração de recolha de dados em unidades de tempo em que cada registo pertence a uma unidade de tempo para um recurso. Recolha de dados também pode ser dividida em outras unidades, tais como ações, no entanto, para simplicidade podemos utilizar unidades de tempo para o resto de uma explicação.

Pode ser a unidade de medida para o tempo em segundos, minutos, horas, dias, meses, ciclos, ou transações consoante a eficiência de preparação de dados e as alterações de quilómetros observados nas condições do elemento de uma unidade de tempo para o outro ou outros fatores específicas para o domínio. Por outras palavras, a unidade de tempo tem de ser o mesmo a frequência de recolha de dados como em muitos casos dados não pode mostrar qualquer diferença de uma unidade para outro. Por exemplo, se os valores de temperatura foram que está a ser recolhidos a cada 10 segundos, escolha uma unidade de tempo de 10 segundos para a análise completa enche o número de exemplos sem fornecer informações adicionais. Melhor estratégia seria utilizar média ao longo de uma hora como um exemplo.

Esquemas de dados genérica de exemplo para as origens de dados possíveis explicadas na secção anterior são:

Registos de manutenção: estes são os registos das ações de manutenção efetuadas. Os dados não processados de manutenção, geralmente, vem com um ID de recurso e carimbo de hora com informações sobre as atividades de manutenção tem sido executadas a essa hora. Em caso desses dados não processados, atividades de manutenção tem de ser convertida categórico colunas com cada categoria correspondente a um tipo de ação de manutenção. O esquema de dados básicos para registos de manutenção inclui colunas de ação de ID, a hora e a manutenção do recurso.

Registos de falha: estes são os registos que pertencem ao destino de predição que chamamos falhas ou o motivo da falha. Estes podem ser códigos de erro específico ou eventos de falhas definidos pela condição empresariais específicos. Em alguns casos, os dados incluem vários códigos de erro algumas das quais correspondem às falhas de interesse. Nem todos os erros são destino de predição, pelo que outros erros, normalmente, são utilizados para construir funcionalidades que podem estar relacionados com falhas. O esquema de dados básicos para registos de falhas inclui o ID de recurso, hora e falha ou colunas de razão da falha se razão está disponível.

Máquina condições: estes são, de preferência, monitorização em tempo real dados sobre as condições de funcionamento dos dados. Por exemplo, para falhas de porta, porta abertura e fecho vezes são indicadores boas sobre a condição de portas atual. O esquema de dados básicos para condições de máquina inclui colunas de valor de ID, a hora e a condição do recurso.

Dados de máquina e operador: dados de máquina e o operador podem ser intercalados num esquema para identificar o recurso foi operado por que o operador juntamente com as propriedades de recurso e o operador. Por exemplo, um carro normalmente pertence a um controlador com atributos, tais como a idade, impulsionando experiência etc. Se alterar estes dados ao longo do tempo, estes dados também devem incluir uma coluna de hora e devem ser tratados como hora vários dados para a geração de funcionalidade. Inclui o ID de recurso, ativo, ID de operador o operador e das funcionalidades e o esquema de dados básicos para condições de máquina.

A tabela final antes de geração de etiquetagem e a funcionalidade pode ser gerada pelo esquerda a associar a tabela de condições de máquina com registos de falhas no ID de recurso e campos de hora. Esta tabela, em seguida, pode ser associada com registos de manutenção no ID de recurso e a hora campos e, finalmente, com o computador e o operador de funcionalidades no ID de recurso. A associação à esquerda primeiro deixa valores nulos para a coluna de falha quando a máquina está em funcionamento normal, estes podem ser imputed por um valor do indicador para um funcionamento normal. Esta coluna de falha é utilizada para criar as etiquetas para o modelo preditivo.

### <a name="feature-engineering"></a>Com engenharia
O primeiro passo na modelação é engenharia da funcionalidade. Ideia da geração de funcionalidade é, essencialmente, descrever e abstracta condição de estado de funcionamento de um computador num determinado momento utilizando os dados históricos foi recolhido até que ponto no tempo. Na secção seguinte, podemos fornecer uma descrição geral do tipo de técnicas que pode ser utilizado para manutenção preditiva e como as etiquetas é efetuada para cada técnica. A técnica exata que deve ser utilizada depende o problema de dados e o negócio. No entanto, os métodos de engenharia da funcionalidade descritos abaixo podem ser utilizados como linha de base para a criação de funcionalidades. Abaixo, vamos discutir as funcionalidades de desfasamento que devem ser construídas a partir de origens de dados que vêm com carimbos de data / hora e também funcionalidades estáticas criadas a partir de origens de dados estático e fornecem exemplos de cenários de utilização.

#### <a name="lag-features"></a>Funcionalidades de desfasamento
Tal como mencionado anteriormente, na manutenção preditiva, os dados históricos, geralmente, vem com o que indica a hora de cada conjunto de dados de coleção de carimbos. Existem várias formas de criação de funcionalidades a partir dos dados que vem com timestamped dados. Nesta secção, vamos discutir alguns destes métodos utilizados para manutenção preditiva. No entanto, mas não são limitadas por estes métodos individualmente. Uma vez que a engenharia da funcionalidade é considerada uma das áreas mais criativos de modelação preditiva, podem existir muitas outras formas de criar as funcionalidades. Aqui, podemos fornecer alguns técnicas gerais.

##### <a name="rolling-aggregates"></a>*A anular agregados*
Para cada registo de um ativo, vamos escolher uma janela graduais do tamanho do "M", que é o número de unidades de tempo que gostaríamos de computação agregados históricos para. Em seguida, iremos computação sucessiva agregadas funcionalidades, utilizando os períodos de W antes da data desse registo. Alguns exemplos sucessiva agregados podem ser sucessiva contagens, significa que, desvios padrão, valores atípicos com base no desvios padrão, CUSUM mede, valores mínimos e máximos para a janela. É outra técnica interessante para capturar as alterações de tendência, picos e alterações ao nível utilizando algoritmos de detetam anomalias na dados através de algoritmos de deteção de anomalias.

Para a demonstração, consulte a figura 1 onde iremos representam os valores de sensor registados para um recurso para cada unidade de tempo com as linhas azuis e marcar o cálculo de média de funcionalidade graduais para W = 3 para os registos em t<sub>1</sub> e t<sub>2</sub> que são indicados por laranja e verde agrupamentos, respetivamente.

![Figura 1. A anular funcionalidades agregadas](./media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png)

Figura 1. A anular funcionalidades agregadas

Como exemplos, falha de componente de aeronave, valores do sensor da última semana, últimos três dias e o último dia foram utilizados para criar significa graduais, desvio-padrão e funcionalidades de soma. Da mesma forma, para falhas de ATM, valores não processados do sensor e sucessiva significa, mediana, intervalo, desvios padrão, o número de valores atípicos para além de desvios padrão três, superior e inferiores funcionalidades CUMSUM foram utilizado.

Para a predição de atraso do voo, contagens de códigos da última semana foram utilizados para criar as funcionalidades de erro. Para falhas de porta de formação, contagens dos eventos no último dia, contagens de eventos através de semanas anteriores e variância de contagens de eventos dos últimos 15 dias foram utilizadas para criar desfasamento funcionalidades. Contagem mesmo foi utilizado para eventos relacionados com a manutenção.

Além disso, por escolher um W que é muito grande (por ex. anos), é possível ver o histórico completo de um recurso, tais como a contagem de todos os registos de manutenção, falhas, etc. até a hora do registo. Este método foi utilizado para contagem de falhas de disjuntor automático para os últimos três anos. Também para as falhas de formação, todos os eventos de manutenção foram contabilizados criar uma funcionalidade para capturar os efeitos de manutenção longo prazo.

##### <a name="tumbling-aggregates"></a>*Agrega em cascata*
Para cada registo com nome de um ativo, vamos escolher uma janela de tamanho "W -<sub>k</sub>" onde o k é o número ou o windows com o tamanho "M" que pretendemos criar funcionalidades de desfasamento para. pode ser selecionada "k" como um grande número de captura de padrões de degradação de longa duração ou um pequeno número para capturar os efeitos de curta duração. Em seguida, utilizamos o windows de em cascata k W -<sub>k</sub> , W -<sub>(k-1)</sub>,..., W -<sub>2</sub> , W -<sub>1</sub> para criar a agregação funcionalidades para os períodos de antes da data de registo e a hora (consulte a figura 2). Estes são também sucessiva windows de nível de registo para uma unidade de tempo que não será capturada na figura 2, mas a ideia é a mesma na figura 1 onde t<sub>2</sub> também é utilizado para demonstrar o efeito graduais.

![Figura 2. Em cascata funcionalidades agregadas](./media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png)

Figura 2. Em cascata funcionalidades agregadas

Por exemplo, para vento turbines, W = 1 e k = 3 meses foram utilizadas para criar as funcionalidades de desfasamento para cada um dos últimos 3 meses utilizando valores atípicos superior e inferior.

#### <a name="static-features"></a>Funcionalidades estáticas
Estas são as especificações técnicas de equipamento como data de fabrico, número de modelo, localização, etc. Embora desfasamento funcionalidades são principalmente numéricas natureza, funcionalidades estáticas tornar-se normalmente categórico variáveis nos modelos. Como exemplo, disjuntor propriedades, tais como tensão, atual e especificações de energia, juntamente com os tipos de transformador, fontes de alimentação etc. foram utilizados. Para falhas de disco brake, o tipo de tire wheels, tais como se forem alloy ou steel foram utilizados como algumas das funcionalidades estáticas.

Durante a geração da funcionalidade, devem efetuar outros passos importantes, tais como lidar com os valores em falta e de normalização. Existem vários métodos de imputation de valor em falta e também a normalização de dados que não é abordada aqui. No entanto, é vantajoso experimentar diferentes métodos para ver se é possível um aumento do desempenho de predição.

A tabela de funcionalidade final após a funcionalidade de engenharia passos abordados na secção anterior deve assemelhar-se o esquema de dados de exemplo seguintes quando a unidade de tempo é um dia:

| ID do Recurso | Hora | Colunas de funcionalidade | Etiqueta |
| --- | --- | --- | --- |
| 1 |1 dia | | |
| 1 |Dia 2 | | |
| ... |... | | |
| 2 |1 dia | | |
| 2 |Dia 2 | | |
| ... |... | | |

## <a name="modeling-techniques"></a>Técnicas de modelação
Manutenção preditiva é um domínio avançado muito frequentemente empregar questões empresariais que podem ser approached de muitos ângulos diferentes da perspetiva de modelação preditiva. Nas secções seguintes, fornecemos técnicas principais que são utilizadas para modelar questões de negócios diferentes que podem ser respondidas com soluções de manutenção preditiva. Apesar de existirem semelhanças, cada modelo tem a suas próprias forma de etiquetas ao construir que são descritas em detalhe. Como um recurso associado, pode fazer referência ao modelo de manutenção preditiva que está incluído na experimentações de exemplo fornecidas no Azure Machine Learning. As ligações para o material online para este modelo são fornecidas na secção de recursos. Pode ver como alguns das técnicas de engenharia da funcionalidade abordados acima e a técnica de modelação que é descrita nas secções seguintes são aplicadas para prever falhas do motor de aeronave utilizando o Azure Machine Learning.

### <a name="binary-classification-for-predictive-maintenance"></a>Classificação de binária para manutenção preventiva
Classificação de binária para manutenção preventiva é utilizada para prever a probabilidade de equipamento falha num período de tempo futuros. O período de tempo é determinado pelo e com base em regras de negócio e os dados em execução. Alguns períodos de tempo de comuns são um tempo de fabrico mínimo necessário para comprar peças sobressalentes para substituir provavelmente para componentes de danos ou o tempo necessário para implementar os recursos de manutenção para executar rotinas de manutenção para corrigir o problema ocorrer dentro desse período de tempo. Chamamos a este período de horizon futuras "X".

Para utilizar a classificação binária, precisamos de identificar os dois tipos de exemplos que chamamos positivos e negativos. Cada exemplo é um registo que pertence a uma unidade de tempo para um recurso, essencialmente, descrever e abstrair as condições de operação até essa unidade de tempo através da funcionalidade engenharia utilizando históricos e outras origens de dados descritas anteriormente. No contexto de classificação binária para manutenção preventiva, o tipo positivo indica falhas (etiqueta 1) e tipo negativo indica as operações normais (etiqueta = 0) em que as etiquetas são do tipo categórico. O objetivo é encontrar um modelo que identifica a cada novo exemplo como provável que falhem ou a funcionar normalmente nos próximos X unidades de tempo.

#### <a name="label-construction"></a>Construção da etiqueta
Para criar um modelo preditivo responder à pergunta "o que é a probabilidade do elemento falha as próximas X unidades de tempo?", etiquetagem é feito ao colocar X registos antes da falha de um recurso e a etiquetagem-los como "prestes a falha" (etiqueta = 1) ao etiquetagem todos os  outros regista como "normal" (etiqueta = 0). Neste método, as etiquetas são variáveis categórico (consulte a figura 3).

![Figura 3. Etiquetas para classificação binária](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png)

Figura 3. Etiquetas para classificação binária

Para atrasos dos voos e cancelamentos, os X é selecionado como um dia para prever atrasos nas próximas 24 horas. Todos os flights que estão dentro de 24 horas antes de falhas foram identificados como 1s. Para monetários ATM dispense falhas, dois modelos de classificação binária foram criados para prever a probabilidade de falha de uma transação nos próximos 10 minutos e também para prever a probabilidade de falhas nas notas de 100 junto dispensed. Todas as transações que ocorreram nos últimos 10 minutos da falha são identificadas como 1 para o primeiro modelo. E todas as notas dispensed dentro das última 100 notas de uma falha foram identificadas como 1 para o segundo modelo. Para falhas disjuntor automático, a tarefa é prever a probabilidade do seguinte comando do disjuntor falha na qual caso X é escolhido para ser um comando futuro. Para falhas de porta de formação, foi criado o modelo de classificação binária para prever falhas dentro os próximos sete dias. Para falhas de turbine vento, X foi escolhido como 3 meses.

Vento turbine e formação porta casos também são utilizados para análise de regressão prever restantes vida útil utilizando os mesmos dados, mas com a utilização de uma estratégia de etiquetas diferentes que é explicada na secção seguinte.

### <a name="regression-for-predictive-maintenance"></a>Regressão para manutenção preventiva
Modelos de regressão em manutenção preditiva são utilizados para calcular a vida útil restantes (RUL) de um ativo que está definido como a quantidade de tempo que o recurso está operacional antes de ocorrer a seguinte falha. Igual a classificação binária, cada exemplo é um registo que pertence a uma unidade de tempo "Y" para um recurso. No entanto, no contexto de regressão, o objetivo é encontrar um modelo que calcula a vida útil restantes cada novo exemplo como um número contínua, que é o período de tempo restante antes da falha. Chamamos a este período de tempo algumas múltiplo de Y. Cada exemplo tem também uma vida útil restantes que pode ser calculada ao medir a quantidade de tempo restante para esse exemplo antes da falha seguinte.

#### <a name="label-construction"></a>Construção da etiqueta
Atribuído à pergunta "o que é a vida útil restantes do equipamento?
", para o modelo de regressão pode ser construído, tendo cada registo antes da falha e a etiquetagem-los calculando permanecem quantos unidades de tempo antes da falha seguinte de etiquetas. Neste método, as etiquetas são variáveis contínuas (consulte a figura 4).

![Figura 4. Etiquetagem para regressão](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png)

Figura 4. Etiquetagem para regressão

Diferente de classificação binária, de regressão, ativos sem falhas nos dados não podem ser utilizados como a etiquetagem é efetuada no contexto de um ponto de falha e o cálculo não é possível sem saberem quanto o elemento survived antes de modelação Falha. Este problema é melhor abordado outra técnica análises chamada sobrevivência análise.
Iremos não vamos debater sobrevivência análise neste manual de comunicação social devido as possíveis complicações que podem surgir ao aplicar a técnica para casos de utilização de manutenção preditiva que envolvem dados vários de tempo com intervalos frequentes.

### <a name="multi-class-classification-for-predictive-maintenance"></a>Classificação de classe multi para manutenção preventiva
Classificação de classe multi para manutenção preventiva pode ser utilizada para prever futuros dois resultados. A primeira é para atribuir um recurso a um dos vários períodos de possíveis de tempo para dar um intervalo de tempo para falhas para cada recurso. O segundo é para identificar a probabilidade de falhas num período futuro devido a uma das várias causas raiz. Permite que o técnico de manutenção que está equipados com estes conhecimentos para processar os problemas com antecedência. Outra técnica de modelação de classe multi centra-se em determinar mais provavelmente causa de raiz de uma dada uma falha. Isto permite que as recomendações para as ações de manutenção superior Ir para corrigir uma falha.
Por meio de uma lista de raiz classificados faz com que e associou com ações de reparação,  
técnicos podem ser mais eficientes em efetuando as ações de reparação primeiro após falhas.

#### <a name="label-construction"></a>Construção da etiqueta
Dada as duas questões que são "o que é a probabilidade de um recurso falha nas unidades"aZ"próximas da hora em que"a"é o número de períodos de" e "o que é a probabilidade do elemento falha as próximas X unidades de tempo devido ao problema" P<sub>posso</sub>" em que "i" é o número de causas raiz possíveis, etiquetagem é feito da seguinte forma para que as técnicas.

Para a primeira pergunta etiquetagem, é necessário colocar registos aZ antes da falha de um ativo e etiquetagem-los utilizando registos de tempo (3Z, 2Z, Z) como as respetivas etiquetas ao etiquetagem todos os outros registos como "normal" (etiqueta = 0). Neste método, a etiqueta é variável categórico (consulte a figura 5).

![Figura 5. Etiquetas para classificação de várias classes para predição de falha de tempo](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png)

Figura 5. Etiquetas para classificação de várias classes para predição de falha de tempo

Para a segunda pergunta etiquetagem, é necessário colocar X registos antes da falha de um recurso e a etiquetagem-los como "prestes a falhar devido ao problema P<sub>posso</sub>" (etiqueta = P<sub>posso</sub>) ao etiquetagem todos os outros registos como "normal" (etiqueta = 0). Neste método, as etiquetas são variáveis categórico (consulte a figura 6).

![Figura 6. Etiquetas para classificação de várias classes para predição causa de raiz](./media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png)

Figura 6. Etiquetas para classificação de várias classes para predição causa de raiz

O modelo atribui uma probabilidade de falhas devido a cada P<sub>posso</sub> , bem como a probabilidade de não falha. Estes probabilidades podem ser ordenadas por magnitude para permitir a previsão dos problemas que são mais provável ocorrer no futuro. Caso de utilização de falha de componente de aeronave foi estruturado como um problema de classificação de várias classes. Isto permite que a predição de probabilidades de falha devido a dois componentes de valve pressão diferentes ocorrer no mês seguinte.

Para que recomendamos as ações de manutenção após falhas, etiquetagem não requer um horizon futura para ser selecionado. Isto acontece porque o modelo não é a previsão falha com no futuro, mas é apenas prever a causa mais provável depois da falha já tiver ocorrido. Falhas de porta de abordagem enquadram-se as maiúsculas e minúsculas terceira onde o objetivo é para prever a causa da falha indicada dados históricos em condições de funcionamento. Este modelo, em seguida, é utilizado para prever que o mais provável causas depois Ocorreu uma falha. Uma vantagem deste modelo é que ajuda a técnicos inexperienced fácil diagnosticar e corrigir problemas que caso contrário, teriam anos de experiência.

## <a name="training-validation-and-testing-methods-in-predictive-maintenance"></a>Formação, validação e métodos de teste em manutenção preditiva
Manutenção preditiva, semelhante a qualquer outro espaço de solução que contém dados timestamped, a formação típica e o teste de rotina tem de tomar conta os aspetos diferentes de tempo para melhor generalizar unseen dados futuras.

### <a name="cross-validation"></a>Validação de se estender
Muitos algoritmos de machine learning dependem de um número de sintonização que pode alterar significativamente o desempenho do modelo. Os valores ideal de sintonização estas não são calculados automaticamente quando se prepara o modelo, mas deve ser especificado pelo scientist de dados. Existem várias formas de localizar boas valores de sintonização. O mais comum é "subconjuntos de validação k validação cruzada" qual divide os exemplos aleatoriamente em subconjuntos de validação de "k". Para cada conjunto de valores de sintonização, o algoritmo do learning é tempos de execução k. Em cada iteração, os exemplos de subconjuntos de validação atual são utilizados como um conjunto de validação, o resto dos exemplos são utilizados como um conjunto de preparação. Os algoritmo de trains através de exemplos de formação e as métricas de desempenho são calculados através de exemplos de validação. No final deste ciclo de cada conjunto de valores de hyperparameter, média dos valores da métrica de desempenho k de computação e escolha os valores de hyperparameter que tenham o melhor desempenho médio.

Conforme mencionado anteriormente, no problemas de manutenção preditiva, dados são registados como uma série de tempo de eventos ter várias origens de dados. Estes registos podem ser ordenados de acordo com a hora de etiquetagem um registo ou um exemplo. Por conseguinte, se podemos aleatoriamente dividir o conjunto de dados num conjunto de preparação e de validação, algumas dos exemplos de formação são posteriores no tempo à alguns exemplos de validação. Isto resulta num estimar desempenho futuro de valores de hyperparameter com base nos dados que chegaram antes do modelo foi preparado. Estas estimativas poderão excessivamente otimista, especialmente se a série de tempo não é estacionário e alterar o respetivo comportamento ao longo do tempo. Como resultado, os valores de hyperparameter escolhido poderão ser inferiores às ideais.

É uma melhor forma de encontrar boas valores de sintonização dividir os exemplos para formação e validação definida de forma dependentes da hora, de forma a que todos os exemplos de validação são posteriores no tempo que todos os exemplos de formação. Em seguida, para cada conjunto de valores de sintonização Vamos dar formação sobre o algoritmo ao longo do conjunto de preparação, medir o desempenho do modelo através do mesmo conjunto de validação e escolha hyperparameter valores que mostram o melhor desempenho. Quando os dados de séries de tempo não estiver estacionário e medida que evolui ao longo do tempo, os valores de hyperparameter escolhidos por formação/validação dividir antecedência para um futuro melhor "do modelo de desempenho que com os valores escolhido aleatoriamente por validação cruzada.

O modelo final é gerado pelo formação um algoritmo de aprendizagem sobre dados de todos, utilizando os valores de hyperparameter melhor que são encontrados através da formação/validação dividir ou validação cruzada.

### <a name="testing-for-model-performance"></a>Testar desempenho de modelo
Depois de criar um modelo é necessário calcular o desempenho dele futuro em novos dados. A estimativa mais simples pode ser o desempenho do modelo de dados acima do formação. Mas esta estimativa é demasiado otimista, porque o modelo é adaptado aos dados que são utilizados para calcular o desempenho. Uma estimativa melhor pode ser uma métrica de desempenho de hyperparameter valores calculados através do conjunto de validação ou uma métrica de desempenho médio calculadas a partir da validação cruzada. Mas para as mesmas razões indicadas anteriormente, estas estimativas ainda excessivamente otimista. Precisamos de mais realistas abordagens para medir o desempenho do modelo.

É uma forma para dividir os dados aleatoriamente em conjuntos de formação, validação e teste. Os conjuntos de formação e validação são utilizados para selecionar os valores de sintonização e preparar o modelo com as mesmas. O desempenho do modelo é medido ao longo do conjunto de teste.

Outra forma que é relevante para manutenção preditiva, é dividir os exemplos em formação, validação e conjuntos de teste de uma forma de dependentes da hora, de forma que todos os exemplos de teste são posteriores no tempo que todos os exemplos de formação e a validação. Após a divisão medida de desempenho e de geração de modelo são efetuadas igual à descrita anteriormente.

Quando a série de tempo é estacionário e fácil prever ambas as abordagens geram semelhantes estimativas de desempenho futura. Mas, quando séries de tempo não estacionário e/ou disco rígido prever, a abordagem segundo irá gerar mais realistas estimativas de desempenho futura que primeiro.

### <a name="time-dependent-split"></a>Divisão de dependentes da hora
Como melhor prática, nesta secção, observe próximo como implementar a divisão de dependentes da hora. No entanto exatamente dita uma divisão bidirecional dependentes da hora entre formação e conjuntos de teste, a mesma lógica deve ser aplicada para dividir para conjuntos de formação e validação dependentes da hora.

Suponha que temos um fluxo de eventos de timestamped como medidas de sensores vários. Funcionalidades de formação e exemplos de teste, bem como as respetivas etiquetas, são definidas ao longo de períodos de tempo que contêm vários eventos.
Por exemplo, para classificação binária, conforme descrito nas secções de engenharia da funcionalidade e técnicas de modelação, as funcionalidades são criadas com base nos eventos anteriores e as etiquetas são criadas com base em eventos futuros no "X" unidades de tempo no futuro. Assim, o período de tempo de etiquetas de um exemplo é fornecido mais tarde, em seguida, o período de tempo das respetivas funcionalidades. Para dividir dependentes da hora, vamos escolher um ponto no tempo no qual Vamos dar formação sobre um modelo de sintonização atento utilizando dados históricos até que ponto. Para evitar a fuga de etiquetas futuras que ultrapassam o truncado de formação em dados de formação, escolhemos o período de tempo mais recente para exemplos de formação de etiqueta ser X unidades antes da data de formação truncado. Figura 7, cada círculo sólido representa uma linha no conjunto de dados de funcionalidade final para os quais as funcionalidades e as etiquetas são calculadas, de acordo com o método descrito acima. Tendo em conta que, a ilustração mostra os registos que devem entrar em formação e testar conjuntos quando implementar divisão dependentes da hora para X = 2 e W = 3:

![A figura 7. Dividir dependentes da hora de classificação binária](./media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png)

A figura 7. Dividir dependentes da hora de classificação binária

Os verdes quadrados representam os registos que pertencem às unidades de tempo que podem ser utilizadas para formação. Tal como explicado anteriormente, cada exemplo de formação na tabela funcionalidade final é gerado ao observar passado 3 períodos de geração de funcionalidade e 2 períodos futuros de etiquetagem antes do truncado de dia de formação. Não podemos utilize exemplos de preparação definida quando qualquer parte dos 2 períodos futuros para esse exemplo ultrapassa o truncado de formação, uma vez que vamos partem do princípio de que não temos visibilidade para além de truncado de formação. Devido a essa restrição, exemplos preto representam os registos do final identificado conjunto de dados não deve ser utilizada no conjunto de dados de formação. Estes registos não serão utilizados no teste dados uma vez que são antes do truncado de formação e os intervalos de tempo etiquetas dependem parcialmente o período de tempo de formação que não deve ser o caso, gostaríamos de completamente separadas etiquetagem períodos de tempo para formação e testar para evitar a fuga de informações da etiqueta.

Permite que esta técnica para a sobreposição de dados utilizadas para geração de funcionalidade entre formação e testar exemplos que estão próximos truncado a formação. Dependendo da disponibilidade de dados, uma separação ainda mais grave pode ser efetuada por não utilizar qualquer um dos exemplos no conjunto de teste que estejam dentro do unidades de tempo de W de truncado a formação.

Do nosso trabalho encontrámos que modelos de regressão utilizados para prever a vida útil de restantes são mais gravemente afetados pelo problema a fuga e através de uma divisão aleatória leva a overfitting extremos. Da mesma forma, problemas de regressão, a divisão deve ser forma a que os registos que pertencem a recursos com falhas antes de formação cortar devem ser utilizados para o conjunto de formação e recursos que tenham falhas depois do truncado deve ser utilizado para fins de teste de conjunto.

Como um método geral, outro importante melhor prática para dividir os dados para formação e testar consiste em utilizar uma divisão por ID de recurso para que nenhum dos elementos que foram utilizados no formação são utilizados para fins de teste, uma vez que a ideia dos testes para se certificar de que quando um novo elemento é utilizado t predições do disponibilizar o no, o modelo fornece resultados realistas.

### <a name="handling-imbalanced-data"></a>Processar dados imbalanced
Em problemas de classificação, se existirem mais exemplos de uma classe que dos outros, os dados possui correspondências são denominados imbalanced. Idealmente, gostaríamos de ter suficiente representantes de cada classe nos dados de formação para poder diferenciar entre diferentes classes. Se uma classe for inferior a 10% dos dados, vamos pode indicar que os dados são imbalanced e chamamos a classe de minority underrepresented do conjunto de dados. Significativamente, em muitos casos encontrámos imbalanced conjuntos de dados onde uma classe é gravemente underrepresented em comparação comparados outras pessoas por exemplo, apenas constituting 0,001% dos pontos de dados. Desequilíbrio de classe é um problema em vários domínios, incluindo a deteção de fraudes, de intrusão de rede e de manutenção preditiva onde falhas são normalmente raras ocorrências na duração de ativos que compõem os exemplos de classe minority.

Em caso de desequilíbrio de classe, desempenho de algoritmos de aprendizagem mais padrão for comprometido, que têm como objetivo para minimizar a taxa de erros geral. Por exemplo, para um conjunto de dados com exemplos de classe negativo de 99% e exemplos de classe positivo de 1%, iremos pode obter 99% precisão simplesmente etiquetagem todas as instâncias como negativo. No entanto, isto misclassifies todos os exemplos positivos para que o algoritmo não é um útil apesar da métrica de precisão é muito elevada. Por conseguinte, as métricas de avaliação convencionais, tais como a precisão geral na taxa de erros, não são suficientes em caso de aprendizagem imbalanced. Outras métricas, tais como precisão, devolução de chamada, pontuações F1 e custo ajustadas ROC curvas são utilizadas para avaliações em caso de imbalanced conjuntos de dados, que são abordadas na secção de métricas de avaliação.

No entanto, existem alguns métodos de que o ajudam a classe de resolver o problema de desequilíbrio. Dois dos principais são amostragem técnicas e custo learning confidencial.

#### <a name="sampling-methods"></a>Métodos de amostragem
A utilização de métodos no imbalanced learning de amostragem é composta por modificação do conjunto de dados por alguns mecanismos para fornecer um conjunto com balanceamento de dados. Apesar de existirem muitas técnicas de amostragem diferente, a maioria das campanhas diretamente reencaminhar são aleatórias oversampling e fazendo a amostragem em.

Oversampling aleatória, basta declarado é selecionando uma amostra aleatória de classe minority, replicar estes exemplos e adicioná-los ao conjunto de dados de preparação. Isto aumenta o número de exemplos totais na classe minority e, eventualmente, equilibrar o número de exemplos de diferentes classes. Um risco de oversampling é que várias instâncias de determinados exemplos podem fazer com que o classificador de tornar-se à esquerda para overfitting demasiado específico.
Isto resulta num precisão formação elevada, mas o desempenho no unseen testar dados pode ser muito fraco. Por outro lado, aleatórias em amostragem é selecionar uma amostra aleatória de classe de maioria e remover os exemplos do conjunto de dados de formação. No entanto, a remoção de exemplos da classe de maioria pode fazer com que o classificador de perder relativas à classe de maioria de conceitos importantes. A amostragem híbrida onde é oversampled classe minority e classe de maioria é no objeto de amostragem em simultâneo é outra abordagem viável. Existem que muitas outras técnicas de amostragem mais sofisticadas estão disponíveis e métodos de amostragem eficaz para desequilíbrio de classe é uma área de investigação populares receber constante de atenção e contribuições de canais muitos. Utilização de técnicas diferentes para decidir naqueles mais eficazes é normalmente, deixado para o scientist de dados para pesquisar e experimente e dependem altamente as propriedades de dados. Além disso, é importante certificar-se de que os métodos de amostragem são aplicados apenas ao conjunto de preparação, mas não o teste de definida.

#### <a name="cost-sensitive-learning"></a>Custo learning confidencial
Manutenção preditiva, falhas que constituem a classe de minority são mais importante que exemplos normais e, por conseguinte, o foco é o desempenho do algoritmo em falhas é normalmente o foco. Isto é normalmente denominado como unequal perda ou assimétricos custos da misclassifying elementos de diferentes classes wherein incorretamente prever um positivos negativo como pode de custo mais do que vice versa. O classificador pretendido deve ser capaz dar a exatidão da previsão elevada através de classe minority, sem comprometer a precisão para a classe de maioria gravemente.

Existem várias formas, que isto pode ser alcançado. Ao atribuir um custo elevado a misclassification da classe minority e tentar minimizar o custo global, o problema de unequal perde pode ser efetivamente resolvida. Alguns algoritmos do machine learning utilizam esta ideia inerentemente como SVMs (suporte Vetor máquinas) onde o custo de positivos e negativos exemplos pode ser incorporado durante o tempo de preparação. Da mesma forma, os métodos de aumento são utilizados e mostram normalmente, um bom desempenho em caso de decisão de dados imbalanced como elevados algoritmos da árvore.

## <a name="evaluation-metrics"></a>Métricas de avaliação
Conforme mencionado anteriormente, desequilíbrio de classe faz com que fraco desempenho como algoritmos tendem a classificar exemplos de classe de maioria melhores no despesa dos casos de classe minority o erro total misclassification muito é melhorado quando a classe de maioria assinalada como corretamente. Isto faz com que as taxas de devolução de chamada baixa e torna-se um problema maior quando o custo de alarmes false no negócio é muito elevado. Precisão é a métrica mais popular utilizada para descrever o desempenho de um classificador. No entanto, tal como explicado anteriormente precisão é ineficaz e não refletem o desempenho real da funcionalidade de um classificador que é muito confidencial para as distribuições de dados. Em vez disso, outras métricas de avaliação são utilizadas para avaliar a aprendizagem imbalanced problemas. Nesses casos, a precisão, devolução de chamada e F1 pontuações devem de ser as métricas iniciais para observar quando avaliar o desempenho do modelo de manutenção preditiva. Em manutenção preditiva, taxas de devolução de chamada denotam quantos das falhas no conjunto de teste corretamente foram identificados pelo modelo. Taxas de devolução de chamada superiores significam que o modelo for bem-sucedido na deteção de falhas verdadeiras. Métrica de precisão relacionado com a taxa de alarmes false onde as taxas de precisão inferiores correspondem ao superiores false alarmes. F1 pontuação considera precision e devolução de chamada taxas com melhores valor a ser 1 e worst que está a ser 0.

Além disso, para classificação binária, tabelas decile e comparação de precisão gráficos são muito informativos ao avaliar o desempenho. Estes focar-se apenas na classe positivo (falhas) e fornecem uma fotografia mais complexa o desempenho do algoritmo que o que é utilizado ao observar apenas um ponto de sistema operativo fixo na curva ROC (Recetor operativo característica).
Tabelas de decile são obtidas pelo ordenação os exemplos de teste, de acordo com os respetivos previstas probabilidades de falhas calculadas pelo modelo de antes thresholding para decidir sobre a etiqueta final. Os exemplos ordenados, em seguida, são agrupados numa deciles (ou seja, os exemplos de 10% com maior probabilidade e, em seguida, 20%, 30% e assim sucessivamente). Ao calcular o rácio entre verdadeira taxa positiva de cada decile e respetiva linha de base aleatória (ou seja, 0.1, 0,2 …) um pode fazer a estimativa como o desempenho de algoritmo alterações em cada decile. Gráficos de comparação de precisão são utilizados para desenhar valores decile por taxa positivo verdadeiro decile versus pares de aleatório taxa positivo verdadeiro para todos os deciles de desenho. Normalmente, os primeiro deciles são o foco dos resultados, uma vez que aqui vemos ganhos de maiores. Primeiro deciles também podem ser vistos como representativo para "em risco" quando utilizado para manutenção preditiva.

## <a name="sample-solution-architecture"></a>Arquitetura de solução de exemplo
Quando implementar uma solução de manutenção preditiva, estamos interessados numa solução ponto a ponto que fornece um ciclo contínuo de ingestão de dados, armazenamento de dados para a geração de funcionalidade formação de modelo, previsão e visualização dos resultados, juntamente com um alerta a gerar o mecanismo de como um recurso de dashboard de monitorização. Queremos um pipeline de dados que fornece insights futuras para o utilizador de uma forma automatizada contínua. Uma arquitetura de manutenção preditiva de exemplo para essa um pipeline de dados de IoT é ilustrada na figura 8 abaixo. Na arquitetura de telemetria em tempo real é recolhida para um Hub de eventos que armazena dados de transmissão em fluxo. Estes dados estão ingeridos pelo stream analytics para processar em tempo real de dados, tais como a geração de funcionalidade. As funcionalidades, em seguida, são utilizadas para chamar o serviço web do modelo preditivo e os resultados são apresentados no dashboard. Ao mesmo tempo, dados de transmissões em também são armazenados numa base de dados histórico e intercalados com origens de dados externas, tais como os dados no local bases para criar exemplos de formação para a modelação.
Mesmo armazéns de dados podem ser utilizados para lote da classificação de exemplos e armazenar dos resultados que podem ser novamente utilizados para fornecer relatórios preditivos no dashboard.

![Figura 8. Arquitetura de solução de exemplo para manutenção preventiva](./media/cortana-analytics-playbook-predictive-maintenance/example-solution-architecture-for-predictive-maintenance.png)

Figura 8. Arquitetura de solução de exemplo para manutenção preventiva

Para obter mais informações sobre cada uma dos componentes da arquitetura, consulte [Azure](https://azure.microsoft.com/) documentação.

