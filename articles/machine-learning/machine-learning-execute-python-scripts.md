---
title: aaaExecute Python scripts do machine learning | Microsoft Docs
description: "Destaca subjacente suporte para scripts Python no Azure Machine Learning e cenários de utilização básica, capacidades e limitações de princípios de design."
keywords: machine learning, pandas, pandas de python, python scripts, Python executar scripts do python
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: ee9eb764-0d3e-4104-a797-19fc29345d39
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: bradsev
ms.openlocfilehash: 8d23aaa972a46cb1a07ea0f18cc1e24933fe3e6f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="execute-python-machine-learning-scripts-in-azure-machine-learning-studio"></a><span data-ttu-id="f63e6-104">Executar scripts de machine learning em Python no Azure Machine Learning Studio</span><span class="sxs-lookup"><span data-stu-id="f63e6-104">Execute Python machine learning scripts in Azure Machine Learning Studio</span></span>

<span data-ttu-id="f63e6-105">Este tópico descreve os princípios de conceção de Olá subjacente Olá suportar para scripts Python no Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f63e6-105">This topic describes hello design principles underlying hello current support for Python scripts in Azure Machine Learning.</span></span> <span data-ttu-id="f63e6-106">capacidades principais Olá fornecidas também descritas, incluindo:</span><span class="sxs-lookup"><span data-stu-id="f63e6-106">hello main capabilities provided are also outlined, including:</span></span>

- <span data-ttu-id="f63e6-107">cenários de utilização básica de execução</span><span class="sxs-lookup"><span data-stu-id="f63e6-107">execute basic usage scenarios</span></span>
- <span data-ttu-id="f63e6-108">uma experimentação de pontuação num serviço web</span><span class="sxs-lookup"><span data-stu-id="f63e6-108">score an experiment in a web service</span></span>
- <span data-ttu-id="f63e6-109">suporte para importar o código existente</span><span class="sxs-lookup"><span data-stu-id="f63e6-109">support for importing existing code</span></span>
- <span data-ttu-id="f63e6-110">visualizações de exportação</span><span class="sxs-lookup"><span data-stu-id="f63e6-110">export visualizations</span></span>
- <span data-ttu-id="f63e6-111">efetuar a seleção de funcionalidades supervisionado</span><span class="sxs-lookup"><span data-stu-id="f63e6-111">perform supervised feature selection</span></span>
- <span data-ttu-id="f63e6-112">compreender algumas limitações</span><span class="sxs-lookup"><span data-stu-id="f63e6-112">understand some limitations</span></span>

<span data-ttu-id="f63e6-113">[Python](https://www.python.org/) é uma ferramenta indispensable no chest de ferramenta Olá de muitos cientistas de dados.</span><span class="sxs-lookup"><span data-stu-id="f63e6-113">[Python](https://www.python.org/) is an indispensable tool in hello tool chest of many data scientists.</span></span> <span data-ttu-id="f63e6-114">Tem de:</span><span class="sxs-lookup"><span data-stu-id="f63e6-114">It has:</span></span>

* <span data-ttu-id="f63e6-115">uma sintaxe elegante e concisa,</span><span class="sxs-lookup"><span data-stu-id="f63e6-115">an elegant and concise syntax,</span></span> 
* <span data-ttu-id="f63e6-116">suporte em várias plataformas,</span><span class="sxs-lookup"><span data-stu-id="f63e6-116">cross-platform support,</span></span> 
* <span data-ttu-id="f63e6-117">uma coleção de bibliotecas de elevado desempenho, vasta e</span><span class="sxs-lookup"><span data-stu-id="f63e6-117">a vast collection of powerful libraries, and</span></span> 
* <span data-ttu-id="f63e6-118">ferramentas de desenvolvimento madura.</span><span class="sxs-lookup"><span data-stu-id="f63e6-118">mature development tools.</span></span> 

<span data-ttu-id="f63e6-119">Python está a ser utilizado em todas as fases de um fluxo de trabalho normalmente utilizadas nas modelação do machine learning:</span><span class="sxs-lookup"><span data-stu-id="f63e6-119">Python is being used in all phases of a workflow typically used in machine learning modeling:</span></span>

- <span data-ttu-id="f63e6-120">ingestão de dados e processamento</span><span class="sxs-lookup"><span data-stu-id="f63e6-120">data ingest and processing</span></span> 
- <span data-ttu-id="f63e6-121">construção de funcionalidade</span><span class="sxs-lookup"><span data-stu-id="f63e6-121">feature construction</span></span>
- <span data-ttu-id="f63e6-122">modelo de formação</span><span class="sxs-lookup"><span data-stu-id="f63e6-122">model training</span></span> 
- <span data-ttu-id="f63e6-123">validação do modelo</span><span class="sxs-lookup"><span data-stu-id="f63e6-123">model validation</span></span>
- <span data-ttu-id="f63e6-124">implementação de modelos de Olá</span><span class="sxs-lookup"><span data-stu-id="f63e6-124">deployment of hello models</span></span>

<span data-ttu-id="f63e6-125">Azure Machine Learning Studio suporta scripts do Python incorporar em várias partes de uma máquina experimentação de aprendizagem e também perfeitamente publicando-os como serviços web no Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="f63e6-125">Azure Machine Learning Studio supports embedding Python scripts into various parts of a machine learning experiment and also seamlessly publishing them as web services on Microsoft Azure.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]


## <a name="design-principles-of-python-scripts-in-machine-learning"></a><span data-ttu-id="f63e6-126">Princípios de conceção de scripts Python no Machine Learning</span><span class="sxs-lookup"><span data-stu-id="f63e6-126">Design principles of Python scripts in Machine Learning</span></span>

<span data-ttu-id="f63e6-127">Olá interface primária tooPython no Azure Machine Learning Studio é através de Olá [executar Script de Python] [ execute-python-script] módulo mostrado na figura 1.</span><span class="sxs-lookup"><span data-stu-id="f63e6-127">hello primary interface tooPython in Azure Machine Learning Studio is via hello [Execute Python Script][execute-python-script] module shown in Figure 1.</span></span>

![image1](./media/machine-learning-execute-python-scripts/execute-machine-learning-python-scripts-module.png)

![image2](./media/machine-learning-execute-python-scripts/embedded-machine-learning-python-script.png)

<span data-ttu-id="f63e6-130">Figura 1.</span><span class="sxs-lookup"><span data-stu-id="f63e6-130">Figure 1.</span></span> <span data-ttu-id="f63e6-131">Olá **executar Script de Python** módulo.</span><span class="sxs-lookup"><span data-stu-id="f63e6-131">hello **Execute Python Script** module.</span></span>

<span data-ttu-id="f63e6-132">Olá [executar Script de Python] [ execute-python-script] módulo no Azure ML Studio aceita segurança toothree entradas e produz segurança saídas tootwo (abordadas na Olá secção a seguir), como o respetivo analogue R, hello [ Executar Script do R] [ execute-r-script] módulo.</span><span class="sxs-lookup"><span data-stu-id="f63e6-132">hello [Execute Python Script][execute-python-script] module in Azure ML Studio accepts up toothree inputs and produces up tootwo outputs (discussed in hello following section), like its R analogue, hello [Execute R Script][execute-r-script] module.</span></span> <span data-ttu-id="f63e6-133">Olá toobe de código do Python executado é introduzido na caixa de parâmetro de Olá especial nomeado como ponto de entrada função chamada `azureml_main`.</span><span class="sxs-lookup"><span data-stu-id="f63e6-133">hello Python code toobe executed is entered into hello parameter box as a specially named entry-point function called `azureml_main`.</span></span> <span data-ttu-id="f63e6-134">Seguem-se a estrutura chave Olá princípios utilizado tooimplement este módulo:</span><span class="sxs-lookup"><span data-stu-id="f63e6-134">Here are hello key design principles used tooimplement this module:</span></span>

1. <span data-ttu-id="f63e6-135">*Tem de ser idiomatic para utilizadores do Python.*</span><span class="sxs-lookup"><span data-stu-id="f63e6-135">*Must be idiomatic for Python users.*</span></span> <span data-ttu-id="f63e6-136">A maioria dos utilizadores de Python fator respetivo código como funções dentro de módulos.</span><span class="sxs-lookup"><span data-stu-id="f63e6-136">Most Python users factor their code as functions inside modules.</span></span> <span data-ttu-id="f63e6-137">Por isso, colocar uma grande quantidade de instruções executável de um módulo de nível superior é relativamente raro.</span><span class="sxs-lookup"><span data-stu-id="f63e6-137">So putting a lot of executable statements in a top-level module is relatively rare.</span></span> <span data-ttu-id="f63e6-138">Como resultado, caixa de script de Olá também aceita uma função de Python especial nomeada como toojust oposição a uma sequência de instruções.</span><span class="sxs-lookup"><span data-stu-id="f63e6-138">As a result, hello script box also takes a specially named Python function as opposed toojust a sequence of statements.</span></span> <span data-ttu-id="f63e6-139">Olá objetos expostos na função Olá são tipos de biblioteca padrão do Python, tais como [Pandas](http://pandas.pydata.org/) pacotes de dados e [NumPy](http://www.numpy.org/) matrizes.</span><span class="sxs-lookup"><span data-stu-id="f63e6-139">hello objects exposed in hello function are standard Python library types such as [Pandas](http://pandas.pydata.org/) data frames and [NumPy](http://www.numpy.org/) arrays.</span></span>
2. <span data-ttu-id="f63e6-140">*Tem de ter alta-fidelidade, entre locais e execuções de nuvem.*</span><span class="sxs-lookup"><span data-stu-id="f63e6-140">*Must have high-fidelity between local and cloud executions.*</span></span> <span data-ttu-id="f63e6-141">Olá back-end utilizado tooexecute Olá código Python baseia-se no [Anaconda](https://store.continuum.io/cshop/anaconda/), um amplamente utilizado distribuição do Python científicos várias plataformas.</span><span class="sxs-lookup"><span data-stu-id="f63e6-141">hello backend used tooexecute hello Python code is based on [Anaconda](https://store.continuum.io/cshop/anaconda/), a widely used cross-platform scientific Python distribution.</span></span> <span data-ttu-id="f63e6-142">Inclui too200 fechar de pacotes de Python Olá mais comuns.</span><span class="sxs-lookup"><span data-stu-id="f63e6-142">It comes with close too200 of hello most common Python packages.</span></span> <span data-ttu-id="f63e6-143">Por conseguinte, os cientistas de dados podem depurar e qualificar o respetivo código no seu ambiente do Azure Machine Learning compatível Anaconda local.</span><span class="sxs-lookup"><span data-stu-id="f63e6-143">Therefore, data scientists can debug and qualify their code on their local Azure Machine Learning-compatible Anaconda environment.</span></span> <span data-ttu-id="f63e6-144">Em seguida, utilizar um ambiente de desenvolvimento existente, tal como [IPython](http://ipython.org/) bloco de notas ou [ferramentas do Python para Visual Studio](http://aka.ms/ptvs), toorun como parte de uma experimentação do Azure ML.</span><span class="sxs-lookup"><span data-stu-id="f63e6-144">Then use an existing development environment, such as [IPython](http://ipython.org/) notebook or [Python Tools for Visual Studio](http://aka.ms/ptvs), toorun it as part of an Azure ML experiment.</span></span> <span data-ttu-id="f63e6-145">Olá `azureml_main` ponto de entrada é uma função de Python clássica e por isso *** podem ser criadas sem código do Azure ML específico ou Olá SDK instalado.</span><span class="sxs-lookup"><span data-stu-id="f63e6-145">hello `azureml_main` entry point is a vanilla Python function and so ****can be authored without Azure ML-specific code or hello SDK installed.</span></span>
3. <span data-ttu-id="f63e6-146">*Tem de ser totalmente integrada composta com outros módulos do Azure Machine Learning.*</span><span class="sxs-lookup"><span data-stu-id="f63e6-146">*Must be seamlessly composable with other Azure Machine Learning modules.*</span></span> <span data-ttu-id="f63e6-147">Olá [executar Script de Python] [ execute-python-script] módulo aceita, como entradas e saídas, conjuntos de dados do Azure Machine Learning padrão.</span><span class="sxs-lookup"><span data-stu-id="f63e6-147">hello [Execute Python Script][execute-python-script] module accepts, as inputs and outputs, standard Azure Machine Learning datasets.</span></span> <span data-ttu-id="f63e6-148">estrutura subjacente Olá transparente e eficiente pontes tempos de execução de Olá, Azure ML e Python.</span><span class="sxs-lookup"><span data-stu-id="f63e6-148">hello underlying framework transparently and efficiently bridges hello Azure ML and Python runtimes.</span></span> <span data-ttu-id="f63e6-149">Por isso, o Python pode ser utilizado em conjunto com existentes do Azure ML fluxos de trabalho, incluindo os que chamam para o R e SQLite.</span><span class="sxs-lookup"><span data-stu-id="f63e6-149">So Python can be used in conjunction with existing Azure ML workflows, including those that call into R and SQLite.</span></span> <span data-ttu-id="f63e6-150">Consequentemente, scientist de dados foi compor fluxos de trabalho que:</span><span class="sxs-lookup"><span data-stu-id="f63e6-150">A  result, data scientist could compose workflows that:</span></span>
   * <span data-ttu-id="f63e6-151">utilizar o Python e Pandas para dados pré-processadas e limpeza</span><span class="sxs-lookup"><span data-stu-id="f63e6-151">use Python and Pandas for data pre-processing and cleaning</span></span>
   * <span data-ttu-id="f63e6-152">Olá feed tooa SQL transformação de dados, associar várias funcionalidades de tooform de conjuntos de dados</span><span class="sxs-lookup"><span data-stu-id="f63e6-152">feed hello data tooa SQL transformation, joining multiple datasets tooform features</span></span>
   * <span data-ttu-id="f63e6-153">modelos de formação utilizando algoritmos Olá no Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="f63e6-153">train models using hello algorithms in Azure Machine Learning</span></span> 
   * <span data-ttu-id="f63e6-154">avaliar e pós-cópia processar os resultados de Olá utilizando R.</span><span class="sxs-lookup"><span data-stu-id="f63e6-154">evaluate and post-process hello results using R.</span></span>


## <a name="basic-usage-scenarios-in-ml-for-python-scripts"></a><span data-ttu-id="f63e6-155">Cenários de utilização básica no ML de scripts do Python</span><span class="sxs-lookup"><span data-stu-id="f63e6-155">Basic usage scenarios in ML for Python scripts</span></span>

<span data-ttu-id="f63e6-156">Nesta secção, iremos encontrar algumas das utilizações de básico Olá da Olá [executar Script de Python] [ execute-python-script] módulo.</span><span class="sxs-lookup"><span data-stu-id="f63e6-156">In this section, we survey some of hello basic uses of hello [Execute Python Script][execute-python-script] module.</span></span> <span data-ttu-id="f63e6-157">Módulo de Python toohello entradas são expostos como frames Jumbo Pandas dados.</span><span class="sxs-lookup"><span data-stu-id="f63e6-157">Inputs toohello Python module are exposed as Pandas data frames.</span></span> <span data-ttu-id="f63e6-158">Olá função tem de devolver um intervalo de dados único Pandas empacotado dentro de um Python [sequência](https://docs.python.org/2/c-api/sequence.html) como uma cadeia de identificação, lista ou NumPy matriz.</span><span class="sxs-lookup"><span data-stu-id="f63e6-158">hello function must return a single Pandas data frame packaged inside of a Python [sequence](https://docs.python.org/2/c-api/sequence.html) such as a tuple, list, or NumPy array.</span></span> <span data-ttu-id="f63e6-159">primeiro elemento de Olá desta sequência, em seguida, é devolvido em Olá primeiro à porta de saída do módulo Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-159">hello first element of this sequence is then returned in hello first output port of hello module.</span></span> <span data-ttu-id="f63e6-160">Este esquema é mostrada na figura 2.</span><span class="sxs-lookup"><span data-stu-id="f63e6-160">This scheme is shown in Figure 2.</span></span>

![image3](./media/machine-learning-execute-python-scripts/map-of-python-script-inputs-outputs.png)

<span data-ttu-id="f63e6-162">Figura 2.</span><span class="sxs-lookup"><span data-stu-id="f63e6-162">Figure 2.</span></span> <span data-ttu-id="f63e6-163">Mapeamento de portas de entrada tooparameters e devolver valor toooutput porta.</span><span class="sxs-lookup"><span data-stu-id="f63e6-163">Mapping of input ports tooparameters and return value toooutput port.</span></span>

<span data-ttu-id="f63e6-164">Mais detalhadas semântica de como portas de entrada Olá obtêm tooparameters mapeado de Olá `azureml_main` função são apresentadas na tabela 1:</span><span class="sxs-lookup"><span data-stu-id="f63e6-164">More detailed semantics of how hello input ports get mapped tooparameters of hello `azureml_main` function are shown in Table 1:</span></span>

![image1T](./media/machine-learning-execute-python-scripts/python-script-inputs-mapped-to-parameters.png)

<span data-ttu-id="f63e6-166">Tabela 1.</span><span class="sxs-lookup"><span data-stu-id="f63e6-166">Table 1.</span></span> <span data-ttu-id="f63e6-167">Mapeamento de parâmetros de toofunction de portas de entrada.</span><span class="sxs-lookup"><span data-stu-id="f63e6-167">Mapping of input ports toofunction parameters.</span></span>

<span data-ttu-id="f63e6-168">mapeamento de Olá entre as portas de entrada e de parâmetros de função é posicional:</span><span class="sxs-lookup"><span data-stu-id="f63e6-168">hello mapping between input ports and function parameters is positional:</span></span>

- <span data-ttu-id="f63e6-169">porta de entrada ligado primeiro Olá é mapeada toohello primeiro parâmetro da função de Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-169">hello first connected input port is mapped toohello first parameter of hello function.</span></span> 
- <span data-ttu-id="f63e6-170">segunda entrada Olá (se ligado) é mapeada toohello segundo parâmetro da função de Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-170">hello second input (if connected) is mapped toohello second parameter of hello function.</span></span>

<span data-ttu-id="f63e6-171">Consulte *Python para análise de dados* (O'Reilly, 2012) da McKinney para obter mais informações no Python Pandas e como pode ser utilizado toomanipulate dados eficaz e eficiente.</span><span class="sxs-lookup"><span data-stu-id="f63e6-171">See *Python for Data Analysis* (O'Reilly, 2012) by W. McKinney for more information on Python Pandas and on how it can be used toomanipulate data effectively and efficiently.</span></span> 


## <a name="translation-of-input-and-output-types"></a><span data-ttu-id="f63e6-172">Conversão de tipos de entrada e de saída</span><span class="sxs-lookup"><span data-stu-id="f63e6-172">Translation of input and output types</span></span> 
<span data-ttu-id="f63e6-173">Conjuntos de dados de entrada no Azure ML são frames Jumbo toodata convertida em Pandas.</span><span class="sxs-lookup"><span data-stu-id="f63e6-173">Input datasets in Azure ML are converted toodata frames in Pandas.</span></span> <span data-ttu-id="f63e6-174">Pacotes de dados de saída são convertidos conjuntos de dados de back-tooAzure ML.</span><span class="sxs-lookup"><span data-stu-id="f63e6-174">Output data frames are converted back tooAzure ML datasets.</span></span> <span data-ttu-id="f63e6-175">Olá conversões a seguir é efetuada:</span><span class="sxs-lookup"><span data-stu-id="f63e6-175">hello following conversions are performed:</span></span>

1. <span data-ttu-id="f63e6-176">Colunas de cadeia e numérica são convertidas como-é e os valores em falta num conjunto de dados são too'NA convertida ' valores Pandas.</span><span class="sxs-lookup"><span data-stu-id="f63e6-176">String and numeric columns are converted as-is and missing values in a dataset are converted too‘NA’ values in Pandas.</span></span> <span data-ttu-id="f63e6-177">Olá conversão mesmo acontece em Olá forma novamente (valores NA Pandas são valores de toomissing convertida no Azure ML).</span><span class="sxs-lookup"><span data-stu-id="f63e6-177">hello same conversion happens on hello way back (NA values in Pandas are converted toomissing values in Azure ML).</span></span>
2. <span data-ttu-id="f63e6-178">Os vetores de índice Pandas não são suportados no Azure ML.</span><span class="sxs-lookup"><span data-stu-id="f63e6-178">Index vectors in Pandas are not supported in Azure ML.</span></span> <span data-ttu-id="f63e6-179">Todos os pacotes de dados de entrada na função de Python Olá sempre dispor de um índice numérico de 64 bits do 0 toohello número de linhas menos 1.</span><span class="sxs-lookup"><span data-stu-id="f63e6-179">All input data frames in hello Python function always have a 64-bit numerical index from 0 toohello number of rows minus 1.</span></span> 
3. <span data-ttu-id="f63e6-180">Conjuntos de dados de ML do Azure não podem ter nomes de colunas duplicados e nomes de colunas que não são cadeias.</span><span class="sxs-lookup"><span data-stu-id="f63e6-180">Azure ML datasets cannot have duplicate column names and column names that are not strings.</span></span> <span data-ttu-id="f63e6-181">Se um intervalo de dados de saída contém colunas não numéricos, Olá framework chamadas `str` nos nomes das colunas de Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-181">If an output data frame contains non-numeric columns, hello framework calls `str` on hello column names.</span></span> <span data-ttu-id="f63e6-182">Da mesma forma, os nomes de colunas duplicados são automaticamente mangled tooinsure Olá nomes são exclusivos.</span><span class="sxs-lookup"><span data-stu-id="f63e6-182">Likewise, any duplicate column names are automatically mangled tooinsure hello names are unique.</span></span> <span data-ttu-id="f63e6-183">sufixo Olá (2) está adicionado duplicado primeiro toohello, (3) duplicado segundo toohello e assim sucessivamente.</span><span class="sxs-lookup"><span data-stu-id="f63e6-183">hello suffix (2) is added toohello first duplicate, (3) toohello second duplicate, and so on.</span></span>


## <a name="operationalizing-python-scripts"></a><span data-ttu-id="f63e6-184">Operacionalizar Python scripts</span><span class="sxs-lookup"><span data-stu-id="f63e6-184">Operationalizing Python scripts</span></span>

<span data-ttu-id="f63e6-185">Qualquer [executar Script de Python] [ execute-python-script] módulos utilizados na experimentação de classificação são denominados quando publicado como um serviço web.</span><span class="sxs-lookup"><span data-stu-id="f63e6-185">Any [Execute Python Script][execute-python-script] modules used in a scoring experiment are called when published as a web service.</span></span> <span data-ttu-id="f63e6-186">Por exemplo, a figura 3 mostra uma experimentação de classificação que contém o código de Olá tooevaluate uma única expressão de Python.</span><span class="sxs-lookup"><span data-stu-id="f63e6-186">For example, Figure 3 shows a scoring experiment that contains hello code tooevaluate a single Python expression.</span></span> 

![image4](./media/machine-learning-execute-python-scripts/figure3a.png)

![image5](./media/machine-learning-execute-python-scripts/python-script-with-python-pandas.png)

<span data-ttu-id="f63e6-189">Figura 3.</span><span class="sxs-lookup"><span data-stu-id="f63e6-189">Figure 3.</span></span> <span data-ttu-id="f63e6-190">Serviço Web para avaliação de uma expressão de Python.</span><span class="sxs-lookup"><span data-stu-id="f63e6-190">Web service for evaluating a Python expression.</span></span>

<span data-ttu-id="f63e6-191">Um serviço web criado a partir desta fase experimental:</span><span class="sxs-lookup"><span data-stu-id="f63e6-191">A web service created from this experiment:</span></span>

- <span data-ttu-id="f63e6-192">demora como entrada uma expressão de Python (como uma cadeia)</span><span class="sxs-lookup"><span data-stu-id="f63e6-192">takes as input a Python expression (as a string)</span></span>
- <span data-ttu-id="f63e6-193">envia-toohello interpretador de Python</span><span class="sxs-lookup"><span data-stu-id="f63e6-193">sends it toohello Python interpreter</span></span> 
- <span data-ttu-id="f63e6-194">Devolve uma tabela que contém a expressão de Olá e resultado Olá avaliada.</span><span class="sxs-lookup"><span data-stu-id="f63e6-194">returns a table containing both hello expression and hello evaluated result.</span></span>


## <a name="importing-existing-python-script-modules"></a><span data-ttu-id="f63e6-195">Importar os módulos de script de Python existentes</span><span class="sxs-lookup"><span data-stu-id="f63e6-195">Importing existing Python script modules</span></span>

<span data-ttu-id="f63e6-196">Um caso de utilização comuns para muitos cientistas de dados é tooincorporate Python os scripts existentes para experimentações do Azure ML.</span><span class="sxs-lookup"><span data-stu-id="f63e6-196">A common use-case for many data scientists is tooincorporate existing Python scripts into Azure ML experiments.</span></span> <span data-ttu-id="f63e6-197">Em vez de exigir que todo o código ser concatenado e colar na caixa de um script único, Olá [executar Script de Python] [ execute-python-script] módulo aceita um ficheiro zip que contém os módulos do Python na porta de entrada terceiro Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-197">Instead of requiring that all code be concatenated and pasted into a single script box, hello [Execute Python Script][execute-python-script] module accepts a zip file that contains Python modules at hello third input port.</span></span> <span data-ttu-id="f63e6-198">ficheiro de Olá é deszipado pela estrutura de execução de Olá no tempo de execução e conteúdo Olá é adicionado toohello o caminho de biblioteca do interpretador Python de Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-198">hello file is unzipped by hello execution framework at runtime and hello contents are added toohello library path of hello Python interpreter.</span></span> <span data-ttu-id="f63e6-199">Olá `azureml_main` função pode, em seguida, importar estes módulos diretamente o ponto de entrada.</span><span class="sxs-lookup"><span data-stu-id="f63e6-199">hello `azureml_main` entry point function can then import these modules directly.</span></span>

<span data-ttu-id="f63e6-200">Por exemplo, considere ficheiro Olá Hello.py que contém uma função de "Olá, mundo" simple.</span><span class="sxs-lookup"><span data-stu-id="f63e6-200">As an example, consider hello file Hello.py containing a simple “Hello, World” function.</span></span>

![image6](./media/machine-learning-execute-python-scripts/figure4.png)

<span data-ttu-id="f63e6-202">Figura 4.</span><span class="sxs-lookup"><span data-stu-id="f63e6-202">Figure 4.</span></span> <span data-ttu-id="f63e6-203">Função definida pelo utilizador no ficheiro Hello.py.</span><span class="sxs-lookup"><span data-stu-id="f63e6-203">User-defined function in Hello.py file.</span></span>

<span data-ttu-id="f63e6-204">Em seguida, vamos criar um ficheiro Hello.zip contém Hello.py:</span><span class="sxs-lookup"><span data-stu-id="f63e6-204">Next, we create a file Hello.zip that contains Hello.py:</span></span>

![image7](./media/machine-learning-execute-python-scripts/figure5.png)

<span data-ttu-id="f63e6-206">Figura 5.</span><span class="sxs-lookup"><span data-stu-id="f63e6-206">Figure 5.</span></span> <span data-ttu-id="f63e6-207">Ficheiro zip que contém o código de Python definido pelo utilizador.</span><span class="sxs-lookup"><span data-stu-id="f63e6-207">Zip file containing user-defined Python code.</span></span>

<span data-ttu-id="f63e6-208">Carregue o ficheiro zip Olá como um conjunto de dados para o Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="f63e6-208">Upload hello zip file as a dataset into Azure Machine Learning Studio.</span></span> <span data-ttu-id="f63e6-209">Em seguida, criar e executar uma experimentação que utiliza o código de Python Olá no ficheiro de Hello.zip Olá através da porta entrada terceira toohello de Olá a ligá-la **executar Script de Python** módulo, conforme mostrado na figura que.</span><span class="sxs-lookup"><span data-stu-id="f63e6-209">Then create and run an experiment that uses hello Python code in hello Hello.zip file by attaching it toohello third input port of hello **Execute Python Script** module, as shown in this figure.</span></span>

![image8](./media/machine-learning-execute-python-scripts/figure6a.png)

![image9](./media/machine-learning-execute-python-scripts/figure6b.png)

<span data-ttu-id="f63e6-212">Figura 6.</span><span class="sxs-lookup"><span data-stu-id="f63e6-212">Figure 6.</span></span> <span data-ttu-id="f63e6-213">Experimentação de exemplo com o código de Python definido pelo utilizador carregado como um ficheiro zip.</span><span class="sxs-lookup"><span data-stu-id="f63e6-213">Sample experiment with user-defined Python code uploaded as a zip file.</span></span>

<span data-ttu-id="f63e6-214">saída de módulo Olá mostra que o ficheiro zip Olá foi descompactado e essa função Olá `print_hello` tiver sido executado.</span><span class="sxs-lookup"><span data-stu-id="f63e6-214">hello module output shows that hello zip file has been unpackaged and that hello function `print_hello` has been run.</span></span>
<span data-ttu-id="f63e6-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span><span class="sxs-lookup"><span data-stu-id="f63e6-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span></span>

<span data-ttu-id="f63e6-216">A figura 7.</span><span class="sxs-lookup"><span data-stu-id="f63e6-216">Figure 7.</span></span> <span data-ttu-id="f63e6-217">A função definida pelo utilizador em utilização no interior Olá [executar Script de Python] [ execute-python-script] módulo.</span><span class="sxs-lookup"><span data-stu-id="f63e6-217">User-defined function in use inside hello [Execute Python Script][execute-python-script] module.</span></span>


## <a name="working-with-visualizations"></a><span data-ttu-id="f63e6-218">Trabalhar com visualizações</span><span class="sxs-lookup"><span data-stu-id="f63e6-218">Working with visualizations</span></span>

<span data-ttu-id="f63e6-219">Plots criadas utilizando MatplotLib que pode ser visualizado no browser Olá podem ser devolvidos por Olá [executar Script de Python][execute-python-script].</span><span class="sxs-lookup"><span data-stu-id="f63e6-219">Plots created using MatplotLib that can be visualized on hello browser can be returned by hello [Execute Python Script][execute-python-script].</span></span> <span data-ttu-id="f63e6-220">Mas Olá rastreia não é automaticamente redirecionada tooimages conforme forem ao utilizar o R. Para que o utilizador Olá tem de os guardar explicitamente qualquer rastreia tooPNG ficheiros que se encontrem toobe devolveu tooAzure back-Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f63e6-220">But hello plots are not automatically redirected tooimages as they are when using R. So hello user must explicitly save any plots tooPNG files if they are toobe returned back tooAzure Machine Learning.</span></span> 

<span data-ttu-id="f63e6-221">imagens de toogenerate de MatplotLib, tem de concluir Olá seguinte procedimento:</span><span class="sxs-lookup"><span data-stu-id="f63e6-221">toogenerate images from MatplotLib, you must complete hello following procedure:</span></span>

* <span data-ttu-id="f63e6-222">mudar de back-end de Olá demasiado "AGG" de Olá predefinido com base em Qt compositor</span><span class="sxs-lookup"><span data-stu-id="f63e6-222">switch hello backend too“AGG” from hello default Qt-based renderer</span></span> 
* <span data-ttu-id="f63e6-223">criar um novo objeto de figura</span><span class="sxs-lookup"><span data-stu-id="f63e6-223">create a new figure object</span></span> 
* <span data-ttu-id="f63e6-224">obter o eixo Olá e gerar rastreia todos os para a mesma</span><span class="sxs-lookup"><span data-stu-id="f63e6-224">get hello axis and generate all plots into it</span></span> 
* <span data-ttu-id="f63e6-225">Guardar Olá figura tooa PNG ficheiro</span><span class="sxs-lookup"><span data-stu-id="f63e6-225">save hello figure tooa PNG file</span></span> 

<span data-ttu-id="f63e6-226">Este processo é ilustrado no Olá figura 8, que cria uma matriz de desenho de gráfico de dispersão utilizando a função de scatter_matrix Olá no Pandas a seguir.</span><span class="sxs-lookup"><span data-stu-id="f63e6-226">This process is illustrated in hello following Figure 8 that creates a scatter plot matrix using hello scatter_matrix function in Pandas.</span></span>

![image1v](./media/machine-learning-execute-python-scripts/figure-v1-8.png)

<span data-ttu-id="f63e6-228">Figura 8.</span><span class="sxs-lookup"><span data-stu-id="f63e6-228">Figure 8.</span></span> <span data-ttu-id="f63e6-229">O código de toosave MatplotLib figuras tooimages.</span><span class="sxs-lookup"><span data-stu-id="f63e6-229">Code toosave MatplotLib figures tooimages.</span></span>

<span data-ttu-id="f63e6-230">A figura 9 mostra uma experimentação que utiliza o script de Olá apresentado anteriormente tooreturn rastreia através de porta de saída segundo Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-230">Figure 9 shows an experiment that uses hello script shown previously tooreturn plots via hello second output port.</span></span>

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9a.png) 

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9b.png) 

<span data-ttu-id="f63e6-233">Figura 9.</span><span class="sxs-lookup"><span data-stu-id="f63e6-233">Figure 9.</span></span> <span data-ttu-id="f63e6-234">Visualizar rastreia gerado a partir do código Python.</span><span class="sxs-lookup"><span data-stu-id="f63e6-234">Visualizing plots generated from Python code.</span></span>

<span data-ttu-id="f63e6-235">É tooreturn possíveis figuras vários ao guardá-las imagens diferentes, hello do Azure Machine Learning em tempo de execução escolherá todas as imagens e concatena-los para visualização.</span><span class="sxs-lookup"><span data-stu-id="f63e6-235">It is possible tooreturn multiple figures by saving them into different images, hello Azure Machine Learning runtime picks up all images and concatenates them for visualization.</span></span>


## <a name="advanced-examples"></a><span data-ttu-id="f63e6-236">Exemplos avançados</span><span class="sxs-lookup"><span data-stu-id="f63e6-236">Advanced examples</span></span>

<span data-ttu-id="f63e6-237">ambiente de Anaconda Olá instalado no Azure Machine Learning contém pacotes comuns, tais como NumPy, SciPy e saber o Scikits.</span><span class="sxs-lookup"><span data-stu-id="f63e6-237">hello Anaconda environment installed in Azure Machine Learning contains common packages such as NumPy, SciPy, and Scikits-Learn.</span></span> <span data-ttu-id="f63e6-238">Estes pacotes podem ser efetivamente utilizados para várias tarefas de processamento de dados num de machine learning pipeline.</span><span class="sxs-lookup"><span data-stu-id="f63e6-238">These packages can be effectively used for various data processing tasks in a machine learning pipeline.</span></span> <span data-ttu-id="f63e6-239">Por exemplo, hello seguinte experimentação e script ilustram utilização Olá learners ensemble em mais de Scikits toocompute funcionalidade importância pontuações das classificações para um conjunto de dados.</span><span class="sxs-lookup"><span data-stu-id="f63e6-239">As an example, hello following experiment and script illustrate hello use of ensemble learners in Scikits-Learn toocompute feature importance scores for a dataset.</span></span> <span data-ttu-id="f63e6-240">pontuações Olá podem ser utilizados tooperform supervisionado a seleção de funcionalidades antes de a ser sejam fornecidas outro modelo de ML.</span><span class="sxs-lookup"><span data-stu-id="f63e6-240">hello scores can be used tooperform supervised feature selection before being fed into another ML model.</span></span>

<span data-ttu-id="f63e6-241">Eis Olá Python função utilizada toocompute Olá importância pontuações e funcionalidades de Olá de ordem com base no pontuações Olá:</span><span class="sxs-lookup"><span data-stu-id="f63e6-241">Here is hello Python function used toocompute hello importance scores and order hello features based on hello scores:</span></span>

![image11](./media/machine-learning-execute-python-scripts/figure8.png)

<span data-ttu-id="f63e6-243">A figura 10.</span><span class="sxs-lookup"><span data-stu-id="f63e6-243">Figure 10.</span></span> <span data-ttu-id="f63e6-244">Função toorank as funcionalidades de por pontuações.</span><span class="sxs-lookup"><span data-stu-id="f63e6-244">Function toorank features by scores.</span></span>
<span data-ttu-id="f63e6-245"> Olá experimentação seguinte, em seguida, calcula e devolve pontuações de importância Olá das funcionalidades no conjunto de dados do Olá "Pima britânico Diabetes" no Azure Machine Learning:</span><span class="sxs-lookup"><span data-stu-id="f63e6-245">  hello following experiment then computes and returns hello importance scores of features in hello “Pima Indian Diabetes” dataset in Azure Machine Learning:</span></span>

<span data-ttu-id="f63e6-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span><span class="sxs-lookup"><span data-stu-id="f63e6-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span></span>    

<span data-ttu-id="f63e6-247">Figura 11.</span><span class="sxs-lookup"><span data-stu-id="f63e6-247">Figure 11.</span></span> <span data-ttu-id="f63e6-248">Funcionalidades de toorank de experimentação no conjunto de dados do Olá Pima britânico Diabetes.</span><span class="sxs-lookup"><span data-stu-id="f63e6-248">Experiment toorank features in hello Pima Indian Diabetes dataset.</span></span>

## <a name="limitations"></a><span data-ttu-id="f63e6-249">Limitações</span><span class="sxs-lookup"><span data-stu-id="f63e6-249">Limitations</span></span>
<span data-ttu-id="f63e6-250">Olá [executar Script de Python] [ execute-python-script] tem atualmente Olá seguintes limitações:</span><span class="sxs-lookup"><span data-stu-id="f63e6-250">hello [Execute Python Script][execute-python-script] currently has hello following limitations:</span></span>

1. <span data-ttu-id="f63e6-251">*Uma execução.*</span><span class="sxs-lookup"><span data-stu-id="f63e6-251">*Sandboxed execution.*</span></span> <span data-ttu-id="f63e6-252">runtime do Python Olá está atualmente uma e, consequentemente, não permitir acesso toohello toohello ou de rede local sistema de ficheiros de forma persistente.</span><span class="sxs-lookup"><span data-stu-id="f63e6-252">hello Python runtime is currently sandboxed and, as a result, does not allow access toohello network or toohello local file system in a persistent manner.</span></span> <span data-ttu-id="f63e6-253">Todos os ficheiros guardados localmente são isolados e eliminados depois de concluir o módulo Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-253">All files saved locally are isolated and deleted once hello module finishes.</span></span> <span data-ttu-id="f63e6-254">Olá código Python não é possível aceder a maioria dos diretórios no computador de Olá que é executada no, a exceção de Olá Olá diretório atual e nos seus subdiretórios.</span><span class="sxs-lookup"><span data-stu-id="f63e6-254">hello Python code cannot access most directories on hello machine it runs on, hello exception being hello current directory and its subdirectories.</span></span>
2. <span data-ttu-id="f63e6-255">*Falta de desenvolvimento sofisticado e suporte de depuração.*</span><span class="sxs-lookup"><span data-stu-id="f63e6-255">*Lack of sophisticated development and debugging support.*</span></span> <span data-ttu-id="f63e6-256">módulo de Python Olá não suporta atualmente funcionalidades IDE como intellisense e a depuração.</span><span class="sxs-lookup"><span data-stu-id="f63e6-256">hello Python module currently does not support IDE features such as intellisense and debugging.</span></span> <span data-ttu-id="f63e6-257">Além disso, se o módulo Olá falha no tempo de execução, hello rastreio da pilha Python completo está disponível.</span><span class="sxs-lookup"><span data-stu-id="f63e6-257">Also, if hello module fails at runtime, hello full Python stack trace is available.</span></span> <span data-ttu-id="f63e6-258">Mas tem de ser visualizado no registo de saída de Olá para o módulo Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-258">But it must be viewed in hello output log for hello module.</span></span> <span data-ttu-id="f63e6-259">Recomendamos atualmente desenvolver e depurar scripts Python num ambiente, tais como IPython e, em seguida, importar o código de Olá para o módulo Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-259">We currently recommend that you develop and debug Python scripts in an environment such as IPython and then import hello code into hello module.</span></span>
3. <span data-ttu-id="f63e6-260">*Saída de moldura de dados individual.*</span><span class="sxs-lookup"><span data-stu-id="f63e6-260">*Single data frame output.*</span></span> <span data-ttu-id="f63e6-261">ponto de entrada do Python Olá é apenas permitido tooreturn um intervalo de dados individual como saída.</span><span class="sxs-lookup"><span data-stu-id="f63e6-261">hello Python entry point is only permitted tooreturn a single data frame as output.</span></span> <span data-ttu-id="f63e6-262">Não é possível atualmente tooreturn que Python arbitrário objetos, tais como modelos de formação diretamente fazer uma cópia de tempo de execução do toohello Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f63e6-262">It is not currently possible tooreturn arbitrary Python objects such as trained models directly back toohello Azure Machine Learning runtime.</span></span> <span data-ttu-id="f63e6-263">Como [executar Script do R][execute-r-script], que tem Olá mesma limitação, é possível em muitos casos toopickle objetos para um byte matriz e, em seguida, devolvem que dentro de um intervalo de dados.</span><span class="sxs-lookup"><span data-stu-id="f63e6-263">Like [Execute R Script][execute-r-script], which has hello same limitation, it is possible in many cases toopickle objects into a byte array and then return that inside of a data frame.</span></span>
4. <span data-ttu-id="f63e6-264">*Incapacidade toocustomize instalação Python*.</span><span class="sxs-lookup"><span data-stu-id="f63e6-264">*Inability toocustomize Python installation*.</span></span> <span data-ttu-id="f63e6-265">Atualmente, hello apenas forma tooadd Python nos módulos personalizados é através do mecanismo de ficheiro zip do Olá descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f63e6-265">Currently, hello only way tooadd custom Python modules is via hello zip file mechanism described earlier.</span></span> <span data-ttu-id="f63e6-266">Apesar de ser exequível para módulos pequenos, é complexa para módulos grande (especialmente dos com DLLs nativas) ou um grande número de módulos.</span><span class="sxs-lookup"><span data-stu-id="f63e6-266">While this is feasible for small modules, it is cumbersome for large modules (especially those with native DLLs) or a large number of modules.</span></span> 

## <a name="conclusions"></a><span data-ttu-id="f63e6-267">Conclusões</span><span class="sxs-lookup"><span data-stu-id="f63e6-267">Conclusions</span></span>
<span data-ttu-id="f63e6-268">Olá [executar Script de Python] [ execute-python-script] módulo permite um scientist dados tooincorporate código de Python existente para fluxos de trabalho do alojado na nuvem machine learning no Azure Machine Learning e tooseamlessly operacionalize-los como parte de um serviço web.</span><span class="sxs-lookup"><span data-stu-id="f63e6-268">hello [Execute Python Script][execute-python-script] module allows a data scientist tooincorporate existing Python code into cloud-hosted machine learning workflows in Azure Machine Learning and tooseamlessly operationalize them as part of a web service.</span></span> <span data-ttu-id="f63e6-269">módulo de script de Python Olá interoperates naturalmente com outros módulos no Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="f63e6-269">hello Python script module interoperates naturally with other modules in Azure Machine Learning.</span></span> <span data-ttu-id="f63e6-270">módulo Olá pode ser utilizado para um intervalo de tarefas de exploração toopre-o processamento de dados e a extração da funcionalidade e, em seguida, tooevaluation e pós-processamento de resultados de Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-270">hello module can be used for a range of tasks from data exploration toopre-processing and feature extraction, and then tooevaluation and post-processing of hello results.</span></span> <span data-ttu-id="f63e6-271">tempo de execução do back-end Olá utilizado para execução baseia Anaconda, uma distribuição do Python bem testada e amplamente utilizada.</span><span class="sxs-lookup"><span data-stu-id="f63e6-271">hello backend runtime used for execution is based on Anaconda, a well-tested and widely used Python distribution.</span></span> <span data-ttu-id="f63e6-272">Este back-end torna simples para si ativos de código existente tooon quadro numa nuvem Olá.</span><span class="sxs-lookup"><span data-stu-id="f63e6-272">This backend makes it simple for you tooon-board existing code assets into hello cloud.</span></span>

<span data-ttu-id="f63e6-273">Esperamos tooprovide funcionalidades adicionais toohello [executar Script de Python] [ execute-python-script] módulo, tal como Olá tootrain de capacidade e operacionalizar modelos no Python e tooadd melhor suporte para Olá desenvolvimento e depuração do código no Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="f63e6-273">We expect tooprovide additional functionality toohello [Execute Python Script][execute-python-script] module such as hello ability tootrain and operationalize models in Python and tooadd better support for hello development and debugging code in Azure Machine Learning Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f63e6-274">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="f63e6-274">Next steps</span></span>
<span data-ttu-id="f63e6-275">Para obter mais informações, consulte Olá [Centro para programadores do Python](https://azure.microsoft.com/develop/python/).</span><span class="sxs-lookup"><span data-stu-id="f63e6-275">For more information, see hello [Python Developer Center](https://azure.microsoft.com/develop/python/).</span></span>

<!-- Module References -->
[execute-python-script]: https://msdn.microsoft.com/library/azure/cdb56f95-7f4c-404d-bde7-5bb972e6f232/
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
