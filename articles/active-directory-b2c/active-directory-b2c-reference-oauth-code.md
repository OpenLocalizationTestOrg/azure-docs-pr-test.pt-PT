---
title: "Fluxo de código de autorização - Azure AD B2C | Microsoft Docs"
description: "Saiba como toobuild aplicações web através do protocolo de autenticação do Azure AD B2C e o OpenID Connect."
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: c371aaab-813a-4317-97df-b62e2f53d865
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 6bf9d37310bd45b39bda346441413556f9fd4fdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-oauth-20-authorization-code-flow"></a><span data-ttu-id="c5fa5-103">Do Azure Active Directory B2C: Fluxo de código de autorização de OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="c5fa5-103">Azure Active Directory B2C: OAuth 2.0 authorization code flow</span></span>
<span data-ttu-id="c5fa5-104">Pode utilizar a concessão do código de autorização de Olá OAuth 2.0 em aplicações instaladas num dispositivo toogain acesso tooprotected recursos, tais como as APIs web.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-104">You can use hello OAuth 2.0 authorization code grant in apps installed on a device toogain access tooprotected resources, such as web APIs.</span></span> <span data-ttu-id="c5fa5-105">Ao utilizar a implementação de (Azure AD B2C) Olá Azure Active Directory B2C de OAuth 2.0, pode adicionar inscrição, início de sessão e tarefas de outra gestão de identidades tooyour aplicações de ambiente de trabalho e móveis.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OAuth 2.0, you can add sign-up, sign-in, and other identity management tasks tooyour mobile and desktop apps.</span></span> <span data-ttu-id="c5fa5-106">Este artigo é independente de idioma.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-106">This article is language-independent.</span></span> <span data-ttu-id="c5fa5-107">Artigo de Olá, vamos descrever como toosend e receber mensagens HTTP sem utilizar quaisquer bibliotecas de open source.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-107">In hello article, we describe how toosend and receive HTTP messages without using any open-source libraries.</span></span>

<!-- TODO: Need link toolibraries -->

<span data-ttu-id="c5fa5-108">Olá fluxo de código de autorização do OAuth 2.0 está descrita em [secção 4.1 de especificação de Olá OAuth 2.0](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-108">hello OAuth 2.0 authorization code flow is described in [section 4.1 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="c5fa5-109">Pode utilizá-lo para autenticação e autorização na maioria dos tipos de aplicação, incluindo [aplicações web](active-directory-b2c-apps.md#web-apps) e [instalado nativamente aplicações](active-directory-b2c-apps.md#mobile-and-native-apps).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-109">You can use it for authentication and authorization in most app types, including [web apps](active-directory-b2c-apps.md#web-apps) and [natively installed apps](active-directory-b2c-apps.md#mobile-and-native-apps).</span></span> <span data-ttu-id="c5fa5-110">Pode utilizar Olá adquirir toosecurely de fluxo de código de autorização do OAuth 2.0 *tokens de acesso* para as suas aplicações, que pode ser utilizado tooaccess recursos que estão protegidos por um [servidor autorização](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-110">You can use hello OAuth 2.0 authorization code flow toosecurely acquire *access tokens* for your apps, which can be used tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span>

<span data-ttu-id="c5fa5-111">Este artigo incida no Olá **clientes públicos** fluxo de código de autorização do OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-111">This article focuses on hello **public clients** OAuth 2.0 authorization code flow.</span></span> <span data-ttu-id="c5fa5-112">Um cliente público é qualquer aplicação cliente que não pode ser fidedigno toosecurely manter a integridade do Olá de uma palavra-passe secreta.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-112">A public client is any client application that cannot be trusted toosecurely maintain hello integrity of a secret password.</span></span> <span data-ttu-id="c5fa5-113">Isto inclui as aplicações móveis, as aplicações de ambiente de trabalho e essencialmente qualquer aplicação que é executado num dispositivo e tem de tooget tokens de acesso.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-113">This includes mobile apps, desktop apps, and essentially any application that runs on a device and needs tooget access tokens.</span></span> 

> [!NOTE]
> <span data-ttu-id="c5fa5-114">aplicação web tooa de gestão de identidade de tooadd utilizando o Azure AD B2C, utilize [OpenID Connect](active-directory-b2c-reference-oidc.md) em vez de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-114">tooadd identity management tooa web app by using Azure AD B2C, use [OpenID Connect](active-directory-b2c-reference-oidc.md) instead of OAuth 2.0.</span></span>

<span data-ttu-id="c5fa5-115">O Azure AD B2C expande o padrão de Olá que flui de OAuth 2.0 toodo mais do que simples autenticação e autorização.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-115">Azure AD B2C extends hello standard OAuth 2.0 flows toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="c5fa5-116">Introduz Olá [parâmetro política](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="c5fa5-117">Com as políticas incorporadas, pode utilizar o OAuth 2.0 tooadd utilizador experiências tooyour aplicação, tal como inscrição, início de sessão e gestão de perfis.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-117">With built-in policies, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="c5fa5-118">Neste artigo, vamos mostrar-lhe como tooimplement de OAuth 2.0 e as políticas de toouse cada um destes experiências nas suas aplicações nativas.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-118">In this article, we show you how toouse OAuth 2.0 and policies tooimplement each of these experiences in your native applications.</span></span> <span data-ttu-id="c5fa5-119">Podemos também mostram-lhe como tooget tokens de acesso para aceder a APIs web.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-119">We also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="c5fa5-120">Pedidos HTTP de exemplo de Olá neste artigo, utilizamos diretório do Azure AD B2C nosso exemplo, **fabrikamb2c.onmicrosoft.com**. Também utilizamos a nossa aplicação de exemplo e as políticas.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our sample application and policies.</span></span> <span data-ttu-id="c5fa5-121">Pode tentar Olá pedidos utilizando estes valores, ou pode substituí-los com os seus próprios valores.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="c5fa5-122">Saiba como demasiado[obter os seus próprios diretório do Azure AD B2C, aplicações e políticas](#use-your-own-azure-ad-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-azure-ad-b2c-directory).</span></span>

## <a name="1-get-an-authorization-code"></a><span data-ttu-id="c5fa5-123">1. Obtenha um código de autorização</span><span class="sxs-lookup"><span data-stu-id="c5fa5-123">1. Get an authorization code</span></span>
<span data-ttu-id="c5fa5-124">fluxo de código de autorização de Olá começa com o cliente de Olá instruir Olá utilizador toohello `/authorize` ponto final.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-124">hello authorization code flow begins with hello client directing hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="c5fa5-125">Este é Olá interativa parte fluxo Olá, onde o utilizador Olá executa a ação.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-125">This is hello interactive part of hello flow, where hello user takes action.</span></span> <span data-ttu-id="c5fa5-126">Este pedido de cliente Olá indica em Olá `scope` permissões de Olá de parâmetro que necessita de tooacquire de utilizador de Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-126">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="c5fa5-127">No Olá `p` parâmetro, ele indica Olá tooexecute de política.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-127">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="c5fa5-128">Olá três exemplos seguintes (com quebras de linha para legibilidade) cada utilizarem uma política diferente.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-128">hello following three examples (with line breaks for readability) each use a different policy.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="c5fa5-129">Utilizar uma política de início de sessão</span><span class="sxs-lookup"><span data-stu-id="c5fa5-129">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="c5fa5-130">Utilizar uma política de inscrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-130">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="c5fa5-131">Utilizar uma política de perfil de edição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-131">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_edit_profile
```

| <span data-ttu-id="c5fa5-132">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-132">Parameter</span></span> | <span data-ttu-id="c5fa5-133">Necessário?</span><span class="sxs-lookup"><span data-stu-id="c5fa5-133">Required?</span></span> | <span data-ttu-id="c5fa5-134">Descrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-134">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c5fa5-135">client_id</span><span class="sxs-lookup"><span data-stu-id="c5fa5-135">client_id</span></span> |<span data-ttu-id="c5fa5-136">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-136">Required</span></span> |<span data-ttu-id="c5fa5-137">ID da aplicação Olá atribuído aplicação tooyour no Olá [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-137">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="c5fa5-138">response_type</span><span class="sxs-lookup"><span data-stu-id="c5fa5-138">response_type</span></span> |<span data-ttu-id="c5fa5-139">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-139">Required</span></span> |<span data-ttu-id="c5fa5-140">tipo de resposta de Olá, tem de incluir `code` para o fluxo de código de autorização de Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-140">hello response type, which must include `code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="c5fa5-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="c5fa5-141">redirect_uri</span></span> |<span data-ttu-id="c5fa5-142">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-142">Required</span></span> |<span data-ttu-id="c5fa5-143">Olá redireciona o URI da sua aplicação, onde as respostas de autenticação são enviadas e recebidas pela sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-143">hello redirect URI of your app, where authentication responses are sent and received by your app.</span></span> <span data-ttu-id="c5fa5-144">Este deve corresponder exatamente um redirecionamento Olá URIs registados no portal de Olá, exceto que tem de ser codificados de URL.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-144">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="c5fa5-145">Âmbito</span><span class="sxs-lookup"><span data-stu-id="c5fa5-145">scope</span></span> |<span data-ttu-id="c5fa5-146">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-146">Required</span></span> |<span data-ttu-id="c5fa5-147">Uma lista separada por espaço de âmbitos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-147">A space-separated list of scopes.</span></span> <span data-ttu-id="c5fa5-148">Um valor único âmbito indica tooAzure do Active Directory (Azure AD) ambas as permissões de Olá que estão a ser solicitada.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-148">A single scope value indicates tooAzure Active Directory (Azure AD) both of hello permissions that are being requested.</span></span> <span data-ttu-id="c5fa5-149">Olá, utilizando o cliente de Olá ID como âmbito de Olá indica que a aplicação tem um token de acesso que pode ser utilizado contra o seu próprio serviço ou a API, web representado pelo mesmo ID de cliente.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-149">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="c5fa5-150">Olá `offline_access` âmbito indica que a aplicação tem um token de atualização para tooresources de acesso de longa duração.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-150">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span> <span data-ttu-id="c5fa5-151">Também pode utilizar Olá `openid` âmbito toorequest um token de ID do Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-151">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="c5fa5-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="c5fa5-152">response_mode</span></span> |<span data-ttu-id="c5fa5-153">Recomendado</span><span class="sxs-lookup"><span data-stu-id="c5fa5-153">Recommended</span></span> |<span data-ttu-id="c5fa5-154">método de Olá que utilize toosend Olá resultante autorização código back tooyour aplicação.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-154">hello method that you use toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="c5fa5-155">Pode ser `query`, `form_post`, ou `fragment`.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-155">It can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="c5fa5-156">state</span><span class="sxs-lookup"><span data-stu-id="c5fa5-156">state</span></span> |<span data-ttu-id="c5fa5-157">Recomendado</span><span class="sxs-lookup"><span data-stu-id="c5fa5-157">Recommended</span></span> |<span data-ttu-id="c5fa5-158">Um valor incluído no pedido de Olá que é devolvido em resposta token Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-158">A value included in hello request that is returned in hello token response.</span></span> <span data-ttu-id="c5fa5-159">Pode ser uma cadeia de qualquer conteúdo que pretende que o toouse.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-159">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="c5fa5-160">Normalmente, é utilizado um valor exclusivo gerado aleatoriamente, tooprevent ataques de falsificação de pedidos entre sites.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-160">Usually, a randomly generated unique value is  used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="c5fa5-161">Estado de Olá é também utilizada tooencode informações sobre o estado do utilizador Olá na aplicação Olá antes do pedido de autenticação de Olá ocorreu.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-161">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="c5fa5-162">Por exemplo, o utilizador do Olá página Olá estava no ou Olá política que estava a ser executada.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-162">For example, hello page hello user was on, or hello policy that was being executed.</span></span> |
| <span data-ttu-id="c5fa5-163">P</span><span class="sxs-lookup"><span data-stu-id="c5fa5-163">p</span></span> |<span data-ttu-id="c5fa5-164">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-164">Required</span></span> |<span data-ttu-id="c5fa5-165">política de Olá que é executada.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-165">hello policy that is executed.</span></span> <span data-ttu-id="c5fa5-166">De Olá nome de uma política que é criado no diretório do Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-166">It's hello name of a policy that is created in your Azure AD B2C directory.</span></span> <span data-ttu-id="c5fa5-167">o valor de nome de política de Olá deve iniciar com **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-167">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="c5fa5-168">toolearn mais informações sobre políticas, consulte [políticas incorporadas do Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-168">toolearn more about policies, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="c5fa5-169">linha de comandos</span><span class="sxs-lookup"><span data-stu-id="c5fa5-169">prompt</span></span> |<span data-ttu-id="c5fa5-170">Opcional</span><span class="sxs-lookup"><span data-stu-id="c5fa5-170">Optional</span></span> |<span data-ttu-id="c5fa5-171">tipo de Olá da interação do utilizador que é necessário.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-171">hello type of user interaction that is required.</span></span> <span data-ttu-id="c5fa5-172">Atualmente, Olá único valor válido é `login`que força Olá utilizador tooenter as respetivas credenciais desse pedido.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-172">Currently, hello only valid value is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="c5fa5-173">O início de sessão único não entrarão em vigor.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-173">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="c5fa5-174">Neste momento, Olá é pedido ao utilizador fluxo de trabalho da política de Olá toocomplete.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-174">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="c5fa5-175">Isto poderá envolver o utilizador Olá introduzir o respetivo nome de utilizador e palavra-passe, início de sessão com uma identidade de redes social, inscrever-se para o diretório de Olá ou qualquer outro número de passos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-175">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="c5fa5-176">Ações de utilizador dependem como política Olá está definida.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-176">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="c5fa5-177">Após a conclusão da política de Olá utilizador Olá, Azure AD devolve uma aplicação de tooyour de resposta no valor de Olá utilizado para `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-177">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="c5fa5-178">Utiliza o método de Olá especificado em Olá `response_mode` parâmetro.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-178">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="c5fa5-179">resposta Olá é exatamente hello mesmo para cada um dos Olá ação cenários de utilizador, independentemente da política de Olá que foi executada.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-179">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

<span data-ttu-id="c5fa5-180">Uma resposta com êxito que utiliza `response_mode=query` se parece com isto:</span><span class="sxs-lookup"><span data-stu-id="c5fa5-180">A successful response that uses `response_mode=query` looks like this:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...        // hello authorization_code, truncated
&state=arbitrary_data_you_can_receive_in_the_response                // hello value provided in hello request
```

| <span data-ttu-id="c5fa5-181">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-181">Parameter</span></span> | <span data-ttu-id="c5fa5-182">Descrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-182">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c5fa5-183">código</span><span class="sxs-lookup"><span data-stu-id="c5fa5-183">code</span></span> |<span data-ttu-id="c5fa5-184">código de autorização de Olá que Olá aplicação pedida.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-184">hello authorization code that hello app requested.</span></span> <span data-ttu-id="c5fa5-185">aplicação Olá pode utilizar Olá autorização código toorequest um token de acesso para um recurso de destino.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-185">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="c5fa5-186">Códigos de autorização são muito curta duração.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-186">Authorization codes are very short-lived.</span></span> <span data-ttu-id="c5fa5-187">Normalmente, estas expiram após cerca de 10 minutos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-187">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="c5fa5-188">state</span><span class="sxs-lookup"><span data-stu-id="c5fa5-188">state</span></span> |<span data-ttu-id="c5fa5-189">Ver descrição completa do Olá na tabela de Olá no Olá anterior a secção.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-189">See hello full description in hello table in hello preceding section.</span></span> <span data-ttu-id="c5fa5-190">Se um `state` parâmetro está incluído no pedido de Olá, hello mesmo valor deve aparecer na resposta Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-190">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="c5fa5-191">Olá aplicação deve verificar que Olá `state` valores existentes na Olá pedido e resposta são idênticos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-191">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="c5fa5-192">As respostas de erro também podem ser enviadas URI de redirecionamento toohello para que hello aplicação pode processá-los corretamente:</span><span class="sxs-lookup"><span data-stu-id="c5fa5-192">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
error=access_denied
&error_description=The+user+has+cancelled+entering+self-asserted+information
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="c5fa5-193">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-193">Parameter</span></span> | <span data-ttu-id="c5fa5-194">Descrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-194">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c5fa5-195">erro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-195">error</span></span> |<span data-ttu-id="c5fa5-196">Uma cadeia de código de erro que pode utilizar tooclassify Olá tipos de erros que ocorrem.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-196">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="c5fa5-197">Também pode utilizar Olá cadeia tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-197">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="c5fa5-198">error_description</span><span class="sxs-lookup"><span data-stu-id="c5fa5-198">error_description</span></span> |<span data-ttu-id="c5fa5-199">Uma mensagem de erro específicas que pode ajudar a identificar causas raiz Olá um erro de autenticação.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-199">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="c5fa5-200">state</span><span class="sxs-lookup"><span data-stu-id="c5fa5-200">state</span></span> |<span data-ttu-id="c5fa5-201">Ver descrição completa do Olá no Olá anterior a tabela.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-201">See hello full description in hello preceding table.</span></span> <span data-ttu-id="c5fa5-202">Se um `state` parâmetro está incluído no pedido de Olá, hello mesmo valor deve aparecer na resposta Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-202">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="c5fa5-203">Olá aplicação deve verificar que Olá `state` valores existentes na Olá pedido e resposta são idênticos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-203">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="2-get-a-token"></a><span data-ttu-id="c5fa5-204">2. Obter um token</span><span class="sxs-lookup"><span data-stu-id="c5fa5-204">2. Get a token</span></span>
<span data-ttu-id="c5fa5-205">Agora que já obteve um código de autorização, pode resgatar Olá `code` para um token toohello que se destina a recursos através do envio de um toohello de pedido POST `/token` ponto final.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-205">Now that you've acquired an authorization code, you can redeem hello `code` for a token toohello intended resource by sending a POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="c5fa5-206">No Azure AD B2C, hello apenas os recursos que pode pedir um token para é o web de back-end da aplicação API.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-206">In Azure AD B2C, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="c5fa5-207">Convenção de Olá que é utilizada para pedir um token tooyourself é toouse o ID de cliente da sua aplicação como âmbito de Olá:</span><span class="sxs-lookup"><span data-stu-id="c5fa5-207">hello convention that's used for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob

```

| <span data-ttu-id="c5fa5-208">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-208">Parameter</span></span> | <span data-ttu-id="c5fa5-209">Necessário?</span><span class="sxs-lookup"><span data-stu-id="c5fa5-209">Required?</span></span> | <span data-ttu-id="c5fa5-210">Descrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-210">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c5fa5-211">P</span><span class="sxs-lookup"><span data-stu-id="c5fa5-211">p</span></span> |<span data-ttu-id="c5fa5-212">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-212">Required</span></span> |<span data-ttu-id="c5fa5-213">Olá política que foi utilizado tooacquire Olá autorização código.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-213">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="c5fa5-214">Não é possível utilizar uma política diferente neste pedido.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-214">You cannot use a different policy in this request.</span></span> <span data-ttu-id="c5fa5-215">Tenha em atenção que adicionar este parâmetro toohello *cadeia de consulta*e não na Olá corpo da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-215">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="c5fa5-216">client_id</span><span class="sxs-lookup"><span data-stu-id="c5fa5-216">client_id</span></span> |<span data-ttu-id="c5fa5-217">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-217">Required</span></span> |<span data-ttu-id="c5fa5-218">ID da aplicação Olá atribuído aplicação tooyour no Olá [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-218">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="c5fa5-219">grant_type</span><span class="sxs-lookup"><span data-stu-id="c5fa5-219">grant_type</span></span> |<span data-ttu-id="c5fa5-220">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-220">Required</span></span> |<span data-ttu-id="c5fa5-221">tipo de Olá de concessão.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-221">hello type of grant.</span></span> <span data-ttu-id="c5fa5-222">Fluxo de código de autorização de Olá, Olá conceder tipo tem de ser `authorization_code`.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-222">For hello authorization code flow, hello grant type must be `authorization_code`.</span></span> |
| <span data-ttu-id="c5fa5-223">Âmbito</span><span class="sxs-lookup"><span data-stu-id="c5fa5-223">scope</span></span> |<span data-ttu-id="c5fa5-224">Recomendado</span><span class="sxs-lookup"><span data-stu-id="c5fa5-224">Recommended</span></span> |<span data-ttu-id="c5fa5-225">Uma lista separada por espaço de âmbitos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-225">A space-separated list of scopes.</span></span> <span data-ttu-id="c5fa5-226">Um valor único âmbito indica tooAzure AD ambas as permissões de Olá que estão a ser solicitada.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-226">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="c5fa5-227">Olá, utilizando o cliente de Olá ID como âmbito de Olá indica que a aplicação tem um token de acesso que pode ser utilizado contra o seu próprio serviço ou a API, web representado pelo mesmo ID de cliente.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-227">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="c5fa5-228">Olá `offline_access` âmbito indica que a aplicação tem um token de atualização para tooresources de acesso de longa duração.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-228">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="c5fa5-229">Também pode utilizar Olá `openid` âmbito toorequest um token de ID do Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-229">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="c5fa5-230">código</span><span class="sxs-lookup"><span data-stu-id="c5fa5-230">code</span></span> |<span data-ttu-id="c5fa5-231">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-231">Required</span></span> |<span data-ttu-id="c5fa5-232">código de autorização de Olá que obteve na fase de primeiro Olá do fluxo de Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-232">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="c5fa5-233">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="c5fa5-233">redirect_uri</span></span> |<span data-ttu-id="c5fa5-234">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-234">Required</span></span> |<span data-ttu-id="c5fa5-235">Olá redireciona o URI da aplicação olá onde recebido o código de autorização de Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-235">hello redirect URI of hello application where you received hello authorization code.</span></span> |

<span data-ttu-id="c5fa5-236">Uma resposta com êxito de token tem o seguinte aspeto:</span><span class="sxs-lookup"><span data-stu-id="c5fa5-236">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="c5fa5-237">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-237">Parameter</span></span> | <span data-ttu-id="c5fa5-238">Descrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-238">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c5fa5-239">not_before</span><span class="sxs-lookup"><span data-stu-id="c5fa5-239">not_before</span></span> |<span data-ttu-id="c5fa5-240">tempo de Olá no qual Olá token é considerado válido, no tempo de época.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-240">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="c5fa5-241">token_type</span><span class="sxs-lookup"><span data-stu-id="c5fa5-241">token_type</span></span> |<span data-ttu-id="c5fa5-242">valor de tipo de token de Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-242">hello token type value.</span></span> <span data-ttu-id="c5fa5-243">Olá escreva apenas que o suporte do Azure AD é portador.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-243">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="c5fa5-244">access_token</span><span class="sxs-lookup"><span data-stu-id="c5fa5-244">access_token</span></span> |<span data-ttu-id="c5fa5-245">Olá assinado JSON Web tokens (JWT) que pediu.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-245">hello signed JSON Web Token (JWT) that you requested.</span></span> |
| <span data-ttu-id="c5fa5-246">Âmbito</span><span class="sxs-lookup"><span data-stu-id="c5fa5-246">scope</span></span> |<span data-ttu-id="c5fa5-247">âmbitos de Olá Olá token é válido para.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-247">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="c5fa5-248">Também pode utilizar os tokens de toocache âmbitos para utilização posterior.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-248">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="c5fa5-249">expires_in</span><span class="sxs-lookup"><span data-stu-id="c5fa5-249">expires_in</span></span> |<span data-ttu-id="c5fa5-250">Olá período de tempo que Olá token é válido (em segundos).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-250">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="c5fa5-251">refresh_token</span><span class="sxs-lookup"><span data-stu-id="c5fa5-251">refresh_token</span></span> |<span data-ttu-id="c5fa5-252">Um token de atualização de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-252">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="c5fa5-253">aplicação Olá pode utilizar este token tooacquire os tokens adicionais depois de token atual Olá expira.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-253">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="c5fa5-254">Os tokens de atualização são longa duração.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-254">Refresh tokens are long-lived.</span></span> <span data-ttu-id="c5fa5-255">Pode utilizá-los tooretain acesso tooresources para períodos de tempo prolongados.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-255">You can use them tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="c5fa5-256">Para obter mais informações, consulte Olá [referência de token do Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-256">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="c5fa5-257">As respostas de erro tem o seguinte aspeto:</span><span class="sxs-lookup"><span data-stu-id="c5fa5-257">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="c5fa5-258">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-258">Parameter</span></span> | <span data-ttu-id="c5fa5-259">Descrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-259">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c5fa5-260">erro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-260">error</span></span> |<span data-ttu-id="c5fa5-261">Uma cadeia de código de erro que pode utilizar tooclassify Olá tipos de erros que ocorrem.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-261">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="c5fa5-262">Também pode utilizar Olá cadeia tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-262">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="c5fa5-263">error_description</span><span class="sxs-lookup"><span data-stu-id="c5fa5-263">error_description</span></span> |<span data-ttu-id="c5fa5-264">Uma mensagem de erro específicas que pode ajudar a identificar causas raiz Olá um erro de autenticação.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-264">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="3-use-hello-token"></a><span data-ttu-id="c5fa5-265">3. Utilizar token Olá</span><span class="sxs-lookup"><span data-stu-id="c5fa5-265">3. Use hello token</span></span>
<span data-ttu-id="c5fa5-266">Agora que já obteve com êxito um token de acesso, pode utilizar o token de Olá APIs web de back-end de tooyour pedidos, incluindo-o no Olá `Authorization` cabeçalho:</span><span class="sxs-lookup"><span data-stu-id="c5fa5-266">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="4-refresh-hello-token"></a><span data-ttu-id="c5fa5-267">4. Atualizar o token de Olá</span><span class="sxs-lookup"><span data-stu-id="c5fa5-267">4. Refresh hello token</span></span>
<span data-ttu-id="c5fa5-268">Os tokens de acesso e tokens de ID são curta duração.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-268">Access tokens and ID tokens are short-lived.</span></span> <span data-ttu-id="c5fa5-269">Depois de expirarem, deve atualizá-las toocontinue tooaccess recursos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-269">After they expire, you must refresh them toocontinue tooaccess resources.</span></span> <span data-ttu-id="c5fa5-270">toodo, Submeter outro toohello de pedido POST `/token` ponto final.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-270">toodo this, submit another POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="c5fa5-271">Este tempo, fornecer Olá `refresh_token` em vez de Olá `code`:</span><span class="sxs-lookup"><span data-stu-id="c5fa5-271">This time, provide hello `refresh_token` instead of hello `code`:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob
```

| <span data-ttu-id="c5fa5-272">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-272">Parameter</span></span> | <span data-ttu-id="c5fa5-273">Necessário?</span><span class="sxs-lookup"><span data-stu-id="c5fa5-273">Required?</span></span> | <span data-ttu-id="c5fa5-274">Descrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-274">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c5fa5-275">P</span><span class="sxs-lookup"><span data-stu-id="c5fa5-275">p</span></span> |<span data-ttu-id="c5fa5-276">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-276">Required</span></span> |<span data-ttu-id="c5fa5-277">política de Olá que foi token de atualização do tooacquire utilizados Olá original.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-277">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="c5fa5-278">Não é possível utilizar uma política diferente neste pedido.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-278">You cannot use a different policy in this request.</span></span> <span data-ttu-id="c5fa5-279">Tenha em atenção que adicionar este parâmetro toohello *cadeia de consulta*e não na Olá corpo da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-279">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="c5fa5-280">client_id</span><span class="sxs-lookup"><span data-stu-id="c5fa5-280">client_id</span></span> |<span data-ttu-id="c5fa5-281">Recomendado</span><span class="sxs-lookup"><span data-stu-id="c5fa5-281">Recommended</span></span> |<span data-ttu-id="c5fa5-282">ID da aplicação Olá atribuído aplicação tooyour no Olá [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-282">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="c5fa5-283">grant_type</span><span class="sxs-lookup"><span data-stu-id="c5fa5-283">grant_type</span></span> |<span data-ttu-id="c5fa5-284">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-284">Required</span></span> |<span data-ttu-id="c5fa5-285">tipo de Olá de concessão.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-285">hello type of grant.</span></span> <span data-ttu-id="c5fa5-286">Para esta parte do fluxo de código de autorização de Olá, Olá conceder tipo tem de ser `refresh_token`.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-286">For this leg of hello authorization code flow, hello grant type must be `refresh_token`.</span></span> |
| <span data-ttu-id="c5fa5-287">Âmbito</span><span class="sxs-lookup"><span data-stu-id="c5fa5-287">scope</span></span> |<span data-ttu-id="c5fa5-288">Recomendado</span><span class="sxs-lookup"><span data-stu-id="c5fa5-288">Recommended</span></span> |<span data-ttu-id="c5fa5-289">Uma lista separada por espaço de âmbitos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-289">A space-separated list of scopes.</span></span> <span data-ttu-id="c5fa5-290">Um valor único âmbito indica tooAzure AD ambas as permissões de Olá que estão a ser solicitada.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-290">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="c5fa5-291">Olá, utilizando o cliente de Olá ID como âmbito de Olá indica que a aplicação tem um token de acesso que pode ser utilizado contra o seu próprio serviço ou a API, web representado pelo mesmo ID de cliente.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-291">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="c5fa5-292">Olá `offline_access` âmbito indica que a aplicação irá precisar de um token de atualização para tooresources de acesso de longa duração.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-292">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="c5fa5-293">Também pode utilizar Olá `openid` âmbito toorequest um token de ID do Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-293">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="c5fa5-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="c5fa5-294">redirect_uri</span></span> |<span data-ttu-id="c5fa5-295">Opcional</span><span class="sxs-lookup"><span data-stu-id="c5fa5-295">Optional</span></span> |<span data-ttu-id="c5fa5-296">Olá redireciona o URI da aplicação olá onde recebido o código de autorização de Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-296">hello redirect URI of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="c5fa5-297">refresh_token</span><span class="sxs-lookup"><span data-stu-id="c5fa5-297">refresh_token</span></span> |<span data-ttu-id="c5fa5-298">Necessário</span><span class="sxs-lookup"><span data-stu-id="c5fa5-298">Required</span></span> |<span data-ttu-id="c5fa5-299">Olá original token de atualização que obteve na fase de segundo Olá do fluxo de Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-299">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> |

<span data-ttu-id="c5fa5-300">Uma resposta com êxito de token tem o seguinte aspeto:</span><span class="sxs-lookup"><span data-stu-id="c5fa5-300">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="c5fa5-301">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-301">Parameter</span></span> | <span data-ttu-id="c5fa5-302">Descrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-302">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c5fa5-303">not_before</span><span class="sxs-lookup"><span data-stu-id="c5fa5-303">not_before</span></span> |<span data-ttu-id="c5fa5-304">tempo de Olá no qual Olá token é considerado válido, no tempo de época.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-304">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="c5fa5-305">token_type</span><span class="sxs-lookup"><span data-stu-id="c5fa5-305">token_type</span></span> |<span data-ttu-id="c5fa5-306">valor de tipo de token de Olá.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-306">hello token type value.</span></span> <span data-ttu-id="c5fa5-307">Olá escreva apenas que o suporte do Azure AD é portador.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-307">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="c5fa5-308">access_token</span><span class="sxs-lookup"><span data-stu-id="c5fa5-308">access_token</span></span> |<span data-ttu-id="c5fa5-309">Olá assinado JWT que pediu.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-309">hello signed JWT that you requested.</span></span> |
| <span data-ttu-id="c5fa5-310">Âmbito</span><span class="sxs-lookup"><span data-stu-id="c5fa5-310">scope</span></span> |<span data-ttu-id="c5fa5-311">âmbitos de Olá Olá token é válido para.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-311">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="c5fa5-312">Também pode utilizar tokens de toocache hello âmbitos para utilização posterior.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-312">You also can use hello scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="c5fa5-313">expires_in</span><span class="sxs-lookup"><span data-stu-id="c5fa5-313">expires_in</span></span> |<span data-ttu-id="c5fa5-314">Olá período de tempo que Olá token é válido (em segundos).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-314">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="c5fa5-315">refresh_token</span><span class="sxs-lookup"><span data-stu-id="c5fa5-315">refresh_token</span></span> |<span data-ttu-id="c5fa5-316">Um token de atualização de OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-316">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="c5fa5-317">aplicação Olá pode utilizar este token tooacquire os tokens adicionais depois de token atual Olá expira.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-317">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="c5fa5-318">Atualizar tokens são longa duração e podem ser utilizados tooretain acesso tooresources para períodos de tempo prolongados.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-318">Refresh tokens are long-lived, and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="c5fa5-319">Para obter mais informações, consulte Olá [referência de token do Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-319">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="c5fa5-320">As respostas de erro tem o seguinte aspeto:</span><span class="sxs-lookup"><span data-stu-id="c5fa5-320">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="c5fa5-321">Parâmetro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-321">Parameter</span></span> | <span data-ttu-id="c5fa5-322">Descrição</span><span class="sxs-lookup"><span data-stu-id="c5fa5-322">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c5fa5-323">erro</span><span class="sxs-lookup"><span data-stu-id="c5fa5-323">error</span></span> |<span data-ttu-id="c5fa5-324">Uma cadeia de código de erro que pode utilizar tooclassify tipos de erros que ocorrem.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-324">An error code string that you can use tooclassify types of errors that occur.</span></span> <span data-ttu-id="c5fa5-325">Também pode utilizar Olá cadeia tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-325">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="c5fa5-326">error_description</span><span class="sxs-lookup"><span data-stu-id="c5fa5-326">error_description</span></span> |<span data-ttu-id="c5fa5-327">Uma mensagem de erro específicas que pode ajudar a identificar causas raiz Olá um erro de autenticação.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-327">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="use-your-own-azure-ad-b2c-directory"></a><span data-ttu-id="c5fa5-328">Utilizar os seus próprios diretórios do Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="c5fa5-328">Use your own Azure AD B2C directory</span></span>
<span data-ttu-id="c5fa5-329">tootry estes pedidos por si, Olá concluir os seguintes passos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-329">tootry these requests yourself, complete hello following steps.</span></span> <span data-ttu-id="c5fa5-330">Substitua os valores de exemplo de Olá que utilizámos neste artigo com os seus próprios valores.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-330">Replace hello example values we used in this article with your own values.</span></span>

1. <span data-ttu-id="c5fa5-331">[Criar um diretório do Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="c5fa5-331">[Create an Azure AD B2C directory](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="c5fa5-332">Utilize o nome de Olá do seu diretório no Olá pedidos.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-332">Use hello name of your directory in hello requests.</span></span>
2. <span data-ttu-id="c5fa5-333">[Criar uma aplicação](active-directory-b2c-app-registration.md) tooobtain uma ID da aplicação e um URI de redirecionamento.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-333">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a redirect URI.</span></span> <span data-ttu-id="c5fa5-334">Incluem um cliente nativo na sua aplicação.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-334">Include a native client in your app.</span></span>
3. <span data-ttu-id="c5fa5-335">[Criar as políticas](active-directory-b2c-reference-policies.md) tooobtain os nomes de política.</span><span class="sxs-lookup"><span data-stu-id="c5fa5-335">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

