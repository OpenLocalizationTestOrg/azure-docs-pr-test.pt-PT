---
title: "execução de aaaRunbook na automatização do Azure | Microsoft Docs"
description: "Descreve os detalhes de Olá da forma como é processado um runbook na automatização do Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: d10c8ce2-2c0b-4ea7-ba3c-d20e09b2c9ca
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/17/2017
ms.author: bwren
ms.openlocfilehash: bdb535675443353d44640bc7773de3f9dac5e42c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="runbook-execution-in-azure-automation"></a><span data-ttu-id="a96c4-103">Execução do Runbook na automatização do Azure</span><span class="sxs-lookup"><span data-stu-id="a96c4-103">Runbook execution in Azure Automation</span></span>
<span data-ttu-id="a96c4-104">Quando inicia um runbook na automatização do Azure, é criada uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="a96c4-104">When you start a runbook in Azure Automation, a job is created.</span></span> <span data-ttu-id="a96c4-105">Uma tarefa é uma instância de execução individual de um runbook.</span><span class="sxs-lookup"><span data-stu-id="a96c4-105">A job is a single execution instance of a runbook.</span></span> <span data-ttu-id="a96c4-106">Uma automatização do Azure é de trabalho atribuídos toorun cada tarefa.</span><span class="sxs-lookup"><span data-stu-id="a96c4-106">An Azure Automation worker is assigned toorun each job.</span></span> <span data-ttu-id="a96c4-107">Enquanto trabalhadores são partilhados por várias contas do Azure, a diferentes contas de automatização de tarefas estão isoladas entre si.</span><span class="sxs-lookup"><span data-stu-id="a96c4-107">While workers are shared by multiple Azure accounts, jobs from different Automation accounts are isolated from one another.</span></span> <span data-ttu-id="a96c4-108">Não têm controlo sobre o pedido de Olá de serviços de trabalho para a tarefa.</span><span class="sxs-lookup"><span data-stu-id="a96c4-108">You do not have control over which worker services hello request for your job.</span></span>  <span data-ttu-id="a96c4-109">Um único runbook pode ter várias tarefas em execução em simultâneo.</span><span class="sxs-lookup"><span data-stu-id="a96c4-109">A single runbook can have multiple jobs running at one time.</span></span> <span data-ttu-id="a96c4-110">Quando visualiza lista Olá de runbooks no portal do Azure de Olá, lista Estado Olá de todas as tarefas que foram iniciadas para cada runbook.</span><span class="sxs-lookup"><span data-stu-id="a96c4-110">When you view hello list of runbooks in hello Azure portal, it lists hello status of all jobs that were started for each runbook.</span></span> <span data-ttu-id="a96c4-111">Pode ver a lista de Olá de tarefas para cada runbook ordem tootrack Olá do Estado de cada.</span><span class="sxs-lookup"><span data-stu-id="a96c4-111">You can view hello list of jobs for each runbook in order tootrack hello status of each.</span></span> <span data-ttu-id="a96c4-112">Para uma descrição dos Estados de tarefa diferente Olá, consulte [Estados das tarefas](#job-statuses).</span><span class="sxs-lookup"><span data-stu-id="a96c4-112">For a description of hello different job statuses, see [Job Statuses](#job-statuses).</span></span>

<span data-ttu-id="a96c4-113">Olá diagrama seguinte mostra Olá ciclo de vida de uma tarefa de runbook para [runbooks gráficos](automation-runbook-types.md#graphical-runbooks) e [runbooks do fluxo de trabalho do PowerShell](automation-runbook-types.md#powershell-workflow-runbooks).</span><span class="sxs-lookup"><span data-stu-id="a96c4-113">hello following diagram shows hello lifecycle of a runbook job for [Graphical runbooks](automation-runbook-types.md#graphical-runbooks) and [PowerShell Workflow runbooks](automation-runbook-types.md#powershell-workflow-runbooks).</span></span>

![Estados - tarefa do fluxo de trabalho do PowerShell](./media/automation-runbook-execution/job-statuses.png)

<span data-ttu-id="a96c4-115">Olá diagrama seguinte mostra Olá ciclo de vida de uma tarefa de runbook para [runbooks do PowerShell](automation-runbook-types.md#powershell-runbooks).</span><span class="sxs-lookup"><span data-stu-id="a96c4-115">hello following diagram shows hello lifecycle of a runbook job for [PowerShell runbooks](automation-runbook-types.md#powershell-runbooks).</span></span>

![Estados de tarefa - o Script do PowerShell](./media/automation-runbook-execution/job-statuses-script.png)

<span data-ttu-id="a96c4-117">As tarefas têm acesso tooyour Azure recursos ao tornar um tooyour ligação de subscrição do Azure.</span><span class="sxs-lookup"><span data-stu-id="a96c4-117">Your jobs have access tooyour Azure resources by making a connection tooyour Azure subscription.</span></span> <span data-ttu-id="a96c4-118">Apenas têm acesso tooresources no seu centro de dados se não estiverem acessíveis a partir da nuvem pública Olá esses recursos.</span><span class="sxs-lookup"><span data-stu-id="a96c4-118">They only have access tooresources in your data center if those resources are accessible from hello public cloud.</span></span>

## <a name="job-statuses"></a><span data-ttu-id="a96c4-119">Estados das tarefas</span><span class="sxs-lookup"><span data-stu-id="a96c4-119">Job statuses</span></span>
<span data-ttu-id="a96c4-120">Olá tabela seguinte descreve Olá diferentes Estados possíveis das tarefas.</span><span class="sxs-lookup"><span data-stu-id="a96c4-120">hello following table describes hello different statuses that are possible for a job.</span></span>

| <span data-ttu-id="a96c4-121">Estado</span><span class="sxs-lookup"><span data-stu-id="a96c4-121">Status</span></span> | <span data-ttu-id="a96c4-122">Descrição</span><span class="sxs-lookup"><span data-stu-id="a96c4-122">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="a96c4-123">Foi concluída</span><span class="sxs-lookup"><span data-stu-id="a96c4-123">Completed</span></span> |<span data-ttu-id="a96c4-124">tarefa de Olá foi concluída com êxito.</span><span class="sxs-lookup"><span data-stu-id="a96c4-124">hello job completed successfully.</span></span> |
| <span data-ttu-id="a96c4-125">Falha</span><span class="sxs-lookup"><span data-stu-id="a96c4-125">Failed</span></span> |<span data-ttu-id="a96c4-126">Para [runbooks gráfico e o fluxo de trabalho do PowerShell](automation-runbook-types.md), Olá runbook falha toocompile.</span><span class="sxs-lookup"><span data-stu-id="a96c4-126">For [Graphical and PowerShell Workflow runbooks](automation-runbook-types.md), hello runbook failed toocompile.</span></span>  <span data-ttu-id="a96c4-127">Para [runbooks de Script do PowerShell](automation-runbook-types.md), Olá runbook falha toostart ou tarefa de Olá encontrou uma exceção.</span><span class="sxs-lookup"><span data-stu-id="a96c4-127">For [PowerShell Script runbooks](automation-runbook-types.md), hello runbook failed toostart or hello job encountered an exception.</span></span> |
| <span data-ttu-id="a96c4-128">Falha ao aguardar a recursos</span><span class="sxs-lookup"><span data-stu-id="a96c4-128">Failed, waiting for resources</span></span> |<span data-ttu-id="a96c4-129">Falha na tarefa de Olá porque atingiu Olá [fração justa](#fairshare) limitar três vezes e iniciado a partir do Olá mesmo ponto de verificação ou de Olá hora de início do runbook Olá cada.</span><span class="sxs-lookup"><span data-stu-id="a96c4-129">hello job failed because it reached hello [fair share](#fairshare) limit three times and started from hello same checkpoint or from hello start of hello runbook each time.</span></span> |
| <span data-ttu-id="a96c4-130">Em fila</span><span class="sxs-lookup"><span data-stu-id="a96c4-130">Queued</span></span> |<span data-ttu-id="a96c4-131">Olá tarefa está aguardar recursos num toocome de trabalho de automatização disponível para que as que possa ser iniciado.</span><span class="sxs-lookup"><span data-stu-id="a96c4-131">hello job is waiting for resources on an Automation worker toocome available so that it can be started.</span></span> |
| <span data-ttu-id="a96c4-132">A Iniciar</span><span class="sxs-lookup"><span data-stu-id="a96c4-132">Starting</span></span> |<span data-ttu-id="a96c4-133">Olá tarefa foi atribuída tooa worker e sistema de Olá está no processo de Olá de iniciá-lo.</span><span class="sxs-lookup"><span data-stu-id="a96c4-133">hello job has been assigned tooa worker, and hello system is in hello process of starting it.</span></span> |
| <span data-ttu-id="a96c4-134">A retomar</span><span class="sxs-lookup"><span data-stu-id="a96c4-134">Resuming</span></span> |<span data-ttu-id="a96c4-135">sistema de Olá está no processo de Olá de retomar a tarefa de Olá depois foi suspenso.</span><span class="sxs-lookup"><span data-stu-id="a96c4-135">hello system is in hello process of resuming hello job after it was suspended.</span></span> |
| <span data-ttu-id="a96c4-136">A Executar</span><span class="sxs-lookup"><span data-stu-id="a96c4-136">Running</span></span> |<span data-ttu-id="a96c4-137">tarefa de Olá está em execução.</span><span class="sxs-lookup"><span data-stu-id="a96c4-137">hello job is running.</span></span> |
| <span data-ttu-id="a96c4-138">Aguardar execução, dos recursos</span><span class="sxs-lookup"><span data-stu-id="a96c4-138">Running, waiting for resources</span></span> |<span data-ttu-id="a96c4-139">Olá tarefa foi descarregada porque atingiu Olá [fração justa](#fairshare) limite.</span><span class="sxs-lookup"><span data-stu-id="a96c4-139">hello job has been unloaded because it reached hello [fair share](#fairshare) limit.</span></span> <span data-ttu-id="a96c4-140">Retoma em breve a partir do último ponto de verificação.</span><span class="sxs-lookup"><span data-stu-id="a96c4-140">It resumes shortly from its last checkpoint.</span></span> |
| <span data-ttu-id="a96c4-141">Parada</span><span class="sxs-lookup"><span data-stu-id="a96c4-141">Stopped</span></span> |<span data-ttu-id="a96c4-142">tarefa de Olá foi interrompida pelo utilizador Olá antes de estar concluído.</span><span class="sxs-lookup"><span data-stu-id="a96c4-142">hello job was stopped by hello user before it was completed.</span></span> |
| <span data-ttu-id="a96c4-143">A Parar</span><span class="sxs-lookup"><span data-stu-id="a96c4-143">Stopping</span></span> |<span data-ttu-id="a96c4-144">sistema de Olá está no processo de Olá de parar a tarefa de Olá.</span><span class="sxs-lookup"><span data-stu-id="a96c4-144">hello system is in hello process of stopping hello job.</span></span> |
| <span data-ttu-id="a96c4-145">Suspenso</span><span class="sxs-lookup"><span data-stu-id="a96c4-145">Suspended</span></span> |<span data-ttu-id="a96c4-146">tarefa de Olá foi suspensa pelo utilizador Olá, pelo sistema Olá ou por um comando no runbook Olá.</span><span class="sxs-lookup"><span data-stu-id="a96c4-146">hello job was suspended by hello user, by hello system, or by a command in hello runbook.</span></span> <span data-ttu-id="a96c4-147">Uma tarefa suspensa pode ser iniciada novamente e retomar a partir do último ponto de verificação ou de Olá a partir do runbook Olá se não tem pontos de verificação.</span><span class="sxs-lookup"><span data-stu-id="a96c4-147">A job that is suspended can be started again and resume from its last checkpoint or from hello beginning of hello runbook if it doesn't have checkpoints.</span></span> <span data-ttu-id="a96c4-148">Olá runbook apenas será suspenso pelo sistema Olá quando ocorre uma exceção.</span><span class="sxs-lookup"><span data-stu-id="a96c4-148">hello runbook will only be suspended by hello system when an exception occurs.</span></span> <span data-ttu-id="a96c4-149">Por predefinição, ErrorActionPreference estiver definido demasiado**continuar**, que significa que essa tarefa Olá mantém em execução no erro.</span><span class="sxs-lookup"><span data-stu-id="a96c4-149">By default, ErrorActionPreference is set too**Continue**, meaning that hello job keeps running on an error.</span></span> <span data-ttu-id="a96c4-150">Se esta variável de preferência estiver definido demasiado**parar**, em seguida, a tarefa de Olá suspende a um erro.</span><span class="sxs-lookup"><span data-stu-id="a96c4-150">If this preference variable is set too**Stop**, then hello job suspends on an error.</span></span>  <span data-ttu-id="a96c4-151">Aplica-se demasiado[runbooks gráfico e o fluxo de trabalho do PowerShell](automation-runbook-types.md) apenas.</span><span class="sxs-lookup"><span data-stu-id="a96c4-151">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |
| <span data-ttu-id="a96c4-152">A suspensão</span><span class="sxs-lookup"><span data-stu-id="a96c4-152">Suspending</span></span> |<span data-ttu-id="a96c4-153">sistema de Olá está a tentar tarefa de Olá toosuspend no pedido de Olá do utilizador Olá.</span><span class="sxs-lookup"><span data-stu-id="a96c4-153">hello system is attempting toosuspend hello job at hello request of hello user.</span></span> <span data-ttu-id="a96c4-154">Olá runbook tem de atingir o próximo ponto de verificação antes de poder ser suspenso.</span><span class="sxs-lookup"><span data-stu-id="a96c4-154">hello runbook must reach its next checkpoint before it can be suspended.</span></span> <span data-ttu-id="a96c4-155">Se já passado o último ponto de verificação, em seguida, concluir antes de poder ser suspenso.</span><span class="sxs-lookup"><span data-stu-id="a96c4-155">If it already passed its last checkpoint, then it completes before it can be suspended.</span></span>  <span data-ttu-id="a96c4-156">Aplica-se demasiado[runbooks gráfico e o fluxo de trabalho do PowerShell](automation-runbook-types.md) apenas.</span><span class="sxs-lookup"><span data-stu-id="a96c4-156">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |

## <a name="viewing-job-status-from-hello-azure-portal"></a><span data-ttu-id="a96c4-157">Visualizar o estado da tarefa de Olá portal do Azure</span><span class="sxs-lookup"><span data-stu-id="a96c4-157">Viewing job status from hello Azure portal</span></span>
<span data-ttu-id="a96c4-158">Pode ver um Estado de todas as tarefas de runbook resumido ou explorar detalhes de uma tarefa de runbook específico Olá portal do Azure ou ao configurar a integração com o estado de tarefa runbook de tooforward de área de trabalho de análise de registos do Microsoft Operations Management Suite (OMS) e fluxos de trabalho.</span><span class="sxs-lookup"><span data-stu-id="a96c4-158">You can view a summarized status of all runbook jobs or drill into details of a specific runbook job in hello Azure portal or by configuring integration with your Microsoft Operations Management Suite (OMS) Log Analytics workspace tooforward runbook job status and job streams.</span></span>  <span data-ttu-id="a96c4-159">Para obter mais informações sobre a integração com a análise de registos do OMS, consulte [reencaminhar o estado da tarefa e fluxos de trabalho de automatização tooLog análise (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="a96c4-159">For more information about integrating with OMS Log Analytics, see [Forward job status and job streams from Automation tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>  

### <a name="automation-runbook-jobs-summary"></a><span data-ttu-id="a96c4-160">Tarefas de runbook de automatização resumidas</span><span class="sxs-lookup"><span data-stu-id="a96c4-160">Automation runbook jobs summary</span></span>
<span data-ttu-id="a96c4-161">No Olá direito da sua conta de automatização selecionada, pode ver um resumo de todas as tarefas de runbook Olá para uma conta de automatização selecionada em **estatísticas de tarefa** mosaico.</span><span class="sxs-lookup"><span data-stu-id="a96c4-161">On hello right of your selected Automation account, you can see a summary of all of hello runbook jobs for a selected Automation account under **Job Statistics** tile.</span></span><br><br> <span data-ttu-id="a96c4-162">![Mosaico de estatísticas de tarefa](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span><span class="sxs-lookup"><span data-stu-id="a96c4-162">![Job Statistics tile](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span></span><br> <span data-ttu-id="a96c4-163">Este mosaico mostra uma contagem e a representação gráfica do Estado da tarefa Olá para todas as tarefas executadas.</span><span class="sxs-lookup"><span data-stu-id="a96c4-163">This tile displays a count and graphical representation of hello job status for all jobs executed.</span></span>  

<span data-ttu-id="a96c4-164">Clicar num mosaico Olá apresenta Olá **tarefas** painel, que inclui uma lista resumida de todas as tarefas executadas, com estado, execução da tarefa e os tempos de início e de conclusão.</span><span class="sxs-lookup"><span data-stu-id="a96c4-164">Clicking on hello tile presents hello **Jobs** blade, which includes a summarized list of all jobs executed, with status, job execution, and start and completion times.</span></span><br><br> <span data-ttu-id="a96c4-165">![Painel de tarefas de conta de automatização](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span><span class="sxs-lookup"><span data-stu-id="a96c4-165">![Automation account Jobs blade](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span></span><br><br>  <span data-ttu-id="a96c4-166">Pode filtrar a lista de Olá de tarefas, selecionando **filtre as tarefas** e filtrar por um runbook específico, o estado da tarefa, ou de Olá na lista pendente, Olá toosearch de intervalo de data/hora dentro do.</span><span class="sxs-lookup"><span data-stu-id="a96c4-166">You can filter hello list of jobs by selecting **Filter jobs**  and filter on a specific runbook, job status, or from hello drop-down list, hello date/time range toosearch within.</span></span><br><br> <span data-ttu-id="a96c4-167">![Estado da tarefa de filtro](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span><span class="sxs-lookup"><span data-stu-id="a96c4-167">![Filter Job status](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span></span>

<span data-ttu-id="a96c4-168">Em alternativa, pode ver detalhes de resumo da tarefa para um runbook específico, selecionando esse runbook Olá **Runbooks** painel na sua conta de automatização e, em seguida, selecione de Olá **tarefas** mosaico.</span><span class="sxs-lookup"><span data-stu-id="a96c4-168">Alternatively, you can view job summary details for a specific runbook by selecting that runbook from hello **Runbooks** blade in your Automation account, and then select hello **Jobs** tile.</span></span>  <span data-ttu-id="a96c4-169">Isto apresenta Olá **tarefas** painel, e a partir daí pode clicar em Olá tarefa registo tooview os detalhes e saída.</span><span class="sxs-lookup"><span data-stu-id="a96c4-169">This presents hello **Jobs** blade, and from there you can click on hello job record tooview its detail and output.</span></span><br><br> <span data-ttu-id="a96c4-170">![Painel de tarefas de conta de automatização](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span><span class="sxs-lookup"><span data-stu-id="a96c4-170">![Automation account Jobs blade](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span></span><br> 

### <a name="job-summary"></a><span data-ttu-id="a96c4-171">Resumo da Tarefa</span><span class="sxs-lookup"><span data-stu-id="a96c4-171">Job Summary</span></span>
<span data-ttu-id="a96c4-172">Pode ver uma lista de todas as tarefas de Olá que foram criadas para um determinado runbook e o respetivo estado mais recente.</span><span class="sxs-lookup"><span data-stu-id="a96c4-172">You can view a list of all of hello jobs that have been created for a particular runbook and their most recent status.</span></span> <span data-ttu-id="a96c4-173">Pode filtrar esta lista por Estado da tarefa e intervalo de Olá de datas para Olá última alteração toohello tarefa.</span><span class="sxs-lookup"><span data-stu-id="a96c4-173">You can filter this list by job status and hello range of dates for hello last change toohello job.</span></span> <span data-ttu-id="a96c4-174">tooview respetivo informações detalhadas e de saída, clique no nome de Olá de uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="a96c4-174">tooview its detailed information and output, click on hello name of a job.</span></span> <span data-ttu-id="a96c4-175">Olá vista detalhada da tarefa de Olá inclui Olá os valores de parâmetros do runbook Olá fornecidas toothat tarefa.</span><span class="sxs-lookup"><span data-stu-id="a96c4-175">hello detailed view of hello job includes hello values for hello runbook parameters that were provided toothat job.</span></span>

<span data-ttu-id="a96c4-176">Pode utilizar Olá seguintes tarefas de Olá tooview passos de um runbook.</span><span class="sxs-lookup"><span data-stu-id="a96c4-176">You can use hello following steps tooview hello jobs for a runbook.</span></span>

1. <span data-ttu-id="a96c4-177">No portal do Azure Olá, selecione **automatização** e, em seguida, selecione o nome de Olá de uma conta de automatização.</span><span class="sxs-lookup"><span data-stu-id="a96c4-177">In hello Azure portal, select **Automation** and then select hello name of an Automation account.</span></span>
2. <span data-ttu-id="a96c4-178">A partir do hub de Olá, selecione **Runbooks** e, em seguida, no Olá **Runbooks** painel selecionar um runbook Olá lista.</span><span class="sxs-lookup"><span data-stu-id="a96c4-178">From hello hub, select **Runbooks** and then on hello **Runbooks** blade select a runbook from hello list.</span></span>
3. <span data-ttu-id="a96c4-179">No painel Olá runbook Olá selecionado, clique em Olá **tarefas** mosaico.</span><span class="sxs-lookup"><span data-stu-id="a96c4-179">On hello blade for hello selected runbook, click hello **Jobs** tile.</span></span>
4. <span data-ttu-id="a96c4-180">Clique dos trabalhos de Olá na lista de Olá e no painel de detalhes da tarefa de runbook de Olá pode ver os detalhes e saída.</span><span class="sxs-lookup"><span data-stu-id="a96c4-180">Click on one of hello jobs in hello list and on hello runbook job details blade you can view its detail and output.</span></span>

## <a name="retrieving-job-status-using-windows-powershell"></a><span data-ttu-id="a96c4-181">Obter o estado da tarefa com o Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="a96c4-181">Retrieving job status using Windows PowerShell</span></span>
<span data-ttu-id="a96c4-182">Pode utilizar Olá [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx) tarefas de Olá tooretrieve criadas para um runbook e Olá obter detalhes sobre uma tarefa específica.</span><span class="sxs-lookup"><span data-stu-id="a96c4-182">You can use hello [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx) tooretrieve hello jobs created for a runbook and hello details of a particular job.</span></span> <span data-ttu-id="a96c4-183">Se iniciar um runbook do Windows PowerShell com [início AzureRmAutomationRunbook](https://msdn.microsoft.com/library/mt603661.aspx), em seguida, devolve tarefa resultante Olá.</span><span class="sxs-lookup"><span data-stu-id="a96c4-183">If you start a runbook with Windows PowerShell using [Start-AzureRmAutomationRunbook](https://msdn.microsoft.com/library/mt603661.aspx), then it returns hello resulting job.</span></span> <span data-ttu-id="a96c4-184">Utilize [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)tooget de saída de uma tarefa de saída do.</span><span class="sxs-lookup"><span data-stu-id="a96c4-184">Use [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)Output tooget a job’s output.</span></span>

<span data-ttu-id="a96c4-185">Olá comandos de exemplo seguintes obter a última tarefa de Olá para um runbook de exemplo e apresenta o respetivo estado, os valores de Olá fornecidos para os parâmetros do runbook de Olá e Olá o resultado da tarefa de Olá.</span><span class="sxs-lookup"><span data-stu-id="a96c4-185">hello following sample commands retrieve hello last job for a sample runbook and displays its status, hello values provided for hello runbook parameters, and hello output from hello job.</span></span>

    $job = (Get-AzureRmAutomationJob –AutomationAccountName "MyAutomationAccount" `
    –RunbookName "Test-Runbook" -ResourceGroupName "ResourceGroup01" | sort LastModifiedDate –desc)[0]
    $job.Status
    $job.JobParameters
    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAcct" -Id $job.JobId –Stream Output

## <a name="fair-share"></a><span data-ttu-id="a96c4-186">Fração justa</span><span class="sxs-lookup"><span data-stu-id="a96c4-186">Fair share</span></span>
<span data-ttu-id="a96c4-187">Ordem tooshare recursos entre todos os runbooks na nuvem de Olá o automatização do Azure descarregará temporariamente todas as tarefas depois tem estado em execução para a três horas.</span><span class="sxs-lookup"><span data-stu-id="a96c4-187">In order tooshare resources among all runbooks in hello cloud, Azure Automation will temporarily unload any job after it has been running for three hours.</span></span>  <span data-ttu-id="a96c4-188">Durante este tempo, as tarefas de [runbooks baseados em PowerShell](automation-runbook-types.md#powershell-runbooks) estão parados e não será reiniciado.</span><span class="sxs-lookup"><span data-stu-id="a96c4-188">During this time, jobs for [PowerShell-based runbooks](automation-runbook-types.md#powershell-runbooks) are stopped and will not be restarted.</span></span>  <span data-ttu-id="a96c4-189">Olá, estado de tarefa mostrar **parado**.</span><span class="sxs-lookup"><span data-stu-id="a96c4-189">hello job status shows **Stopped**.</span></span>  <span data-ttu-id="a96c4-190">Este tipo de runbook é sempre reiniciado desde o início de Olá, uma vez que não suportam a pontos de verificação.</span><span class="sxs-lookup"><span data-stu-id="a96c4-190">This type of runbook is always restarted from hello beginning since they don't support checkpoints.</span></span>  

<span data-ttu-id="a96c4-191">[Os runbooks do PowerShell fluxo de trabalho baseada em](automation-runbook-types.md#powershell-workflow-runbooks) será possível retomar a partir da sua última [ponto de verificação](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span><span class="sxs-lookup"><span data-stu-id="a96c4-191">[PowerShell-Workflow-based runbooks](automation-runbook-types.md#powershell-workflow-runbooks) will be resumed from their last [checkpoint](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span></span>  <span data-ttu-id="a96c4-192">Depois de executar a três horas, será possível suspender a tarefa de runbook Olá pelo serviço de Olá e o respetivo estado mostra **em execução, aguardar recursos**.</span><span class="sxs-lookup"><span data-stu-id="a96c4-192">After running three hours, hello runbook job will be suspended by hello service and its status shows **Running, waiting for resources**.</span></span>  <span data-ttu-id="a96c4-193">Quando uma sandbox fica disponível, Olá runbook será reiniciado automaticamente pelo serviço de automatização de Olá e retoma a partir do último ponto de verificação Olá.</span><span class="sxs-lookup"><span data-stu-id="a96c4-193">When a sandbox becomes available, hello runbook will be automatically restarted by hello Automation service and resumes from hello last checkpoint.</span></span>  <span data-ttu-id="a96c4-194">Este é o comportamento normal do fluxo de trabalho do PowerShell para suspender/reinício.</span><span class="sxs-lookup"><span data-stu-id="a96c4-194">This is normal PowerShell-Workflow behavior for suspend/restart.</span></span>  <span data-ttu-id="a96c4-195">Se Olá runbook novo exceder três horas do tempo de execução, repete o processo de Olá, cópia de segurança toothree vezes.</span><span class="sxs-lookup"><span data-stu-id="a96c4-195">If hello runbook again exceeds three hours of runtime, hello process repeats, up toothree times.</span></span>  <span data-ttu-id="a96c4-196">Após o reinício terceiro Olá, se o runbook Olá ainda não foi concluída em três horas, em seguida, falha na tarefa de runbook Olá e mostra o estado da tarefa Olá **falha, aguardar recursos**.</span><span class="sxs-lookup"><span data-stu-id="a96c4-196">After hello third restart, if hello runbook still has not completed in three hours, then hello runbook job is failed, and hello job status shows **Failed, waiting for resources**.</span></span>  <span data-ttu-id="a96c4-197">Neste caso, receberá Olá seguinte exceção com falha de Olá.</span><span class="sxs-lookup"><span data-stu-id="a96c4-197">In this case, you receive hello following exception with hello failure.</span></span>

<span data-ttu-id="a96c4-198">*tarefa de Olá não é possível continuar a ser executada porque este foi expulso repetidamente de Olá mesmo ponto de verificação. Certifique-se que o Runbook não efetua operações demoradas sem a persistência de estado.*</span><span class="sxs-lookup"><span data-stu-id="a96c4-198">*hello job cannot continue running because it was repeatedly evicted from hello same checkpoint. Please make sure your Runbook does not perform lengthy operations without persisting its state.*</span></span>

<span data-ttu-id="a96c4-199">Este é o serviço de Olá de tooprotect a execução de runbooks indefinidamente sem concluir, dado que não fazem toomake consegue-toohello próximo ponto de verificação sem a ser descarregado novamente.</span><span class="sxs-lookup"><span data-stu-id="a96c4-199">This is tooprotect hello service from runbooks running indefinitely without completing, as they are not able toomake it toohello next checkpoint without being unloaded again.</span></span>

<span data-ttu-id="a96c4-200">Se o runbook de Olá possui sem pontos de verificação ou tarefa Olá tinha não aceder ao ponto de verificação primeiro Olá antes de a ser descarregado, em seguida, esta reiniciar desde o início de Olá.</span><span class="sxs-lookup"><span data-stu-id="a96c4-200">If hello runbook has no checkpoints or hello job had not reached hello first checkpoint before being unloaded, then it restarts from hello beginning.</span></span>  

<span data-ttu-id="a96c4-201">Quando criar um runbook, deve garantir que toorun de tempo de Olá quaisquer atividades entre dois pontos de verificação não pode exceder a três horas.</span><span class="sxs-lookup"><span data-stu-id="a96c4-201">When you create a runbook, you should ensure that hello time toorun any activities between two checkpoints does not exceed three hours.</span></span> <span data-ttu-id="a96c4-202">Poderá ser necessário tooadd pontos de verificação tooyour runbook tooensure que não atingiu o limite de três horas ou dividir longa executar operações.</span><span class="sxs-lookup"><span data-stu-id="a96c4-202">You may need tooadd checkpoints tooyour runbook tooensure that it does not reach this three hour limit or break up long running operations.</span></span> <span data-ttu-id="a96c4-203">Por exemplo, o runbook pode executar um reindex numa grande base de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a96c4-203">For example, your runbook might perform a reindex on a large SQL database.</span></span> <span data-ttu-id="a96c4-204">Se esta operação única não for concluída dentro do Olá justa partilha limite, em seguida, a tarefa de Olá é descarregado e reiniciar a partir do início de Olá.</span><span class="sxs-lookup"><span data-stu-id="a96c4-204">If this single operation does not complete within hello fair share limit, then hello job are unloaded and restarted from hello beginning.</span></span> <span data-ttu-id="a96c4-205">Neste caso, deve dividir operação de reindex Olá em vários passos, tais como reindexing uma tabela de cada vez e, em seguida, insira um ponto de verificação após cada operação de modo a que hello tarefa foi retomada após Olá última operação toocomplete.</span><span class="sxs-lookup"><span data-stu-id="a96c4-205">In this case, you should break up hello reindex operation into multiple steps, such as reindexing one table at a time, and then insert a checkpoint after each operation so that hello job could resume after hello last operation toocomplete.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a96c4-206">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="a96c4-206">Next steps</span></span>
* <span data-ttu-id="a96c4-207">toolearn mais informações sobre os diferentes métodos de Olá que podem ser utilizado toostart um runbook na automatização do Azure, consulte [iniciar um runbook na automatização do Azure](automation-starting-a-runbook.md)</span><span class="sxs-lookup"><span data-stu-id="a96c4-207">toolearn more about hello different methods that can be used toostart a runbook in Azure Automation, see [Starting a runbook in Azure Automation](automation-starting-a-runbook.md)</span></span>

