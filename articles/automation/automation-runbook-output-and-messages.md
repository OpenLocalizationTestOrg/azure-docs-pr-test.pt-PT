---
title: "aaaRunbook resultados e mensagens na automatização do Azure | Microsoft Docs"
description: "Desribes como mensagens de erro e de saída toocreate e obter a partir de runbooks na automatização do Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 13a414f5-0e2c-4be2-9558-a3e3ec84b6b2
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/11/2016
ms.author: magoedte;bwren
ms.openlocfilehash: c1505fa889473766bfa47e43aaed2449d60ad851
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pt-PT
ms.lasthandoff: 10/06/2017
---
# <a name="runbook-output-and-messages-in-azure-automation"></a><span data-ttu-id="3f9a5-103">Resultados de Runbook e mensagens na automatização do Azure</span><span class="sxs-lookup"><span data-stu-id="3f9a5-103">Runbook output and messages in Azure Automation</span></span>
<span data-ttu-id="3f9a5-104">A maioria dos runbooks de automatização do Azure terá alguma forma de resultado, como um utilizador de toohello de mensagem de erro ou um objeto complexo destinado toobe consumido por outro fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-104">Most Azure Automation runbooks will have some form of output such as an error message toohello user or a complex object intended toobe consumed by another workflow.</span></span> <span data-ttu-id="3f9a5-105">O Windows PowerShell oferece [vários fluxos](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) toosend um resultado de um script ou o fluxo de trabalho.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-105">Windows PowerShell provides [multiple streams](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) toosend output from a script or workflow.</span></span> <span data-ttu-id="3f9a5-106">Automatização do Azure funciona com cada um destes fluxos de forma diferente e devem ser adotadas as melhores práticas toouse cada quando estiver a criar um runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-106">Azure Automation works with each of these streams differently, and you should follow best practices for how toouse each when you are creating a runbook.</span></span>

<span data-ttu-id="3f9a5-107">Olá tabela seguinte fornece uma breve descrição de cada um dos fluxos de Olá e o respetivo comportamento no Olá Azure Management Portal quando executar um runbook publicado e quando [testar um runbook](automation-testing-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="3f9a5-107">hello following table provides a brief description of each of hello streams and their behavior in hello Azure Management Portal both when running a published runbook and when [testing a runbook](automation-testing-runbook.md).</span></span> <span data-ttu-id="3f9a5-108">Existem mais detalhes sobre cada fluxo são fornecidos nas secções subsequentes.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-108">Further details on each stream are provided in subsequent sections.</span></span>

| <span data-ttu-id="3f9a5-109">Fluxo</span><span class="sxs-lookup"><span data-stu-id="3f9a5-109">Stream</span></span> | <span data-ttu-id="3f9a5-110">Descrição</span><span class="sxs-lookup"><span data-stu-id="3f9a5-110">Description</span></span> | <span data-ttu-id="3f9a5-111">Publicado</span><span class="sxs-lookup"><span data-stu-id="3f9a5-111">Published</span></span> | <span data-ttu-id="3f9a5-112">Teste</span><span class="sxs-lookup"><span data-stu-id="3f9a5-112">Test</span></span> |
|:--- |:--- |:--- |:--- |
| <span data-ttu-id="3f9a5-113">Saída</span><span class="sxs-lookup"><span data-stu-id="3f9a5-113">Output</span></span> |<span data-ttu-id="3f9a5-114">Objetos destinados toobe consumido por outros runbooks.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-114">Objects intended toobe consumed by other runbooks.</span></span> |<span data-ttu-id="3f9a5-115">Escrito no histórico da tarefa toohello.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-115">Written toohello job history.</span></span> |<span data-ttu-id="3f9a5-116">Apresentado no painel de resultados do teste de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-116">Displayed in hello Test Output Pane.</span></span> |
| <span data-ttu-id="3f9a5-117">Aviso</span><span class="sxs-lookup"><span data-stu-id="3f9a5-117">Warning</span></span> |<span data-ttu-id="3f9a5-118">Mensagem de aviso para o utilizador Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-118">Warning message intended for hello user.</span></span> |<span data-ttu-id="3f9a5-119">Escrito no histórico da tarefa toohello.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-119">Written toohello job history.</span></span> |<span data-ttu-id="3f9a5-120">Apresentado no painel de resultados do teste de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-120">Displayed in hello Test Output Pane.</span></span> |
| <span data-ttu-id="3f9a5-121">Erro</span><span class="sxs-lookup"><span data-stu-id="3f9a5-121">Error</span></span> |<span data-ttu-id="3f9a5-122">Mensagem de erro para o utilizador Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-122">Error message intended for hello user.</span></span> <span data-ttu-id="3f9a5-123">Ao contrário de uma exceção, Olá runbook continua após uma mensagem de erro por predefinição.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-123">Unlike an exception, hello runbook continues after an error message by default.</span></span> |<span data-ttu-id="3f9a5-124">Escrito no histórico da tarefa toohello.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-124">Written toohello job history.</span></span> |<span data-ttu-id="3f9a5-125">Apresentado no painel de resultados do teste de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-125">Displayed in hello Test Output Pane.</span></span> |
| <span data-ttu-id="3f9a5-126">Verboso</span><span class="sxs-lookup"><span data-stu-id="3f9a5-126">Verbose</span></span> |<span data-ttu-id="3f9a5-127">Mensagens de fornecer informações gerais ou depuração.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-127">Messages providing general or debugging information.</span></span> |<span data-ttu-id="3f9a5-128">Escrito no histórico de toojob apenas se o registo verboso está ativado para os Olá runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-128">Written toojob history only if verbose logging is turned on for hello runbook.</span></span> |<span data-ttu-id="3f9a5-129">Apresentado no painel de resultados de teste de Olá apenas se $VerbosePreference for definida tooContinue Olá runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-129">Displayed in hello Test Output pane only if $VerbosePreference is set tooContinue in hello runbook.</span></span> |
| <span data-ttu-id="3f9a5-130">Progresso</span><span class="sxs-lookup"><span data-stu-id="3f9a5-130">Progress</span></span> |<span data-ttu-id="3f9a5-131">Registos gerados automaticamente antes e após cada atividade num runbook Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-131">Records automatically generated before and after each activity in hello runbook.</span></span> <span data-ttu-id="3f9a5-132">Olá runbook não deve tentar toocreate os seus próprios registos de progresso, uma vez que estes se destinam a ser um utilizador interativo.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-132">hello runbook should not attempt toocreate its own progress records since they are intended for an interactive user.</span></span> |<span data-ttu-id="3f9a5-133">Escrito no histórico de toojob apenas se o registo de progresso estiver ativado runbook Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-133">Written toojob history only if progress logging is turned on for hello runbook.</span></span> |<span data-ttu-id="3f9a5-134">Não é apresentado no painel de resultados do teste de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-134">Not displayed in hello Test Output Pane.</span></span> |
| <span data-ttu-id="3f9a5-135">Depurar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-135">Debug</span></span> |<span data-ttu-id="3f9a5-136">Mensagens destinadas para um utilizador interativo.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-136">Messages intended for an interactive user.</span></span> <span data-ttu-id="3f9a5-137">Não devem ser utilizadas em runbooks.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-137">Should not be used in runbooks.</span></span> |<span data-ttu-id="3f9a5-138">Não é escrito no histórico de toojob.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-138">Not written toojob history.</span></span> |<span data-ttu-id="3f9a5-139">Não é escrito no tooTest painel de resultados.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-139">Not written tooTest Output Pane.</span></span> |

## <a name="output-stream"></a><span data-ttu-id="3f9a5-140">Fluxo de saída</span><span class="sxs-lookup"><span data-stu-id="3f9a5-140">Output stream</span></span>
<span data-ttu-id="3f9a5-141">fluxo de saída Olá destina-se a saída de objetos criados por um script ou um fluxo de trabalho quando é executada corretamente.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-141">hello Output stream is intended for output of objects created by a script or workflow when it runs correctly.</span></span> <span data-ttu-id="3f9a5-142">Na automatização do Azure, este fluxo é utilizado sobretudo para toobe de objetos que se destinam consumida [principal runbooks que chamem o runbook atual Olá](automation-child-runbooks.md).</span><span class="sxs-lookup"><span data-stu-id="3f9a5-142">In Azure Automation, this stream is primarily used for objects intended toobe consumed by [parent runbooks that call hello current runbook](automation-child-runbooks.md).</span></span> <span data-ttu-id="3f9a5-143">Quando lhe [chamar um runbook inline](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) a partir de um runbook de principal, são devolvidos dados do elemento principal do toohello de fluxo de saída do Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-143">When you [call a runbook inline](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) from a parent runbook, it returns data from hello output stream toohello parent.</span></span> <span data-ttu-id="3f9a5-144">Só deve utilizar utilizador back toohello de informações gerais toocommunicate Olá saída fluxo se souber Olá runbook nunca irá ser chamado por outro runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-144">You should only use hello output stream toocommunicate general information back toohello user if you know hello runbook will never be called by another runbook.</span></span> <span data-ttu-id="3f9a5-145">Como melhor prática, no entanto, deve normalmente utiliza Olá [fluxo verboso](#Verbose) utilizador de toohello toocommunicate informações gerais.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-145">As a best practice, however, you should typically use hello [Verbose Stream](#Verbose) toocommunicate general information toohello user.</span></span>

<span data-ttu-id="3f9a5-146">Pode escrever dados toohello fluxo de saída através de [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) ou ao colocar o objeto de Olá na sua própria linha no runbook Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-146">You can write data toohello output stream using [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) or by putting hello object on its own line in hello runbook.</span></span>

    #hello following lines both write an object toohello output stream.
    Write-Output –InputObject $object
    $object

### <a name="output-from-a-function"></a><span data-ttu-id="3f9a5-147">Saída de uma função</span><span class="sxs-lookup"><span data-stu-id="3f9a5-147">Output from a function</span></span>
<span data-ttu-id="3f9a5-148">Quando escrever o fluxo de saída toohello numa função que está incluída no runbook, o resultado de Olá é passado toohello back-runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-148">When you write toohello output stream in a function that is included in your runbook, hello output is passed back toohello runbook.</span></span> <span data-ttu-id="3f9a5-149">Se Olá runbook atribuir essa variável tooa de saída, em seguida, não será escrita toohello fluxo de saída.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-149">If hello runbook assigns that output tooa variable, then it is not written toohello output stream.</span></span> <span data-ttu-id="3f9a5-150">Escrever tooany outros fluxos a partir da função de Olá irá escrever toohello fluxo correspondente Olá runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-150">Writing tooany other streams from within hello function will write toohello corresponding stream for hello runbook.</span></span>

<span data-ttu-id="3f9a5-151">Considere Olá runbook de exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-151">Consider hello following sample runbook.</span></span>

    Workflow Test-Runbook
    {
        Write-Verbose "Verbose outside of function" -Verbose
        Write-Output "Output outside of function"
        $functionOutput = Test-Function
        $functionOutput

    Function Test-Function
     {
        Write-Verbose "Verbose inside of function" -Verbose
        Write-Output "Output inside of function"
      }
    }


<span data-ttu-id="3f9a5-152">fluxo de saída de Olá Olá tarefa de runbook seria:</span><span class="sxs-lookup"><span data-stu-id="3f9a5-152">hello output stream for hello runbook job would be:</span></span>

    Output inside of function
    Output outside of function

<span data-ttu-id="3f9a5-153">Olá fluxo verboso Olá tarefa de runbook seria:</span><span class="sxs-lookup"><span data-stu-id="3f9a5-153">hello verbose stream for hello runbook job would be:</span></span>

    Verbose outside of function
    Verbose inside of function

<span data-ttu-id="3f9a5-154">Assim que tiver publicado Olá runbook e antes de começá-lo, tem também de ativar o registo nas definições de runbook Olá no Olá de tooget ordem saídas de fluxo verboso verboso.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-154">Once you have published hello runbook and before you start it, you must also turn on Verbose logging in hello runbook settings in order tooget hello Verbose stream output.</span></span>

### <a name="declaring-output-data-type"></a><span data-ttu-id="3f9a5-155">Tipo de dados de saída declarativo</span><span class="sxs-lookup"><span data-stu-id="3f9a5-155">Declaring output data type</span></span>
<span data-ttu-id="3f9a5-156">Um fluxo de trabalho pode especificar o tipo de dados de Olá do respetivo resultado utilizando Olá [atributo OutputType](http://technet.microsoft.com/library/hh847785.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f9a5-156">A workflow can specify hello data type of its output using hello [OutputType attribute](http://technet.microsoft.com/library/hh847785.aspx).</span></span> <span data-ttu-id="3f9a5-157">Este atributo não tem efeito durante o tempo de execução, mas fornece um autor de runbook toohello indicação no momento da conceção de saída Olá esperado de Olá runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-157">This attribute has no effect during runtime, but it provides an indication toohello runbook author at design time of hello expected output of hello runbook.</span></span> <span data-ttu-id="3f9a5-158">Como conjunto de ferramentas de Olá dos runbooks continua tooevolve, importância Olá de declarar os tipos de dados de saída no momento da conceção será aumentam a importância.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-158">As hello toolset for runbooks continues tooevolve, hello importance of declaring output data types at design time will increase in importance.</span></span> <span data-ttu-id="3f9a5-159">Como resultado, é constitui uma melhor prática tooinclude esta declaração em todos os runbooks que criar.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-159">As a result, it is a best practice tooinclude this declaration in any runbooks that you create.</span></span>

<span data-ttu-id="3f9a5-160">Eis uma lista de exemplo os tipos de saída:</span><span class="sxs-lookup"><span data-stu-id="3f9a5-160">Here is a list of example output types:</span></span>

* <span data-ttu-id="3f9a5-161">String</span><span class="sxs-lookup"><span data-stu-id="3f9a5-161">System.String</span></span>
* <span data-ttu-id="3f9a5-162">System. Int32</span><span class="sxs-lookup"><span data-stu-id="3f9a5-162">System.Int32</span></span>
* <span data-ttu-id="3f9a5-163">System.Collections.Hashtable</span><span class="sxs-lookup"><span data-stu-id="3f9a5-163">System.Collections.Hashtable</span></span>
* <span data-ttu-id="3f9a5-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span><span class="sxs-lookup"><span data-stu-id="3f9a5-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span></span>

<span data-ttu-id="3f9a5-165">Olá runbook de exemplo seguinte produz um objeto de cadeia e inclui uma declaração do respetivo tipo de saída.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-165">hello following sample runbook outputs a string object and includes a declaration of its output type.</span></span> <span data-ttu-id="3f9a5-166">Se o runbook devolve uma matriz de um determinado tipo, em seguida, deve especificar ainda Olá tipo como tooan oposição ao matriz do tipo de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-166">If your runbook outputs an array of a certain type, then you should still specify hello type as opposed tooan array of hello type.</span></span>

    Workflow Test-Runbook
    {
       [OutputType([string])]

       $output = "This is some string output."
       Write-Output $output
    }

<span data-ttu-id="3f9a5-167">toodeclare uma saída escreva em runbooks Grapical ou gráfico fluxo de trabalho do PowerShell, pode selecionar Olá **entrada e saída** opção de menu e escreva o nome de Olá de Olá de saída do tipo.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-167">toodeclare an output type in Grapical or Graphical PowerShell Workflow runbooks, you can select hello **Input and Output** menu option and type in hello name of hello output type.</span></span>  <span data-ttu-id="3f9a5-168">Recomendamos que utilize toomake de nome de classe Olá completa .NET-lo facilmente identificável ao referenciá-lo a partir de um runbook principal.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-168">We recommend you use hello full .NET class name toomake it easily identifiable when referencing it from a parent runbook.</span></span>  <span data-ttu-id="3f9a5-169">Isto apresenta todas as propriedades de Olá de barramento de dados de toohello dessa classe no runbook Olá e proporciona muita flexibilidade quando utilizá-los como lógica condicional, registo e de referência como valores para outras atividades no runbook Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-169">This exposes all hello properties of that class toohello data bus in hello runbook and provides a lot of flexibility when using them for conditional logic, logging, and referencing as values for other activities in hello runbook.</span></span><br> <span data-ttu-id="3f9a5-170">![Opção de entrada do Runbook e de saída](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span><span class="sxs-lookup"><span data-stu-id="3f9a5-170">![Runbook Input and Output option](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span></span>

<span data-ttu-id="3f9a5-171">No seguinte exemplo de Olá, temos dois runbooks gráficos toodemonstrate esta funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-171">In hello following example, we have two graphical runbooks toodemonstrate this feature.</span></span>  <span data-ttu-id="3f9a5-172">Se aplicar o modelo de design do runbook modulares Olá, temos um runbook que funciona como Olá *modelo do Runbook de autenticação* gerir a autenticação com a utilização do Azure Olá conta Run As.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-172">If we apply hello modular runbook design model, we have one runbook which serves as hello *Authentication Runbook template* managing authentication with Azure using hello Run As account.</span></span>  <span data-ttu-id="3f9a5-173">Nosso runbook segundo, que normalmente iria efetuar Olá core lógica tooautomate um determinado cenário, neste caso, vai tooexecute Olá *modelo do Runbook de autenticação* e apresentar Olá resultados tooyour **teste** painel de resultados.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-173">Our second runbook, which would normally perform hello core logic tooautomate a given scenario, in this case is going tooexecute hello *Authentication Runbook template* and display hello results tooyour **Test** output pane.</span></span>  <span data-ttu-id="3f9a5-174">Em circunstâncias normais, iremos teria este runbook fazer algo contra uma saída de Olá aproveitamento do recurso a partir do runbook subordinado de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-174">Under normal circumstances, we would have this runbook do something against a resource leveraging hello output from hello child runbook.</span></span>    

<span data-ttu-id="3f9a5-175">Eis a lógica básica de Olá de Olá **AuthenticateTo Azure** runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-175">Here is hello basic logic of hello **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="3f9a5-176">![Exemplo de modelo do Runbook de autenticar](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span><span class="sxs-lookup"><span data-stu-id="3f9a5-176">![Authenticate Runbook Template Example](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span></span>  

<span data-ttu-id="3f9a5-177">Inclui o tipo de saída Olá *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, que irá devolver propriedades de perfil de autenticação de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-177">It includes hello output type *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, which will return hello authentication profile properties.</span></span><br> <span data-ttu-id="3f9a5-178">![Exemplo de tipo de resultado do Runbook](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span><span class="sxs-lookup"><span data-stu-id="3f9a5-178">![Runbook Output Type Example](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span></span> 

<span data-ttu-id="3f9a5-179">Embora este runbook seja muito diretamente reencaminhar, há um toocall de item de configuração terminar aqui.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-179">While this runbook is very straight forward, there is one configuration item toocall out here.</span></span>  <span data-ttu-id="3f9a5-180">última atividade de Olá está a executar o Olá **Write-Output** cmdlet e escritas de paginações hello as variável de _ tooa de dados do perfil $ utilizando uma expressão do PowerShell para Olá **Inputobject** parâmetro, que é necessário para que cmdlet.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-180">hello last activity is executing hello **Write-Output** cmdlet and writes hello profile data tooa $_ variable using a PowerShell expression for hello **Inputobject** parameter, which is required for that cmdlet.</span></span>  

<span data-ttu-id="3f9a5-181">Para o runbook segundo Olá, neste exemplo, com o nome *teste ChildOutputType*, temos simplesmente duas atividades.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-181">For hello second runbook in this example, named *Test-ChildOutputType*, we simply have two activities.</span></span><br> <span data-ttu-id="3f9a5-182">![Tipo de Runbook de saída subordinado de exemplo](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span><span class="sxs-lookup"><span data-stu-id="3f9a5-182">![Example Child Output Type Runbook](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span></span> 

<span data-ttu-id="3f9a5-183">primeira actividade a Olá chama Olá **AuthenticateTo Azure** runbook e Olá segunda atividade está em execução Olá **Write-Verbose** cmdlet com Olá **origem de dados** de  **Saída da atividade** e valor Olá **caminho do campo** é **Context.Subscription.SubscriptionName**, que está a especificar um resultado de contexto de Olá Olá  **AuthenticateTo Azure** runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-183">hello first activity calls hello **AuthenticateTo-Azure** runbook and hello second activity is running hello **Write-Verbose** cmdlet with hello **Data source** of **Activity output** and hello value for **Field path** is **Context.Subscription.SubscriptionName**, which is specifying hello context output from hello **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="3f9a5-184">![Origem de dados de parâmetro de cmdlet Write-Verbose](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span><span class="sxs-lookup"><span data-stu-id="3f9a5-184">![Write-Verbose cmdlet Parameter Data Source](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span></span>    

<span data-ttu-id="3f9a5-185">o resultado resultante Olá é nome Olá da subscrição Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-185">hello resulting output is hello name of hello subscription.</span></span><br> ![Resultados de Runbook de teste ChildOutputType](media/automation-runbook-output-and-messages/runbook-test-childoutputtype-results.png)

<span data-ttu-id="3f9a5-187">Uma nota sobre o comportamento de Olá de Olá controlo de tipo de saída.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-187">One note about hello behavior of hello Output Type control.</span></span>  <span data-ttu-id="3f9a5-188">Quando escreve um valor no campo do tipo de saída Olá no Olá entrada e o painel de propriedades de saída, tiver tooclick fora do controlo de Olá depois de escrever, por ordem para a sua toobe de entrada reconhecido pelo controlo de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-188">When you type a value in hello Output Type field on hello Input and Output properties blade, you have tooclick outside of hello control  after you type it, in order for your entry toobe recognized by hello control.</span></span>  

## <a name="message-streams"></a><span data-ttu-id="3f9a5-189">Fluxos de mensagens</span><span class="sxs-lookup"><span data-stu-id="3f9a5-189">Message streams</span></span>
<span data-ttu-id="3f9a5-190">Ao contrário do fluxo de saída Olá, fluxos de mensagens são utilizador de toohello de informações de toocommunicate pretendido.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-190">Unlike hello output stream, message streams are intended toocommunicate information toohello user.</span></span> <span data-ttu-id="3f9a5-191">Existem vários fluxos de mensagens para diferentes tipos de informações e cada um é processada de forma pela automatização do Azure.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-191">There are multiple message streams for different kinds of information, and each is handled differently by Azure Automation.</span></span>

### <a name="warning-and-error-streams"></a><span data-ttu-id="3f9a5-192">Fluxos de avisos e erros</span><span class="sxs-lookup"><span data-stu-id="3f9a5-192">Warning and error streams</span></span>
<span data-ttu-id="3f9a5-193">fluxos de avisos e erros de Olá são toolog pretendido problemas que ocorrem num runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-193">hello Warning and Error streams are intended toolog problems that occur in a runbook.</span></span> <span data-ttu-id="3f9a5-194">Estes são escritos no histórico da tarefa toohello quando um runbook é executado e estão incluídos no painel de resultados do teste de Olá no Olá Azure Management Portal quando um runbook é testado.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-194">They are written toohello job history when a runbook is executed, and are included in hello Test Output Pane in hello Azure Management Portal when a runbook is tested.</span></span> <span data-ttu-id="3f9a5-195">Por predefinição, Olá runbook continuará a ser executado após um aviso ou erro.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-195">By default, hello runbook will continue executing after a warning or error.</span></span> <span data-ttu-id="3f9a5-196">Pode especificar esse runbook Olá deve ser suspenso após um aviso ou erro ao definir um [variável de preferência](#PreferenceVariables) Olá runbook antes de criar mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-196">You can specify that hello runbook should be suspended on a warning or error by setting a [preference variable](#PreferenceVariables) in hello runbook before creating hello message.</span></span> <span data-ttu-id="3f9a5-197">Por exemplo, toocause toosuspend um runbook com um erro que teria uma exceção, defina **$ErrorActionPreference** tooStop.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-197">For example, toocause a runbook toosuspend on an error as it would an exception, set **$ErrorActionPreference** tooStop.</span></span>

<span data-ttu-id="3f9a5-198">Criar uma mensagem de aviso ou erro utilizando Olá [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) ou [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-198">Create a warning or error message using hello [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) or [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) cmdlet.</span></span> <span data-ttu-id="3f9a5-199">As atividades também podem escrever fluxos toothese.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-199">Activities may also write toothese streams.</span></span>

    #hello following lines create a warning message and then an error message that will suspend hello runbook.

    $ErrorActionPreference = "Stop"
    Write-Warning –Message "This is a warning message."
    Write-Error –Message "This is an error message that will stop hello runbook because of hello preference variable."

### <a name="verbose-stream"></a><span data-ttu-id="3f9a5-200">Fluxo verboso</span><span class="sxs-lookup"><span data-stu-id="3f9a5-200">Verbose stream</span></span>
<span data-ttu-id="3f9a5-201">fluxo de mensagens verbosas Olá é para obter informações gerais sobre a operação do runbook Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-201">hello Verbose message stream is for general information about hello runbook operation.</span></span> <span data-ttu-id="3f9a5-202">Desde Olá [fluxo de depuração](#Debug) não está disponível num runbook, as mensagens verbosas devem ser utilizadas para informações de depuração.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-202">Since hello [Debug Stream](#Debug) is not available in a runbook, verbose messages should be used for debug information.</span></span> <span data-ttu-id="3f9a5-203">Por predefinição, as mensagens verbosas de runbooks publicados não serão armazenadas no histórico da tarefa Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-203">By default, verbose messages from published runbooks will not be stored in hello job history.</span></span> <span data-ttu-id="3f9a5-204">as mensagens verbosas toostore, configure os runbooks publicados tooLog registos verbosos no separador de configurar Olá de runbook Olá no Olá Portal de gestão do Azure.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-204">toostore verbose messages, configure published runbooks tooLog Verbose Records on hello Configure tab of hello runbook in hello Azure Management Portal.</span></span> <span data-ttu-id="3f9a5-205">Na maioria dos casos, deve manter Olá predefinição não criar registos verbosos para um runbook por motivos de desempenho.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-205">In most cases, you should keep hello default setting of not logging verbose records for a runbook for performance reasons.</span></span> <span data-ttu-id="3f9a5-206">Ativar esta tootroubleshoot apenas de opção ou depurar um runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-206">Turn on this option only tootroubleshoot or debug a runbook.</span></span>

<span data-ttu-id="3f9a5-207">Quando [testar um runbook](automation-testing-runbook.md), as mensagens verbosas não são apresentadas, mesmo que esteja Olá runbook registos verbosos toolog configurado.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-207">When [testing a runbook](automation-testing-runbook.md), verbose messages are not displayed even if hello runbook is configured toolog verbose records.</span></span> <span data-ttu-id="3f9a5-208">as mensagens verbosas toodisplay ao [testar um runbook](automation-testing-runbook.md), tem de definir Olá $VerbosePreference tooContinue de variável.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-208">toodisplay verbose messages while [testing a runbook](automation-testing-runbook.md), you must set hello $VerbosePreference variable tooContinue.</span></span> <span data-ttu-id="3f9a5-209">Com essa variável definida, as mensagens verbosas serão apresentadas no Olá painel de resultados do teste de Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-209">With that variable set, verbose messages will be displayed in hello Test Output Pane of hello Azure portal.</span></span>

<span data-ttu-id="3f9a5-210">Criar uma mensagens verbosas utilizando Olá [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-210">Create a verbose message using hello [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) cmdlet.</span></span>

    #hello following line creates a verbose message.

    Write-Verbose –Message "This is a verbose message."

### <a name="debug-stream"></a><span data-ttu-id="3f9a5-211">Fluxo de depuração</span><span class="sxs-lookup"><span data-stu-id="3f9a5-211">Debug stream</span></span>
<span data-ttu-id="3f9a5-212">fluxo de depuração de Olá destina-se com um utilizador interativo e não deve ser utilizado em runbooks.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-212">hello Debug stream is intended for use with an interactive user and should not be used in runbooks.</span></span>

## <a name="progress-records"></a><span data-ttu-id="3f9a5-213">Registos de progressos</span><span class="sxs-lookup"><span data-stu-id="3f9a5-213">Progress records</span></span>
<span data-ttu-id="3f9a5-214">Se configurar um progresso de toolog runbook regista (no separador de configurar Olá de Olá runbook no portal do Azure de Olá), em seguida, um registo será escrito toohello histórico da tarefa antes e após cada atividade é executada.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-214">If you configure a runbook toolog progress records (on hello Configure tab of hello runbook in hello Azure portal), then a record will be written toohello job history before and after each activity is run.</span></span> <span data-ttu-id="3f9a5-215">Na maioria dos casos, deve manter a predefinição de Olá de registo não registos de progresso de um runbook no desempenho de toomaximize de ordem.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-215">In most cases, you should keep hello default setting of not logging progress records for a runbook in order toomaximize performance.</span></span> <span data-ttu-id="3f9a5-216">Ativar esta tootroubleshoot apenas de opção ou depurar um runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-216">Turn on this option only tootroubleshoot or debug a runbook.</span></span> <span data-ttu-id="3f9a5-217">Ao testar um runbook, não são apresentadas mensagens de progresso, mesmo que esteja Olá runbook registos de progressos toolog configurado.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-217">When testing a runbook, progress messages are not displayed even if hello runbook is configured toolog progress records.</span></span>

<span data-ttu-id="3f9a5-218">Olá [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) cmdlet não é válido num runbook, uma vez que este se destina a ser utilizado com um utilizador interativo.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-218">hello [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) cmdlet is not valid in a runbook, since this is intended for use with an interactive user.</span></span>

## <a name="preference-variables"></a><span data-ttu-id="3f9a5-219">Variáveis de preferência</span><span class="sxs-lookup"><span data-stu-id="3f9a5-219">Preference variables</span></span>
<span data-ttu-id="3f9a5-220">O Windows PowerShell utiliza [variáveis de preferência](http://technet.microsoft.com/library/hh847796.aspx) toodetermine como toorespond toodata enviado toodifferent saída fluxos.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-220">Windows PowerShell uses [preference variables](http://technet.microsoft.com/library/hh847796.aspx) toodetermine how toorespond toodata sent toodifferent output streams.</span></span> <span data-ttu-id="3f9a5-221">Pode definir estas variáveis num toocontrol runbook como este responderá toodata enviados para vários fluxos.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-221">You can set these variables in a runbook toocontrol how it will respond toodata sent into different streams.</span></span>

<span data-ttu-id="3f9a5-222">Olá tabela seguinte apresenta uma lista de variáveis de preferência Olá que podem ser utilizadas em runbooks com os respetivos válido e valores predefinidos.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-222">hello following table lists hello preference variables that can be used in runbooks with their valid and default values.</span></span> <span data-ttu-id="3f9a5-223">Tenha em atenção que esta tabela inclui apenas os valores de Olá que são válidos num runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-223">Note that this table only includes hello values that are valid in a runbook.</span></span> <span data-ttu-id="3f9a5-224">Os valores adicionais são válidos para variáveis de preferência Olá quando utilizado no Windows PowerShell fora da automatização do Azure.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-224">Additional values are valid for hello preference variables when used in Windows PowerShell outside of Azure Automation.</span></span>

| <span data-ttu-id="3f9a5-225">Variável</span><span class="sxs-lookup"><span data-stu-id="3f9a5-225">Variable</span></span> | <span data-ttu-id="3f9a5-226">Valor predefinido</span><span class="sxs-lookup"><span data-stu-id="3f9a5-226">Default Value</span></span> | <span data-ttu-id="3f9a5-227">Valores válidos</span><span class="sxs-lookup"><span data-stu-id="3f9a5-227">Valid Values</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="3f9a5-228">WarningPreference</span><span class="sxs-lookup"><span data-stu-id="3f9a5-228">WarningPreference</span></span> |<span data-ttu-id="3f9a5-229">Continuar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-229">Continue</span></span> |<span data-ttu-id="3f9a5-230">Parar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-230">Stop</span></span><br><span data-ttu-id="3f9a5-231">Continuar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-231">Continue</span></span><br><span data-ttu-id="3f9a5-232">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="3f9a5-232">SilentlyContinue</span></span> |
| <span data-ttu-id="3f9a5-233">ErrorActionPreference</span><span class="sxs-lookup"><span data-stu-id="3f9a5-233">ErrorActionPreference</span></span> |<span data-ttu-id="3f9a5-234">Continuar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-234">Continue</span></span> |<span data-ttu-id="3f9a5-235">Parar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-235">Stop</span></span><br><span data-ttu-id="3f9a5-236">Continuar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-236">Continue</span></span><br><span data-ttu-id="3f9a5-237">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="3f9a5-237">SilentlyContinue</span></span> |
| <span data-ttu-id="3f9a5-238">VerbosePreference</span><span class="sxs-lookup"><span data-stu-id="3f9a5-238">VerbosePreference</span></span> |<span data-ttu-id="3f9a5-239">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="3f9a5-239">SilentlyContinue</span></span> |<span data-ttu-id="3f9a5-240">Parar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-240">Stop</span></span><br><span data-ttu-id="3f9a5-241">Continuar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-241">Continue</span></span><br><span data-ttu-id="3f9a5-242">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="3f9a5-242">SilentlyContinue</span></span> |

<span data-ttu-id="3f9a5-243">Olá a tabela seguinte lista o comportamento de Olá para Olá preferência valores das variáveis que são válidas nos runbooks.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-243">hello following table lists hello behavior for hello preference variable values that are valid in runbooks.</span></span>

| <span data-ttu-id="3f9a5-244">Valor</span><span class="sxs-lookup"><span data-stu-id="3f9a5-244">Value</span></span> | <span data-ttu-id="3f9a5-245">Comportamento</span><span class="sxs-lookup"><span data-stu-id="3f9a5-245">Behavior</span></span> |
|:--- |:--- |
| <span data-ttu-id="3f9a5-246">Continuar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-246">Continue</span></span> |<span data-ttu-id="3f9a5-247">Regista a mensagem de saudação e continua a executar o runbook Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-247">Logs hello message and continues executing hello runbook.</span></span> |
| <span data-ttu-id="3f9a5-248">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="3f9a5-248">SilentlyContinue</span></span> |<span data-ttu-id="3f9a5-249">Continua a executar Olá runbook sem registar a mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-249">Continues executing hello runbook without logging hello message.</span></span> <span data-ttu-id="3f9a5-250">Isto afeta Olá de ignorar a mensagem de saudação.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-250">This has hello effect of ignoring hello message.</span></span> |
| <span data-ttu-id="3f9a5-251">Parar</span><span class="sxs-lookup"><span data-stu-id="3f9a5-251">Stop</span></span> |<span data-ttu-id="3f9a5-252">Regista a mensagem de saudação e suspende o runbook Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-252">Logs hello message and suspends hello runbook.</span></span> |

## <a name="retrieving-runbook-output-and-messages"></a><span data-ttu-id="3f9a5-253">Obter resultados de runbook e mensagens</span><span class="sxs-lookup"><span data-stu-id="3f9a5-253">Retrieving runbook output and messages</span></span>
### <a name="azure-portal"></a><span data-ttu-id="3f9a5-254">Portal do Azure</span><span class="sxs-lookup"><span data-stu-id="3f9a5-254">Azure portal</span></span>
<span data-ttu-id="3f9a5-255">Pode ver os detalhes de Olá de uma tarefa de runbook na Olá portal do Azure a partir do separador de tarefas Olá de um runbook.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-255">You can view hello details of a runbook job in hello Azure portal from hello Jobs tab of a runbook.</span></span> <span data-ttu-id="3f9a5-256">Olá resumo da tarefa de Olá apresentará os parâmetros de entrada Olá e Olá [fluxo de saída](#Output) na adição toogeneral sobre a tarefa de Olá e quaisquer exceções, caso ocorram.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-256">hello Summary of hello job will display hello input parameters and hello [Output Stream](#Output) in addition toogeneral information about hello job and any exceptions if they occurred.</span></span> <span data-ttu-id="3f9a5-257">Olá histórico incluirá as mensagens de Olá [fluxo de saída](#Output) e [aviso e erro fluxos](#WarningError) na adição toohello [fluxo verboso](#Verbose) e [progresso Regista](#Progress) se Olá runbook estiver configurado toolog verboso e registos de progressos.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-257">hello History will include messages from hello [Output Stream](#Output) and [Warning and Error Streams](#WarningError) in addition toohello [Verbose Stream](#Verbose) and [Progress Records](#Progress) if hello runbook is configured toolog verbose and progress records.</span></span>

### <a name="windows-powershell"></a><span data-ttu-id="3f9a5-258">Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="3f9a5-258">Windows PowerShell</span></span>
<span data-ttu-id="3f9a5-259">No Windows PowerShell, pode obter resultados e mensagens de um runbook com Olá [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-259">In Windows PowerShell, you can retrieve output and messages from a runbook using hello [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) cmdlet.</span></span> <span data-ttu-id="3f9a5-260">Este cmdlet requer Olá ID da tarefa de Olá e tem um parâmetro denominado fluxo onde especificar que fluxo tooreturn.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-260">This cmdlet requires hello ID of hello job and has a parameter called Stream where you specify which stream tooreturn.</span></span> <span data-ttu-id="3f9a5-261">Pode especificar qualquer tooreturn todos os fluxos de trabalho de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-261">You can specify Any tooreturn all streams for hello job.</span></span>

<span data-ttu-id="3f9a5-262">Olá seguinte o exemplo inicia um runbook de exemplo e, em seguida, aguarda para o mesmo toocomplete.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-262">hello following example starts a sample runbook and then waits for it toocomplete.</span></span> <span data-ttu-id="3f9a5-263">Depois de concluída, o fluxo de saída é recolhido da tarefa de Olá.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-263">Once completed, its output stream is collected from hello job.</span></span>

    $job = Start-AzureRmAutomationRunbook -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" –Name "Test-Runbook"

    $doLoop = $true
    While ($doLoop) {
       $job = Get-AzureRmAutomationJob -ResourceGroupName "ResourceGroup01" `
       –AutomationAccountName "MyAutomationAccount" -Id $job.JobId
       $status = $job.Status
       $doLoop = (($status -ne "Completed") -and ($status -ne "Failed") -and ($status -ne "Suspended") -and ($status -ne "Stopped")
    }

    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" -Id $job.JobId –Stream Output

### <a name="graphical-authoring"></a><span data-ttu-id="3f9a5-264">Criação de gráficos</span><span class="sxs-lookup"><span data-stu-id="3f9a5-264">Graphical Authoring</span></span>
<span data-ttu-id="3f9a5-265">Para runbooks gráficos, registo extra está disponível no formulário de Olá de rastreio de nível de atividade.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-265">For graphical runbooks, extra logging is available in hello form of activity-level tracing.</span></span>  <span data-ttu-id="3f9a5-266">Existem dois níveis de rastreio: básico e detalhados.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-266">There are two levels of tracing: Basic and Detailed.</span></span>  <span data-ttu-id="3f9a5-267">Rastreio básico, pode ver Olá iniciar em tentativas de atividade tooany, como o número de tentativas e a hora de início da atividade de Olá relacionadas com a hora de fim de cada atividade num runbook Olá mais informações.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-267">In Basic tracing, you can see hello start and end time of each activity in hello runbook plus information related tooany activity retries, such as number of attempts and start time of hello activity.</span></span>  <span data-ttu-id="3f9a5-268">Rastreio de detalhado, receberá básico rastreio adição de entrada e saída para cada atividade.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-268">In Detailed tracing, you get Basic tracing plus input and output data for each activity.</span></span>  <span data-ttu-id="3f9a5-269">Tenha em atenção que atualmente registos de rastreio de Olá são escritos utilizando fluxo verboso Olá, pelo que tem de ativar o registo verboso quando ativar o rastreio.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-269">Note that currently hello trace records are written using hello verbose stream, so you must enable Verbose logging when you enable tracing.</span></span>  <span data-ttu-id="3f9a5-270">Para runbooks gráficos com rastreio ativado não é necessário toolog registos de progresso, uma vez que funciona de rastreio básico Olá Olá a mesma finalidade e é mais informativo.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-270">For graphical runbooks with tracing enabled there is no need toolog progress records, because hello Basic tracing serves hello same purpose and is more informative.</span></span>

![Vista de fluxos de trabalho de criação gráfico](media/automation-runbook-output-and-messages/job-streams-view-blade.png)

<span data-ttu-id="3f9a5-272">Pode ver partir Olá acima captura de ecrã que quando ativar verboso registo e rastreio para runbooks gráficos, estão disponíveis em produção Olá que ver fluxos de trabalho muito mais informações.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-272">You can see from hello above screenshot that when you enable Verbose logging and tracing for Graphical runbooks, much more information is available in hello production Job Streams view.</span></span>  <span data-ttu-id="3f9a5-273">Estas informações adicionais podem ser essenciais para a resolução de problemas de produção com um runbook e, por conseguinte, deve apenas ativá-la para essa finalidade e não como uma prática geral.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-273">This extra information can be essential for troubleshooting production problems with a runbook, and therefore you should only enable it for that purpose and not as a general practice.</span></span>    
<span data-ttu-id="3f9a5-274">registos de rastreio de Olá podem ser especialmente várias.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-274">hello Trace records can be especially numerous.</span></span>  <span data-ttu-id="3f9a5-275">Com um runbook gráfico rastreio, pode obter dois registos toofour por atividade, dependendo se configurou o rastreio básico ou detalhado.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-275">With Graphical runbook tracing you can get two toofour records per activity depending on whether you have configured Basic or Detailed tracing.</span></span>  <span data-ttu-id="3f9a5-276">A menos que precisar desta informação tootrack Olá progresso um runbook para resolução de problemas, pode querer tookeep que rastreio desativado.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-276">Unless you need this information tootrack hello progress of a runbook for troubleshooting, you might want tookeep Tracing turned off.</span></span>

<span data-ttu-id="3f9a5-277">**tooenable nível de atividade de rastreio, execute Olá os seguintes passos.**</span><span class="sxs-lookup"><span data-stu-id="3f9a5-277">**tooenable activity-level tracing, perform hello following steps.**</span></span>

1. <span data-ttu-id="3f9a5-278">No Portal do Azure Olá, abra a sua conta de automatização.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-278">In hello Azure Portal, open your Automation account.</span></span>
2. <span data-ttu-id="3f9a5-279">Clique em Olá **Runbooks** mosaico tooopen Olá lista de runbooks.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-279">Click on hello **Runbooks** tile tooopen hello list of runbooks.</span></span>
3. <span data-ttu-id="3f9a5-280">No painel de Runbooks Olá, clique em tooselect um runbook gráfico da sua lista de runbooks.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-280">On hello Runbooks blade, click tooselect a graphical runbook from your list of runbooks.</span></span>
4. <span data-ttu-id="3f9a5-281">No painel de definições de Olá do runbook Olá selecionado, clique em **registo e rastreio**.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-281">On hello Settings blade for hello selected runbook, click **Logging and Tracing**.</span></span>
5. <span data-ttu-id="3f9a5-282">Olá registo e rastreio painel, sob criar registos verbosos, clique em **no** tooenable o registo verboso e rastreio udner nível de atividade, alterar o nível de rastreio de Olá demasiado**básico** ou **detalhados**  com base no nível de Olá de rastreio precisa.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-282">On hello Logging and Tracing blade, under Log verbose records, click **On** tooenable verbose logging and udner Activity-level tracing, change hello trace level too**Basic** or **Detailed** based on hello level of tracing you require.</span></span><br>
   
   ![Registo de criação gráfico e painel de rastreio](media/automation-runbook-output-and-messages/logging-and-tracing-settings-blade.png)

### <a name="microsoft-operations-management-suite-oms-log-analytics"></a><span data-ttu-id="3f9a5-284">Análise de registos do Microsoft Operations Management Suite (OMS)</span><span class="sxs-lookup"><span data-stu-id="3f9a5-284">Microsoft Operations Management Suite (OMS) Log Analytics</span></span>
<span data-ttu-id="3f9a5-285">Automatização pode enviar runbook tarefa estado e tarefa fluxos tooyour análise de registos do Microsoft Operations Management Suite (OMS) área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="3f9a5-285">Automation can send runbook job status and job streams tooyour Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  <span data-ttu-id="3f9a5-286">Análise de registos pode,</span><span class="sxs-lookup"><span data-stu-id="3f9a5-286">With Log Analytics you can,</span></span>

* <span data-ttu-id="3f9a5-287">Obter conhecimentos aprofundados sobre as tarefas de automatização</span><span class="sxs-lookup"><span data-stu-id="3f9a5-287">Get insight on your Automation jobs</span></span> 
* <span data-ttu-id="3f9a5-288">Acionamento um e-mail ou o alerta com base no seu estado de tarefa de runbook (por exemplo, falha ou suspenso)</span><span class="sxs-lookup"><span data-stu-id="3f9a5-288">Trigger an email or alert based on your runbook job status (e.g. failed or suspended)</span></span> 
* <span data-ttu-id="3f9a5-289">Escrever consultas avançadas nos seus fluxos de trabalho</span><span class="sxs-lookup"><span data-stu-id="3f9a5-289">Write advanced queries across your job streams</span></span> 
* <span data-ttu-id="3f9a5-290">Correlacionar tarefas em contas de automatização</span><span class="sxs-lookup"><span data-stu-id="3f9a5-290">Correlate jobs across Automation accounts</span></span> 
* <span data-ttu-id="3f9a5-291">Visualizar o histórico do trabalho ao longo do tempo</span><span class="sxs-lookup"><span data-stu-id="3f9a5-291">Visualize your job history over time</span></span>    

<span data-ttu-id="3f9a5-292">Para obter mais informações sobre como tooconfigure integração com toocollect de análise de registos, correlacionar e atuar sobre dados da tarefa, consulte [reencaminhar o estado da tarefa e fluxos de trabalho de automatização tooLog análise (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="3f9a5-292">For more information on how tooconfigure integration with Log Analytics toocollect, correlate and act on job data, see [Forward job status and job streams from Automation tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="3f9a5-293">Passos seguintes</span><span class="sxs-lookup"><span data-stu-id="3f9a5-293">Next steps</span></span>
* <span data-ttu-id="3f9a5-294">mais sobre a execução do runbook, como as tarefas de runbook toomonitor e outros detalhes técnicos, consulte toolearn [controlar uma tarefa de runbook](automation-runbook-execution.md)</span><span class="sxs-lookup"><span data-stu-id="3f9a5-294">toolearn more about runbook execution, how toomonitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
* <span data-ttu-id="3f9a5-295">toounderstand como runbooks subordinados toodesign e utilização, consulte [runbooks subordinados na automatização do Azure](automation-child-runbooks.md)</span><span class="sxs-lookup"><span data-stu-id="3f9a5-295">toounderstand how toodesign and use child runbooks, see [Child runbooks in Azure Automation](automation-child-runbooks.md)</span></span>

