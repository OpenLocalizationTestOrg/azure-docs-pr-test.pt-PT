
<span data-ttu-id="c2ec8-101">Cada ponto final tem um *Porta pública* e um *porta privada*:</span><span class="sxs-lookup"><span data-stu-id="c2ec8-101">Each endpoint has a *public port* and a *private port*:</span></span>

* <span data-ttu-id="c2ec8-102">Porta pública Olá é utilizada pelo toolisten de Balanceador de carga do Azure Olá para receber tráfego toohello máquina virtual a partir Olá Internet.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-102">hello public port is used by hello Azure load balancer toolisten for incoming traffic toohello virtual machine from hello Internet.</span></span>
* <span data-ttu-id="c2ec8-103">Porta privada Olá é utilizada pelo Olá toolisten de máquina virtual para receber tráfego, tooan normalmente destinados a aplicação ou serviço em execução na máquina virtual de Olá.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-103">hello private port is used by hello virtual machine toolisten for incoming traffic, typically destined tooan application or service running on hello virtual machine.</span></span>

<span data-ttu-id="c2ec8-104">Os valores predefinidos para Olá protocolo de endereço IP e portas TCP ou UDP para protocolos de rede bem conhecidos são fornecidas quando criar pontos finais com Olá portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-104">Default values for hello IP protocol and TCP or UDP ports for well-known network protocols are provided when you create endpoints with hello Azure portal.</span></span> <span data-ttu-id="c2ec8-105">Para os pontos finais personalizados, terá de toospecify Olá correto protocolo IP (TCP ou UDP) e as portas públicas e privadas do Olá.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-105">For custom endpoints, you'll need toospecify hello correct IP protocol (TCP or UDP) and hello public and private ports.</span></span> <span data-ttu-id="c2ec8-106">tráfego de entrada toodistribute aleatoriamente em várias máquinas virtuais, terá de toocreate um conjunto com balanceamento de carga constituídas por vários pontos finais.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-106">toodistribute incoming traffic randomly across multiple virtual machines, you'll need toocreate a load-balanced set consisting of multiple endpoints.</span></span>

<span data-ttu-id="c2ec8-107">Depois de criar um ponto final, pode utilizar um controlo lista (ACL) toodefine as regras de acesso que permitem ou negam o tráfego de entrada Olá toohello Porta pública do ponto final de Olá com base no respetivo endereço IP de origem.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-107">After you create an endpoint, you can use an access control list (ACL) toodefine rules that permit or deny hello incoming traffic toohello public port of hello endpoint based on its source IP address.</span></span> <span data-ttu-id="c2ec8-108">No entanto, se a máquina virtual de Olá numa rede virtual do Azure, deve de utilizar grupos de segurança de rede em vez disso.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-108">However, if hello virtual machine is in an Azure virtual network, you should use network security groups instead.</span></span> <span data-ttu-id="c2ec8-109">Para obter mais informações, consulte [sobre grupos de segurança de rede](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="c2ec8-109">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

> [!NOTE]
> <span data-ttu-id="c2ec8-110">Configuração da firewall para máquinas virtuais do Azure é efetuada automaticamente para as portas associadas a pontos finais de conectividade remota que Azure configura automaticamente.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-110">Firewall configuration for Azure virtual machines is done automatically for ports associated with remote connectivity endpoints that Azure sets up automatically.</span></span> <span data-ttu-id="c2ec8-111">Para as portas especificadas para todos os outros pontos finais, nenhuma configuração é feita automaticamente toohello firewall da máquina virtual de Olá.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-111">For ports specified for all other endpoints, no configuration is done automatically toohello firewall of hello virtual machine.</span></span> <span data-ttu-id="c2ec8-112">Quando cria um ponto final da máquina virtual de Olá, terá de tooensure Olá firewall da máquina virtual de Olá também permite que o tráfego de Olá de protocolo de Olá e configuração de ponto final de toohello porta privada correspondente.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-112">When you create an endpoint for hello virtual machine, you'll need tooensure that hello firewall of hello virtual machine also allows hello traffic for hello protocol and private port corresponding toohello endpoint configuration.</span></span> <span data-ttu-id="c2ec8-113">tooconfigure Olá firewall, consulte a documentação de Olá ou a ajuda online para o sistema de operativo Olá em execução na máquina virtual de Olá.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-113">tooconfigure hello firewall, see hello documentation or on-line help for hello operating system running on hello virtual machine.</span></span>
>
>

## <a name="create-an-endpoint"></a><span data-ttu-id="c2ec8-114">Criar um ponto final</span><span class="sxs-lookup"><span data-stu-id="c2ec8-114">Create an endpoint</span></span>
1. <span data-ttu-id="c2ec8-115">Se ainda não o fez, inicie sessão no toohello [portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c2ec8-115">If you haven't already done so, sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="c2ec8-116">Clique em **máquinas virtuais**e, em seguida, clique no nome de Olá da máquina virtual de Olá que pretende que o tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-116">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="c2ec8-117">Clique em **pontos finais** no Olá **definições** grupo.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-117">Click **Endpoints** in hello **Settings** group.</span></span> <span data-ttu-id="c2ec8-118">Olá **pontos finais** todos os Olá atual pontos finais para a máquina virtual de Olá listas de páginas.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-118">hello **Endpoints** page lists all hello current endpoints for hello virtual machine.</span></span> <span data-ttu-id="c2ec8-119">(Este exemplo é uma VM do Windows.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-119">(This example is a Windows VM.</span></span> <span data-ttu-id="c2ec8-120">Um VM do Linux por predefinição apresentará um ponto final de SSH.)</span><span class="sxs-lookup"><span data-stu-id="c2ec8-120">A Linux VM will by default show an endpoint for SSH.)</span></span>

   <!-- ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointswindows.png) -->
   ![Pontos Finais](./media/virtual-machines-common-classic-setup-endpoints/endpointsblade.png)

4. <span data-ttu-id="c2ec8-122">Na barra de comando de Olá acima entradas de ponto final de Olá, clique em **adicionar**.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-122">In hello command bar above hello endpoint entries, click **Add**.</span></span>
5. <span data-ttu-id="c2ec8-123">No Olá **adicionar ponto final** , escreva um nome para o ponto final de Olá no **nome**.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-123">On hello **Add endpoint** page, type a name for hello endpoint in **Name**.</span></span>
6. <span data-ttu-id="c2ec8-124">No **protocolo**, escolha o **TCP** ou **UDP**.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-124">In **Protocol**, choose either **TCP** or **UDP**.</span></span>
7. <span data-ttu-id="c2ec8-125">No **Porta pública**, escreva o número de porta de Olá para tráfego de entrada de Olá de Olá Internet.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-125">In **Public Port**, type hello port number for hello incoming traffic from hello Internet.</span></span> <span data-ttu-id="c2ec8-126">No **porta privada**, escreva o número de porta de Olá no qual Olá máquina virtual está a escutar.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-126">In **Private Port**, type hello port number on which hello virtual machine is listening.</span></span> <span data-ttu-id="c2ec8-127">Estes números de porta podem ser diferentes.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-127">These port numbers can be different.</span></span> <span data-ttu-id="c2ec8-128">Certifique-se de que Olá firewall na máquina virtual de Olá tiver sido configurado tooallow Olá tráfego correspondente toohello protocolo (no passo 6) e uma porta privada.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-128">Ensure that hello firewall on hello virtual machine has been configured tooallow hello traffic corresponding toohello protocol (in step 6) and private port.</span></span>
10. <span data-ttu-id="c2ec8-129">Clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-129">Click **Ok**.</span></span>

<span data-ttu-id="c2ec8-130">Olá novo ponto final de será listado no Olá **pontos finais** página.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-130">hello new endpoint will be listed on hello **Endpoints** page.</span></span>

![Criação do ponto final com êxito](./media/virtual-machines-common-classic-setup-endpoints/endpointcreated.png)

## <a name="manage-hello-acl-on-an-endpoint"></a><span data-ttu-id="c2ec8-132">Gerir Olá ACL num ponto final</span><span class="sxs-lookup"><span data-stu-id="c2ec8-132">Manage hello ACL on an endpoint</span></span>
<span data-ttu-id="c2ec8-133">conjunto de Olá toodefine de computadores que podem enviar tráfego, Olá ACL num ponto final pode restringir o tráfego com base no endereço IP de origem.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-133">toodefine hello set of computers that can send traffic, hello ACL on an endpoint can restrict traffic based upon source IP address.</span></span> <span data-ttu-id="c2ec8-134">Siga estes passos tooadd, modificar ou remover uma ACL num ponto final.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-134">Follow these steps tooadd, modify, or remove an ACL on an endpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="c2ec8-135">Se o ponto final de Olá faz parte de um conjunto com balanceamento de carga, quaisquer alterações que efetuar toohello ACL num ponto final são pontos finais de tooall aplicada no conjunto de Olá.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-135">If hello endpoint is part of a load-balanced set, any changes you make toohello ACL on an endpoint are applied tooall endpoints in hello set.</span></span>
>
>

<span data-ttu-id="c2ec8-136">Se a máquina virtual de Olá numa rede virtual do Azure, recomendamos que grupos de segurança de rede em vez de ACLs.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-136">If hello virtual machine is in an Azure virtual network, we recommend network security groups instead of ACLs.</span></span> <span data-ttu-id="c2ec8-137">Para obter mais informações, consulte [sobre grupos de segurança de rede](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="c2ec8-137">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

1. <span data-ttu-id="c2ec8-138">Se ainda não o fez, inicie sessão no toohello portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-138">If you haven't already done so, sign in toohello Azure portal.</span></span>
2. <span data-ttu-id="c2ec8-139">Clique em **máquinas virtuais**e, em seguida, clique no nome de Olá da máquina virtual de Olá que pretende que o tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-139">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="c2ec8-140">Clique em **Pontos Finais**.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-140">Click **Endpoints**.</span></span> <span data-ttu-id="c2ec8-141">Na lista de Olá, selecione o ponto final adequado de Olá.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-141">From hello list, select hello appropriate endpoint.</span></span> <span data-ttu-id="c2ec8-142">a lista de ACL Olá é Olá parte inferior da página Olá.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-142">hello ACL list is at hello bottom of hello page.</span></span>

   ![Especifique os detalhes ACL](./media/virtual-machines-common-classic-setup-endpoints/aclpreentry.png)

4. <span data-ttu-id="c2ec8-144">Utilize as linhas em Olá lista tooadd, eliminar ou editar regras para uma ACL e alterar a sua ordem.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-144">Use rows in hello list tooadd, delete, or edit rules for an ACL and change their order.</span></span> <span data-ttu-id="c2ec8-145">Olá **sub-rede remota** valor é um intervalo de endereços IP para o tráfego de entrada de Olá Internet que Olá toopermit de utilizações de Balanceador de carga do Azure ou negar o tráfego de Olá com base no respetivo endereço IP de origem.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-145">hello **Remote Subnet** value is an IP address range for incoming traffic from hello Internet that hello Azure load balancer uses toopermit or deny hello traffic based on its source IP address.</span></span> <span data-ttu-id="c2ec8-146">Ser se toospecify Olá intervalo de endereços IP no formato CIDR, também conhecido como formato de prefixo de endereço.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-146">Be sure toospecify hello IP address range in CIDR format, also known as address prefix format.</span></span> <span data-ttu-id="c2ec8-147">Um exemplo é `10.1.0.0/8`.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-147">An example is `10.1.0.0/8`.</span></span>

 ![Nova entrada ACL](./media/virtual-machines-common-classic-setup-endpoints/newaclentry.png)


<span data-ttu-id="c2ec8-149">Pode utilizar regras tooallow o tráfego apenas de computadores específicos correspondente tooyour computadores sobre o tráfego de Internet ou toodeny Olá de intervalos de endereços específica, conhecidos.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-149">You can use rules tooallow only traffic from specific computers corresponding tooyour computers on hello Internet or toodeny traffic from specific, known address ranges.</span></span>

<span data-ttu-id="c2ec8-150">regras de Olá são avaliadas por ordem, começando com a primeira regra de Olá e terminando regra último Olá.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-150">hello rules are evaluated in order starting with hello first rule and ending with hello last rule.</span></span> <span data-ttu-id="c2ec8-151">Isto significa que as regras devem ser ordenadas do toomost menos restritivo restritivo.</span><span class="sxs-lookup"><span data-stu-id="c2ec8-151">This means that rules should be ordered from least restrictive toomost restrictive.</span></span> <span data-ttu-id="c2ec8-152">Para obter exemplos e obter mais informações, consulte [o que é uma lista de controlo de acesso de rede](../articles/virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="c2ec8-152">For examples and more information, see [What is a Network Access Control List](../articles/virtual-network/virtual-networks-acl.md).</span></span>
