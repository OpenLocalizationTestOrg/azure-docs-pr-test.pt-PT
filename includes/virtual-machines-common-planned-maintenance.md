<span data-ttu-id="ed74b-101">Azure executa periodicamente atualizações tooimprove Olá fiabilidade, o desempenho e segurança da infraestrutura de anfitrião Olá para máquinas virtuais.</span><span class="sxs-lookup"><span data-stu-id="ed74b-101">Azure periodically performs updates tooimprove hello reliability, performance, and security of hello host infrastructure for virtual machines.</span></span> <span data-ttu-id="ed74b-102">Estas atualizações no intervalo de componentes de software no Olá alojamento de ambiente (por exemplo, o sistema operativo, hipervisor e agentes vários implementados no anfitrião de Olá), a aplicação de patches atualizar componentes de rede, toohardware desativação.</span><span class="sxs-lookup"><span data-stu-id="ed74b-102">These updates range from patching software components in hello hosting environment (like operating system, hypervisor, and various agents deployed on hello host), upgrading networking components, toohardware decommissioning.</span></span> <span data-ttu-id="ed74b-103">maioria de Olá destas atualizações são efetuadas sem quaisquer máquinas de virtuais do impacto toohello alojado.</span><span class="sxs-lookup"><span data-stu-id="ed74b-103">hello majority of these updates are performed without any impact toohello hosted virtual machines.</span></span> <span data-ttu-id="ed74b-104">No entanto, há casos em que as atualizações de ter um impacto:</span><span class="sxs-lookup"><span data-stu-id="ed74b-104">However, there are cases where updates do have an impact:</span></span>

- <span data-ttu-id="ed74b-105">Se manutenção Olá não requer um reinício, o Azure utiliza Olá toopause de migração no local VM ao anfitrião Olá é atualizada.</span><span class="sxs-lookup"><span data-stu-id="ed74b-105">If hello maintenance does not require a reboot, Azure uses in-place migration toopause hello VM while hello host is updated.</span></span>

- <span data-ttu-id="ed74b-106">Se manutenção requer um reinício, receberá um aviso de quando está a ser planeada a manutenção de Olá.</span><span class="sxs-lookup"><span data-stu-id="ed74b-106">If maintenance requires a reboot, you get a notice of when hello maintenance is planned.</span></span> <span data-ttu-id="ed74b-107">Nestes casos, é-irá também ser dada uma janela de tempo em que pode iniciar manutenção Olá por si, cada vez que funciona para si.</span><span class="sxs-lookup"><span data-stu-id="ed74b-107">In these cases, you'll also be given a time window where you can start hello maintenance yourself, at a time that works for you.</span></span>

<span data-ttu-id="ed74b-108">Esta página descreve a forma como o Microsoft Azure executa ambos os tipos de manutenção.</span><span class="sxs-lookup"><span data-stu-id="ed74b-108">This page describes how Microsoft Azure performs both types of maintenance.</span></span> <span data-ttu-id="ed74b-109">Para obter mais informações sobre eventos não planeadas (falhas), consulte o artigo sobre como gerir disponibilidade de Olá das máquinas virtuais para [Windows] (.. / articles/virtual-machines/windows/manage-availability.md) ou [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="ed74b-109">For more information about unplanned events (outages), see Manage hello availability of virtual machines for [Windows] (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>

<span data-ttu-id="ed74b-110">As aplicações em execução numa máquina virtual podem recolha informações sobre as atualizações futuras utilizando Olá Service de metadados do Azure para [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) ou [Linux] (.. / articles/virtual-machines/linux/instance-metadata-service.md).</span><span class="sxs-lookup"><span data-stu-id="ed74b-110">Applications running in a virtual machine can gather information about upcoming updates by using hello Azure Metadata Service for [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) or [Linux] (../articles/virtual-machines/linux/instance-metadata-service.md).</span></span>

## <a name="in-place-vm-migration"></a><span data-ttu-id="ed74b-111">Migração de VM no local</span><span class="sxs-lookup"><span data-stu-id="ed74b-111">In-place VM migration</span></span>

<span data-ttu-id="ed74b-112">Quando as atualizações não necessitam de um reinício total, é utilizada uma migração em direto no local.</span><span class="sxs-lookup"><span data-stu-id="ed74b-112">When updates don't require a full reboot, an in-place live migration is used.</span></span> <span data-ttu-id="ed74b-113">Durante a atualização de Olá Olá máquina está em pausa para cerca de 30 segundos, preservando memória Olá na RAM, enquanto o ambiente de alojamento de Olá aplica-se as atualizações necessárias do Olá e correções de erros.</span><span class="sxs-lookup"><span data-stu-id="ed74b-113">During hello update hello virtual machine is paused for about 30 seconds, preserving hello memory in RAM, while hello hosting environment applies hello necessary updates and patches.</span></span> <span data-ttu-id="ed74b-114">máquina virtual de Olá, em seguida, é retomada e relógio Olá da máquina virtual de Olá é automaticamente sincronizado.</span><span class="sxs-lookup"><span data-stu-id="ed74b-114">hello virtual machine is then resumed and hello clock of hello virtual machine is automatically synchronized.</span></span>

<span data-ttu-id="ed74b-115">Para VMs em conjuntos de disponibilidade, domínios de atualização são atualizado um de cada vez.</span><span class="sxs-lookup"><span data-stu-id="ed74b-115">For VMs in availability sets, update domains are updated one at a time.</span></span> <span data-ttu-id="ed74b-116">Todas as VMs no domínio de uma atualização (UD) estão em pausa, atualizadas e, em seguida, retomadas antes da manutenção planeada move toohello UD seguinte.</span><span class="sxs-lookup"><span data-stu-id="ed74b-116">All VMs in one update domain (UD) are paused, updated and then resumed before planned maintenance moves on toohello next UD.</span></span>

<span data-ttu-id="ed74b-117">Algumas aplicações podem ser afetadas por estes tipos de atualizações.</span><span class="sxs-lookup"><span data-stu-id="ed74b-117">Some applications may be impacted by these types of updates.</span></span> <span data-ttu-id="ed74b-118">As aplicações que executam o processamento, como o suporte de dados de transmissão em fluxo ou transcodificação ou débito elevado cenários, de rede de eventos em tempo real não podem ser concebida tootolerate uma pausa segundo 30.</span><span class="sxs-lookup"><span data-stu-id="ed74b-118">Applications that perform real-time event processing, like media streaming or transcoding, or high throughput networking scenarios, may not be designed tootolerate a 30 second pause.</span></span> <!-- sooooo, what should they do? --> 


## <a name="maintenance-requiring-a-reboot"></a><span data-ttu-id="ed74b-119">Exigir um reinício de manutenção</span><span class="sxs-lookup"><span data-stu-id="ed74b-119">Maintenance requiring a reboot</span></span>

<span data-ttu-id="ed74b-120">Quando precisam de VMs toobe reiniciado para manutenção planeada, será notificado com antecedência.</span><span class="sxs-lookup"><span data-stu-id="ed74b-120">When VMs need toobe rebooted for planned maintenance, you are notified in advance.</span></span> <span data-ttu-id="ed74b-121">Manutenção planeada tem duas fases: Olá janela self-service e uma janela de manutenção agendada.</span><span class="sxs-lookup"><span data-stu-id="ed74b-121">Planned maintenance has two phases: hello self-service window and a scheduled maintenance window.</span></span>

<span data-ttu-id="ed74b-122">Olá **self-service janela** permite-lhe iniciar manutenção Olá nas suas VMs.</span><span class="sxs-lookup"><span data-stu-id="ed74b-122">hello **self-service window** lets you initiate hello maintenance on your VMs.</span></span> <span data-ttu-id="ed74b-123">Durante este tempo, pode consultar toosee cada VM o respetivo estado e verificar o resultado de Olá do último pedido manutenção.</span><span class="sxs-lookup"><span data-stu-id="ed74b-123">During this time, you can query each VM toosee their status and check hello result of your last maintenance request.</span></span>

<span data-ttu-id="ed74b-124">Quando iniciar manutenção self-service, a VM é nó tooa movido que já foi atualizado e, em seguida, for ligado-lo novamente.</span><span class="sxs-lookup"><span data-stu-id="ed74b-124">When you start self-service maintenance, your VM is moved tooa node that has already been updated and then powers it back on.</span></span> <span data-ttu-id="ed74b-125">Porque Olá VM é reiniciado, disco temporário Olá perde-se e endereços IP dinâmicos associados à interface de rede virtual foram atualizados.</span><span class="sxs-lookup"><span data-stu-id="ed74b-125">Because hello VM reboots, hello temporary disk is lost and dynamic IP addresses associated with virtual network interface are updated.</span></span>

<span data-ttu-id="ed74b-126">Se iniciar manutenção self-service e existir um erro durante o processo de Olá, operação Olá for parada, Olá VM não é atualizada e também é removido do Olá planeada manutenção iteração.</span><span class="sxs-lookup"><span data-stu-id="ed74b-126">If you start self-service maintenance and there is an error during hello process, hello operation is stopped, hello VM is not updated and it is also removed from hello planned maintenance iteration.</span></span> <span data-ttu-id="ed74b-127">Irá ser contactado num horário posterior, com uma nova agenda e oferecido uma nova oportunidade toodo self-service manutenção.</span><span class="sxs-lookup"><span data-stu-id="ed74b-127">You will be contacted in a later time with a new schedule and offered a new opportunity toodo self-service maintenance.</span></span> 

<span data-ttu-id="ed74b-128">Depois da janela de self-service Olá, Olá **janela de manutenção agendada** começa.</span><span class="sxs-lookup"><span data-stu-id="ed74b-128">When hello self-service window has passed, hello **scheduled maintenance window** begins.</span></span> <span data-ttu-id="ed74b-129">Durante este período de tempo, pode ainda de consulta para a janela de manutenção de Olá, mas já não será capaz de toostart manutenção de Olá por si.</span><span class="sxs-lookup"><span data-stu-id="ed74b-129">During this time window, you can still query for hello maintenance window, but no longer be able toostart hello maintenance yourself.</span></span>

## <a name="availability-considerations-during-planned-maintenance"></a><span data-ttu-id="ed74b-130">Considerações de disponibilidade durante a manutenção planeada</span><span class="sxs-lookup"><span data-stu-id="ed74b-130">Availability Considerations during Planned Maintenance</span></span> 

<span data-ttu-id="ed74b-131">Se decidir toowait até Olá a janela de manutenção planeada, existem alguns aspetos tooconsider para manter Olá availabilty mais elevado das suas VMs.</span><span class="sxs-lookup"><span data-stu-id="ed74b-131">If you decide toowait until hello planned maintenance window, there are a few things tooconsider for maintaining hello highest availabilty of your VMs.</span></span> 

### <a name="paired-regions"></a><span data-ttu-id="ed74b-132">Regiões emparelhadas</span><span class="sxs-lookup"><span data-stu-id="ed74b-132">Paired Regions</span></span>

<span data-ttu-id="ed74b-133">Cada região do Azure se encontra emparelhado com outro região dentro Olá mesma geografia, em conjunto que efetuam um par regional.</span><span class="sxs-lookup"><span data-stu-id="ed74b-133">Each Azure region is paired with another region within hello same geography, together they make a regional pair.</span></span> <span data-ttu-id="ed74b-134">Durante a manutenção planeada, o Azure irá atualizar apenas Olá VMs numa única região de um par de região.</span><span class="sxs-lookup"><span data-stu-id="ed74b-134">During planned maintenance, Azure will only update hello VMs in a single region of a region pair.</span></span> <span data-ttu-id="ed74b-135">Por exemplo, ao atualizar máquinas virtuais no Norte Central-nos de Olá, Azure irá não atualizar quaisquer máquinas virtuais no Sul Central-nos em Olá mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="ed74b-135">For example, when updating hello Virtual Machines in North Central US, Azure will not update any Virtual Machines in South Central US at hello same time.</span></span> <span data-ttu-id="ed74b-136">No entanto, noutras regiões como Europa do Norte pode estar em manutenção em Olá mesmo tempo, como EUA Leste.</span><span class="sxs-lookup"><span data-stu-id="ed74b-136">However, other regions such as North Europe can be under maintenance at hello same time as East US.</span></span> <span data-ttu-id="ed74b-137">Compreender como funcionam os pares de região pode ajudar a distribuir melhor as suas VMs em regiões.</span><span class="sxs-lookup"><span data-stu-id="ed74b-137">Understanding how region pairs work can help you better distribute your VMs across regions.</span></span> <span data-ttu-id="ed74b-138">Para obter mais informações, consulte [pares de região do Azure](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="ed74b-138">For more information, see [Azure region pairs](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span></span>

### <a name="availability-sets-and-scale-sets"></a><span data-ttu-id="ed74b-139">Conjuntos de disponibilidade e conjuntos de dimensionamento</span><span class="sxs-lookup"><span data-stu-id="ed74b-139">Availability sets and scale sets</span></span>

<span data-ttu-id="ed74b-140">Quando implementar uma carga de trabalho em VMs do Azure, pode criar VMs Olá dentro de uma aplicação de tooyour elevada disponibilidade de tooprovide de conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="ed74b-140">When deploying a workload on Azure VMs, you can create hello VMs within an availability set tooprovide high availability tooyour application.</span></span> <span data-ttu-id="ed74b-141">Isto assegura que durante a eventos de uma interrupção ou a manutenção, pelo menos uma máquina virtual está disponível.</span><span class="sxs-lookup"><span data-stu-id="ed74b-141">This ensures that during either an outage or maintenance events, at least one virtual machine is available.</span></span>

<span data-ttu-id="ed74b-142">Dentro de um conjunto de disponibilidade, VMs individuais são distribuídas por domínios de atualização de too20 (UDs) de cópia de segurança.</span><span class="sxs-lookup"><span data-stu-id="ed74b-142">Within an availability set, individual VMs are spread across up too20 update domains (UDs).</span></span> <span data-ttu-id="ed74b-143">Durante a manutenção planeada, apenas um domínio com uma única atualização é afetado em qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="ed74b-143">During planned maintenance, only a single update domain is impacted at any given time.</span></span> <span data-ttu-id="ed74b-144">Lembre-se de que ordem Olá de domínios de atualização que está a ser afetado não necessariamente acontecer sequencialmente.</span><span class="sxs-lookup"><span data-stu-id="ed74b-144">Be aware that hello order of update domains being impacted does not necessarily happen sequentially.</span></span> 

<span data-ttu-id="ed74b-145">Conjuntos de dimensionamento de máquina virtual são um recurso de computação do Azure permite-lhe toodeploy e gerir um conjunto de VMs idênticas, como um único recurso.</span><span class="sxs-lookup"><span data-stu-id="ed74b-145">Virtual machine scale sets are an Azure compute resource that enables you toodeploy and manage a set of identical VMs as a single resource.</span></span> <span data-ttu-id="ed74b-146">conjunto de dimensionamento de Olá é implementado automaticamente entre domínios de atualização, como VMs num conjunto de disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="ed74b-146">hello scale set is automatically deployed across update domains, like VMs in an availability set.</span></span> <span data-ttu-id="ed74b-147">Tal como com conjuntos de disponibilidade, com conjuntos de dimensionamento de apenas um domínio com uma única atualização é afetado em qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="ed74b-147">Just like with availability sets, with scale sets only a single update domain is impacted at any given time.</span></span>

<span data-ttu-id="ed74b-148">Para obter mais informações sobre como configurar as máquinas virtuais de elevada disponibilidade, consulte o artigo sobre como gerir disponibilidade de Olá das suas máquinas virtuais para o Windows (.. / articles/virtual-machines/windows/manage-availability.md) ou [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="ed74b-148">For more information about configuring your virtual machines for high availability, see Manage hello availability of your virtual machines for Windows (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>
