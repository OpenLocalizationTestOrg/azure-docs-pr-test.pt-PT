## <a name="prerequisites"></a><span data-ttu-id="3dc2b-101">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="3dc2b-101">Prerequisites</span></span>
<span data-ttu-id="3dc2b-102">Antes, pode escrever o código de gestão de CDN, é necessário toodo algumas tooenable preparação toointeract nosso código com Olá do Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-102">Before we can write CDN management code, we need toodo some preparation tooenable our code toointeract with hello Azure Resource Manager.</span></span>  <span data-ttu-id="3dc2b-103">toodo, tem de:</span><span class="sxs-lookup"><span data-stu-id="3dc2b-103">toodo this, you'll need to:</span></span>

* <span data-ttu-id="3dc2b-104">Criar um Olá de toocontain do grupo de recursos perfil da CDN criamos neste tutorial</span><span class="sxs-lookup"><span data-stu-id="3dc2b-104">Create a resource group toocontain hello CDN profile we create in this tutorial</span></span>
* <span data-ttu-id="3dc2b-105">Configurar a autenticação de tooprovide do Azure Active Directory para a nossa aplicação</span><span class="sxs-lookup"><span data-stu-id="3dc2b-105">Configure Azure Active Directory tooprovide authentication for our application</span></span>
* <span data-ttu-id="3dc2b-106">Aplicar as permissões de grupo de recursos de toohello, de modo a que apenas pessoal autorizado utilizadores a partir do nosso inquilino do Azure AD pode interagir com o nosso perfil da CDN</span><span class="sxs-lookup"><span data-stu-id="3dc2b-106">Apply permissions toohello resource group so that only authorized users from our Azure AD tenant can interact with our CDN profile</span></span>

### <a name="creating-hello-resource-group"></a><span data-ttu-id="3dc2b-107">Criar grupo de recursos de Olá</span><span class="sxs-lookup"><span data-stu-id="3dc2b-107">Creating hello resource group</span></span>
1. <span data-ttu-id="3dc2b-108">Iniciar sessão Olá [Portal do Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="3dc2b-108">Log into hello [Azure Portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="3dc2b-109">Clique em Olá **novo** botão no canto superior esquerdo Olá e, em seguida, **gestão**, e **grupo de recursos**.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-109">Click hello **New** button in hello upper left, and then **Management**, and **Resource Group**.</span></span>

    ![Criar um novo grupo de recursos](./media/cdn-app-dev-prep/cdn-new-rg-1-include.png)
3. <span data-ttu-id="3dc2b-111">Chamar o grupo de recursos *CdnConsoleTutorial*.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-111">Call your resource group *CdnConsoleTutorial*.</span></span>  <span data-ttu-id="3dc2b-112">Selecione a sua subscrição e escolha uma localização perto de si.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-112">Select your subscription and choose a location near you.</span></span>  <span data-ttu-id="3dc2b-113">Se assim o desejar, pode clicar em Olá **Pin toodashboard** caixa de verificação toopin Olá grupo toohello dashboard de recursos no portal de Olá.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-113">If you wish, you may click hello **Pin toodashboard** checkbox toopin hello resource group toohello dashboard in hello portal.</span></span>  <span data-ttu-id="3dc2b-114">Isto tornarão mais fácil toofind mais tarde.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-114">This will make it easier toofind later.</span></span>  <span data-ttu-id="3dc2b-115">Depois de efetuadas as suas seleções, clique em **criar**.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-115">After you've made your selections, click **Create**.</span></span>

    ![Grupo de recursos de Olá nomenclatura](./media/cdn-app-dev-prep/cdn-new-rg-2-include.png)
4. <span data-ttu-id="3dc2b-117">Depois de criar o grupo de recursos de Olá, se não tiver afixá-lo tooyour dashboard, pode encontrá-lo ao clicar em **procurar**, em seguida, **grupos de recursos**.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-117">After hello resource group is created, if you didn't pin it tooyour dashboard, you can find it by clicking **Browse**, then **Resource Groups**.</span></span>  <span data-ttu-id="3dc2b-118">Clique em tooopen de grupo de recursos de Olá-lo.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-118">Click hello resource group tooopen it.</span></span>  <span data-ttu-id="3dc2b-119">Tome nota do seu **ID de subscrição**.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-119">Make a note of your **Subscription ID**.</span></span>  <span data-ttu-id="3dc2b-120">Iremos irá precisar dele mais tarde.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-120">We'll need it later.</span></span>

    ![Grupo de recursos de Olá nomenclatura](./media/cdn-app-dev-prep/cdn-subscription-id-include.png)

### <a name="creating-hello-azure-ad-application-and-applying-permissions"></a><span data-ttu-id="3dc2b-122">Criar aplicação Olá do Azure AD e aplicar permissões</span><span class="sxs-lookup"><span data-stu-id="3dc2b-122">Creating hello Azure AD application and applying permissions</span></span>
<span data-ttu-id="3dc2b-123">Existem duas abordagens tooapp autenticação no Azure Active Directory: utilizadores individuais ou de um principal de serviço.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-123">There are two approaches tooapp authentication with Azure Active Directory: Individual users or a service principal.</span></span> <span data-ttu-id="3dc2b-124">Um principal de serviço é a conta de serviço tooa semelhante no Windows.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-124">A service principal is similar tooa service account in Windows.</span></span>  <span data-ttu-id="3dc2b-125">Em vez de conceder um toointeract de permissões de utilizador específico com perfis da CDN Olá, iremos em vez disso, conceder permissões de Olá toohello principal de serviço.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-125">Instead of granting a particular user permissions toointeract with hello CDN profiles, we instead grant hello permissions toohello service principal.</span></span>  <span data-ttu-id="3dc2b-126">Principais de serviço são geralmente utilizados para os processos automatizados, não interativo.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-126">Service principals are generally used for automated, non-interactive processes.</span></span>  <span data-ttu-id="3dc2b-127">Apesar deste tutorial é escrever uma aplicação de consola interativa, iremos irá focar-se na abordagem de principal de serviço de Olá.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-127">Even though this tutorial is writing an interactive console app, we'll focus on hello service principal approach.</span></span>

<span data-ttu-id="3dc2b-128">Criar um principal de serviço é composta por vários passos, incluindo a criação de uma aplicação do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-128">Creating a service principal consists of several steps, including creating an Azure Active Directory application.</span></span>  <span data-ttu-id="3dc2b-129">toodo isto, vamos demasiado[siga este tutorial](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3dc2b-129">toodo this, we're going too[follow this tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3dc2b-130">Ser toofollow se todos os passos de Olá Olá [tutorial ligado](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3dc2b-130">Be sure toofollow all hello steps in hello [linked tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>  <span data-ttu-id="3dc2b-131">É *extremamente importante* que conclua-lo tal como descrito.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-131">It is *extremely important* that you complete it exactly as described.</span></span>  <span data-ttu-id="3dc2b-132">Certifique-se de que toonote sua **ID de inquilino**, **nome de domínio do inquilino** (normalmente uma *. onmicrosoft.com* domínio, exceto se tiver especificado um domínio personalizado), **ID de cliente** , e **chave de autenticação de cliente**, uma vez que vamos precisar deles mais tarde.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-132">Make sure toonote your **tenant ID**, **tenant domain name** (commonly a *.onmicrosoft.com* domain unless you've specified a custom domain), **client ID**, and **client authentication key**, as we will need these later.</span></span>  <span data-ttu-id="3dc2b-133">Ser muito cuidado tooguard sua **ID de cliente** e **chave de autenticação de cliente**, uma vez que estas credenciais podem ser utilizados por qualquer pessoa tooexecute operações como principal de serviço Olá.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-133">Be very careful tooguard your **client ID** and **client authentication key**, as these credentials can be used by anyone tooexecute operations as hello service principal.</span></span>
>
> <span data-ttu-id="3dc2b-134">Quando obtiver passo toohello com o nome de aplicação de multi-inquilino de configurar, selecione **não**.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-134">When you get toohello step named Configure multi-tenant application, select **No**.</span></span>
>
> <span data-ttu-id="3dc2b-135">Quando obtiver toohello passo [atribuir aplicação toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), grupo de recursos de Olá de utilização que criou anteriormente, *CdnConsoleTutorial*, mas em vez de Olá **leitor** função, atribuir Olá **contribuinte de perfil de CDN** função.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-135">When you get toohello step [Assign application toorole](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), use hello resource group we created earlier,  *CdnConsoleTutorial*, but instead of hello **Reader** role, assign hello **CDN Profile Contributor** role.</span></span>  <span data-ttu-id="3dc2b-136">Depois de atribuir Olá de aplicação Olá **contribuinte de perfil de CDN** função no seu grupo de recursos, tutorial de retorno toothis.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-136">After you assign hello application hello **CDN Profile Contributor** role on your resource group, return toothis tutorial.</span></span> 
>
>

<span data-ttu-id="3dc2b-137">Assim que tiver criado a sua Olá de serviço principal e atribuídos **contribuinte de perfil de CDN** função, Olá **utilizadores** painel para o grupo de recursos deve ter um aspeto semelhante toothis.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-137">Once you've created your service principal and assigned hello **CDN Profile Contributor** role, hello **Users** blade for your resource group should look similar toothis.</span></span>

![Painel de utilizadores](./media/cdn-app-dev-prep/cdn-service-principal-include.png)

### <a name="interactive-user-authentication"></a><span data-ttu-id="3dc2b-139">Autenticação de utilizador interativa</span><span class="sxs-lookup"><span data-stu-id="3dc2b-139">Interactive user authentication</span></span>
<span data-ttu-id="3dc2b-140">Se, em vez de um principal de serviço, em vez disso, deverá dispor autenticação interativa de utilizador individuais, o processo de Olá é muito semelhante toothat para um principal de serviço.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-140">If, instead of a service principal, you'd rather have interactive individual user authentication, hello process is very similar toothat for a service principal.</span></span>  <span data-ttu-id="3dc2b-141">Na verdade, terá de toofollow Olá mesmo procedimento, mas fazer algumas alterações secundárias.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-141">In fact, you will need toofollow hello same procedure, but make a few minor changes.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3dc2b-142">Apenas siga estes passos, se escolher a autenticação de utilizador individuais toouse em vez de um principal de serviço.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-142">Only follow these next steps if you are choosing toouse individual user authentication instead of a service principal.</span></span>
>
>

1. <span data-ttu-id="3dc2b-143">Ao criar a sua aplicação, em vez de **aplicação Web**, escolha **aplicação nativa**.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-143">When creating your application, instead of **Web Application**, choose **Native application**.</span></span>

    ![Aplicação nativa](./media/cdn-app-dev-prep/cdn-native-application-include.png)
2. <span data-ttu-id="3dc2b-145">Na página seguinte do Olá, será solicitado para um **URI de redirecionamento**.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-145">On hello next page, you will be prompted for a **redirect URI**.</span></span>  <span data-ttu-id="3dc2b-146">Olá URI não serão validados, mas não se esqueça de que introduziu.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-146">hello URI won't be validated, but remember what you entered.</span></span>  <span data-ttu-id="3dc2b-147">Precisará dela mais tarde.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-147">You'll need it later.</span></span>
3. <span data-ttu-id="3dc2b-148">Não há nenhum toocreate é necessário um **chave de autenticação de cliente**.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-148">There is no need toocreate a **client authentication key**.</span></span>
4. <span data-ttu-id="3dc2b-149">Em vez de atribuir um toohello principal de serviço **contribuinte de perfil de CDN** função, vamos tooassign utilizadores ou grupos individuais.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-149">Instead of assigning a service principal toohello **CDN Profile Contributor** role, we're going tooassign individual users or groups.</span></span>  <span data-ttu-id="3dc2b-150">Neste exemplo, pode ver que posso tiver atribuída *CDN demonstração de utilizador* toohello **contribuinte de perfil de CDN** função.</span><span class="sxs-lookup"><span data-stu-id="3dc2b-150">In this example, you can see that I've assigned  *CDN Demo User* toohello **CDN Profile Contributor** role.</span></span>  

    ![Acesso de utilizador individuais](./media/cdn-app-dev-prep/cdn-aad-user-include.png)
