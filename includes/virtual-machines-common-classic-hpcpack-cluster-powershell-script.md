



<span data-ttu-id="2d775-101">Dependendo do seu ambiente e opções, script Olá pode criar todos os Olá uma infraestrutura de cluster, incluindo Olá rede virtual do Azure, as contas do storage, cloud services, controlador de domínio, locais ou remotos bases de dados SQL, nó principal e cluster adicional nós.</span><span class="sxs-lookup"><span data-stu-id="2d775-101">Depending on your environment and choices, hello script can create all hello cluster infrastructure, including hello Azure virtual network, storage accounts, cloud services, domain controller, remote or local SQL databases, head node, and additional cluster nodes.</span></span> <span data-ttu-id="2d775-102">Em alternativa, script Olá pode utilizar a infraestrutura do Azure já existente e criar apenas Olá HPC nós de cluster.</span><span class="sxs-lookup"><span data-stu-id="2d775-102">Alternatively, hello script can use pre-existing Azure infrastructure and create only hello HPC cluster nodes.</span></span>

<span data-ttu-id="2d775-103">Para obter informações gerais sobre o planeamento de um cluster HPC Pack, consulte Olá [avaliação do produto e planeamento](https://technet.microsoft.com/library/jj899596.aspx) e [introdução](https://technet.microsoft.com/library/jj899590.aspx) conteúdo Olá Biblioteca TechNet do HPC Pack 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="2d775-103">For background information about planning an HPC Pack cluster, see hello [Product Evaluation and Planning](https://technet.microsoft.com/library/jj899596.aspx) and [Getting Started](https://technet.microsoft.com/library/jj899590.aspx) content in hello HPC Pack 2012 R2 TechNet Library.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="2d775-104">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="2d775-104">Prerequisites</span></span>
* <span data-ttu-id="2d775-105">**Subscrição do Azure**: pode utilizar uma subscrição em qualquer um dos Olá serviço Global do Azure ou do Azure China.</span><span class="sxs-lookup"><span data-stu-id="2d775-105">**Azure subscription**: You can use a subscription in either hello Azure Global or Azure China service.</span></span> <span data-ttu-id="2d775-106">Os limites de subscrição afetam o número de Olá e o tipo de nós de cluster, que pode implementar.</span><span class="sxs-lookup"><span data-stu-id="2d775-106">Your subscription limits affect hello number and type of cluster nodes you can deploy.</span></span> <span data-ttu-id="2d775-107">Para informações, consulte [subscrição do Azure e limites de serviço, quotas e restrições](../articles/azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="2d775-107">For information, see [Azure subscription and service limits, quotas, and constraints](../articles/azure-subscription-service-limits.md).</span></span>
* <span data-ttu-id="2d775-108">**Computador de cliente do Windows com o Azure PowerShell 0.8.10 ou posterior instalado e configurado**: consulte [começar com o Azure PowerShell](/powershell/azureps-cmdlets-docs) para instalação de instruções e passos de tooyour de tooconnect subscrição do Azure.</span><span class="sxs-lookup"><span data-stu-id="2d775-108">**Windows client computer with Azure PowerShell 0.8.10 or later installed and configured**: See [Get started with Azure PowerShell](/powershell/azureps-cmdlets-docs) for installation instructions and steps tooconnect tooyour Azure subscription.</span></span>
* <span data-ttu-id="2d775-109">**Script de implementação de HPC Pack IaaS**: transferir e Descompacte a versão mais recente do Olá do script de Olá no Olá [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span><span class="sxs-lookup"><span data-stu-id="2d775-109">**HPC Pack IaaS deployment script**: Download and unpack hello latest version of hello script from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span></span> <span data-ttu-id="2d775-110">Verificar a versão de Olá do script Olá executando `New-HPCIaaSCluster.ps1 –Version`.</span><span class="sxs-lookup"><span data-stu-id="2d775-110">Check hello version of hello script by running `New-HPCIaaSCluster.ps1 –Version`.</span></span> <span data-ttu-id="2d775-111">Este artigo baseia-se numa versão 4.5.2 do script Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-111">This article is based on version 4.5.2 of hello script.</span></span>
* <span data-ttu-id="2d775-112">**Ficheiro de script de configuração**: criar um ficheiro XML que script Olá utiliza o cluster do tooconfigure Olá HPC.</span><span class="sxs-lookup"><span data-stu-id="2d775-112">**Script configuration file**: Create an XML file that hello script uses tooconfigure hello HPC cluster.</span></span> <span data-ttu-id="2d775-113">Para informações e exemplos, consulte as secções mais adiante neste artigo e Olá ficheiro Manual.rtf que acompanha o script de implementação de Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-113">For information and examples, see sections later in this article and hello file Manual.rtf that accompanies hello deployment script.</span></span>

## <a name="syntax"></a><span data-ttu-id="2d775-114">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="2d775-114">Syntax</span></span>
```PowerShell
New-HPCIaaSCluster.ps1 [-ConfigFile] <String> [-AdminUserName]<String> [[-AdminPassword] <String>] [[-HPCImageName] <String>] [[-LogFile] <String>] [-Force] [-NoCleanOnFailure] [-PSSessionSkipCACheck] [<CommonParameters>]
```
> [!NOTE]
> <span data-ttu-id="2d775-115">Execute o script de Olá como administrador.</span><span class="sxs-lookup"><span data-stu-id="2d775-115">Run hello script as an administrator.</span></span>
> 
> 

### <a name="parameters"></a><span data-ttu-id="2d775-116">Parâmetros</span><span class="sxs-lookup"><span data-stu-id="2d775-116">Parameters</span></span>
* <span data-ttu-id="2d775-117">**ConfigFile**: Especifica o caminho do ficheiro Olá Olá configuração toodescribe Olá HPC do cluster de ficheiros.</span><span class="sxs-lookup"><span data-stu-id="2d775-117">**ConfigFile**: Specifies hello file path of hello configuration file toodescribe hello HPC cluster.</span></span> <span data-ttu-id="2d775-118">Ver mais informações sobre o ficheiro de configuração de Olá neste tópico, ou no ficheiro de Olá Manual.rtf na pasta Olá que contém o script de Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-118">See more about hello configuration file in this topic, or in hello file Manual.rtf in hello folder containing hello script.</span></span>
* <span data-ttu-id="2d775-119">**AdminUserName**: Especifica o nome de utilizador de Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-119">**AdminUserName**: Specifies hello user name.</span></span> <span data-ttu-id="2d775-120">Se a floresta de domínio Olá é criada pelo script de Olá, isto torna-se nome de utilizador de administrador local Olá para todas as VMs e nome de administrador de domínio de Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-120">If hello domain forest is created by hello script, this becomes hello local administrator user name for all VMs and hello domain administrator name.</span></span> <span data-ttu-id="2d775-121">Se já existir uma floresta de domínio Olá, isto Especifica o utilizador de domínio Olá Olá tooinstall de nome de utilizador de administrador local HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="2d775-121">If hello domain forest already exists, this specifies hello domain user as hello local administrator user name tooinstall HPC Pack.</span></span>
* <span data-ttu-id="2d775-122">**AdminPassword**: Especifica a palavra-passe do administrador Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-122">**AdminPassword**: Specifies hello administrator’s password.</span></span> <span data-ttu-id="2d775-123">Se não for especificado na linha de comandos Olá, script Olá solicita a sua palavra-passe do tooinput Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-123">If not specified in hello command line, hello script prompts you tooinput hello password.</span></span>
* <span data-ttu-id="2d775-124">**HPCImageName** (opcional): Especifica o nome de imagem de VM de pacote HPC Olá utilizado cluster do toodeploy Olá HPC.</span><span class="sxs-lookup"><span data-stu-id="2d775-124">**HPCImageName** (optional): Specifies hello HPC Pack VM image name used toodeploy hello HPC cluster.</span></span> <span data-ttu-id="2d775-125">Tem de ser uma imagem fornecida Microsoft HPC Pack de Olá Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="2d775-125">It must be a Microsoft-provided HPC Pack image from hello Azure Marketplace.</span></span> <span data-ttu-id="2d775-126">Se não foi especificado Olá (recomendado normalmente), script escolhe Olá mais recente publicada [HPC Pack 2012 R2 imagem](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span><span class="sxs-lookup"><span data-stu-id="2d775-126">If not specified (recommended usually), hello script chooses hello latest published [HPC Pack 2012 R2 image](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span></span> <span data-ttu-id="2d775-127">imagem mais recente Olá é baseada no Windows Server 2012 R2 Datacenter com o HPC Pack 2012 R2 Update 3 instalado.</span><span class="sxs-lookup"><span data-stu-id="2d775-127">hello latest image is based on Windows Server 2012 R2 Datacenter with HPC Pack 2012 R2 Update 3 installed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="2d775-128">Falha na implementação se não especificar uma imagem de HPC Pack válida.</span><span class="sxs-lookup"><span data-stu-id="2d775-128">Deployment fails if you don't specify a valid HPC Pack image.</span></span>
  > 
  > 
* <span data-ttu-id="2d775-129">**LogFile** (opcional): Especifica o caminho do ficheiro de registo de implementação de Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-129">**LogFile** (optional): Specifies hello deployment log file path.</span></span> <span data-ttu-id="2d775-130">Se não for especificado, o script de Olá cria um ficheiro de registo no diretório temp do Olá do computador Olá executar script de Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-130">If not specified, hello script creates a log file in hello temp directory of hello computer running hello script.</span></span>
* <span data-ttu-id="2d775-131">**Force** (opcional): Suprime todos os pedidos de confirmação de Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-131">**Force** (optional): Suppresses all hello confirmation prompts.</span></span>
* <span data-ttu-id="2d775-132">**NoCleanOnFailure** (opcional): Especifica que as VMs do Azure que não são implementadas com êxito de Olá não são removidas.</span><span class="sxs-lookup"><span data-stu-id="2d775-132">**NoCleanOnFailure** (optional): Specifies that hello Azure VMs that are not successfully deployed are not removed.</span></span> <span data-ttu-id="2d775-133">Remova estas VMs manualmente antes de executar novamente a implementação de Olá Olá scripts toocontinue ou Olá implementação poderá falhar.</span><span class="sxs-lookup"><span data-stu-id="2d775-133">Remove these VMs manually before rerunning hello script toocontinue hello deployment, or hello deployment may fail.</span></span>
* <span data-ttu-id="2d775-134">**PSSessionSkipCACheck** (opcional): para cada serviço em nuvem com as VMs implementadas por este script, é automaticamente gerado um certificado autoassinado pelo Azure e Olá todas as VMs num serviço em nuvem de Olá utilizar este certificado como Olá Windows predefinido Certificado de gestão (WinRM) remoto.</span><span class="sxs-lookup"><span data-stu-id="2d775-134">**PSSessionSkipCACheck** (optional): For every cloud service with VMs deployed by this script, a self-signed certificate is automatically generated by Azure, and all hello VMs in hello cloud service use this certificate as hello default Windows Remote Management (WinRM) certificate.</span></span> <span data-ttu-id="2d775-135">funcionalidades HPC toodeploy nestas VMs do Azure, script Olá por predefinição instala temporariamente estes certificados no computador Local de Olá\\arquivo de autoridades de certificação de raiz fidedigna do Olá cliente computador toosuppress Olá "não fidedignos AC" segurança Ocorreu um erro durante a execução do script.</span><span class="sxs-lookup"><span data-stu-id="2d775-135">toodeploy HPC features in these Azure VMs, hello script by default temporarily installs these certificates in hello Local Computer\\Trusted Root Certification Authorities store of hello client computer toosuppress hello “not trusted CA” security error during script execution.</span></span> <span data-ttu-id="2d775-136">certificados de Olá são removidos quando o script de Olá é concluída.</span><span class="sxs-lookup"><span data-stu-id="2d775-136">hello certificates are removed when hello script finishes.</span></span> <span data-ttu-id="2d775-137">Se este parâmetro for especificado, certificados de Olá não estão instalados no computador de cliente Olá e é suprimido aviso de segurança de Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-137">If this parameter is specified, hello certificates are not installed in hello client computer, and hello security warning is suppressed.</span></span>
  
  > [!IMPORTANT]
  > <span data-ttu-id="2d775-138">Este parâmetro não é recomendado para implementações de produção.</span><span class="sxs-lookup"><span data-stu-id="2d775-138">This parameter is not recommended for production deployments.</span></span>
  > 
  > 

### <a name="example"></a><span data-ttu-id="2d775-139">Exemplo</span><span class="sxs-lookup"><span data-stu-id="2d775-139">Example</span></span>
<span data-ttu-id="2d775-140">Olá exemplo seguinte cria um cluster HPC Pack utilizando o ficheiro de configuração *MyConfigFile.xml*e especifica as credenciais de administrador para instalar Olá cluster.</span><span class="sxs-lookup"><span data-stu-id="2d775-140">hello following example creates an HPC Pack cluster using the configuration file *MyConfigFile.xml*, and specifies administrator credentials for installing hello cluster.</span></span>

```PowerShell
.\New-HPCIaaSCluster.ps1 –ConfigFile MyConfigFile.xml -AdminUserName <username> –AdminPassword <password>
```

### <a name="additional-considerations"></a><span data-ttu-id="2d775-141">Considerações adicionais</span><span class="sxs-lookup"><span data-stu-id="2d775-141">Additional considerations</span></span>
* <span data-ttu-id="2d775-142">script de Olá, opcionalmente, pode ativar a submissão da tarefa através do portal de web de HPC Pack Olá ou Olá API de REST do HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="2d775-142">hello script can optionally enable job submission through hello HPC Pack web portal or hello HPC Pack REST API.</span></span>
* <span data-ttu-id="2d775-143">script de Olá, opcionalmente, pode executar scripts de prévias e pós-configuração personalizados no nó principal Olá se pretender que o software adicional tooinstall ou configurar outras definições.</span><span class="sxs-lookup"><span data-stu-id="2d775-143">hello script can optionally run custom pre- and post-configuration scripts on hello head node if you want tooinstall additional software or configure other settings.</span></span>

## <a name="configuration-file"></a><span data-ttu-id="2d775-144">Ficheiro de configuração</span><span class="sxs-lookup"><span data-stu-id="2d775-144">Configuration file</span></span>
<span data-ttu-id="2d775-145">ficheiro de configuração de Olá para o script de implementação de Olá é um ficheiro XML.</span><span class="sxs-lookup"><span data-stu-id="2d775-145">hello configuration file for hello deployment script is an XML file.</span></span> <span data-ttu-id="2d775-146">ficheiro de esquema de Olá HPCIaaSClusterConfig.xsd é na pasta de script de implementação do Olá HPC Pack IaaS.</span><span class="sxs-lookup"><span data-stu-id="2d775-146">hello schema file HPCIaaSClusterConfig.xsd is in hello HPC Pack IaaS deployment script folder.</span></span> <span data-ttu-id="2d775-147">**IaaSClusterConfig** Olá elemento de raiz do ficheiro de configuração de Olá, que contém elementos subordinados de Olá descritos em detalhe no ficheiro de Olá Manual.rtf na pasta de script de implementação de Olá.</span><span class="sxs-lookup"><span data-stu-id="2d775-147">**IaaSClusterConfig** is hello root element of hello configuration file, which contains hello child elements described in detail in hello file Manual.rtf in hello deployment script folder.</span></span>

