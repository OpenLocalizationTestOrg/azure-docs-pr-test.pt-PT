

<span data-ttu-id="33f23-101">As extensões de VM podem ajudá-lo a:</span><span class="sxs-lookup"><span data-stu-id="33f23-101">VM extensions can help you:</span></span>

* <span data-ttu-id="33f23-102">Modificar as funcionalidades de segurança e identidade, como repor valores de conta e utilizar antimalware</span><span class="sxs-lookup"><span data-stu-id="33f23-102">Modify security and identity features, such as resetting account values and using antimalware</span></span>
* <span data-ttu-id="33f23-103">Iniciar, parar ou configurar a monitorização e o diagnóstico</span><span class="sxs-lookup"><span data-stu-id="33f23-103">Start, stop, or configure monitoring and diagnostics</span></span>
* <span data-ttu-id="33f23-104">Repor ou instalar as funcionalidades de conectividade, como RDP e SSH</span><span class="sxs-lookup"><span data-stu-id="33f23-104">Reset or install connectivity features, such as RDP and SSH</span></span>
* <span data-ttu-id="33f23-105">Diagnosticar, monitorizar e gerir as suas VMs</span><span class="sxs-lookup"><span data-stu-id="33f23-105">Diagnose, monitor, and manage your VMs</span></span>

<span data-ttu-id="33f23-106">Existem também muitas outras funcionalidades.</span><span class="sxs-lookup"><span data-stu-id="33f23-106">There are many other features as well.</span></span> <span data-ttu-id="33f23-107">Novas funcionalidades de extensão de VM são lançadas regularmente.</span><span class="sxs-lookup"><span data-stu-id="33f23-107">New VM Extension features are released regularly.</span></span> <span data-ttu-id="33f23-108">Este artigo descreve Olá Azure VM agentes para o Windows e Linux, e como o suportam a funcionalidade de extensão da VM.</span><span class="sxs-lookup"><span data-stu-id="33f23-108">This article describes hello Azure VM Agents for Windows and Linux, and how they support VM Extension functionality.</span></span> <span data-ttu-id="33f23-109">Para obter uma lista de extensões de VM por categoria de funcionalidades, veja [Extensões e Funcionalidades de VM do Azure](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="33f23-109">For a listing of VM Extensions by feature category, see [Azure VM Extensions and Features](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="azure-vm-agents-for-windows-and-linux"></a><span data-ttu-id="33f23-110">Agentes VM do Azure para Windows e Linux</span><span class="sxs-lookup"><span data-stu-id="33f23-110">Azure VM Agents for Windows and Linux</span></span>
<span data-ttu-id="33f23-111">Olá o agente de máquinas virtuais do Azure (agente da VM) é um processo de seguro, leve-peso que instala, configura e remove as extensões VM em instâncias de Virtual Machines do Azure.</span><span class="sxs-lookup"><span data-stu-id="33f23-111">hello Azure Virtual Machines Agent (VM Agent) is a secured, light-weight process that installs, configures, and removes VM extensions on instances of Azure Virtual Machines.</span></span> <span data-ttu-id="33f23-112">Olá agente da VM atua como o serviço de controlo local seguro Olá para a VM do Azure.</span><span class="sxs-lookup"><span data-stu-id="33f23-112">hello VM Agent acts as hello secure local control service for your Azure VM.</span></span> <span data-ttu-id="33f23-113">as extensões de Olá que Olá agente cargas fornecem tooincrease funcionalidades específicas a produtividade utilizando Olá instância.</span><span class="sxs-lookup"><span data-stu-id="33f23-113">hello extensions that hello agent loads provide specific features tooincrease your productivity using hello instance.</span></span>

<span data-ttu-id="33f23-114">Existem dois Agentes VM do Azure, um para VMs do Windows e outro para VMs do Linux.</span><span class="sxs-lookup"><span data-stu-id="33f23-114">Two Azure VM Agents exist, one for Windows VMs and one for Linux VMs.</span></span>

<span data-ttu-id="33f23-115">Se pretender um toouse de instância de máquina virtual com uma ou mais extensões VM, Olá instância tem de ter um agente de VM instalado.</span><span class="sxs-lookup"><span data-stu-id="33f23-115">If you want a virtual machine instance toouse one or more VM extensions, hello instance must have an installed VM Agent.</span></span> <span data-ttu-id="33f23-116">Uma imagem de máquina virtual criada utilizando Olá portal do Azure e uma imagem de Olá **Marketplace** automaticamente instala um agente de VM no processo de criação de Olá.</span><span class="sxs-lookup"><span data-stu-id="33f23-116">A virtual machine image created by using hello Azure portal and an image from hello **Marketplace** automatically installs a VM Agent in hello creation process.</span></span> <span data-ttu-id="33f23-117">Se uma instância de máquina virtual não possui um agente de VM, pode instalar Olá agente da VM após a instância de máquina virtual de Olá é criada.</span><span class="sxs-lookup"><span data-stu-id="33f23-117">If a virtual machine instance lacks a VM Agent, you can install hello VM Agent after hello virtual machine instance is created.</span></span> <span data-ttu-id="33f23-118">Em alternativa, pode instalar o agente de Olá numa imagem de VM personalizada que, em seguida, carregar.</span><span class="sxs-lookup"><span data-stu-id="33f23-118">Or, you can install hello agent in a custom VM image that you then upload.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="33f23-119">Estes Agentes VM são serviços muito leves que permitem a administração protegida de instâncias de máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="33f23-119">These VM Agents are very light-weight, services that enable secured administration of virtual machine instances.</span></span> <span data-ttu-id="33f23-120">Poderão existir casos em que não pretende Olá agente da VM.</span><span class="sxs-lookup"><span data-stu-id="33f23-120">There might be cases in which you do not want hello VM Agent.</span></span> <span data-ttu-id="33f23-121">Se assim for, ser VMs toocreate se de que não tenham Olá agente da VM instalado utilizando Olá Azure CLI ou PowerShell.</span><span class="sxs-lookup"><span data-stu-id="33f23-121">If so, be sure toocreate VMs that do not have hello VM Agent installed using hello Azure CLI or PowerShell.</span></span> <span data-ttu-id="33f23-122">Embora Olá agente da VM pode ser removido fisicamente, comportamento Olá das extensões de VM na instância de Olá não está definido.</span><span class="sxs-lookup"><span data-stu-id="33f23-122">Although hello VM Agent can be removed physically, hello behavior of VM Extensions on hello instance is undefined.</span></span> <span data-ttu-id="33f23-123">Como resultado, a remoção de um Agente VM instalado não é suportada.</span><span class="sxs-lookup"><span data-stu-id="33f23-123">As a result, removing an installed VM Agent is not supported.</span></span>
>

<span data-ttu-id="33f23-124">Olá agente VM está ativado no Olá seguintes situações:</span><span class="sxs-lookup"><span data-stu-id="33f23-124">hello VM Agent is enabled in hello following situations:</span></span>

* <span data-ttu-id="33f23-125">Olá, quando criar uma instância de uma VM utilizando o portal do Azure e selecionar uma imagem de Olá **Marketplace**,</span><span class="sxs-lookup"><span data-stu-id="33f23-125">When you create an instance of a VM by using hello Azure portal and selecting an image from hello **Marketplace**,</span></span>
* <span data-ttu-id="33f23-126">Quando cria uma instância de uma VM utilizando Olá [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) ou Olá [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="33f23-126">When you create an instance of a VM by using hello [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) or hello [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span></span> <span data-ttu-id="33f23-127">Pode criar uma VM sem um agente de VM adicionando Olá **– DisableGuestAgent** parâmetro toohello [adicionar AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span><span class="sxs-lookup"><span data-stu-id="33f23-127">You can create a VM without a VM Agent by adding hello **–DisableGuestAgent** parameter toohello [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span></span>

* <span data-ttu-id="33f23-128">Quando manualmente transferir e instalar Olá agente VM a uma instância VM existente e defina Olá **ProvisionGuestAgent** valor demasiado**verdadeiro**.</span><span class="sxs-lookup"><span data-stu-id="33f23-128">When you manually download and install hello VM Agent on an existing VM instance, and set hello **ProvisionGuestAgent** value too**true**.</span></span> <span data-ttu-id="33f23-129">Pode utilizar esta técnica para agentes do Windows e Linux, com um comando do PowerShell ou uma chamada REST.</span><span class="sxs-lookup"><span data-stu-id="33f23-129">You can use this technique for Windows and Linux agents, by using a PowerShell command or a REST call.</span></span> <span data-ttu-id="33f23-130">(Se não definir Olá **ProvisionGuestAgent** valor depois de instalar manualmente Olá agente da VM, adição de Olá de Olá agente da VM não está corretamente detetado.) Olá seguinte como exemplo de código mostra toodo este através do PowerShell onde hello `$svc` e `$name` já terem sido determinados os argumentos:</span><span class="sxs-lookup"><span data-stu-id="33f23-130">(If you do not set hello **ProvisionGuestAgent** value after manually installing hello VM Agent, hello addition of hello VM Agent is not detected properly.) hello following code example shows how toodo this using PowerShell where hello `$svc` and `$name` arguments have already been determined:</span></span>

      $vm = Get-AzureVM –ServiceName $svc –Name $name
      $vm.VM.ProvisionGuestAgent = $TRUE
      Update-AzureVM –Name $name –VM $vm.VM –ServiceName $svc

* <span data-ttu-id="33f23-131">Quando cria uma imagem de VM que inclui um agente VM instalado.</span><span class="sxs-lookup"><span data-stu-id="33f23-131">When you create a VM image that includes an installed VM Agent.</span></span> <span data-ttu-id="33f23-132">Assim que existe a imagem de Olá com Olá agente da VM, pode carregar esse tooAzure de imagem.</span><span class="sxs-lookup"><span data-stu-id="33f23-132">Once hello image with hello VM Agent exists, you can upload that image tooAzure.</span></span> <span data-ttu-id="33f23-133">Para uma VM do Windows, transfira Olá [ficheiro. msi do agente de VM Windows](http://go.microsoft.com/fwlink/?LinkID=394789) e instalar Olá agente da VM.</span><span class="sxs-lookup"><span data-stu-id="33f23-133">For a Windows VM, download hello [Windows VM Agent .msi file](http://go.microsoft.com/fwlink/?LinkID=394789) and install hello VM Agent.</span></span> <span data-ttu-id="33f23-134">Para uma VM com Linux, instale Olá agente VM a partir do repositório do GitHub Olá localizado em <https://github.com/Azure/WALinuxAgent>.</span><span class="sxs-lookup"><span data-stu-id="33f23-134">For a Linux VM, install hello VM Agent from hello GitHub repository located at <https://github.com/Azure/WALinuxAgent>.</span></span> <span data-ttu-id="33f23-135">Para obter mais informações sobre como tooinstall Olá agente da VM no Linux, consulte Olá [guia de utilizador do agente de VM do Azure Linux](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="33f23-135">For more information on how tooinstall hello VM Agent on Linux, see hello [Azure Linux VM Agent User Guide](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

> [!NOTE]
> <span data-ttu-id="33f23-136">PaaS, hello agente da VM é designado **WindowsAzureGuestAgent**e está sempre disponível no Web e as VMs de função de trabalho.</span><span class="sxs-lookup"><span data-stu-id="33f23-136">In PaaS, hello VM Agent is called **WindowsAzureGuestAgent**, and is always available on Web and Worker Role VMs.</span></span> <span data-ttu-id="33f23-137">(Para obter mais informações, consulte [arquitetura de função do Azure](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) Olá agente da VM para VMs de função agora pode adicionar o serviço de nuvem extensões toohello VMs no Olá mesma forma que realiza computadores virtuais persistentes.</span><span class="sxs-lookup"><span data-stu-id="33f23-137">(For more information, see [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) hello VM Agent for Role VMs can now add extensions toohello cloud service VMs in hello same way that it does for persistent Virtual Machines.</span></span> <span data-ttu-id="33f23-138">diferença maior de Olá entre as extensões de VM na função VMs e VMs persistentes é quando são adicionadas as extensões VM Olá.</span><span class="sxs-lookup"><span data-stu-id="33f23-138">hello biggest difference between VM Extensions on role VMs and persistent VMs is when hello VM extensions are added.</span></span> <span data-ttu-id="33f23-139">Com as VMs de função, as extensões são adicionadas primeiro toohello o serviço em nuvem, em seguida, toohello implementações no serviço em nuvem.</span><span class="sxs-lookup"><span data-stu-id="33f23-139">With role VMs, extensions are added first toohello cloud service, then toohello deployments within that cloud service.</span></span>
>
> <span data-ttu-id="33f23-140">Utilize o [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet toolist todas as extensões VM de função disponíveis.</span><span class="sxs-lookup"><span data-stu-id="33f23-140">Use the [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet toolist all available role VM extensions.</span></span>
>
>

## <a name="find-add-update-and-remove-vm-extensions"></a><span data-ttu-id="33f23-141">Localizar, Adicionar, Atualizar e Remover Extensões de VM</span><span class="sxs-lookup"><span data-stu-id="33f23-141">Find, Add, Update, and Remove VM Extensions</span></span>
<span data-ttu-id="33f23-142">Para obter detalhes sobre estas tarefas, veja [Adicionar, Localizar, Atualizar e Remover Extensões de VM do Azure](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="33f23-142">For details on these tasks, see [Add, Find, Update, and Remove Azure VM Extensions](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>
